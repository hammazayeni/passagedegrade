var uE=t=>{throw TypeError(t)};var nm=(t,e,n)=>e.has(t)||uE("Cannot "+n);var F=(t,e,n)=>(nm(t,e,"read from private field"),n?n.call(t):e.get(t)),Te=(t,e,n)=>e.has(t)?uE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ae=(t,e,n,r)=>(nm(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),jt=(t,e,n)=>(nm(t,e,"access private method"),n);var sd=(t,e,n,r)=>({set _(s){ae(t,e,s,n)},get _(){return F(t,e,r)}});function IO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function C1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var I1={exports:{}},If={},A1={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xc=Symbol.for("react.element"),AO=Symbol.for("react.portal"),PO=Symbol.for("react.fragment"),RO=Symbol.for("react.strict_mode"),kO=Symbol.for("react.profiler"),NO=Symbol.for("react.provider"),DO=Symbol.for("react.context"),OO=Symbol.for("react.forward_ref"),MO=Symbol.for("react.suspense"),VO=Symbol.for("react.memo"),LO=Symbol.for("react.lazy"),cE=Symbol.iterator;function jO(t){return t===null||typeof t!="object"?null:(t=cE&&t[cE]||t["@@iterator"],typeof t=="function"?t:null)}var P1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R1=Object.assign,k1={};function ul(t,e,n){this.props=t,this.context=e,this.refs=k1,this.updater=n||P1}ul.prototype.isReactComponent={};ul.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ul.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function N1(){}N1.prototype=ul.prototype;function Sv(t,e,n){this.props=t,this.context=e,this.refs=k1,this.updater=n||P1}var bv=Sv.prototype=new N1;bv.constructor=Sv;R1(bv,ul.prototype);bv.isPureReactComponent=!0;var dE=Array.isArray,D1=Object.prototype.hasOwnProperty,Cv={current:null},O1={key:!0,ref:!0,__self:!0,__source:!0};function M1(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)D1.call(e,r)&&!O1.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:xc,type:t,key:i,ref:o,props:s,_owner:Cv.current}}function FO(t,e){return{$$typeof:xc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Iv(t){return typeof t=="object"&&t!==null&&t.$$typeof===xc}function UO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var hE=/\/+/g;function rm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?UO(""+t.key):e.toString(36)}function Wd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case xc:case AO:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+rm(o,0):r,dE(s)?(n="",t!=null&&(n=t.replace(hE,"$&/")+"/"),Wd(s,e,n,"",function(u){return u})):s!=null&&(Iv(s)&&(s=FO(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(hE,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",dE(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+rm(i,a);o+=Wd(i,e,n,l,s)}else if(l=jO(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+rm(i,a++),o+=Wd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function id(t,e,n){if(t==null)return t;var r=[],s=0;return Wd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function BO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rn={current:null},Hd={transition:null},$O={ReactCurrentDispatcher:rn,ReactCurrentBatchConfig:Hd,ReactCurrentOwner:Cv};function V1(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:id,forEach:function(t,e,n){id(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return id(t,function(){e++}),e},toArray:function(t){return id(t,function(e){return e})||[]},only:function(t){if(!Iv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=ul;ye.Fragment=PO;ye.Profiler=kO;ye.PureComponent=Sv;ye.StrictMode=RO;ye.Suspense=MO;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$O;ye.act=V1;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=R1({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Cv.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)D1.call(e,l)&&!O1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:xc,type:t.type,key:s,ref:i,props:r,_owner:o}};ye.createContext=function(t){return t={$$typeof:DO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:NO,_context:t},t.Consumer=t};ye.createElement=M1;ye.createFactory=function(t){var e=M1.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:OO,render:t}};ye.isValidElement=Iv;ye.lazy=function(t){return{$$typeof:LO,_payload:{_status:-1,_result:t},_init:BO}};ye.memo=function(t,e){return{$$typeof:VO,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=Hd.transition;Hd.transition={};try{t()}finally{Hd.transition=e}};ye.unstable_act=V1;ye.useCallback=function(t,e){return rn.current.useCallback(t,e)};ye.useContext=function(t){return rn.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return rn.current.useDeferredValue(t)};ye.useEffect=function(t,e){return rn.current.useEffect(t,e)};ye.useId=function(){return rn.current.useId()};ye.useImperativeHandle=function(t,e,n){return rn.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return rn.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return rn.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return rn.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return rn.current.useReducer(t,e,n)};ye.useRef=function(t){return rn.current.useRef(t)};ye.useState=function(t){return rn.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return rn.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return rn.current.useTransition()};ye.version="18.3.1";A1.exports=ye;var y=A1.exports;const W=C1(y),Af=IO({__proto__:null,default:W},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zO=y,WO=Symbol.for("react.element"),HO=Symbol.for("react.fragment"),qO=Object.prototype.hasOwnProperty,GO=zO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KO={key:!0,ref:!0,__self:!0,__source:!0};function L1(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)qO.call(e,r)&&!KO.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:WO,type:t,key:i,ref:o,props:s,_owner:GO.current}}If.Fragment=HO;If.jsx=L1;If.jsxs=L1;I1.exports=If;var E=I1.exports,j1={exports:{}},Pn={},F1={exports:{}},U1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,U){var q=j.length;j.push(U);e:for(;0<q;){var ie=q-1>>>1,ee=j[ie];if(0<s(ee,U))j[ie]=U,j[q]=ee,q=ie;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var U=j[0],q=j.pop();if(q!==U){j[0]=q;e:for(var ie=0,ee=j.length,me=ee>>>1;ie<me;){var le=2*(ie+1)-1,ke=j[le],Oe=le+1,G=j[Oe];if(0>s(ke,q))Oe<ee&&0>s(G,ke)?(j[ie]=G,j[Oe]=q,ie=Oe):(j[ie]=ke,j[le]=q,ie=le);else if(Oe<ee&&0>s(G,q))j[ie]=G,j[Oe]=q,ie=Oe;else break e}}return U}function s(j,U){var q=j.sortIndex-U.sortIndex;return q!==0?q:j.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,p=!1,S=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(j){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=j)r(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(u)}}function P(j){if(g=!1,T(j),!S)if(n(l)!==null)S=!0,J(k);else{var U=n(u);U!==null&&X(P,U.startTime-j)}}function k(j,U){S=!1,g&&(g=!1,w(b),b=-1),p=!0;var q=f;try{for(T(U),h=n(l);h!==null&&(!(h.expirationTime>U)||j&&!N());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,f=h.priorityLevel;var ee=ie(h.expirationTime<=U);U=t.unstable_now(),typeof ee=="function"?h.callback=ee:h===n(l)&&r(l),T(U)}else r(l);h=n(l)}if(h!==null)var me=!0;else{var le=n(u);le!==null&&X(P,le.startTime-U),me=!1}return me}finally{h=null,f=q,p=!1}}var M=!1,C=null,b=-1,I=5,R=-1;function N(){return!(t.unstable_now()-R<I)}function O(){if(C!==null){var j=t.unstable_now();R=j;var U=!0;try{U=C(!0,j)}finally{U?D():(M=!1,C=null)}}else M=!1}var D;if(typeof v=="function")D=function(){v(O)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ce=Y.port2;Y.port1.onmessage=O,D=function(){ce.postMessage(null)}}else D=function(){_(O,0)};function J(j){C=j,M||(M=!0,D())}function X(j,U){b=_(function(){j(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){S||p||(S=!0,J(k))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var q=f;f=U;try{return j()}finally{f=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,U){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var q=f;f=j;try{return U()}finally{f=q}},t.unstable_scheduleCallback=function(j,U,q){var ie=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ie+q:ie):q=ie,j){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=q+ee,j={id:d++,callback:U,priorityLevel:j,startTime:q,expirationTime:ee,sortIndex:-1},q>ie?(j.sortIndex=q,e(u,j),n(l)===null&&j===n(u)&&(g?(w(b),b=-1):g=!0,X(P,q-ie))):(j.sortIndex=ee,e(l,j),S||p||(S=!0,J(k))),j},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(j){var U=f;return function(){var q=f;f=U;try{return j.apply(this,arguments)}finally{f=q}}}})(U1);F1.exports=U1;var QO=F1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YO=y,In=QO;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var B1=new Set,Ou={};function Oo(t,e){Wa(t,e),Wa(t+"Capture",e)}function Wa(t,e){for(Ou[t]=e,t=0;t<e.length;t++)B1.add(e[t])}var ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vg=Object.prototype.hasOwnProperty,XO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fE={},pE={};function JO(t){return vg.call(pE,t)?!0:vg.call(fE,t)?!1:XO.test(t)?pE[t]=!0:(fE[t]=!0,!1)}function ZO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function eM(t,e,n,r){if(e===null||typeof e>"u"||ZO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vt[t]=new sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vt[e]=new sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vt[t]=new sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vt[t]=new sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vt[t]=new sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vt[t]=new sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vt[t]=new sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vt[t]=new sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vt[t]=new sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Av=/[\-:]([a-z])/g;function Pv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Av,Pv);Vt[e]=new sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Av,Pv);Vt[e]=new sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Av,Pv);Vt[e]=new sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vt[t]=new sn(t,1,!1,t.toLowerCase(),null,!1,!1)});Vt.xlinkHref=new sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vt[t]=new sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Rv(t,e,n,r){var s=Vt.hasOwnProperty(e)?Vt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(eM(e,n,s,r)&&(n=null),r||s===null?JO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var gs=YO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,od=Symbol.for("react.element"),na=Symbol.for("react.portal"),ra=Symbol.for("react.fragment"),kv=Symbol.for("react.strict_mode"),wg=Symbol.for("react.profiler"),$1=Symbol.for("react.provider"),z1=Symbol.for("react.context"),Nv=Symbol.for("react.forward_ref"),_g=Symbol.for("react.suspense"),Eg=Symbol.for("react.suspense_list"),Dv=Symbol.for("react.memo"),Ds=Symbol.for("react.lazy"),W1=Symbol.for("react.offscreen"),mE=Symbol.iterator;function Bl(t){return t===null||typeof t!="object"?null:(t=mE&&t[mE]||t["@@iterator"],typeof t=="function"?t:null)}var Xe=Object.assign,sm;function eu(t){if(sm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sm=e&&e[1]||""}return`
`+sm+t}var im=!1;function om(t,e){if(!t||im)return"";im=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{im=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?eu(t):""}function tM(t){switch(t.tag){case 5:return eu(t.type);case 16:return eu("Lazy");case 13:return eu("Suspense");case 19:return eu("SuspenseList");case 0:case 2:case 15:return t=om(t.type,!1),t;case 11:return t=om(t.type.render,!1),t;case 1:return t=om(t.type,!0),t;default:return""}}function xg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ra:return"Fragment";case na:return"Portal";case wg:return"Profiler";case kv:return"StrictMode";case _g:return"Suspense";case Eg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case z1:return(t.displayName||"Context")+".Consumer";case $1:return(t._context.displayName||"Context")+".Provider";case Nv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Dv:return e=t.displayName||null,e!==null?e:xg(t.type)||"Memo";case Ds:e=t._payload,t=t._init;try{return xg(t(e))}catch{}}return null}function nM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xg(e);case 8:return e===kv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function H1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rM(t){var e=H1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ad(t){t._valueTracker||(t._valueTracker=rM(t))}function q1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=H1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function _h(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Tg(t,e){var n=e.checked;return Xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function gE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=pi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function G1(t,e){e=e.checked,e!=null&&Rv(t,"checked",e,!1)}function Sg(t,e){G1(t,e);var n=pi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bg(t,e.type,n):e.hasOwnProperty("defaultValue")&&bg(t,e.type,pi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bg(t,e,n){(e!=="number"||_h(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var tu=Array.isArray;function xa(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+pi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Cg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(tu(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:pi(n)}}function K1(t,e){var n=pi(e.value),r=pi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function wE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Q1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ig(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Q1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ld,Y1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ld=ld||document.createElement("div"),ld.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ld.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Mu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var pu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sM=["Webkit","ms","Moz","O"];Object.keys(pu).forEach(function(t){sM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pu[e]=pu[t]})});function X1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||pu.hasOwnProperty(t)&&pu[t]?(""+e).trim():e+"px"}function J1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=X1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var iM=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ag(t,e){if(e){if(iM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Pg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rg=null;function Ov(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kg=null,Ta=null,Sa=null;function _E(t){if(t=bc(t)){if(typeof kg!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Df(e),kg(t.stateNode,t.type,e))}}function Z1(t){Ta?Sa?Sa.push(t):Sa=[t]:Ta=t}function eC(){if(Ta){var t=Ta,e=Sa;if(Sa=Ta=null,_E(t),e)for(t=0;t<e.length;t++)_E(e[t])}}function tC(t,e){return t(e)}function nC(){}var am=!1;function rC(t,e,n){if(am)return t(e,n);am=!0;try{return tC(t,e,n)}finally{am=!1,(Ta!==null||Sa!==null)&&(nC(),eC())}}function Vu(t,e){var n=t.stateNode;if(n===null)return null;var r=Df(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Ng=!1;if(ss)try{var $l={};Object.defineProperty($l,"passive",{get:function(){Ng=!0}}),window.addEventListener("test",$l,$l),window.removeEventListener("test",$l,$l)}catch{Ng=!1}function oM(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var mu=!1,Eh=null,xh=!1,Dg=null,aM={onError:function(t){mu=!0,Eh=t}};function lM(t,e,n,r,s,i,o,a,l){mu=!1,Eh=null,oM.apply(aM,arguments)}function uM(t,e,n,r,s,i,o,a,l){if(lM.apply(this,arguments),mu){if(mu){var u=Eh;mu=!1,Eh=null}else throw Error(z(198));xh||(xh=!0,Dg=u)}}function Mo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function EE(t){if(Mo(t)!==t)throw Error(z(188))}function cM(t){var e=t.alternate;if(!e){if(e=Mo(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return EE(s),t;if(i===r)return EE(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function iC(t){return t=cM(t),t!==null?oC(t):null}function oC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=oC(t);if(e!==null)return e;t=t.sibling}return null}var aC=In.unstable_scheduleCallback,xE=In.unstable_cancelCallback,dM=In.unstable_shouldYield,hM=In.unstable_requestPaint,at=In.unstable_now,fM=In.unstable_getCurrentPriorityLevel,Mv=In.unstable_ImmediatePriority,lC=In.unstable_UserBlockingPriority,Th=In.unstable_NormalPriority,pM=In.unstable_LowPriority,uC=In.unstable_IdlePriority,Pf=null,Cr=null;function mM(t){if(Cr&&typeof Cr.onCommitFiberRoot=="function")try{Cr.onCommitFiberRoot(Pf,t,void 0,(t.current.flags&128)===128)}catch{}}var ir=Math.clz32?Math.clz32:vM,gM=Math.log,yM=Math.LN2;function vM(t){return t>>>=0,t===0?32:31-(gM(t)/yM|0)|0}var ud=64,cd=4194304;function nu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=nu(a):(i&=o,i!==0&&(r=nu(i)))}else o=n&~s,o!==0?r=nu(o):i!==0&&(r=nu(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ir(e),s=1<<n,r|=t[n],e&=~s;return r}function wM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _M(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ir(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=wM(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Og(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function cC(){var t=ud;return ud<<=1,!(ud&4194240)&&(ud=64),t}function lm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Tc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ir(e),t[e]=n}function EM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ir(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Vv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ir(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ne=0;function dC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var hC,Lv,fC,pC,mC,Mg=!1,dd=[],Zs=null,ei=null,ti=null,Lu=new Map,ju=new Map,Ms=[],xM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function TE(t,e){switch(t){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":Lu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ju.delete(e.pointerId)}}function zl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=bc(e),e!==null&&Lv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function TM(t,e,n,r,s){switch(e){case"focusin":return Zs=zl(Zs,t,e,n,r,s),!0;case"dragenter":return ei=zl(ei,t,e,n,r,s),!0;case"mouseover":return ti=zl(ti,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Lu.set(i,zl(Lu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ju.set(i,zl(ju.get(i)||null,t,e,n,r,s)),!0}return!1}function gC(t){var e=Zi(t.target);if(e!==null){var n=Mo(e);if(n!==null){if(e=n.tag,e===13){if(e=sC(n),e!==null){t.blockedOn=e,mC(t.priority,function(){fC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Rg=r,n.target.dispatchEvent(r),Rg=null}else return e=bc(n),e!==null&&Lv(e),t.blockedOn=n,!1;e.shift()}return!0}function SE(t,e,n){qd(t)&&n.delete(e)}function SM(){Mg=!1,Zs!==null&&qd(Zs)&&(Zs=null),ei!==null&&qd(ei)&&(ei=null),ti!==null&&qd(ti)&&(ti=null),Lu.forEach(SE),ju.forEach(SE)}function Wl(t,e){t.blockedOn===e&&(t.blockedOn=null,Mg||(Mg=!0,In.unstable_scheduleCallback(In.unstable_NormalPriority,SM)))}function Fu(t){function e(s){return Wl(s,t)}if(0<dd.length){Wl(dd[0],t);for(var n=1;n<dd.length;n++){var r=dd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Zs!==null&&Wl(Zs,t),ei!==null&&Wl(ei,t),ti!==null&&Wl(ti,t),Lu.forEach(e),ju.forEach(e),n=0;n<Ms.length;n++)r=Ms[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ms.length&&(n=Ms[0],n.blockedOn===null);)gC(n),n.blockedOn===null&&Ms.shift()}var ba=gs.ReactCurrentBatchConfig,bh=!0;function bM(t,e,n,r){var s=Ne,i=ba.transition;ba.transition=null;try{Ne=1,jv(t,e,n,r)}finally{Ne=s,ba.transition=i}}function CM(t,e,n,r){var s=Ne,i=ba.transition;ba.transition=null;try{Ne=4,jv(t,e,n,r)}finally{Ne=s,ba.transition=i}}function jv(t,e,n,r){if(bh){var s=Vg(t,e,n,r);if(s===null)vm(t,e,r,Ch,n),TE(t,r);else if(TM(s,t,e,n,r))r.stopPropagation();else if(TE(t,r),e&4&&-1<xM.indexOf(t)){for(;s!==null;){var i=bc(s);if(i!==null&&hC(i),i=Vg(t,e,n,r),i===null&&vm(t,e,r,Ch,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else vm(t,e,r,null,n)}}var Ch=null;function Vg(t,e,n,r){if(Ch=null,t=Ov(r),t=Zi(t),t!==null)if(e=Mo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=sC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ch=t,null}function yC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fM()){case Mv:return 1;case lC:return 4;case Th:case pM:return 16;case uC:return 536870912;default:return 16}default:return 16}}var Ks=null,Fv=null,Gd=null;function vC(){if(Gd)return Gd;var t,e=Fv,n=e.length,r,s="value"in Ks?Ks.value:Ks.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Gd=s.slice(t,1<r?1-r:void 0)}function Kd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hd(){return!0}function bE(){return!1}function Rn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?hd:bE,this.isPropagationStopped=bE,this}return Xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hd)},persist:function(){},isPersistent:hd}),e}var cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uv=Rn(cl),Sc=Xe({},cl,{view:0,detail:0}),IM=Rn(Sc),um,cm,Hl,Rf=Xe({},Sc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hl&&(Hl&&t.type==="mousemove"?(um=t.screenX-Hl.screenX,cm=t.screenY-Hl.screenY):cm=um=0,Hl=t),um)},movementY:function(t){return"movementY"in t?t.movementY:cm}}),CE=Rn(Rf),AM=Xe({},Rf,{dataTransfer:0}),PM=Rn(AM),RM=Xe({},Sc,{relatedTarget:0}),dm=Rn(RM),kM=Xe({},cl,{animationName:0,elapsedTime:0,pseudoElement:0}),NM=Rn(kM),DM=Xe({},cl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),OM=Rn(DM),MM=Xe({},cl,{data:0}),IE=Rn(MM),VM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jM[t])?!!e[t]:!1}function Bv(){return FM}var UM=Xe({},Sc,{key:function(t){if(t.key){var e=VM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bv,charCode:function(t){return t.type==="keypress"?Kd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),BM=Rn(UM),$M=Xe({},Rf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),AE=Rn($M),zM=Xe({},Sc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bv}),WM=Rn(zM),HM=Xe({},cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),qM=Rn(HM),GM=Xe({},Rf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),KM=Rn(GM),QM=[9,13,27,32],$v=ss&&"CompositionEvent"in window,gu=null;ss&&"documentMode"in document&&(gu=document.documentMode);var YM=ss&&"TextEvent"in window&&!gu,wC=ss&&(!$v||gu&&8<gu&&11>=gu),PE=" ",RE=!1;function _C(t,e){switch(t){case"keyup":return QM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function EC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sa=!1;function XM(t,e){switch(t){case"compositionend":return EC(e);case"keypress":return e.which!==32?null:(RE=!0,PE);case"textInput":return t=e.data,t===PE&&RE?null:t;default:return null}}function JM(t,e){if(sa)return t==="compositionend"||!$v&&_C(t,e)?(t=vC(),Gd=Fv=Ks=null,sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wC&&e.locale!=="ko"?null:e.data;default:return null}}var ZM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ZM[t.type]:e==="textarea"}function xC(t,e,n,r){Z1(r),e=Ih(e,"onChange"),0<e.length&&(n=new Uv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var yu=null,Uu=null;function eV(t){DC(t,0)}function kf(t){var e=aa(t);if(q1(e))return t}function tV(t,e){if(t==="change")return e}var TC=!1;if(ss){var hm;if(ss){var fm="oninput"in document;if(!fm){var NE=document.createElement("div");NE.setAttribute("oninput","return;"),fm=typeof NE.oninput=="function"}hm=fm}else hm=!1;TC=hm&&(!document.documentMode||9<document.documentMode)}function DE(){yu&&(yu.detachEvent("onpropertychange",SC),Uu=yu=null)}function SC(t){if(t.propertyName==="value"&&kf(Uu)){var e=[];xC(e,Uu,t,Ov(t)),rC(eV,e)}}function nV(t,e,n){t==="focusin"?(DE(),yu=e,Uu=n,yu.attachEvent("onpropertychange",SC)):t==="focusout"&&DE()}function rV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return kf(Uu)}function sV(t,e){if(t==="click")return kf(e)}function iV(t,e){if(t==="input"||t==="change")return kf(e)}function oV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ar=typeof Object.is=="function"?Object.is:oV;function Bu(t,e){if(ar(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!vg.call(e,s)||!ar(t[s],e[s]))return!1}return!0}function OE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ME(t,e){var n=OE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=OE(n)}}function bC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?bC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function CC(){for(var t=window,e=_h();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=_h(t.document)}return e}function zv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function aV(t){var e=CC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&bC(n.ownerDocument.documentElement,n)){if(r!==null&&zv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=ME(n,i);var o=ME(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var lV=ss&&"documentMode"in document&&11>=document.documentMode,ia=null,Lg=null,vu=null,jg=!1;function VE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jg||ia==null||ia!==_h(r)||(r=ia,"selectionStart"in r&&zv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vu&&Bu(vu,r)||(vu=r,r=Ih(Lg,"onSelect"),0<r.length&&(e=new Uv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ia)))}function fd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var oa={animationend:fd("Animation","AnimationEnd"),animationiteration:fd("Animation","AnimationIteration"),animationstart:fd("Animation","AnimationStart"),transitionend:fd("Transition","TransitionEnd")},pm={},IC={};ss&&(IC=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function Nf(t){if(pm[t])return pm[t];if(!oa[t])return t;var e=oa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in IC)return pm[t]=e[n];return t}var AC=Nf("animationend"),PC=Nf("animationiteration"),RC=Nf("animationstart"),kC=Nf("transitionend"),NC=new Map,LE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ri(t,e){NC.set(t,e),Oo(e,[t])}for(var mm=0;mm<LE.length;mm++){var gm=LE[mm],uV=gm.toLowerCase(),cV=gm[0].toUpperCase()+gm.slice(1);Ri(uV,"on"+cV)}Ri(AC,"onAnimationEnd");Ri(PC,"onAnimationIteration");Ri(RC,"onAnimationStart");Ri("dblclick","onDoubleClick");Ri("focusin","onFocus");Ri("focusout","onBlur");Ri(kC,"onTransitionEnd");Wa("onMouseEnter",["mouseout","mouseover"]);Wa("onMouseLeave",["mouseout","mouseover"]);Wa("onPointerEnter",["pointerout","pointerover"]);Wa("onPointerLeave",["pointerout","pointerover"]);Oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dV=new Set("cancel close invalid load scroll toggle".split(" ").concat(ru));function jE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,uM(r,e,void 0,t),t.currentTarget=null}function DC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;jE(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;jE(s,a,u),i=l}}}if(xh)throw t=Dg,xh=!1,Dg=null,t}function Ue(t,e){var n=e[zg];n===void 0&&(n=e[zg]=new Set);var r=t+"__bubble";n.has(r)||(OC(e,t,2,!1),n.add(r))}function ym(t,e,n){var r=0;e&&(r|=4),OC(n,t,r,e)}var pd="_reactListening"+Math.random().toString(36).slice(2);function $u(t){if(!t[pd]){t[pd]=!0,B1.forEach(function(n){n!=="selectionchange"&&(dV.has(n)||ym(n,!1,t),ym(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[pd]||(e[pd]=!0,ym("selectionchange",!1,e))}}function OC(t,e,n,r){switch(yC(e)){case 1:var s=bM;break;case 4:s=CM;break;default:s=jv}n=s.bind(null,e,n,t),s=void 0,!Ng||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function vm(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Zi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}rC(function(){var u=i,d=Ov(n),h=[];e:{var f=NC.get(t);if(f!==void 0){var p=Uv,S=t;switch(t){case"keypress":if(Kd(n)===0)break e;case"keydown":case"keyup":p=BM;break;case"focusin":S="focus",p=dm;break;case"focusout":S="blur",p=dm;break;case"beforeblur":case"afterblur":p=dm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=CE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=PM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=WM;break;case AC:case PC:case RC:p=NM;break;case kC:p=qM;break;case"scroll":p=IM;break;case"wheel":p=KM;break;case"copy":case"cut":case"paste":p=OM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=AE}var g=(e&4)!==0,_=!g&&t==="scroll",w=g?f!==null?f+"Capture":null:f;g=[];for(var v=u,T;v!==null;){T=v;var P=T.stateNode;if(T.tag===5&&P!==null&&(T=P,w!==null&&(P=Vu(v,w),P!=null&&g.push(zu(v,P,T)))),_)break;v=v.return}0<g.length&&(f=new p(f,S,null,n,d),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Rg&&(S=n.relatedTarget||n.fromElement)&&(Zi(S)||S[is]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(S=n.relatedTarget||n.toElement,p=u,S=S?Zi(S):null,S!==null&&(_=Mo(S),S!==_||S.tag!==5&&S.tag!==6)&&(S=null)):(p=null,S=u),p!==S)){if(g=CE,P="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=AE,P="onPointerLeave",w="onPointerEnter",v="pointer"),_=p==null?f:aa(p),T=S==null?f:aa(S),f=new g(P,v+"leave",p,n,d),f.target=_,f.relatedTarget=T,P=null,Zi(d)===u&&(g=new g(w,v+"enter",S,n,d),g.target=T,g.relatedTarget=_,P=g),_=P,p&&S)t:{for(g=p,w=S,v=0,T=g;T;T=Go(T))v++;for(T=0,P=w;P;P=Go(P))T++;for(;0<v-T;)g=Go(g),v--;for(;0<T-v;)w=Go(w),T--;for(;v--;){if(g===w||w!==null&&g===w.alternate)break t;g=Go(g),w=Go(w)}g=null}else g=null;p!==null&&FE(h,f,p,g,!1),S!==null&&_!==null&&FE(h,_,S,g,!0)}}e:{if(f=u?aa(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=tV;else if(kE(f))if(TC)k=iV;else{k=rV;var M=nV}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=sV);if(k&&(k=k(t,u))){xC(h,k,n,d);break e}M&&M(t,f,u),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&bg(f,"number",f.value)}switch(M=u?aa(u):window,t){case"focusin":(kE(M)||M.contentEditable==="true")&&(ia=M,Lg=u,vu=null);break;case"focusout":vu=Lg=ia=null;break;case"mousedown":jg=!0;break;case"contextmenu":case"mouseup":case"dragend":jg=!1,VE(h,n,d);break;case"selectionchange":if(lV)break;case"keydown":case"keyup":VE(h,n,d)}var C;if($v)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else sa?_C(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(wC&&n.locale!=="ko"&&(sa||b!=="onCompositionStart"?b==="onCompositionEnd"&&sa&&(C=vC()):(Ks=d,Fv="value"in Ks?Ks.value:Ks.textContent,sa=!0)),M=Ih(u,b),0<M.length&&(b=new IE(b,t,null,n,d),h.push({event:b,listeners:M}),C?b.data=C:(C=EC(n),C!==null&&(b.data=C)))),(C=YM?XM(t,n):JM(t,n))&&(u=Ih(u,"onBeforeInput"),0<u.length&&(d=new IE("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}DC(h,e)})}function zu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ih(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Vu(t,n),i!=null&&r.unshift(zu(t,i,s)),i=Vu(t,e),i!=null&&r.push(zu(t,i,s))),t=t.return}return r}function Go(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function FE(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Vu(n,i),l!=null&&o.unshift(zu(n,l,a))):s||(l=Vu(n,i),l!=null&&o.push(zu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var hV=/\r\n?/g,fV=/\u0000|\uFFFD/g;function UE(t){return(typeof t=="string"?t:""+t).replace(hV,`
`).replace(fV,"")}function md(t,e,n){if(e=UE(e),UE(t)!==e&&n)throw Error(z(425))}function Ah(){}var Fg=null,Ug=null;function Bg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $g=typeof setTimeout=="function"?setTimeout:void 0,pV=typeof clearTimeout=="function"?clearTimeout:void 0,BE=typeof Promise=="function"?Promise:void 0,mV=typeof queueMicrotask=="function"?queueMicrotask:typeof BE<"u"?function(t){return BE.resolve(null).then(t).catch(gV)}:$g;function gV(t){setTimeout(function(){throw t})}function wm(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Fu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Fu(e)}function ni(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $E(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var dl=Math.random().toString(36).slice(2),Tr="__reactFiber$"+dl,Wu="__reactProps$"+dl,is="__reactContainer$"+dl,zg="__reactEvents$"+dl,yV="__reactListeners$"+dl,vV="__reactHandles$"+dl;function Zi(t){var e=t[Tr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[is]||n[Tr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$E(t);t!==null;){if(n=t[Tr])return n;t=$E(t)}return e}t=n,n=t.parentNode}return null}function bc(t){return t=t[Tr]||t[is],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function aa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Df(t){return t[Wu]||null}var Wg=[],la=-1;function ki(t){return{current:t}}function ze(t){0>la||(t.current=Wg[la],Wg[la]=null,la--)}function Ve(t,e){la++,Wg[la]=t.current,t.current=e}var mi={},Gt=ki(mi),fn=ki(!1),wo=mi;function Ha(t,e){var n=t.type.contextTypes;if(!n)return mi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function pn(t){return t=t.childContextTypes,t!=null}function Ph(){ze(fn),ze(Gt)}function zE(t,e,n){if(Gt.current!==mi)throw Error(z(168));Ve(Gt,e),Ve(fn,n)}function MC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,nM(t)||"Unknown",s));return Xe({},n,r)}function Rh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mi,wo=Gt.current,Ve(Gt,t),Ve(fn,fn.current),!0}function WE(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=MC(t,e,wo),r.__reactInternalMemoizedMergedChildContext=t,ze(fn),ze(Gt),Ve(Gt,t)):ze(fn),Ve(fn,n)}var Qr=null,Of=!1,_m=!1;function VC(t){Qr===null?Qr=[t]:Qr.push(t)}function wV(t){Of=!0,VC(t)}function Ni(){if(!_m&&Qr!==null){_m=!0;var t=0,e=Ne;try{var n=Qr;for(Ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qr=null,Of=!1}catch(s){throw Qr!==null&&(Qr=Qr.slice(t+1)),aC(Mv,Ni),s}finally{Ne=e,_m=!1}}return null}var ua=[],ca=0,kh=null,Nh=0,Vn=[],Ln=0,_o=null,Xr=1,Jr="";function Gi(t,e){ua[ca++]=Nh,ua[ca++]=kh,kh=t,Nh=e}function LC(t,e,n){Vn[Ln++]=Xr,Vn[Ln++]=Jr,Vn[Ln++]=_o,_o=t;var r=Xr;t=Jr;var s=32-ir(r)-1;r&=~(1<<s),n+=1;var i=32-ir(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Xr=1<<32-ir(e)+s|n<<s|r,Jr=i+t}else Xr=1<<i|n<<s|r,Jr=t}function Wv(t){t.return!==null&&(Gi(t,1),LC(t,1,0))}function Hv(t){for(;t===kh;)kh=ua[--ca],ua[ca]=null,Nh=ua[--ca],ua[ca]=null;for(;t===_o;)_o=Vn[--Ln],Vn[Ln]=null,Jr=Vn[--Ln],Vn[Ln]=null,Xr=Vn[--Ln],Vn[Ln]=null}var Tn=null,_n=null,He=!1,nr=null;function jC(t,e){var n=Un(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function HE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Tn=t,_n=ni(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Tn=t,_n=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=_o!==null?{id:Xr,overflow:Jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Un(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Tn=t,_n=null,!0):!1;default:return!1}}function Hg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qg(t){if(He){var e=_n;if(e){var n=e;if(!HE(t,e)){if(Hg(t))throw Error(z(418));e=ni(n.nextSibling);var r=Tn;e&&HE(t,e)?jC(r,n):(t.flags=t.flags&-4097|2,He=!1,Tn=t)}}else{if(Hg(t))throw Error(z(418));t.flags=t.flags&-4097|2,He=!1,Tn=t}}}function qE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Tn=t}function gd(t){if(t!==Tn)return!1;if(!He)return qE(t),He=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Bg(t.type,t.memoizedProps)),e&&(e=_n)){if(Hg(t))throw FC(),Error(z(418));for(;e;)jC(t,e),e=ni(e.nextSibling)}if(qE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_n=ni(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_n=null}}else _n=Tn?ni(t.stateNode.nextSibling):null;return!0}function FC(){for(var t=_n;t;)t=ni(t.nextSibling)}function qa(){_n=Tn=null,He=!1}function qv(t){nr===null?nr=[t]:nr.push(t)}var _V=gs.ReactCurrentBatchConfig;function ql(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function yd(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function GE(t){var e=t._init;return e(t._payload)}function UC(t){function e(w,v){if(t){var T=w.deletions;T===null?(w.deletions=[v],w.flags|=16):T.push(v)}}function n(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function s(w,v){return w=oi(w,v),w.index=0,w.sibling=null,w}function i(w,v,T){return w.index=T,t?(T=w.alternate,T!==null?(T=T.index,T<v?(w.flags|=2,v):T):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,v,T,P){return v===null||v.tag!==6?(v=Im(T,w.mode,P),v.return=w,v):(v=s(v,T),v.return=w,v)}function l(w,v,T,P){var k=T.type;return k===ra?d(w,v,T.props.children,P,T.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ds&&GE(k)===v.type)?(P=s(v,T.props),P.ref=ql(w,v,T),P.return=w,P):(P=th(T.type,T.key,T.props,null,w.mode,P),P.ref=ql(w,v,T),P.return=w,P)}function u(w,v,T,P){return v===null||v.tag!==4||v.stateNode.containerInfo!==T.containerInfo||v.stateNode.implementation!==T.implementation?(v=Am(T,w.mode,P),v.return=w,v):(v=s(v,T.children||[]),v.return=w,v)}function d(w,v,T,P,k){return v===null||v.tag!==7?(v=fo(T,w.mode,P,k),v.return=w,v):(v=s(v,T),v.return=w,v)}function h(w,v,T){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Im(""+v,w.mode,T),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case od:return T=th(v.type,v.key,v.props,null,w.mode,T),T.ref=ql(w,null,v),T.return=w,T;case na:return v=Am(v,w.mode,T),v.return=w,v;case Ds:var P=v._init;return h(w,P(v._payload),T)}if(tu(v)||Bl(v))return v=fo(v,w.mode,T,null),v.return=w,v;yd(w,v)}return null}function f(w,v,T,P){var k=v!==null?v.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return k!==null?null:a(w,v,""+T,P);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case od:return T.key===k?l(w,v,T,P):null;case na:return T.key===k?u(w,v,T,P):null;case Ds:return k=T._init,f(w,v,k(T._payload),P)}if(tu(T)||Bl(T))return k!==null?null:d(w,v,T,P,null);yd(w,T)}return null}function p(w,v,T,P,k){if(typeof P=="string"&&P!==""||typeof P=="number")return w=w.get(T)||null,a(v,w,""+P,k);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case od:return w=w.get(P.key===null?T:P.key)||null,l(v,w,P,k);case na:return w=w.get(P.key===null?T:P.key)||null,u(v,w,P,k);case Ds:var M=P._init;return p(w,v,T,M(P._payload),k)}if(tu(P)||Bl(P))return w=w.get(T)||null,d(v,w,P,k,null);yd(v,P)}return null}function S(w,v,T,P){for(var k=null,M=null,C=v,b=v=0,I=null;C!==null&&b<T.length;b++){C.index>b?(I=C,C=null):I=C.sibling;var R=f(w,C,T[b],P);if(R===null){C===null&&(C=I);break}t&&C&&R.alternate===null&&e(w,C),v=i(R,v,b),M===null?k=R:M.sibling=R,M=R,C=I}if(b===T.length)return n(w,C),He&&Gi(w,b),k;if(C===null){for(;b<T.length;b++)C=h(w,T[b],P),C!==null&&(v=i(C,v,b),M===null?k=C:M.sibling=C,M=C);return He&&Gi(w,b),k}for(C=r(w,C);b<T.length;b++)I=p(C,w,b,T[b],P),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?b:I.key),v=i(I,v,b),M===null?k=I:M.sibling=I,M=I);return t&&C.forEach(function(N){return e(w,N)}),He&&Gi(w,b),k}function g(w,v,T,P){var k=Bl(T);if(typeof k!="function")throw Error(z(150));if(T=k.call(T),T==null)throw Error(z(151));for(var M=k=null,C=v,b=v=0,I=null,R=T.next();C!==null&&!R.done;b++,R=T.next()){C.index>b?(I=C,C=null):I=C.sibling;var N=f(w,C,R.value,P);if(N===null){C===null&&(C=I);break}t&&C&&N.alternate===null&&e(w,C),v=i(N,v,b),M===null?k=N:M.sibling=N,M=N,C=I}if(R.done)return n(w,C),He&&Gi(w,b),k;if(C===null){for(;!R.done;b++,R=T.next())R=h(w,R.value,P),R!==null&&(v=i(R,v,b),M===null?k=R:M.sibling=R,M=R);return He&&Gi(w,b),k}for(C=r(w,C);!R.done;b++,R=T.next())R=p(C,w,b,R.value,P),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?b:R.key),v=i(R,v,b),M===null?k=R:M.sibling=R,M=R);return t&&C.forEach(function(O){return e(w,O)}),He&&Gi(w,b),k}function _(w,v,T,P){if(typeof T=="object"&&T!==null&&T.type===ra&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case od:e:{for(var k=T.key,M=v;M!==null;){if(M.key===k){if(k=T.type,k===ra){if(M.tag===7){n(w,M.sibling),v=s(M,T.props.children),v.return=w,w=v;break e}}else if(M.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ds&&GE(k)===M.type){n(w,M.sibling),v=s(M,T.props),v.ref=ql(w,M,T),v.return=w,w=v;break e}n(w,M);break}else e(w,M);M=M.sibling}T.type===ra?(v=fo(T.props.children,w.mode,P,T.key),v.return=w,w=v):(P=th(T.type,T.key,T.props,null,w.mode,P),P.ref=ql(w,v,T),P.return=w,w=P)}return o(w);case na:e:{for(M=T.key;v!==null;){if(v.key===M)if(v.tag===4&&v.stateNode.containerInfo===T.containerInfo&&v.stateNode.implementation===T.implementation){n(w,v.sibling),v=s(v,T.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else e(w,v);v=v.sibling}v=Am(T,w.mode,P),v.return=w,w=v}return o(w);case Ds:return M=T._init,_(w,v,M(T._payload),P)}if(tu(T))return S(w,v,T,P);if(Bl(T))return g(w,v,T,P);yd(w,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,v!==null&&v.tag===6?(n(w,v.sibling),v=s(v,T),v.return=w,w=v):(n(w,v),v=Im(T,w.mode,P),v.return=w,w=v),o(w)):n(w,v)}return _}var Ga=UC(!0),BC=UC(!1),Dh=ki(null),Oh=null,da=null,Gv=null;function Kv(){Gv=da=Oh=null}function Qv(t){var e=Dh.current;ze(Dh),t._currentValue=e}function Gg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ca(t,e){Oh=t,Gv=da=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hn=!0),t.firstContext=null)}function $n(t){var e=t._currentValue;if(Gv!==t)if(t={context:t,memoizedValue:e,next:null},da===null){if(Oh===null)throw Error(z(308));da=t,Oh.dependencies={lanes:0,firstContext:t}}else da=da.next=t;return e}var eo=null;function Yv(t){eo===null?eo=[t]:eo.push(t)}function $C(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Yv(e)):(n.next=s.next,s.next=n),e.interleaved=n,os(t,r)}function os(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Os=!1;function Xv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ts(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ri(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,os(t,n)}return s=r.interleaved,s===null?(e.next=e,Yv(r)):(e.next=s.next,s.next=e),r.interleaved=e,os(t,n)}function Qd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vv(t,n)}}function KE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Mh(t,e,n,r){var s=t.updateQueue;Os=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,g=a;switch(f=e,p=n,g.tag){case 1:if(S=g.payload,typeof S=="function"){h=S.call(p,h,f);break e}h=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=g.payload,f=typeof S=="function"?S.call(p,h,f):S,f==null)break e;h=Xe({},h,f);break e;case 2:Os=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);xo|=o,t.lanes=o,t.memoizedState=h}}function QE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var Cc={},Ir=ki(Cc),Hu=ki(Cc),qu=ki(Cc);function to(t){if(t===Cc)throw Error(z(174));return t}function Jv(t,e){switch(Ve(qu,e),Ve(Hu,t),Ve(Ir,Cc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ig(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ig(e,t)}ze(Ir),Ve(Ir,e)}function Ka(){ze(Ir),ze(Hu),ze(qu)}function WC(t){to(qu.current);var e=to(Ir.current),n=Ig(e,t.type);e!==n&&(Ve(Hu,t),Ve(Ir,n))}function Zv(t){Hu.current===t&&(ze(Ir),ze(Hu))}var Ke=ki(0);function Vh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Em=[];function e0(){for(var t=0;t<Em.length;t++)Em[t]._workInProgressVersionPrimary=null;Em.length=0}var Yd=gs.ReactCurrentDispatcher,xm=gs.ReactCurrentBatchConfig,Eo=0,Ye=null,yt=null,At=null,Lh=!1,wu=!1,Gu=0,EV=0;function Ft(){throw Error(z(321))}function t0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ar(t[n],e[n]))return!1;return!0}function n0(t,e,n,r,s,i){if(Eo=i,Ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yd.current=t===null||t.memoizedState===null?bV:CV,t=n(r,s),wu){i=0;do{if(wu=!1,Gu=0,25<=i)throw Error(z(301));i+=1,At=yt=null,e.updateQueue=null,Yd.current=IV,t=n(r,s)}while(wu)}if(Yd.current=jh,e=yt!==null&&yt.next!==null,Eo=0,At=yt=Ye=null,Lh=!1,e)throw Error(z(300));return t}function r0(){var t=Gu!==0;return Gu=0,t}function vr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Ye.memoizedState=At=t:At=At.next=t,At}function zn(){if(yt===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var e=At===null?Ye.memoizedState:At.next;if(e!==null)At=e,yt=t;else{if(t===null)throw Error(z(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},At===null?Ye.memoizedState=At=t:At=At.next=t}return At}function Ku(t,e){return typeof e=="function"?e(t):e}function Tm(t){var e=zn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=yt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Eo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ye.lanes|=d,xo|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,ar(r,e.memoizedState)||(hn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ye.lanes|=i,xo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Sm(t){var e=zn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ar(i,e.memoizedState)||(hn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function HC(){}function qC(t,e){var n=Ye,r=zn(),s=e(),i=!ar(r.memoizedState,s);if(i&&(r.memoizedState=s,hn=!0),r=r.queue,s0(QC.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||At!==null&&At.memoizedState.tag&1){if(n.flags|=2048,Qu(9,KC.bind(null,n,r,s,e),void 0,null),Pt===null)throw Error(z(349));Eo&30||GC(n,e,s)}return s}function GC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function KC(t,e,n,r){e.value=n,e.getSnapshot=r,YC(e)&&XC(t)}function QC(t,e,n){return n(function(){YC(e)&&XC(t)})}function YC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ar(t,n)}catch{return!0}}function XC(t){var e=os(t,1);e!==null&&or(e,t,1,-1)}function YE(t){var e=vr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ku,lastRenderedState:t},e.queue=t,t=t.dispatch=SV.bind(null,Ye,t),[e.memoizedState,t]}function Qu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function JC(){return zn().memoizedState}function Xd(t,e,n,r){var s=vr();Ye.flags|=t,s.memoizedState=Qu(1|e,n,void 0,r===void 0?null:r)}function Mf(t,e,n,r){var s=zn();r=r===void 0?null:r;var i=void 0;if(yt!==null){var o=yt.memoizedState;if(i=o.destroy,r!==null&&t0(r,o.deps)){s.memoizedState=Qu(e,n,i,r);return}}Ye.flags|=t,s.memoizedState=Qu(1|e,n,i,r)}function XE(t,e){return Xd(8390656,8,t,e)}function s0(t,e){return Mf(2048,8,t,e)}function ZC(t,e){return Mf(4,2,t,e)}function eI(t,e){return Mf(4,4,t,e)}function tI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nI(t,e,n){return n=n!=null?n.concat([t]):null,Mf(4,4,tI.bind(null,e,t),n)}function i0(){}function rI(t,e){var n=zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&t0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function sI(t,e){var n=zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&t0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function iI(t,e,n){return Eo&21?(ar(n,e)||(n=cC(),Ye.lanes|=n,xo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hn=!0),t.memoizedState=n)}function xV(t,e){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var r=xm.transition;xm.transition={};try{t(!1),e()}finally{Ne=n,xm.transition=r}}function oI(){return zn().memoizedState}function TV(t,e,n){var r=ii(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},aI(t))lI(e,n);else if(n=$C(t,e,n,r),n!==null){var s=nn();or(n,t,r,s),uI(n,e,r)}}function SV(t,e,n){var r=ii(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(aI(t))lI(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ar(a,o)){var l=e.interleaved;l===null?(s.next=s,Yv(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=$C(t,e,s,r),n!==null&&(s=nn(),or(n,t,r,s),uI(n,e,r))}}function aI(t){var e=t.alternate;return t===Ye||e!==null&&e===Ye}function lI(t,e){wu=Lh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function uI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vv(t,n)}}var jh={readContext:$n,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},bV={readContext:$n,useCallback:function(t,e){return vr().memoizedState=[t,e===void 0?null:e],t},useContext:$n,useEffect:XE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xd(4194308,4,tI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xd(4,2,t,e)},useMemo:function(t,e){var n=vr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=vr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=TV.bind(null,Ye,t),[r.memoizedState,t]},useRef:function(t){var e=vr();return t={current:t},e.memoizedState=t},useState:YE,useDebugValue:i0,useDeferredValue:function(t){return vr().memoizedState=t},useTransition:function(){var t=YE(!1),e=t[0];return t=xV.bind(null,t[1]),vr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ye,s=vr();if(He){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),Pt===null)throw Error(z(349));Eo&30||GC(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,XE(QC.bind(null,r,i,t),[t]),r.flags|=2048,Qu(9,KC.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=vr(),e=Pt.identifierPrefix;if(He){var n=Jr,r=Xr;n=(r&~(1<<32-ir(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Gu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=EV++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},CV={readContext:$n,useCallback:rI,useContext:$n,useEffect:s0,useImperativeHandle:nI,useInsertionEffect:ZC,useLayoutEffect:eI,useMemo:sI,useReducer:Tm,useRef:JC,useState:function(){return Tm(Ku)},useDebugValue:i0,useDeferredValue:function(t){var e=zn();return iI(e,yt.memoizedState,t)},useTransition:function(){var t=Tm(Ku)[0],e=zn().memoizedState;return[t,e]},useMutableSource:HC,useSyncExternalStore:qC,useId:oI,unstable_isNewReconciler:!1},IV={readContext:$n,useCallback:rI,useContext:$n,useEffect:s0,useImperativeHandle:nI,useInsertionEffect:ZC,useLayoutEffect:eI,useMemo:sI,useReducer:Sm,useRef:JC,useState:function(){return Sm(Ku)},useDebugValue:i0,useDeferredValue:function(t){var e=zn();return yt===null?e.memoizedState=t:iI(e,yt.memoizedState,t)},useTransition:function(){var t=Sm(Ku)[0],e=zn().memoizedState;return[t,e]},useMutableSource:HC,useSyncExternalStore:qC,useId:oI,unstable_isNewReconciler:!1};function Xn(t,e){if(t&&t.defaultProps){e=Xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Kg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vf={isMounted:function(t){return(t=t._reactInternals)?Mo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nn(),s=ii(t),i=ts(r,s);i.payload=e,n!=null&&(i.callback=n),e=ri(t,i,s),e!==null&&(or(e,t,s,r),Qd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nn(),s=ii(t),i=ts(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ri(t,i,s),e!==null&&(or(e,t,s,r),Qd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nn(),r=ii(t),s=ts(n,r);s.tag=2,e!=null&&(s.callback=e),e=ri(t,s,r),e!==null&&(or(e,t,r,n),Qd(e,t,r))}};function JE(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Bu(n,r)||!Bu(s,i):!0}function cI(t,e,n){var r=!1,s=mi,i=e.contextType;return typeof i=="object"&&i!==null?i=$n(i):(s=pn(e)?wo:Gt.current,r=e.contextTypes,i=(r=r!=null)?Ha(t,s):mi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ZE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vf.enqueueReplaceState(e,e.state,null)}function Qg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Xv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=$n(i):(i=pn(e)?wo:Gt.current,s.context=Ha(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Kg(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Vf.enqueueReplaceState(s,s.state,null),Mh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Qa(t,e){try{var n="",r=e;do n+=tM(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function bm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Yg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var AV=typeof WeakMap=="function"?WeakMap:Map;function dI(t,e,n){n=ts(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Uh||(Uh=!0,oy=r),Yg(t,e)},n}function hI(t,e,n){n=ts(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Yg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Yg(t,e),typeof r!="function"&&(si===null?si=new Set([this]):si.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ex(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new AV;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=$V.bind(null,t,e,n),e.then(t,t))}function tx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function nx(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ts(-1,1),e.tag=2,ri(n,e,1))),n.lanes|=1),t)}var PV=gs.ReactCurrentOwner,hn=!1;function en(t,e,n,r){e.child=t===null?BC(e,null,n,r):Ga(e,t.child,n,r)}function rx(t,e,n,r,s){n=n.render;var i=e.ref;return Ca(e,s),r=n0(t,e,n,r,i,s),n=r0(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,as(t,e,s)):(He&&n&&Wv(e),e.flags|=1,en(t,e,r,s),e.child)}function sx(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!f0(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,fI(t,e,i,r,s)):(t=th(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Bu,n(o,r)&&t.ref===e.ref)return as(t,e,s)}return e.flags|=1,t=oi(i,r),t.ref=e.ref,t.return=e,e.child=t}function fI(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Bu(i,r)&&t.ref===e.ref)if(hn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(hn=!0);else return e.lanes=t.lanes,as(t,e,s)}return Xg(t,e,n,r,s)}function pI(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(fa,vn),vn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ve(fa,vn),vn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ve(fa,vn),vn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ve(fa,vn),vn|=r;return en(t,e,s,n),e.child}function mI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Xg(t,e,n,r,s){var i=pn(n)?wo:Gt.current;return i=Ha(e,i),Ca(e,s),n=n0(t,e,n,r,i,s),r=r0(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,as(t,e,s)):(He&&r&&Wv(e),e.flags|=1,en(t,e,n,s),e.child)}function ix(t,e,n,r,s){if(pn(n)){var i=!0;Rh(e)}else i=!1;if(Ca(e,s),e.stateNode===null)Jd(t,e),cI(e,n,r),Qg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=$n(u):(u=pn(n)?wo:Gt.current,u=Ha(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&ZE(e,o,r,u),Os=!1;var f=e.memoizedState;o.state=f,Mh(e,r,o,s),l=e.memoizedState,a!==r||f!==l||fn.current||Os?(typeof d=="function"&&(Kg(e,n,d,r),l=e.memoizedState),(a=Os||JE(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,zC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Xn(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=$n(l):(l=pn(n)?wo:Gt.current,l=Ha(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&ZE(e,o,r,l),Os=!1,f=e.memoizedState,o.state=f,Mh(e,r,o,s);var S=e.memoizedState;a!==h||f!==S||fn.current||Os?(typeof p=="function"&&(Kg(e,n,p,r),S=e.memoizedState),(u=Os||JE(e,n,u,r,f,S,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Jg(t,e,n,r,i,s)}function Jg(t,e,n,r,s,i){mI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&WE(e,n,!1),as(t,e,i);r=e.stateNode,PV.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ga(e,t.child,null,i),e.child=Ga(e,null,a,i)):en(t,e,a,i),e.memoizedState=r.state,s&&WE(e,n,!0),e.child}function gI(t){var e=t.stateNode;e.pendingContext?zE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zE(t,e.context,!1),Jv(t,e.containerInfo)}function ox(t,e,n,r,s){return qa(),qv(s),e.flags|=256,en(t,e,n,r),e.child}var Zg={dehydrated:null,treeContext:null,retryLane:0};function ey(t){return{baseLanes:t,cachePool:null,transitions:null}}function yI(t,e,n){var r=e.pendingProps,s=Ke.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ve(Ke,s&1),t===null)return qg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ff(o,r,0,null),t=fo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ey(n),e.memoizedState=Zg,t):o0(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return RV(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=oi(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=oi(a,i):(i=fo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?ey(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Zg,r}return i=t.child,t=i.sibling,r=oi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function o0(t,e){return e=Ff({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vd(t,e,n,r){return r!==null&&qv(r),Ga(e,t.child,null,n),t=o0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function RV(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=bm(Error(z(422))),vd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ff({mode:"visible",children:r.children},s,0,null),i=fo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ga(e,t.child,null,o),e.child.memoizedState=ey(o),e.memoizedState=Zg,i);if(!(e.mode&1))return vd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(z(419)),r=bm(i,r,void 0),vd(t,e,o,r)}if(a=(o&t.childLanes)!==0,hn||a){if(r=Pt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,os(t,s),or(r,t,s,-1))}return h0(),r=bm(Error(z(421))),vd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=zV.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,_n=ni(s.nextSibling),Tn=e,He=!0,nr=null,t!==null&&(Vn[Ln++]=Xr,Vn[Ln++]=Jr,Vn[Ln++]=_o,Xr=t.id,Jr=t.overflow,_o=e),e=o0(e,r.children),e.flags|=4096,e)}function ax(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Gg(t.return,e,n)}function Cm(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function vI(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(en(t,e,r.children,n),r=Ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ax(t,n,e);else if(t.tag===19)ax(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ve(Ke,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Vh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Cm(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Vh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Cm(e,!0,n,null,i);break;case"together":Cm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function as(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),xo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=oi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=oi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kV(t,e,n){switch(e.tag){case 3:gI(e),qa();break;case 5:WC(e);break;case 1:pn(e.type)&&Rh(e);break;case 4:Jv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ve(Dh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ve(Ke,Ke.current&1),e.flags|=128,null):n&e.child.childLanes?yI(t,e,n):(Ve(Ke,Ke.current&1),t=as(t,e,n),t!==null?t.sibling:null);Ve(Ke,Ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return vI(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ve(Ke,Ke.current),r)break;return null;case 22:case 23:return e.lanes=0,pI(t,e,n)}return as(t,e,n)}var wI,ty,_I,EI;wI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ty=function(){};_I=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,to(Ir.current);var i=null;switch(n){case"input":s=Tg(t,s),r=Tg(t,r),i=[];break;case"select":s=Xe({},s,{value:void 0}),r=Xe({},r,{value:void 0}),i=[];break;case"textarea":s=Cg(t,s),r=Cg(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ah)}Ag(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ou.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ou.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ue("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};EI=function(t,e,n,r){n!==r&&(e.flags|=4)};function Gl(t,e){if(!He)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function NV(t,e,n){var r=e.pendingProps;switch(Hv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(e),null;case 1:return pn(e.type)&&Ph(),Ut(e),null;case 3:return r=e.stateNode,Ka(),ze(fn),ze(Gt),e0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(gd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nr!==null&&(uy(nr),nr=null))),ty(t,e),Ut(e),null;case 5:Zv(e);var s=to(qu.current);if(n=e.type,t!==null&&e.stateNode!=null)_I(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Ut(e),null}if(t=to(Ir.current),gd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Tr]=e,r[Wu]=i,t=(e.mode&1)!==0,n){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(s=0;s<ru.length;s++)Ue(ru[s],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":gE(r,i),Ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ue("invalid",r);break;case"textarea":vE(r,i),Ue("invalid",r)}Ag(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&md(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&md(r.textContent,a,t),s=["children",""+a]):Ou.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ue("scroll",r)}switch(n){case"input":ad(r),yE(r,i,!0);break;case"textarea":ad(r),wE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ah)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Q1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Tr]=e,t[Wu]=r,wI(t,e,!1,!1),e.stateNode=t;e:{switch(o=Pg(n,r),n){case"dialog":Ue("cancel",t),Ue("close",t),s=r;break;case"iframe":case"object":case"embed":Ue("load",t),s=r;break;case"video":case"audio":for(s=0;s<ru.length;s++)Ue(ru[s],t);s=r;break;case"source":Ue("error",t),s=r;break;case"img":case"image":case"link":Ue("error",t),Ue("load",t),s=r;break;case"details":Ue("toggle",t),s=r;break;case"input":gE(t,r),s=Tg(t,r),Ue("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Xe({},r,{value:void 0}),Ue("invalid",t);break;case"textarea":vE(t,r),s=Cg(t,r),Ue("invalid",t);break;default:s=r}Ag(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?J1(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Y1(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Mu(t,l):typeof l=="number"&&Mu(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ou.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ue("scroll",t):l!=null&&Rv(t,i,l,o))}switch(n){case"input":ad(t),yE(t,r,!1);break;case"textarea":ad(t),wE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+pi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?xa(t,!!r.multiple,i,!1):r.defaultValue!=null&&xa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ah)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ut(e),null;case 6:if(t&&e.stateNode!=null)EI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=to(qu.current),to(Ir.current),gd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Tr]=e,(i=r.nodeValue!==n)&&(t=Tn,t!==null))switch(t.tag){case 3:md(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&md(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tr]=e,e.stateNode=r}return Ut(e),null;case 13:if(ze(Ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&_n!==null&&e.mode&1&&!(e.flags&128))FC(),qa(),e.flags|=98560,i=!1;else if(i=gd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[Tr]=e}else qa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ut(e),i=!1}else nr!==null&&(uy(nr),nr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ke.current&1?wt===0&&(wt=3):h0())),e.updateQueue!==null&&(e.flags|=4),Ut(e),null);case 4:return Ka(),ty(t,e),t===null&&$u(e.stateNode.containerInfo),Ut(e),null;case 10:return Qv(e.type._context),Ut(e),null;case 17:return pn(e.type)&&Ph(),Ut(e),null;case 19:if(ze(Ke),i=e.memoizedState,i===null)return Ut(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Gl(i,!1);else{if(wt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Vh(t),o!==null){for(e.flags|=128,Gl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ve(Ke,Ke.current&1|2),e.child}t=t.sibling}i.tail!==null&&at()>Ya&&(e.flags|=128,r=!0,Gl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Vh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Gl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!He)return Ut(e),null}else 2*at()-i.renderingStartTime>Ya&&n!==1073741824&&(e.flags|=128,r=!0,Gl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=at(),e.sibling=null,n=Ke.current,Ve(Ke,r?n&1|2:n&1),e):(Ut(e),null);case 22:case 23:return d0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vn&1073741824&&(Ut(e),e.subtreeFlags&6&&(e.flags|=8192)):Ut(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function DV(t,e){switch(Hv(e),e.tag){case 1:return pn(e.type)&&Ph(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ka(),ze(fn),ze(Gt),e0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Zv(e),null;case 13:if(ze(Ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));qa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ze(Ke),null;case 4:return Ka(),null;case 10:return Qv(e.type._context),null;case 22:case 23:return d0(),null;case 24:return null;default:return null}}var wd=!1,Wt=!1,OV=typeof WeakSet=="function"?WeakSet:Set,Q=null;function ha(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nt(t,e,r)}else n.current=null}function ny(t,e,n){try{n()}catch(r){nt(t,e,r)}}var lx=!1;function MV(t,e){if(Fg=bh,t=CC(),zv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===s&&(a=o),f===i&&++d===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ug={focusedElem:t,selectionRange:n},bh=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var g=S.memoizedProps,_=S.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?g:Xn(e.type,g),_);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(P){nt(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return S=lx,lx=!1,S}function _u(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ny(e,n,i)}s=s.next}while(s!==r)}}function Lf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ry(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function xI(t){var e=t.alternate;e!==null&&(t.alternate=null,xI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Tr],delete e[Wu],delete e[zg],delete e[yV],delete e[vV])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function TI(t){return t.tag===5||t.tag===3||t.tag===4}function ux(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||TI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ah));else if(r!==4&&(t=t.child,t!==null))for(sy(t,e,n),t=t.sibling;t!==null;)sy(t,e,n),t=t.sibling}function iy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(iy(t,e,n),t=t.sibling;t!==null;)iy(t,e,n),t=t.sibling}var kt=null,tr=!1;function bs(t,e,n){for(n=n.child;n!==null;)SI(t,e,n),n=n.sibling}function SI(t,e,n){if(Cr&&typeof Cr.onCommitFiberUnmount=="function")try{Cr.onCommitFiberUnmount(Pf,n)}catch{}switch(n.tag){case 5:Wt||ha(n,e);case 6:var r=kt,s=tr;kt=null,bs(t,e,n),kt=r,tr=s,kt!==null&&(tr?(t=kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):kt.removeChild(n.stateNode));break;case 18:kt!==null&&(tr?(t=kt,n=n.stateNode,t.nodeType===8?wm(t.parentNode,n):t.nodeType===1&&wm(t,n),Fu(t)):wm(kt,n.stateNode));break;case 4:r=kt,s=tr,kt=n.stateNode.containerInfo,tr=!0,bs(t,e,n),kt=r,tr=s;break;case 0:case 11:case 14:case 15:if(!Wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ny(n,e,o),s=s.next}while(s!==r)}bs(t,e,n);break;case 1:if(!Wt&&(ha(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){nt(n,e,a)}bs(t,e,n);break;case 21:bs(t,e,n);break;case 22:n.mode&1?(Wt=(r=Wt)||n.memoizedState!==null,bs(t,e,n),Wt=r):bs(t,e,n);break;default:bs(t,e,n)}}function cx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new OV),e.forEach(function(r){var s=WV.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Gn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:kt=a.stateNode,tr=!1;break e;case 3:kt=a.stateNode.containerInfo,tr=!0;break e;case 4:kt=a.stateNode.containerInfo,tr=!0;break e}a=a.return}if(kt===null)throw Error(z(160));SI(i,o,s),kt=null,tr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){nt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)bI(e,t),e=e.sibling}function bI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gn(e,t),yr(t),r&4){try{_u(3,t,t.return),Lf(3,t)}catch(g){nt(t,t.return,g)}try{_u(5,t,t.return)}catch(g){nt(t,t.return,g)}}break;case 1:Gn(e,t),yr(t),r&512&&n!==null&&ha(n,n.return);break;case 5:if(Gn(e,t),yr(t),r&512&&n!==null&&ha(n,n.return),t.flags&32){var s=t.stateNode;try{Mu(s,"")}catch(g){nt(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&G1(s,i),Pg(a,o);var u=Pg(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?J1(s,h):d==="dangerouslySetInnerHTML"?Y1(s,h):d==="children"?Mu(s,h):Rv(s,d,h,u)}switch(a){case"input":Sg(s,i);break;case"textarea":K1(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?xa(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?xa(s,!!i.multiple,i.defaultValue,!0):xa(s,!!i.multiple,i.multiple?[]:"",!1))}s[Wu]=i}catch(g){nt(t,t.return,g)}}break;case 6:if(Gn(e,t),yr(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){nt(t,t.return,g)}}break;case 3:if(Gn(e,t),yr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fu(e.containerInfo)}catch(g){nt(t,t.return,g)}break;case 4:Gn(e,t),yr(t);break;case 13:Gn(e,t),yr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(u0=at())),r&4&&cx(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Wt=(u=Wt)||d,Gn(e,t),Wt=u):Gn(e,t),yr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Q=t,d=t.child;d!==null;){for(h=Q=d;Q!==null;){switch(f=Q,p=f.child,f.tag){case 0:case 11:case 14:case 15:_u(4,f,f.return);break;case 1:ha(f,f.return);var S=f.stateNode;if(typeof S.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(g){nt(r,n,g)}}break;case 5:ha(f,f.return);break;case 22:if(f.memoizedState!==null){hx(h);continue}}p!==null?(p.return=f,Q=p):hx(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=X1("display",o))}catch(g){nt(t,t.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){nt(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Gn(e,t),yr(t),r&4&&cx(t);break;case 21:break;default:Gn(e,t),yr(t)}}function yr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(TI(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Mu(s,""),r.flags&=-33);var i=ux(t);iy(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ux(t);sy(t,a,o);break;default:throw Error(z(161))}}catch(l){nt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function VV(t,e,n){Q=t,CI(t)}function CI(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var s=Q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||wd;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Wt;a=wd;var u=Wt;if(wd=o,(Wt=l)&&!u)for(Q=s;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?fx(s):l!==null?(l.return=o,Q=l):fx(s);for(;i!==null;)Q=i,CI(i),i=i.sibling;Q=s,wd=a,Wt=u}dx(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Q=i):dx(t)}}function dx(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wt||Lf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Xn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&QE(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}QE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Fu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Wt||e.flags&512&&ry(e)}catch(f){nt(e,e.return,f)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function hx(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function fx(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Lf(4,e)}catch(l){nt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){nt(e,s,l)}}var i=e.return;try{ry(e)}catch(l){nt(e,i,l)}break;case 5:var o=e.return;try{ry(e)}catch(l){nt(e,o,l)}}}catch(l){nt(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var LV=Math.ceil,Fh=gs.ReactCurrentDispatcher,a0=gs.ReactCurrentOwner,Bn=gs.ReactCurrentBatchConfig,Ie=0,Pt=null,dt=null,Mt=0,vn=0,fa=ki(0),wt=0,Yu=null,xo=0,jf=0,l0=0,Eu=null,cn=null,u0=0,Ya=1/0,Kr=null,Uh=!1,oy=null,si=null,_d=!1,Qs=null,Bh=0,xu=0,ay=null,Zd=-1,eh=0;function nn(){return Ie&6?at():Zd!==-1?Zd:Zd=at()}function ii(t){return t.mode&1?Ie&2&&Mt!==0?Mt&-Mt:_V.transition!==null?(eh===0&&(eh=cC()),eh):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:yC(t.type)),t):1}function or(t,e,n,r){if(50<xu)throw xu=0,ay=null,Error(z(185));Tc(t,n,r),(!(Ie&2)||t!==Pt)&&(t===Pt&&(!(Ie&2)&&(jf|=n),wt===4&&Vs(t,Mt)),mn(t,r),n===1&&Ie===0&&!(e.mode&1)&&(Ya=at()+500,Of&&Ni()))}function mn(t,e){var n=t.callbackNode;_M(t,e);var r=Sh(t,t===Pt?Mt:0);if(r===0)n!==null&&xE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&xE(n),e===1)t.tag===0?wV(px.bind(null,t)):VC(px.bind(null,t)),mV(function(){!(Ie&6)&&Ni()}),n=null;else{switch(dC(r)){case 1:n=Mv;break;case 4:n=lC;break;case 16:n=Th;break;case 536870912:n=uC;break;default:n=Th}n=OI(n,II.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function II(t,e){if(Zd=-1,eh=0,Ie&6)throw Error(z(327));var n=t.callbackNode;if(Ia()&&t.callbackNode!==n)return null;var r=Sh(t,t===Pt?Mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=$h(t,r);else{e=r;var s=Ie;Ie|=2;var i=PI();(Pt!==t||Mt!==e)&&(Kr=null,Ya=at()+500,ho(t,e));do try{UV();break}catch(a){AI(t,a)}while(!0);Kv(),Fh.current=i,Ie=s,dt!==null?e=0:(Pt=null,Mt=0,e=wt)}if(e!==0){if(e===2&&(s=Og(t),s!==0&&(r=s,e=ly(t,s))),e===1)throw n=Yu,ho(t,0),Vs(t,r),mn(t,at()),n;if(e===6)Vs(t,r);else{if(s=t.current.alternate,!(r&30)&&!jV(s)&&(e=$h(t,r),e===2&&(i=Og(t),i!==0&&(r=i,e=ly(t,i))),e===1))throw n=Yu,ho(t,0),Vs(t,r),mn(t,at()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Ki(t,cn,Kr);break;case 3:if(Vs(t,r),(r&130023424)===r&&(e=u0+500-at(),10<e)){if(Sh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){nn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=$g(Ki.bind(null,t,cn,Kr),e);break}Ki(t,cn,Kr);break;case 4:if(Vs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ir(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=at()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LV(r/1960))-r,10<r){t.timeoutHandle=$g(Ki.bind(null,t,cn,Kr),r);break}Ki(t,cn,Kr);break;case 5:Ki(t,cn,Kr);break;default:throw Error(z(329))}}}return mn(t,at()),t.callbackNode===n?II.bind(null,t):null}function ly(t,e){var n=Eu;return t.current.memoizedState.isDehydrated&&(ho(t,e).flags|=256),t=$h(t,e),t!==2&&(e=cn,cn=n,e!==null&&uy(e)),t}function uy(t){cn===null?cn=t:cn.push.apply(cn,t)}function jV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ar(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vs(t,e){for(e&=~l0,e&=~jf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ir(e),r=1<<n;t[n]=-1,e&=~r}}function px(t){if(Ie&6)throw Error(z(327));Ia();var e=Sh(t,0);if(!(e&1))return mn(t,at()),null;var n=$h(t,e);if(t.tag!==0&&n===2){var r=Og(t);r!==0&&(e=r,n=ly(t,r))}if(n===1)throw n=Yu,ho(t,0),Vs(t,e),mn(t,at()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ki(t,cn,Kr),mn(t,at()),null}function c0(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(Ya=at()+500,Of&&Ni())}}function To(t){Qs!==null&&Qs.tag===0&&!(Ie&6)&&Ia();var e=Ie;Ie|=1;var n=Bn.transition,r=Ne;try{if(Bn.transition=null,Ne=1,t)return t()}finally{Ne=r,Bn.transition=n,Ie=e,!(Ie&6)&&Ni()}}function d0(){vn=fa.current,ze(fa)}function ho(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,pV(n)),dt!==null)for(n=dt.return;n!==null;){var r=n;switch(Hv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ph();break;case 3:Ka(),ze(fn),ze(Gt),e0();break;case 5:Zv(r);break;case 4:Ka();break;case 13:ze(Ke);break;case 19:ze(Ke);break;case 10:Qv(r.type._context);break;case 22:case 23:d0()}n=n.return}if(Pt=t,dt=t=oi(t.current,null),Mt=vn=e,wt=0,Yu=null,l0=jf=xo=0,cn=Eu=null,eo!==null){for(e=0;e<eo.length;e++)if(n=eo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}eo=null}return t}function AI(t,e){do{var n=dt;try{if(Kv(),Yd.current=jh,Lh){for(var r=Ye.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Lh=!1}if(Eo=0,At=yt=Ye=null,wu=!1,Gu=0,a0.current=null,n===null||n.return===null){wt=1,Yu=e,dt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=tx(o);if(p!==null){p.flags&=-257,nx(p,o,a,i,e),p.mode&1&&ex(i,u,e),e=p,l=u;var S=e.updateQueue;if(S===null){var g=new Set;g.add(l),e.updateQueue=g}else S.add(l);break e}else{if(!(e&1)){ex(i,u,e),h0();break e}l=Error(z(426))}}else if(He&&a.mode&1){var _=tx(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),nx(_,o,a,i,e),qv(Qa(l,a));break e}}i=l=Qa(l,a),wt!==4&&(wt=2),Eu===null?Eu=[i]:Eu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=dI(i,l,e);KE(i,w);break e;case 1:a=l;var v=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(si===null||!si.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var P=hI(i,a,e);KE(i,P);break e}}i=i.return}while(i!==null)}kI(n)}catch(k){e=k,dt===n&&n!==null&&(dt=n=n.return);continue}break}while(!0)}function PI(){var t=Fh.current;return Fh.current=jh,t===null?jh:t}function h0(){(wt===0||wt===3||wt===2)&&(wt=4),Pt===null||!(xo&268435455)&&!(jf&268435455)||Vs(Pt,Mt)}function $h(t,e){var n=Ie;Ie|=2;var r=PI();(Pt!==t||Mt!==e)&&(Kr=null,ho(t,e));do try{FV();break}catch(s){AI(t,s)}while(!0);if(Kv(),Ie=n,Fh.current=r,dt!==null)throw Error(z(261));return Pt=null,Mt=0,wt}function FV(){for(;dt!==null;)RI(dt)}function UV(){for(;dt!==null&&!dM();)RI(dt)}function RI(t){var e=DI(t.alternate,t,vn);t.memoizedProps=t.pendingProps,e===null?kI(t):dt=e,a0.current=null}function kI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=DV(n,e),n!==null){n.flags&=32767,dt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wt=6,dt=null;return}}else if(n=NV(n,e,vn),n!==null){dt=n;return}if(e=e.sibling,e!==null){dt=e;return}dt=e=t}while(e!==null);wt===0&&(wt=5)}function Ki(t,e,n){var r=Ne,s=Bn.transition;try{Bn.transition=null,Ne=1,BV(t,e,n,r)}finally{Bn.transition=s,Ne=r}return null}function BV(t,e,n,r){do Ia();while(Qs!==null);if(Ie&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(EM(t,i),t===Pt&&(dt=Pt=null,Mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_d||(_d=!0,OI(Th,function(){return Ia(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Bn.transition,Bn.transition=null;var o=Ne;Ne=1;var a=Ie;Ie|=4,a0.current=null,MV(t,n),bI(n,t),aV(Ug),bh=!!Fg,Ug=Fg=null,t.current=n,VV(n),hM(),Ie=a,Ne=o,Bn.transition=i}else t.current=n;if(_d&&(_d=!1,Qs=t,Bh=s),i=t.pendingLanes,i===0&&(si=null),mM(n.stateNode),mn(t,at()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Uh)throw Uh=!1,t=oy,oy=null,t;return Bh&1&&t.tag!==0&&Ia(),i=t.pendingLanes,i&1?t===ay?xu++:(xu=0,ay=t):xu=0,Ni(),null}function Ia(){if(Qs!==null){var t=dC(Bh),e=Bn.transition,n=Ne;try{if(Bn.transition=null,Ne=16>t?16:t,Qs===null)var r=!1;else{if(t=Qs,Qs=null,Bh=0,Ie&6)throw Error(z(331));var s=Ie;for(Ie|=4,Q=t.current;Q!==null;){var i=Q,o=i.child;if(Q.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Q=u;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:_u(8,d,i)}var h=d.child;if(h!==null)h.return=d,Q=h;else for(;Q!==null;){d=Q;var f=d.sibling,p=d.return;if(xI(d),d===u){Q=null;break}if(f!==null){f.return=p,Q=f;break}Q=p}}}var S=i.alternate;if(S!==null){var g=S.child;if(g!==null){S.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}Q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Q=o;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:_u(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,Q=w;break e}Q=i.return}}var v=t.current;for(Q=v;Q!==null;){o=Q;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,Q=T;else e:for(o=v;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Lf(9,a)}}catch(k){nt(a,a.return,k)}if(a===o){Q=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,Q=P;break e}Q=a.return}}if(Ie=s,Ni(),Cr&&typeof Cr.onPostCommitFiberRoot=="function")try{Cr.onPostCommitFiberRoot(Pf,t)}catch{}r=!0}return r}finally{Ne=n,Bn.transition=e}}return!1}function mx(t,e,n){e=Qa(n,e),e=dI(t,e,1),t=ri(t,e,1),e=nn(),t!==null&&(Tc(t,1,e),mn(t,e))}function nt(t,e,n){if(t.tag===3)mx(t,t,n);else for(;e!==null;){if(e.tag===3){mx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(si===null||!si.has(r))){t=Qa(n,t),t=hI(e,t,1),e=ri(e,t,1),t=nn(),e!==null&&(Tc(e,1,t),mn(e,t));break}}e=e.return}}function $V(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=nn(),t.pingedLanes|=t.suspendedLanes&n,Pt===t&&(Mt&n)===n&&(wt===4||wt===3&&(Mt&130023424)===Mt&&500>at()-u0?ho(t,0):l0|=n),mn(t,e)}function NI(t,e){e===0&&(t.mode&1?(e=cd,cd<<=1,!(cd&130023424)&&(cd=4194304)):e=1);var n=nn();t=os(t,e),t!==null&&(Tc(t,e,n),mn(t,n))}function zV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),NI(t,n)}function WV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),NI(t,n)}var DI;DI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fn.current)hn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return hn=!1,kV(t,e,n);hn=!!(t.flags&131072)}else hn=!1,He&&e.flags&1048576&&LC(e,Nh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Jd(t,e),t=e.pendingProps;var s=Ha(e,Gt.current);Ca(e,n),s=n0(null,e,r,t,s,n);var i=r0();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pn(r)?(i=!0,Rh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Xv(e),s.updater=Vf,e.stateNode=s,s._reactInternals=e,Qg(e,r,t,n),e=Jg(null,e,r,!0,i,n)):(e.tag=0,He&&i&&Wv(e),en(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Jd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=qV(r),t=Xn(r,t),s){case 0:e=Xg(null,e,r,t,n);break e;case 1:e=ix(null,e,r,t,n);break e;case 11:e=rx(null,e,r,t,n);break e;case 14:e=sx(null,e,r,Xn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xn(r,s),Xg(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xn(r,s),ix(t,e,r,s,n);case 3:e:{if(gI(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,zC(t,e),Mh(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Qa(Error(z(423)),e),e=ox(t,e,r,n,s);break e}else if(r!==s){s=Qa(Error(z(424)),e),e=ox(t,e,r,n,s);break e}else for(_n=ni(e.stateNode.containerInfo.firstChild),Tn=e,He=!0,nr=null,n=BC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qa(),r===s){e=as(t,e,n);break e}en(t,e,r,n)}e=e.child}return e;case 5:return WC(e),t===null&&qg(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Bg(r,s)?o=null:i!==null&&Bg(r,i)&&(e.flags|=32),mI(t,e),en(t,e,o,n),e.child;case 6:return t===null&&qg(e),null;case 13:return yI(t,e,n);case 4:return Jv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ga(e,null,r,n):en(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xn(r,s),rx(t,e,r,s,n);case 7:return en(t,e,e.pendingProps,n),e.child;case 8:return en(t,e,e.pendingProps.children,n),e.child;case 12:return en(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ve(Dh,r._currentValue),r._currentValue=o,i!==null)if(ar(i.value,o)){if(i.children===s.children&&!fn.current){e=as(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ts(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Gg(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Gg(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}en(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ca(e,n),s=$n(s),r=r(s),e.flags|=1,en(t,e,r,n),e.child;case 14:return r=e.type,s=Xn(r,e.pendingProps),s=Xn(r.type,s),sx(t,e,r,s,n);case 15:return fI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xn(r,s),Jd(t,e),e.tag=1,pn(r)?(t=!0,Rh(e)):t=!1,Ca(e,n),cI(e,r,s),Qg(e,r,s,n),Jg(null,e,r,!0,t,n);case 19:return vI(t,e,n);case 22:return pI(t,e,n)}throw Error(z(156,e.tag))};function OI(t,e){return aC(t,e)}function HV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,e,n,r){return new HV(t,e,n,r)}function f0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qV(t){if(typeof t=="function")return f0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Nv)return 11;if(t===Dv)return 14}return 2}function oi(t,e){var n=t.alternate;return n===null?(n=Un(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function th(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")f0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ra:return fo(n.children,s,i,e);case kv:o=8,s|=8;break;case wg:return t=Un(12,n,e,s|2),t.elementType=wg,t.lanes=i,t;case _g:return t=Un(13,n,e,s),t.elementType=_g,t.lanes=i,t;case Eg:return t=Un(19,n,e,s),t.elementType=Eg,t.lanes=i,t;case W1:return Ff(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $1:o=10;break e;case z1:o=9;break e;case Nv:o=11;break e;case Dv:o=14;break e;case Ds:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=Un(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function fo(t,e,n,r){return t=Un(7,t,r,e),t.lanes=n,t}function Ff(t,e,n,r){return t=Un(22,t,r,e),t.elementType=W1,t.lanes=n,t.stateNode={isHidden:!1},t}function Im(t,e,n){return t=Un(6,t,null,e),t.lanes=n,t}function Am(t,e,n){return e=Un(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function GV(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lm(0),this.expirationTimes=lm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function p0(t,e,n,r,s,i,o,a,l){return t=new GV(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Un(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xv(i),t}function KV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:na,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function MI(t){if(!t)return mi;t=t._reactInternals;e:{if(Mo(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(pn(n))return MC(t,n,e)}return e}function VI(t,e,n,r,s,i,o,a,l){return t=p0(n,r,!0,t,s,i,o,a,l),t.context=MI(null),n=t.current,r=nn(),s=ii(n),i=ts(r,s),i.callback=e??null,ri(n,i,s),t.current.lanes=s,Tc(t,s,r),mn(t,r),t}function Uf(t,e,n,r){var s=e.current,i=nn(),o=ii(s);return n=MI(n),e.context===null?e.context=n:e.pendingContext=n,e=ts(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ri(s,e,o),t!==null&&(or(t,s,o,i),Qd(t,s,o)),o}function zh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function m0(t,e){gx(t,e),(t=t.alternate)&&gx(t,e)}function QV(){return null}var LI=typeof reportError=="function"?reportError:function(t){console.error(t)};function g0(t){this._internalRoot=t}Bf.prototype.render=g0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Uf(t,e,null,null)};Bf.prototype.unmount=g0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;To(function(){Uf(null,t,null,null)}),e[is]=null}};function Bf(t){this._internalRoot=t}Bf.prototype.unstable_scheduleHydration=function(t){if(t){var e=pC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ms.length&&e!==0&&e<Ms[n].priority;n++);Ms.splice(n,0,t),n===0&&gC(t)}};function y0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $f(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yx(){}function YV(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=zh(o);i.call(u)}}var o=VI(e,r,t,0,null,!1,!1,"",yx);return t._reactRootContainer=o,t[is]=o.current,$u(t.nodeType===8?t.parentNode:t),To(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=zh(l);a.call(u)}}var l=p0(t,0,!1,null,null,!1,!1,"",yx);return t._reactRootContainer=l,t[is]=l.current,$u(t.nodeType===8?t.parentNode:t),To(function(){Uf(e,l,n,r)}),l}function zf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=zh(o);a.call(l)}}Uf(e,o,t,s)}else o=YV(n,e,t,s,r);return zh(o)}hC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=nu(e.pendingLanes);n!==0&&(Vv(e,n|1),mn(e,at()),!(Ie&6)&&(Ya=at()+500,Ni()))}break;case 13:To(function(){var r=os(t,1);if(r!==null){var s=nn();or(r,t,1,s)}}),m0(t,1)}};Lv=function(t){if(t.tag===13){var e=os(t,134217728);if(e!==null){var n=nn();or(e,t,134217728,n)}m0(t,134217728)}};fC=function(t){if(t.tag===13){var e=ii(t),n=os(t,e);if(n!==null){var r=nn();or(n,t,e,r)}m0(t,e)}};pC=function(){return Ne};mC=function(t,e){var n=Ne;try{return Ne=t,e()}finally{Ne=n}};kg=function(t,e,n){switch(e){case"input":if(Sg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Df(r);if(!s)throw Error(z(90));q1(r),Sg(r,s)}}}break;case"textarea":K1(t,n);break;case"select":e=n.value,e!=null&&xa(t,!!n.multiple,e,!1)}};tC=c0;nC=To;var XV={usingClientEntryPoint:!1,Events:[bc,aa,Df,Z1,eC,c0]},Kl={findFiberByHostInstance:Zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JV={bundleType:Kl.bundleType,version:Kl.version,rendererPackageName:Kl.rendererPackageName,rendererConfig:Kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=iC(t),t===null?null:t.stateNode},findFiberByHostInstance:Kl.findFiberByHostInstance||QV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ed=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ed.isDisabled&&Ed.supportsFiber)try{Pf=Ed.inject(JV),Cr=Ed}catch{}}Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XV;Pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y0(e))throw Error(z(200));return KV(t,e,null,n)};Pn.createRoot=function(t,e){if(!y0(t))throw Error(z(299));var n=!1,r="",s=LI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=p0(t,1,!1,null,null,n,!1,r,s),t[is]=e.current,$u(t.nodeType===8?t.parentNode:t),new g0(e)};Pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=iC(e),t=t===null?null:t.stateNode,t};Pn.flushSync=function(t){return To(t)};Pn.hydrate=function(t,e,n){if(!$f(e))throw Error(z(200));return zf(null,t,e,!0,n)};Pn.hydrateRoot=function(t,e,n){if(!y0(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=LI;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=VI(e,null,t,1,n??null,s,!1,i,o),t[is]=e.current,$u(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Bf(e)};Pn.render=function(t,e,n){if(!$f(e))throw Error(z(200));return zf(null,t,e,!1,n)};Pn.unmountComponentAtNode=function(t){if(!$f(t))throw Error(z(40));return t._reactRootContainer?(To(function(){zf(null,null,t,!1,function(){t._reactRootContainer=null,t[is]=null})}),!0):!1};Pn.unstable_batchedUpdates=c0;Pn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!$f(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return zf(t,e,n,!1,r)};Pn.version="18.3.1-next-f1338f8080-20240426";function jI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jI)}catch(t){console.error(t)}}jI(),j1.exports=Pn;var hl=j1.exports;const FI=C1(hl);var UI,vx=hl;UI=vx.createRoot,vx.hydrateRoot;var ZV=(t,e,n,r,s,i,o,a)=>{let l=document.documentElement,u=["light","dark"];function d(p){(Array.isArray(t)?t:[t]).forEach(S=>{let g=S==="class",_=g&&i?s.map(w=>i[w]||w):s;g?(l.classList.remove(..._),l.classList.add(i&&i[p]?i[p]:p)):l.setAttribute(S,p)}),h(p)}function h(p){a&&u.includes(p)&&(l.style.colorScheme=p)}function f(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)d(r);else try{let p=localStorage.getItem(e)||n,S=o&&p==="system"?f():p;d(S)}catch{}},eL=y.createContext(void 0),tL={setTheme:t=>{},themes:[]},nL=()=>{var t;return(t=y.useContext(eL))!=null?t:tL};y.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,themes:a,nonce:l,scriptProps:u})=>{let d=JSON.stringify([n,e,i,t,a,o,r,s]).slice(1,-1);return y.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${ZV.toString()})(${d})`}})});var rL=t=>{switch(t){case"success":return oL;case"info":return lL;case"warning":return aL;case"error":return uL;default:return null}},sL=Array(12).fill(0),iL=({visible:t,className:e})=>W.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},W.createElement("div",{className:"sonner-spinner"},sL.map((n,r)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),oL=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),aL=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),lL=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),uL=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),cL=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),dL=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},cy=1,hL=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:cy++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async u=>{if(o=["resolve",u],W.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(pL(u)&&!u.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:d,description:h})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(u):n.success,h=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:d,description:h})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(u):n.error,h=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:d,description:h})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),l=()=>new Promise((u,d)=>a.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||cy++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ln=new hL,fL=(t,e)=>{let n=(e==null?void 0:e.id)||cy++;return ln.addToast({title:t,...e,id:n}),n},pL=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",mL=fL,gL=()=>ln.toasts,yL=()=>ln.getActiveToasts(),no=Object.assign(mL,{success:ln.success,info:ln.info,warning:ln.warning,error:ln.error,custom:ln.custom,message:ln.message,promise:ln.promise,dismiss:ln.dismiss,loading:ln.loading},{getHistory:gL,getToasts:yL});function vL(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}vL(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function xd(t){return t.label!==void 0}var wL=3,_L="32px",EL="16px",wx=4e3,xL=356,TL=14,SL=20,bL=200;function Kn(...t){return t.filter(Boolean).join(" ")}function CL(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var IL=t=>{var e,n,r,s,i,o,a,l,u,d,h;let{invert:f,toast:p,unstyled:S,interacting:g,setHeights:_,visibleToasts:w,heights:v,index:T,toasts:P,expanded:k,removeToast:M,defaultRichColors:C,closeButton:b,style:I,cancelButtonStyle:R,actionButtonStyle:N,className:O="",descriptionClassName:D="",duration:Y,position:ce,gap:J,loadingIcon:X,expandByDefault:j,classNames:U,icons:q,closeButtonAriaLabel:ie="Close toast",pauseWhenPageIsHidden:ee}=t,[me,le]=W.useState(null),[ke,Oe]=W.useState(null),[G,be]=W.useState(!1),[Le,Ce]=W.useState(!1),[ve,xe]=W.useState(!1),[ut,Yt]=W.useState(!1),[zr,kn]=W.useState(!1),[Wn,ys]=W.useState(0),[Ge,xt]=W.useState(0),dr=W.useRef(p.duration||Y||wx),Hc=W.useRef(null),hr=W.useRef(null),Up=T===0,Fi=T+1<=w,Xt=p.type,Wr=p.dismissible!==!1,Il=p.className||"",Bp=p.descriptionClassName||"",$o=W.useMemo(()=>v.findIndex(re=>re.toastId===p.id)||0,[v,p.id]),qc=W.useMemo(()=>{var re;return(re=p.closeButton)!=null?re:b},[p.closeButton,b]),Al=W.useMemo(()=>p.duration||Y||wx,[p.duration,Y]),Hr=W.useRef(0),fr=W.useRef(0),zo=W.useRef(0),on=W.useRef(null),[Gc,Wo]=ce.split("-"),Pl=W.useMemo(()=>v.reduce((re,Pe,Me)=>Me>=$o?re:re+Pe.height,0),[v,$o]),vs=dL(),Kc=p.invert||f,mt=Xt==="loading";fr.current=W.useMemo(()=>$o*J+Pl,[$o,Pl]),W.useEffect(()=>{dr.current=Al},[Al]),W.useEffect(()=>{be(!0)},[]),W.useEffect(()=>{let re=hr.current;if(re){let Pe=re.getBoundingClientRect().height;return xt(Pe),_(Me=>[{toastId:p.id,height:Pe,position:p.position},...Me]),()=>_(Me=>Me.filter(Tt=>Tt.toastId!==p.id))}},[_,p.id]),W.useLayoutEffect(()=>{if(!G)return;let re=hr.current,Pe=re.style.height;re.style.height="auto";let Me=re.getBoundingClientRect().height;re.style.height=Pe,xt(Me),_(Tt=>Tt.find(gn=>gn.toastId===p.id)?Tt.map(gn=>gn.toastId===p.id?{...gn,height:Me}:gn):[{toastId:p.id,height:Me,position:p.position},...Tt])},[G,p.title,p.description,_,p.id]);let Hn=W.useCallback(()=>{Ce(!0),ys(fr.current),_(re=>re.filter(Pe=>Pe.toastId!==p.id)),setTimeout(()=>{M(p)},bL)},[p,M,_,fr]);W.useEffect(()=>{if(p.promise&&Xt==="loading"||p.duration===1/0||p.type==="loading")return;let re;return k||g||ee&&vs?(()=>{if(zo.current<Hr.current){let Pe=new Date().getTime()-Hr.current;dr.current=dr.current-Pe}zo.current=new Date().getTime()})():dr.current!==1/0&&(Hr.current=new Date().getTime(),re=setTimeout(()=>{var Pe;(Pe=p.onAutoClose)==null||Pe.call(p,p),Hn()},dr.current)),()=>clearTimeout(re)},[k,g,p,Xt,ee,vs,Hn]),W.useEffect(()=>{p.delete&&Hn()},[Hn,p.delete]);function Ui(){var re,Pe,Me;return q!=null&&q.loading?W.createElement("div",{className:Kn(U==null?void 0:U.loader,(re=p==null?void 0:p.classNames)==null?void 0:re.loader,"sonner-loader"),"data-visible":Xt==="loading"},q.loading):X?W.createElement("div",{className:Kn(U==null?void 0:U.loader,(Pe=p==null?void 0:p.classNames)==null?void 0:Pe.loader,"sonner-loader"),"data-visible":Xt==="loading"},X):W.createElement(iL,{className:Kn(U==null?void 0:U.loader,(Me=p==null?void 0:p.classNames)==null?void 0:Me.loader),visible:Xt==="loading"})}return W.createElement("li",{tabIndex:0,ref:hr,className:Kn(O,Il,U==null?void 0:U.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,U==null?void 0:U.default,U==null?void 0:U[Xt],(n=p==null?void 0:p.classNames)==null?void 0:n[Xt]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:C,"data-styled":!(p.jsx||p.unstyled||S),"data-mounted":G,"data-promise":!!p.promise,"data-swiped":zr,"data-removed":Le,"data-visible":Fi,"data-y-position":Gc,"data-x-position":Wo,"data-index":T,"data-front":Up,"data-swiping":ve,"data-dismissible":Wr,"data-type":Xt,"data-invert":Kc,"data-swipe-out":ut,"data-swipe-direction":ke,"data-expanded":!!(k||j&&G),style:{"--index":T,"--toasts-before":T,"--z-index":P.length-T,"--offset":`${Le?Wn:fr.current}px`,"--initial-height":j?"auto":`${Ge}px`,...I,...p.style},onDragEnd:()=>{xe(!1),le(null),on.current=null},onPointerDown:re=>{mt||!Wr||(Hc.current=new Date,ys(fr.current),re.target.setPointerCapture(re.pointerId),re.target.tagName!=="BUTTON"&&(xe(!0),on.current={x:re.clientX,y:re.clientY}))},onPointerUp:()=>{var re,Pe,Me,Tt;if(ut||!Wr)return;on.current=null;let gn=Number(((re=hr.current)==null?void 0:re.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),pr=Number(((Pe=hr.current)==null?void 0:Pe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Nn=new Date().getTime()-((Me=Hc.current)==null?void 0:Me.getTime()),an=me==="x"?gn:pr,qn=Math.abs(an)/Nn;if(Math.abs(an)>=SL||qn>.11){ys(fr.current),(Tt=p.onDismiss)==null||Tt.call(p,p),Oe(me==="x"?gn>0?"right":"left":pr>0?"down":"up"),Hn(),Yt(!0),kn(!1);return}xe(!1),le(null)},onPointerMove:re=>{var Pe,Me,Tt,gn;if(!on.current||!Wr||((Pe=window.getSelection())==null?void 0:Pe.toString().length)>0)return;let pr=re.clientY-on.current.y,Nn=re.clientX-on.current.x,an=(Me=t.swipeDirections)!=null?Me:CL(ce);!me&&(Math.abs(Nn)>1||Math.abs(pr)>1)&&le(Math.abs(Nn)>Math.abs(pr)?"x":"y");let qn={x:0,y:0};me==="y"?(an.includes("top")||an.includes("bottom"))&&(an.includes("top")&&pr<0||an.includes("bottom")&&pr>0)&&(qn.y=pr):me==="x"&&(an.includes("left")||an.includes("right"))&&(an.includes("left")&&Nn<0||an.includes("right")&&Nn>0)&&(qn.x=Nn),(Math.abs(qn.x)>0||Math.abs(qn.y)>0)&&kn(!0),(Tt=hr.current)==null||Tt.style.setProperty("--swipe-amount-x",`${qn.x}px`),(gn=hr.current)==null||gn.style.setProperty("--swipe-amount-y",`${qn.y}px`)}},qc&&!p.jsx?W.createElement("button",{"aria-label":ie,"data-disabled":mt,"data-close-button":!0,onClick:mt||!Wr?()=>{}:()=>{var re;Hn(),(re=p.onDismiss)==null||re.call(p,p)},className:Kn(U==null?void 0:U.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=q==null?void 0:q.close)!=null?i:cL):null,p.jsx||y.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:W.createElement(W.Fragment,null,Xt||p.icon||p.promise?W.createElement("div",{"data-icon":"",className:Kn(U==null?void 0:U.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Ui():null,p.type!=="loading"?p.icon||(q==null?void 0:q[Xt])||rL(Xt):null):null,W.createElement("div",{"data-content":"",className:Kn(U==null?void 0:U.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},W.createElement("div",{"data-title":"",className:Kn(U==null?void 0:U.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?W.createElement("div",{"data-description":"",className:Kn(D,Bp,U==null?void 0:U.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),y.isValidElement(p.cancel)?p.cancel:p.cancel&&xd(p.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||R,onClick:re=>{var Pe,Me;xd(p.cancel)&&Wr&&((Me=(Pe=p.cancel).onClick)==null||Me.call(Pe,re),Hn())},className:Kn(U==null?void 0:U.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,y.isValidElement(p.action)?p.action:p.action&&xd(p.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||N,onClick:re=>{var Pe,Me;xd(p.action)&&((Me=(Pe=p.action).onClick)==null||Me.call(Pe,re),!re.defaultPrevented&&Hn())},className:Kn(U==null?void 0:U.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function _x(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function AL(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?EL:_L;function l(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),n}var PL=y.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:p,visibleToasts:S=wL,toastOptions:g,dir:_=_x(),gap:w=TL,loadingIcon:v,icons:T,containerAriaLabel:P="Notifications",pauseWhenPageIsHidden:k}=t,[M,C]=W.useState([]),b=W.useMemo(()=>Array.from(new Set([r].concat(M.filter(ee=>ee.position).map(ee=>ee.position)))),[M,r]),[I,R]=W.useState([]),[N,O]=W.useState(!1),[D,Y]=W.useState(!1),[ce,J]=W.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X=W.useRef(null),j=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=W.useRef(null),q=W.useRef(!1),ie=W.useCallback(ee=>{C(me=>{var le;return(le=me.find(ke=>ke.id===ee.id))!=null&&le.delete||ln.dismiss(ee.id),me.filter(({id:ke})=>ke!==ee.id)})},[]);return W.useEffect(()=>ln.subscribe(ee=>{if(ee.dismiss){C(me=>me.map(le=>le.id===ee.id?{...le,delete:!0}:le));return}setTimeout(()=>{FI.flushSync(()=>{C(me=>{let le=me.findIndex(ke=>ke.id===ee.id);return le!==-1?[...me.slice(0,le),{...me[le],...ee},...me.slice(le+1)]:[ee,...me]})})})}),[]),W.useEffect(()=>{if(d!=="system"){J(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;let ee=window.matchMedia("(prefers-color-scheme: dark)");try{ee.addEventListener("change",({matches:me})=>{J(me?"dark":"light")})}catch{ee.addListener(({matches:le})=>{try{J(le?"dark":"light")}catch(ke){console.error(ke)}})}},[d]),W.useEffect(()=>{M.length<=1&&O(!1)},[M]),W.useEffect(()=>{let ee=me=>{var le,ke;s.every(Oe=>me[Oe]||me.code===Oe)&&(O(!0),(le=X.current)==null||le.focus()),me.code==="Escape"&&(document.activeElement===X.current||(ke=X.current)!=null&&ke.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[s]),W.useEffect(()=>{if(X.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,q.current=!1)}},[X.current]),W.createElement("section",{ref:e,"aria-label":`${P} ${j}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},b.map((ee,me)=>{var le;let[ke,Oe]=ee.split("-");return M.length?W.createElement("ol",{key:ee,dir:_==="auto"?_x():_,tabIndex:-1,ref:X,className:a,"data-sonner-toaster":!0,"data-theme":ce,"data-y-position":ke,"data-lifted":N&&M.length>1&&!i,"data-x-position":Oe,style:{"--front-toast-height":`${((le=I[0])==null?void 0:le.height)||0}px`,"--width":`${xL}px`,"--gap":`${w}px`,...p,...AL(l,u)},onBlur:G=>{q.current&&!G.currentTarget.contains(G.relatedTarget)&&(q.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||q.current||(q.current=!0,U.current=G.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{D||O(!1)},onDragEnd:()=>O(!1),onPointerDown:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||Y(!0)},onPointerUp:()=>Y(!1)},M.filter(G=>!G.position&&me===0||G.position===ee).map((G,be)=>{var Le,Ce;return W.createElement(IL,{key:G.id,icons:T,index:be,toast:G,defaultRichColors:h,duration:(Le=g==null?void 0:g.duration)!=null?Le:f,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:S,closeButton:(Ce=g==null?void 0:g.closeButton)!=null?Ce:o,interacting:D,position:ee,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:ie,toasts:M.filter(ve=>ve.position==G.position),heights:I.filter(ve=>ve.position==G.position),setHeights:R,expandByDefault:i,gap:w,loadingIcon:v,expanded:N,pauseWhenPageIsHidden:k,swipeDirections:t.swipeDirections})})):null}))});const RL=({...t})=>{const{theme:e="system"}=nL();return E.jsx(PL,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function pe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Ex(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function fl(...t){return e=>{let n=!1;const r=t.map(s=>{const i=Ex(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Ex(t[s],null)}}}}function qe(...t){return y.useCallback(fl(...t),t)}function kL(t,e){const n=y.createContext(e),r=i=>{const{children:o,...a}=i,l=y.useMemo(()=>a,Object.values(a));return E.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Vo(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];const u=h=>{var w;const{scope:f,children:p,...S}=h,g=((w=f==null?void 0:f[t])==null?void 0:w[l])||a,_=y.useMemo(()=>S,Object.values(S));return E.jsx(g.Provider,{value:_,children:p})};u.displayName=i+"Provider";function d(h,f){var g;const p=((g=f==null?void 0:f[t])==null?void 0:g[l])||a,S=y.useContext(p);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,NL(s,...e)]}function NL(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...a,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function DL(t){const e=OL(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(VL);if(l){const u=l.props.children,d=a.map(h=>h===l?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:h);return E.jsx(e,{...o,ref:s,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return E.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function OL(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=jL(s),a=LL(i,s.props);return s.type!==y.Fragment&&(a.ref=r?fl(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ML=Symbol("radix.slottable");function VL(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ML}function LL(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function jL(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var FL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ae=FL.reduce((t,e)=>{const n=DL(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function UL(t,e){t&&hl.flushSync(()=>t.dispatchEvent(e))}function gi(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function BL(t,e=globalThis==null?void 0:globalThis.document){const n=gi(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var $L="DismissableLayer",dy="dismissableLayer.update",zL="dismissableLayer.pointerDownOutside",WL="dismissableLayer.focusOutside",xx,BI=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wf=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=y.useContext(BI),[d,h]=y.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=y.useState({}),S=qe(e,C=>h(C)),g=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(_),v=d?g.indexOf(d):-1,T=u.layersWithOutsidePointerEventsDisabled.size>0,P=v>=w,k=GL(C=>{const b=C.target,I=[...u.branches].some(R=>R.contains(b));!P||I||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},f),M=KL(C=>{const b=C.target;[...u.branches].some(R=>R.contains(b))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},f);return BL(C=>{v===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},f),y.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(xx=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Tx(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=xx)}},[d,f,n,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Tx())},[d,u]),y.useEffect(()=>{const C=()=>p({});return document.addEventListener(dy,C),()=>document.removeEventListener(dy,C)},[]),E.jsx(Ae.div,{...l,ref:S,style:{pointerEvents:T?P?"auto":"none":void 0,...t.style},onFocusCapture:pe(t.onFocusCapture,M.onFocusCapture),onBlurCapture:pe(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:pe(t.onPointerDownCapture,k.onPointerDownCapture)})});Wf.displayName=$L;var HL="DismissableLayerBranch",qL=y.forwardRef((t,e)=>{const n=y.useContext(BI),r=y.useRef(null),s=qe(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),E.jsx(Ae.div,{...t,ref:s})});qL.displayName=HL;function GL(t,e=globalThis==null?void 0:globalThis.document){const n=gi(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){$I(zL,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function KL(t,e=globalThis==null?void 0:globalThis.document){const n=gi(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&$I(WL,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Tx(){const t=new CustomEvent(dy);document.dispatchEvent(t)}function $I(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?UL(s,i):s.dispatchEvent(i)}var Kt=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},QL=Af[" useId ".trim().toString()]||(()=>{}),YL=0;function ai(t){const[e,n]=y.useState(QL());return Kt(()=>{n(r=>r??String(YL++))},[t]),e?`radix-${e}`:""}const XL=["top","right","bottom","left"],yi=Math.min,wn=Math.max,Wh=Math.round,Td=Math.floor,Ar=t=>({x:t,y:t}),JL={left:"right",right:"left",bottom:"top",top:"bottom"},ZL={start:"end",end:"start"};function hy(t,e,n){return wn(t,yi(e,n))}function ls(t,e){return typeof t=="function"?t(e):t}function us(t){return t.split("-")[0]}function pl(t){return t.split("-")[1]}function v0(t){return t==="x"?"y":"x"}function w0(t){return t==="y"?"height":"width"}const ej=new Set(["top","bottom"]);function br(t){return ej.has(us(t))?"y":"x"}function _0(t){return v0(br(t))}function tj(t,e,n){n===void 0&&(n=!1);const r=pl(t),s=_0(t),i=w0(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Hh(o)),[o,Hh(o)]}function nj(t){const e=Hh(t);return[fy(t),e,fy(e)]}function fy(t){return t.replace(/start|end/g,e=>ZL[e])}const Sx=["left","right"],bx=["right","left"],rj=["top","bottom"],sj=["bottom","top"];function ij(t,e,n){switch(t){case"top":case"bottom":return n?e?bx:Sx:e?Sx:bx;case"left":case"right":return e?rj:sj;default:return[]}}function oj(t,e,n,r){const s=pl(t);let i=ij(us(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(fy)))),i}function Hh(t){return t.replace(/left|right|bottom|top/g,e=>JL[e])}function aj(t){return{top:0,right:0,bottom:0,left:0,...t}}function zI(t){return typeof t!="number"?aj(t):{top:t,right:t,bottom:t,left:t}}function qh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Cx(t,e,n){let{reference:r,floating:s}=t;const i=br(e),o=_0(e),a=w0(o),l=us(e),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let p;switch(l){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-s.width,y:h};break;default:p={x:r.x,y:r.y}}switch(pl(e)){case"start":p[o]-=f*(n&&u?-1:1);break;case"end":p[o]+=f*(n&&u?-1:1);break}return p}const lj=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=Cx(u,r,l),f=r,p={},S=0;for(let g=0;g<a.length;g++){const{name:_,fn:w}=a[g],{x:v,y:T,data:P,reset:k}=await w({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:t,floating:e}});d=v??d,h=T??h,p={...p,[_]:{...p[_],...P}},k&&S<=50&&(S++,typeof k=="object"&&(k.placement&&(f=k.placement),k.rects&&(u=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):k.rects),{x:d,y:h}=Cx(u,f,l)),g=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:p}};async function Xu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=ls(e,t),S=zI(p),_=a[f?h==="floating"?"reference":"floating":h],w=qh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),v=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),P=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},k=qh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:T,strategy:l}):v);return{top:(w.top-k.top+S.top)/P.y,bottom:(k.bottom-w.bottom+S.bottom)/P.y,left:(w.left-k.left+S.left)/P.x,right:(k.right-w.right+S.right)/P.x}}const uj=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=ls(t,e)||{};if(u==null)return{};const h=zI(d),f={x:n,y:r},p=_0(s),S=w0(p),g=await o.getDimensions(u),_=p==="y",w=_?"top":"left",v=_?"bottom":"right",T=_?"clientHeight":"clientWidth",P=i.reference[S]+i.reference[p]-f[p]-i.floating[S],k=f[p]-i.reference[p],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=M?M[T]:0;(!C||!await(o.isElement==null?void 0:o.isElement(M)))&&(C=a.floating[T]||i.floating[S]);const b=P/2-k/2,I=C/2-g[S]/2-1,R=yi(h[w],I),N=yi(h[v],I),O=R,D=C-g[S]-N,Y=C/2-g[S]/2+b,ce=hy(O,Y,D),J=!l.arrow&&pl(s)!=null&&Y!==ce&&i.reference[S]/2-(Y<O?R:N)-g[S]/2<0,X=J?Y<O?Y-O:Y-D:0;return{[p]:f[p]+X,data:{[p]:ce,centerOffset:Y-ce-X,...J&&{alignmentOffset:X}},reset:J}}}),cj=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:g=!0,..._}=ls(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=us(s),v=br(a),T=us(a)===a,P=await(l.isRTL==null?void 0:l.isRTL(u.floating)),k=f||(T||!g?[Hh(a)]:nj(a)),M=S!=="none";!f&&M&&k.push(...oj(a,g,S,P));const C=[a,...k],b=await Xu(e,_),I=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&I.push(b[w]),h){const Y=tj(s,o,P);I.push(b[Y[0]],b[Y[1]])}if(R=[...R,{placement:s,overflows:I}],!I.every(Y=>Y<=0)){var N,O;const Y=(((N=i.flip)==null?void 0:N.index)||0)+1,ce=C[Y];if(ce&&(!(h==="alignment"?v!==br(ce):!1)||R.every(j=>br(j.placement)===v?j.overflows[0]>0:!0)))return{data:{index:Y,overflows:R},reset:{placement:ce}};let J=(O=R.filter(X=>X.overflows[0]<=0).sort((X,j)=>X.overflows[1]-j.overflows[1])[0])==null?void 0:O.placement;if(!J)switch(p){case"bestFit":{var D;const X=(D=R.filter(j=>{if(M){const U=br(j.placement);return U===v||U==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(U=>U>0).reduce((U,q)=>U+q,0)]).sort((j,U)=>j[1]-U[1])[0])==null?void 0:D[0];X&&(J=X);break}case"initialPlacement":J=a;break}if(s!==J)return{reset:{placement:J}}}return{}}}};function Ix(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Ax(t){return XL.some(e=>t[e]>=0)}const dj=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ls(t,e);switch(r){case"referenceHidden":{const i=await Xu(e,{...s,elementContext:"reference"}),o=Ix(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Ax(o)}}}case"escaped":{const i=await Xu(e,{...s,altBoundary:!0}),o=Ix(i,n.floating);return{data:{escapedOffsets:o,escaped:Ax(o)}}}default:return{}}}}},WI=new Set(["left","top"]);async function hj(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=us(n),a=pl(n),l=br(n)==="y",u=WI.has(o)?-1:1,d=i&&l?-1:1,h=ls(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:S}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof S=="number"&&(p=a==="end"?S*-1:S),l?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const fj=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await hj(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},pj=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:w,y:v}=_;return{x:w,y:v}}},...l}=ls(t,e),u={x:n,y:r},d=await Xu(e,l),h=br(us(s)),f=v0(h);let p=u[f],S=u[h];if(i){const _=f==="y"?"top":"left",w=f==="y"?"bottom":"right",v=p+d[_],T=p-d[w];p=hy(v,p,T)}if(o){const _=h==="y"?"top":"left",w=h==="y"?"bottom":"right",v=S+d[_],T=S-d[w];S=hy(v,S,T)}const g=a.fn({...e,[f]:p,[h]:S});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:i,[h]:o}}}}}},mj=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=ls(t,e),d={x:n,y:r},h=br(s),f=v0(h);let p=d[f],S=d[h];const g=ls(a,e),_=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const T=f==="y"?"height":"width",P=i.reference[f]-i.floating[T]+_.mainAxis,k=i.reference[f]+i.reference[T]-_.mainAxis;p<P?p=P:p>k&&(p=k)}if(u){var w,v;const T=f==="y"?"width":"height",P=WI.has(us(s)),k=i.reference[h]-i.floating[T]+(P&&((w=o.offset)==null?void 0:w[h])||0)+(P?0:_.crossAxis),M=i.reference[h]+i.reference[T]+(P?0:((v=o.offset)==null?void 0:v[h])||0)-(P?_.crossAxis:0);S<k?S=k:S>M&&(S=M)}return{[f]:p,[h]:S}}}},gj=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=ls(t,e),d=await Xu(e,u),h=us(s),f=pl(s),p=br(s)==="y",{width:S,height:g}=i.floating;let _,w;h==="top"||h==="bottom"?(_=h,w=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=h,_=f==="end"?"top":"bottom");const v=g-d.top-d.bottom,T=S-d.left-d.right,P=yi(g-d[_],v),k=yi(S-d[w],T),M=!e.middlewareData.shift;let C=P,b=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(b=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=v),M&&!f){const R=wn(d.left,0),N=wn(d.right,0),O=wn(d.top,0),D=wn(d.bottom,0);p?b=S-2*(R!==0||N!==0?R+N:wn(d.left,d.right)):C=g-2*(O!==0||D!==0?O+D:wn(d.top,d.bottom))}await l({...e,availableWidth:b,availableHeight:C});const I=await o.getDimensions(a.floating);return S!==I.width||g!==I.height?{reset:{rects:!0}}:{}}}};function Hf(){return typeof window<"u"}function ml(t){return HI(t)?(t.nodeName||"").toLowerCase():"#document"}function Sn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Br(t){var e;return(e=(HI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function HI(t){return Hf()?t instanceof Node||t instanceof Sn(t).Node:!1}function lr(t){return Hf()?t instanceof Element||t instanceof Sn(t).Element:!1}function jr(t){return Hf()?t instanceof HTMLElement||t instanceof Sn(t).HTMLElement:!1}function Px(t){return!Hf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Sn(t).ShadowRoot}const yj=new Set(["inline","contents"]);function Ic(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ur(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!yj.has(s)}const vj=new Set(["table","td","th"]);function wj(t){return vj.has(ml(t))}const _j=[":popover-open",":modal"];function qf(t){return _j.some(e=>{try{return t.matches(e)}catch{return!1}})}const Ej=["transform","translate","scale","rotate","perspective"],xj=["transform","translate","scale","rotate","perspective","filter"],Tj=["paint","layout","strict","content"];function E0(t){const e=x0(),n=lr(t)?ur(t):t;return Ej.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||xj.some(r=>(n.willChange||"").includes(r))||Tj.some(r=>(n.contain||"").includes(r))}function Sj(t){let e=vi(t);for(;jr(e)&&!Xa(e);){if(E0(e))return e;if(qf(e))return null;e=vi(e)}return null}function x0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const bj=new Set(["html","body","#document"]);function Xa(t){return bj.has(ml(t))}function ur(t){return Sn(t).getComputedStyle(t)}function Gf(t){return lr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function vi(t){if(ml(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Px(t)&&t.host||Br(t);return Px(e)?e.host:e}function qI(t){const e=vi(t);return Xa(e)?t.ownerDocument?t.ownerDocument.body:t.body:jr(e)&&Ic(e)?e:qI(e)}function Ju(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=qI(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Sn(s);if(i){const a=py(o);return e.concat(o,o.visualViewport||[],Ic(s)?s:[],a&&n?Ju(a):[])}return e.concat(s,Ju(s,[],n))}function py(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function GI(t){const e=ur(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=jr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Wh(n)!==i||Wh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function T0(t){return lr(t)?t:t.contextElement}function Aa(t){const e=T0(t);if(!jr(e))return Ar(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=GI(e);let o=(i?Wh(n.width):n.width)/r,a=(i?Wh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Cj=Ar(0);function KI(t){const e=Sn(t);return!x0()||!e.visualViewport?Cj:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Ij(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Sn(t)?!1:e}function So(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=T0(t);let o=Ar(1);e&&(r?lr(r)&&(o=Aa(r)):o=Aa(t));const a=Ij(i,n,r)?KI(i):Ar(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const f=Sn(i),p=r&&lr(r)?Sn(r):r;let S=f,g=py(S);for(;g&&r&&p!==S;){const _=Aa(g),w=g.getBoundingClientRect(),v=ur(g),T=w.left+(g.clientLeft+parseFloat(v.paddingLeft))*_.x,P=w.top+(g.clientTop+parseFloat(v.paddingTop))*_.y;l*=_.x,u*=_.y,d*=_.x,h*=_.y,l+=T,u+=P,S=Sn(g),g=py(S)}}return qh({width:d,height:h,x:l,y:u})}function Kf(t,e){const n=Gf(t).scrollLeft;return e?e.left+n:So(Br(t)).left+n}function QI(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Kf(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function Aj(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Br(r),a=e?qf(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=Ar(1);const d=Ar(0),h=jr(r);if((h||!h&&!i)&&((ml(r)!=="body"||Ic(o))&&(l=Gf(r)),jr(r))){const p=So(r);u=Aa(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const f=o&&!h&&!i?QI(o,l):Ar(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-l.scrollTop*u.y+d.y+f.y}}function Pj(t){return Array.from(t.getClientRects())}function Rj(t){const e=Br(t),n=Gf(t),r=t.ownerDocument.body,s=wn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=wn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Kf(t);const a=-n.scrollTop;return ur(r).direction==="rtl"&&(o+=wn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}const Rx=25;function kj(t,e){const n=Sn(t),r=Br(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const d=x0();(!d||d&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const u=Kf(r);if(u<=0){const d=r.ownerDocument,h=d.body,f=getComputedStyle(h),p=d.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,S=Math.abs(r.clientWidth-h.clientWidth-p);S<=Rx&&(i-=S)}else u<=Rx&&(i+=u);return{width:i,height:o,x:a,y:l}}const Nj=new Set(["absolute","fixed"]);function Dj(t,e){const n=So(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=jr(t)?Aa(t):Ar(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function kx(t,e,n){let r;if(e==="viewport")r=kj(t,n);else if(e==="document")r=Rj(Br(t));else if(lr(e))r=Dj(e,n);else{const s=KI(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return qh(r)}function YI(t,e){const n=vi(t);return n===e||!lr(n)||Xa(n)?!1:ur(n).position==="fixed"||YI(n,e)}function Oj(t,e){const n=e.get(t);if(n)return n;let r=Ju(t,[],!1).filter(a=>lr(a)&&ml(a)!=="body"),s=null;const i=ur(t).position==="fixed";let o=i?vi(t):t;for(;lr(o)&&!Xa(o);){const a=ur(o),l=E0(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&Nj.has(s.position)||Ic(o)&&!l&&YI(t,o))?r=r.filter(d=>d!==o):s=a,o=vi(o)}return e.set(t,r),r}function Mj(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?qf(e)?[]:Oj(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const h=kx(e,d,s);return u.top=wn(h.top,u.top),u.right=yi(h.right,u.right),u.bottom=yi(h.bottom,u.bottom),u.left=wn(h.left,u.left),u},kx(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Vj(t){const{width:e,height:n}=GI(t);return{width:e,height:n}}function Lj(t,e,n){const r=jr(e),s=Br(e),i=n==="fixed",o=So(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Ar(0);function u(){l.x=Kf(s)}if(r||!r&&!i)if((ml(e)!=="body"||Ic(s))&&(a=Gf(e)),r){const p=So(e,!0,i,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?QI(s,a):Ar(0),h=o.left+a.scrollLeft-l.x-d.x,f=o.top+a.scrollTop-l.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function Pm(t){return ur(t).position==="static"}function Nx(t,e){if(!jr(t)||ur(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Br(t)===n&&(n=n.ownerDocument.body),n}function XI(t,e){const n=Sn(t);if(qf(t))return n;if(!jr(t)){let s=vi(t);for(;s&&!Xa(s);){if(lr(s)&&!Pm(s))return s;s=vi(s)}return n}let r=Nx(t,e);for(;r&&wj(r)&&Pm(r);)r=Nx(r,e);return r&&Xa(r)&&Pm(r)&&!E0(r)?n:r||Sj(t)||n}const jj=async function(t){const e=this.getOffsetParent||XI,n=this.getDimensions,r=await n(t.floating);return{reference:Lj(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Fj(t){return ur(t).direction==="rtl"}const Uj={convertOffsetParentRelativeRectToViewportRelativeRect:Aj,getDocumentElement:Br,getClippingRect:Mj,getOffsetParent:XI,getElementRects:jj,getClientRects:Pj,getDimensions:Vj,getScale:Aa,isElement:lr,isRTL:Fj};function JI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Bj(t,e){let n=null,r;const s=Br(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=u;if(a||e(),!f||!p)return;const S=Td(h),g=Td(s.clientWidth-(d+f)),_=Td(s.clientHeight-(h+p)),w=Td(d),T={rootMargin:-S+"px "+-g+"px "+-_+"px "+-w+"px",threshold:wn(0,yi(1,l))||1};let P=!0;function k(M){const C=M[0].intersectionRatio;if(C!==l){if(!P)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!JI(u,t.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(k,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(k,T)}n.observe(t)}return o(!0),i}function $j(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=T0(t),d=s||i?[...u?Ju(u):[],...Ju(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const h=u&&a?Bj(u,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(w=>{let[v]=w;v&&v.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var T;(T=p)==null||T.observe(e)})),n()}),u&&!l&&p.observe(u),p.observe(e));let S,g=l?So(t):null;l&&_();function _(){const w=So(t);g&&!JI(g,w)&&n(),g=w,S=requestAnimationFrame(_)}return n(),()=>{var w;d.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),h==null||h(),(w=p)==null||w.disconnect(),p=null,l&&cancelAnimationFrame(S)}}const zj=fj,Wj=pj,Hj=cj,qj=gj,Gj=dj,Dx=uj,Kj=mj,Qj=(t,e,n)=>{const r=new Map,s={platform:Uj,...n},i={...s.platform,_c:r};return lj(t,e,{...s,platform:i})};var Yj=typeof document<"u",Xj=function(){},nh=Yj?y.useLayoutEffect:Xj;function Gh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Gh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Gh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function ZI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Ox(t,e){const n=ZI(t);return Math.round(e*n)/n}function Rm(t){const e=y.useRef(t);return nh(()=>{e.current=t}),e}function Jj(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,h]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=y.useState(r);Gh(f,r)||p(r);const[S,g]=y.useState(null),[_,w]=y.useState(null),v=y.useCallback(j=>{j!==M.current&&(M.current=j,g(j))},[]),T=y.useCallback(j=>{j!==C.current&&(C.current=j,w(j))},[]),P=i||S,k=o||_,M=y.useRef(null),C=y.useRef(null),b=y.useRef(d),I=l!=null,R=Rm(l),N=Rm(s),O=Rm(u),D=y.useCallback(()=>{if(!M.current||!C.current)return;const j={placement:e,strategy:n,middleware:f};N.current&&(j.platform=N.current),Qj(M.current,C.current,j).then(U=>{const q={...U,isPositioned:O.current!==!1};Y.current&&!Gh(b.current,q)&&(b.current=q,hl.flushSync(()=>{h(q)}))})},[f,e,n,N,O]);nh(()=>{u===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,h(j=>({...j,isPositioned:!1})))},[u]);const Y=y.useRef(!1);nh(()=>(Y.current=!0,()=>{Y.current=!1}),[]),nh(()=>{if(P&&(M.current=P),k&&(C.current=k),P&&k){if(R.current)return R.current(P,k,D);D()}},[P,k,D,R,I]);const ce=y.useMemo(()=>({reference:M,floating:C,setReference:v,setFloating:T}),[v,T]),J=y.useMemo(()=>({reference:P,floating:k}),[P,k]),X=y.useMemo(()=>{const j={position:n,left:0,top:0};if(!J.floating)return j;const U=Ox(J.floating,d.x),q=Ox(J.floating,d.y);return a?{...j,transform:"translate("+U+"px, "+q+"px)",...ZI(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:q}},[n,a,J.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:D,refs:ce,elements:J,floatingStyles:X}),[d,D,ce,J,X])}const Zj=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Dx({element:r.current,padding:s}).fn(n):{}:r?Dx({element:r,padding:s}).fn(n):{}}}},e4=(t,e)=>({...zj(t),options:[t,e]}),t4=(t,e)=>({...Wj(t),options:[t,e]}),n4=(t,e)=>({...Kj(t),options:[t,e]}),r4=(t,e)=>({...Hj(t),options:[t,e]}),s4=(t,e)=>({...qj(t),options:[t,e]}),i4=(t,e)=>({...Gj(t),options:[t,e]}),o4=(t,e)=>({...Zj(t),options:[t,e]});var a4="Arrow",eA=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return E.jsx(Ae.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});eA.displayName=a4;var l4=eA;function u4(t){const[e,n]=y.useState(void 0);return Kt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var S0="Popper",[tA,Qf]=Vo(S0),[c4,nA]=tA(S0),rA=t=>{const{__scopePopper:e,children:n}=t,[r,s]=y.useState(null);return E.jsx(c4,{scope:e,anchor:r,onAnchorChange:s,children:n})};rA.displayName=S0;var sA="PopperAnchor",iA=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=nA(sA,n),o=y.useRef(null),a=qe(e,o),l=y.useRef(null);return y.useEffect(()=>{const u=l.current;l.current=(r==null?void 0:r.current)||o.current,u!==l.current&&i.onAnchorChange(l.current)}),r?null:E.jsx(Ae.div,{...s,ref:a})});iA.displayName=sA;var b0="PopperContent",[d4,h4]=tA(b0),oA=y.forwardRef((t,e)=>{var G,be,Le,Ce,ve,xe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:S,...g}=t,_=nA(b0,n),[w,v]=y.useState(null),T=qe(e,ut=>v(ut)),[P,k]=y.useState(null),M=u4(P),C=(M==null?void 0:M.width)??0,b=(M==null?void 0:M.height)??0,I=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(u)?u:[u],O=N.length>0,D={padding:R,boundary:N.filter(p4),altBoundary:O},{refs:Y,floatingStyles:ce,placement:J,isPositioned:X,middlewareData:j}=Jj({strategy:"fixed",placement:I,whileElementsMounted:(...ut)=>$j(...ut,{animationFrame:p==="always"}),elements:{reference:_.anchor},middleware:[e4({mainAxis:s+b,alignmentAxis:o}),l&&t4({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?n4():void 0,...D}),l&&r4({...D}),s4({...D,apply:({elements:ut,rects:Yt,availableWidth:zr,availableHeight:kn})=>{const{width:Wn,height:ys}=Yt.reference,Ge=ut.floating.style;Ge.setProperty("--radix-popper-available-width",`${zr}px`),Ge.setProperty("--radix-popper-available-height",`${kn}px`),Ge.setProperty("--radix-popper-anchor-width",`${Wn}px`),Ge.setProperty("--radix-popper-anchor-height",`${ys}px`)}}),P&&o4({element:P,padding:a}),m4({arrowWidth:C,arrowHeight:b}),f&&i4({strategy:"referenceHidden",...D})]}),[U,q]=uA(J),ie=gi(S);Kt(()=>{X&&(ie==null||ie())},[X,ie]);const ee=(G=j.arrow)==null?void 0:G.x,me=(be=j.arrow)==null?void 0:be.y,le=((Le=j.arrow)==null?void 0:Le.centerOffset)!==0,[ke,Oe]=y.useState();return Kt(()=>{w&&Oe(window.getComputedStyle(w).zIndex)},[w]),E.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...ce,transform:X?ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[(Ce=j.transformOrigin)==null?void 0:Ce.x,(ve=j.transformOrigin)==null?void 0:ve.y].join(" "),...((xe=j.hide)==null?void 0:xe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:E.jsx(d4,{scope:n,placedSide:U,onArrowChange:k,arrowX:ee,arrowY:me,shouldHideArrow:le,children:E.jsx(Ae.div,{"data-side":U,"data-align":q,...g,ref:T,style:{...g.style,animation:X?void 0:"none"}})})})});oA.displayName=b0;var aA="PopperArrow",f4={top:"bottom",right:"left",bottom:"top",left:"right"},lA=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=h4(aA,r),o=f4[i.placedSide];return E.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:E.jsx(l4,{...s,ref:n,style:{...s.style,display:"block"}})})});lA.displayName=aA;function p4(t){return t!==null}var m4=t=>({name:"transformOrigin",options:t,fn(e){var _,w,v;const{placement:n,rects:r,middlewareData:s}=e,o=((_=s.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=uA(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,p=(((v=s.arrow)==null?void 0:v.y)??0)+l/2;let S="",g="";return u==="bottom"?(S=o?h:`${f}px`,g=`${-l}px`):u==="top"?(S=o?h:`${f}px`,g=`${r.floating.height+l}px`):u==="right"?(S=`${-l}px`,g=o?h:`${p}px`):u==="left"&&(S=`${r.floating.width+l}px`,g=o?h:`${p}px`),{data:{x:S,y:g}}}});function uA(t){const[e,n="center"]=t.split("-");return[e,n]}var g4=rA,cA=iA,dA=oA,hA=lA,y4="Portal",C0=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=y.useState(!1);Kt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?FI.createPortal(E.jsx(Ae.div,{...r,ref:e}),o):null});C0.displayName=y4;function v4(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var gl=t=>{const{present:e,children:n}=t,r=w4(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=qe(r.ref,_4(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};gl.displayName="Presence";function w4(t){const[e,n]=y.useState(),r=y.useRef(null),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=v4(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=Sd(r.current);i.current=a==="mounted"?u:"none"},[a]),Kt(()=>{const u=r.current,d=s.current;if(d!==t){const f=i.current,p=Sd(u);t?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Kt(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=p=>{const g=Sd(r.current).includes(CSS.escape(p.animationName));if(p.target===e&&g&&(l("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},f=p=>{p.target===e&&(i.current=Sd(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Sd(t){return(t==null?void 0:t.animationName)||"none"}function _4(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var E4=Symbol("radix.slottable");function x4(t){const e=({children:n})=>E.jsx(E.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=E4,e}var T4=Af[" useInsertionEffect ".trim().toString()]||Kt;function Zu({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=S4({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const d=y.useRef(t!==void 0);y.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=y.useCallback(d=>{var h;if(a){const f=b4(d)?d(t):d;f!==t&&((h=o.current)==null||h.call(o,f))}else i(d)},[a,t,i,o]);return[l,u]}function S4({defaultProp:t,onChange:e}){const[n,r]=y.useState(t),s=y.useRef(n),i=y.useRef(e);return T4(()=>{i.current=e},[e]),y.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function b4(t){return typeof t=="function"}var fA=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),C4="VisuallyHidden",pA=y.forwardRef((t,e)=>E.jsx(Ae.span,{...t,ref:e,style:{...fA,...t.style}}));pA.displayName=C4;var I4=pA,[Yf]=Vo("Tooltip",[Qf]),I0=Qf(),mA="TooltipProvider",A4=700,Mx="tooltip.open",[P4,gA]=Yf(mA),yA=t=>{const{__scopeTooltip:e,delayDuration:n=A4,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=y.useRef(!0),a=y.useRef(!1),l=y.useRef(0);return y.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),E.jsx(P4,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:y.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};yA.displayName=mA;var vA="Tooltip",[nX,Xf]=Yf(vA),my="TooltipTrigger",R4=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Xf(my,n),i=gA(my,n),o=I0(n),a=y.useRef(null),l=qe(e,a,s.onTriggerChange),u=y.useRef(!1),d=y.useRef(!1),h=y.useCallback(()=>u.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),E.jsx(cA,{asChild:!0,...o,children:E.jsx(Ae.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:pe(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:pe(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:pe(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:pe(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:pe(t.onBlur,s.onClose),onClick:pe(t.onClick,s.onClose)})})});R4.displayName=my;var k4="TooltipPortal",[rX,N4]=Yf(k4,{forceMount:void 0}),Ja="TooltipContent",wA=y.forwardRef((t,e)=>{const n=N4(Ja,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Xf(Ja,t.__scopeTooltip);return E.jsx(gl,{present:r||o.open,children:o.disableHoverableContent?E.jsx(_A,{side:s,...i,ref:e}):E.jsx(D4,{side:s,...i,ref:e})})}),D4=y.forwardRef((t,e)=>{const n=Xf(Ja,t.__scopeTooltip),r=gA(Ja,t.__scopeTooltip),s=y.useRef(null),i=qe(e,s),[o,a]=y.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,f=y.useCallback(()=>{a(null),h(!1)},[h]),p=y.useCallback((S,g)=>{const _=S.currentTarget,w={x:S.clientX,y:S.clientY},v=j4(w,_.getBoundingClientRect()),T=F4(w,v),P=U4(g.getBoundingClientRect()),k=$4([...T,...P]);a(k),h(!0)},[h]);return y.useEffect(()=>()=>f(),[f]),y.useEffect(()=>{if(l&&d){const S=_=>p(_,d),g=_=>p(_,l);return l.addEventListener("pointerleave",S),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",S),d.removeEventListener("pointerleave",g)}}},[l,d,p,f]),y.useEffect(()=>{if(o){const S=g=>{const _=g.target,w={x:g.clientX,y:g.clientY},v=(l==null?void 0:l.contains(_))||(d==null?void 0:d.contains(_)),T=!B4(w,o);v?f():T&&(f(),u())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[l,d,o,u,f]),E.jsx(_A,{...t,ref:i})}),[O4,M4]=Yf(vA,{isInside:!1}),V4=x4("TooltipContent"),_A=y.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Xf(Ja,n),u=I0(n),{onClose:d}=l;return y.useEffect(()=>(document.addEventListener(Mx,d),()=>document.removeEventListener(Mx,d)),[d]),y.useEffect(()=>{if(l.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),E.jsx(Wf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:E.jsxs(dA,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[E.jsx(V4,{children:r}),E.jsx(O4,{scope:n,isInside:!0,children:E.jsx(I4,{id:l.contentId,role:"tooltip",children:s||r})})]})})});wA.displayName=Ja;var EA="TooltipArrow",L4=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=I0(n);return M4(EA,n).isInside?null:E.jsx(hA,{...s,...r,ref:e})});L4.displayName=EA;function j4(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function F4(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function U4(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function B4(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],u=a.x,d=a.y,h=l.x,f=l.y;d>r!=f>r&&n<(h-u)*(r-d)/(f-d)+u&&(s=!s)}return s}function $4(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),z4(e)}function z4(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var W4=yA,xA=wA;function TA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=TA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function SA(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=TA(t))&&(r&&(r+=" "),r+=e);return r}const A0="-",H4=t=>{const e=G4(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(A0);return a[0]===""&&a.length!==1&&a.shift(),bA(a,e)||q4(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},bA=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?bA(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(A0);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Vx=/^\[(.+)\]$/,q4=t=>{if(Vx.test(t)){const e=Vx.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},G4=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Q4(Object.entries(t.classGroups),n).forEach(([i,o])=>{gy(o,r,i,e)}),r},gy=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Lx(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(K4(s)){gy(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{gy(o,Lx(e,i),n,r)})})},Lx=(t,e)=>{let n=t;return e.split(A0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},K4=t=>t.isThemeGetter,Q4=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,Y4=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},CA="!",X4=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,d=0,h;for(let _=0;_<a.length;_++){let w=a[_];if(u===0){if(w===s&&(r||a.slice(_,_+i)===e)){l.push(a.slice(d,_)),d=_+i;continue}if(w==="/"){h=_;continue}}w==="["?u++:w==="]"&&u--}const f=l.length===0?a:a.substring(d),p=f.startsWith(CA),S=p?f.substring(1):f,g=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:S,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},J4=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Z4=t=>({cache:Y4(t.cacheSize),parseClassName:X4(t),...H4(t)}),eF=/\s+/,tF=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(eF);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=n(u);let S=!!p,g=r(S?f.substring(0,p):f);if(!g){if(!S){a=u+(a.length>0?" "+a:a);continue}if(g=r(f),!g){a=u+(a.length>0?" "+a:a);continue}S=!1}const _=J4(d).join(":"),w=h?_+CA:_,v=w+g;if(i.includes(v))continue;i.push(v);const T=s(g,S);for(let P=0;P<T.length;++P){const k=T[P];i.push(w+k)}a=u+(a.length>0?" "+a:a)}return a};function nF(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=IA(e))&&(r&&(r+=" "),r+=n);return r}const IA=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=IA(t[r]))&&(n&&(n+=" "),n+=e);return n};function rF(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((d,h)=>h(d),t());return n=Z4(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=tF(l,n);return s(l,d),d}return function(){return i(nF.apply(null,arguments))}}const Fe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},AA=/^\[(?:([a-z-]+):)?(.+)\]$/i,sF=/^\d+\/\d+$/,iF=new Set(["px","full","screen"]),oF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,uF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,cF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qr=t=>Pa(t)||iF.has(t)||sF.test(t),Cs=t=>yl(t,"length",vF),Pa=t=>!!t&&!Number.isNaN(Number(t)),km=t=>yl(t,"number",Pa),Ql=t=>!!t&&Number.isInteger(Number(t)),dF=t=>t.endsWith("%")&&Pa(t.slice(0,-1)),he=t=>AA.test(t),Is=t=>oF.test(t),hF=new Set(["length","size","percentage"]),fF=t=>yl(t,hF,PA),pF=t=>yl(t,"position",PA),mF=new Set(["image","url"]),gF=t=>yl(t,mF,_F),yF=t=>yl(t,"",wF),Yl=()=>!0,yl=(t,e,n)=>{const r=AA.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},vF=t=>aF.test(t)&&!lF.test(t),PA=()=>!1,wF=t=>uF.test(t),_F=t=>cF.test(t),EF=()=>{const t=Fe("colors"),e=Fe("spacing"),n=Fe("blur"),r=Fe("brightness"),s=Fe("borderColor"),i=Fe("borderRadius"),o=Fe("borderSpacing"),a=Fe("borderWidth"),l=Fe("contrast"),u=Fe("grayscale"),d=Fe("hueRotate"),h=Fe("invert"),f=Fe("gap"),p=Fe("gradientColorStops"),S=Fe("gradientColorStopPositions"),g=Fe("inset"),_=Fe("margin"),w=Fe("opacity"),v=Fe("padding"),T=Fe("saturate"),P=Fe("scale"),k=Fe("sepia"),M=Fe("skew"),C=Fe("space"),b=Fe("translate"),I=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",he,e],O=()=>[he,e],D=()=>["",qr,Cs],Y=()=>["auto",Pa,he],ce=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",he],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[Pa,he];return{cacheSize:500,separator:":",theme:{colors:[Yl],spacing:[qr,Cs],blur:["none","",Is,he],brightness:ie(),borderColor:[t],borderRadius:["none","","full",Is,he],borderSpacing:O(),borderWidth:D(),contrast:ie(),grayscale:U(),hueRotate:ie(),invert:U(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[dF,Cs],inset:N(),margin:N(),opacity:ie(),padding:O(),saturate:ie(),scale:ie(),sepia:U(),skew:ie(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",he]}],container:["container"],columns:[{columns:[Is]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ce(),he]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ql,he]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",he]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Ql,he]}],"grid-cols":[{"grid-cols":[Yl]}],"col-start-end":[{col:["auto",{span:["full",Ql,he]},he]}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":[Yl]}],"row-start-end":[{row:["auto",{span:[Ql,he]},he]}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",he]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",he]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",he,e]}],"min-w":[{"min-w":[he,e,"min","max","fit"]}],"max-w":[{"max-w":[he,e,"none","full","min","max","fit","prose",{screen:[Is]},Is]}],h:[{h:[he,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[he,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Is,Cs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",km]}],"font-family":[{font:[Yl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",he]}],"line-clamp":[{"line-clamp":["none",Pa,km]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",qr,he]}],"list-image":[{"list-image":["none",he]}],"list-style-type":[{list:["none","disc","decimal",he]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",qr,Cs]}],"underline-offset":[{"underline-offset":["auto",qr,he]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ce(),pF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",fF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gF]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:J()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[qr,he]}],"outline-w":[{outline:[qr,Cs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[qr,Cs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Is,yF]}],"shadow-color":[{shadow:[Yl]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Is,he]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[T]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",he]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",he]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",he]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Ql,he]}],"translate-x":[{"translate-x":[b]}],"translate-y":[{"translate-y":[b]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[qr,Cs,km]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},xF=rF(EF);function ge(...t){return xF(SA(t))}const TF=W4,SF=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>E.jsx(xA,{ref:r,sideOffset:e,className:ge("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));SF.displayName=xA.displayName;var Jf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bF={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},$s,Tv,y1,CF=(y1=class{constructor(){Te(this,$s,bF);Te(this,Tv,!1)}setTimeoutProvider(t){ae(this,$s,t)}setTimeout(t,e){return F(this,$s).setTimeout(t,e)}clearTimeout(t){F(this,$s).clearTimeout(t)}setInterval(t,e){return F(this,$s).setInterval(t,e)}clearInterval(t){F(this,$s).clearInterval(t)}},$s=new WeakMap,Tv=new WeakMap,y1),yy=new CF;function IF(t){setTimeout(t,0)}var Zf=typeof window>"u"||"Deno"in globalThis;function Jn(){}function AF(t,e){return typeof t=="function"?t(e):t}function PF(t){return typeof t=="number"&&t>=0&&t!==1/0}function RF(t,e){return Math.max(t+(e||0)-Date.now(),0)}function vy(t,e){return typeof t=="function"?t(e):t}function kF(t,e){return typeof t=="function"?t(e):t}function jx(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==P0(o,e.options))return!1}else if(!tc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Fx(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(ec(e.options.mutationKey)!==ec(i))return!1}else if(!tc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function P0(t,e){return((e==null?void 0:e.queryKeyHashFn)||ec)(t)}function ec(t){return JSON.stringify(t,(e,n)=>wy(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function tc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>tc(t[n],e[n])):!1}var NF=Object.prototype.hasOwnProperty;function RA(t,e){if(t===e)return t;const n=Ux(t)&&Ux(e);if(!n&&!(wy(t)&&wy(e)))return e;const s=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),o=i.length,a=n?new Array(o):{};let l=0;for(let u=0;u<o;u++){const d=n?u:i[u],h=t[d],f=e[d];if(h===f){a[d]=h,(n?u<s:NF.call(t,d))&&l++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){a[d]=f;continue}const p=RA(h,f);a[d]=p,p===h&&l++}return s===o&&l===s?t:a}function Ux(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function wy(t){if(!Bx(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Bx(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Bx(t){return Object.prototype.toString.call(t)==="[object Object]"}function DF(t){return new Promise(e=>{yy.setTimeout(e,t)})}function OF(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?RA(t,e):e}function MF(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function VF(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var R0=Symbol();function kA(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===R0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var io,zs,Va,v1,LF=(v1=class extends Jf{constructor(){super();Te(this,io);Te(this,zs);Te(this,Va);ae(this,Va,e=>{if(!Zf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){F(this,zs)||this.setEventListener(F(this,Va))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,zs))==null||e.call(this),ae(this,zs,void 0))}setEventListener(e){var n;ae(this,Va,e),(n=F(this,zs))==null||n.call(this),ae(this,zs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){F(this,io)!==e&&(ae(this,io,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof F(this,io)=="boolean"?F(this,io):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},io=new WeakMap,zs=new WeakMap,Va=new WeakMap,v1),NA=new LF;function jF(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var FF=IF;function UF(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=FF;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var tn=UF(),La,Ws,ja,w1,BF=(w1=class extends Jf{constructor(){super();Te(this,La,!0);Te(this,Ws);Te(this,ja);ae(this,ja,e=>{if(!Zf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){F(this,Ws)||this.setEventListener(F(this,ja))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,Ws))==null||e.call(this),ae(this,Ws,void 0))}setEventListener(e){var n;ae(this,ja,e),(n=F(this,Ws))==null||n.call(this),ae(this,Ws,e(this.setOnline.bind(this)))}setOnline(e){F(this,La)!==e&&(ae(this,La,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return F(this,La)}},La=new WeakMap,Ws=new WeakMap,ja=new WeakMap,w1),Kh=new BF;function $F(t){return Math.min(1e3*2**t,3e4)}function DA(t){return(t??"online")==="online"?Kh.isOnline():!0}var _y=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function OA(t){let e=!1,n=0,r;const s=jF(),i=()=>s.status!=="pending",o=g=>{var _;if(!i()){const w=new _y(g);f(w),(_=t.onCancel)==null||_.call(t,w)}},a=()=>{e=!0},l=()=>{e=!1},u=()=>NA.isFocused()&&(t.networkMode==="always"||Kh.isOnline())&&t.canRun(),d=()=>DA(t.networkMode)&&t.canRun(),h=g=>{i()||(r==null||r(),s.resolve(g))},f=g=>{i()||(r==null||r(),s.reject(g))},p=()=>new Promise(g=>{var _;r=w=>{(i()||u())&&g(w)},(_=t.onPause)==null||_.call(t)}).then(()=>{var g;r=void 0,i()||(g=t.onContinue)==null||g.call(t)}),S=()=>{if(i())return;let g;const _=n===0?t.initialPromise:void 0;try{g=_??t.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(h).catch(w=>{var M;if(i())return;const v=t.retry??(Zf?0:3),T=t.retryDelay??$F,P=typeof T=="function"?T(n,w):T,k=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,w);if(e||!k){f(w);return}n++,(M=t.onFail)==null||M.call(t,n,w),DF(P).then(()=>u()?void 0:p()).then(()=>{e?f(w):S()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?S():p().then(S),s)}}var oo,_1,MA=(_1=class{constructor(){Te(this,oo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),PF(this.gcTime)&&ae(this,oo,yy.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Zf?1/0:5*60*1e3))}clearGcTimeout(){F(this,oo)&&(yy.clearTimeout(F(this,oo)),ae(this,oo,void 0))}},oo=new WeakMap,_1),ao,Fa,Mn,lo,bt,wc,uo,Zn,Gr,E1,zF=(E1=class extends MA{constructor(n){super();Te(this,Zn);Te(this,ao);Te(this,Fa);Te(this,Mn);Te(this,lo);Te(this,bt);Te(this,wc);Te(this,uo);ae(this,uo,!1),ae(this,wc,n.defaultOptions),this.setOptions(n.options),this.observers=[],ae(this,lo,n.client),ae(this,Mn,F(this,lo).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ae(this,ao,zx(this.options)),this.state=n.state??F(this,ao),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=F(this,bt))==null?void 0:n.promise}setOptions(n){if(this.options={...F(this,wc),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=zx(this.options);r.data!==void 0&&(this.setState($x(r.data,r.dataUpdatedAt)),ae(this,ao,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,Mn).remove(this)}setData(n,r){const s=OF(this.state.data,n,this.options);return jt(this,Zn,Gr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){jt(this,Zn,Gr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=F(this,bt))==null?void 0:s.promise;return(i=F(this,bt))==null||i.cancel(n),r?r.then(Jn).catch(Jn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,ao))}isActive(){return this.observers.some(n=>kF(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===R0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>vy(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!RF(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,bt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,bt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),F(this,Mn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(F(this,bt)&&(F(this,uo)?F(this,bt).cancel({revert:!0}):F(this,bt).cancelRetry()),this.scheduleGc()),F(this,Mn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||jt(this,Zn,Gr).call(this,{type:"invalidate"})}async fetch(n,r){var u,d,h,f,p,S,g,_,w,v,T,P;if(this.state.fetchStatus!=="idle"&&((u=F(this,bt))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,bt))return F(this,bt).continueRetry(),F(this,bt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const k=this.observers.find(M=>M.options.queryFn);k&&this.setOptions(k.options)}const s=new AbortController,i=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(ae(this,uo,!0),s.signal)})},o=()=>{const k=kA(this.options,r),C=(()=>{const b={client:F(this,lo),queryKey:this.queryKey,meta:this.meta};return i(b),b})();return ae(this,uo,!1),this.options.persister?this.options.persister(k,C,this):k(C)},l=(()=>{const k={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:F(this,lo),state:this.state,fetchFn:o};return i(k),k})();(d=this.options.behavior)==null||d.onFetch(l,this),ae(this,Fa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&jt(this,Zn,Gr).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),ae(this,bt,OA({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:k=>{k instanceof _y&&k.revert&&this.setState({...F(this,Fa),fetchStatus:"idle"}),s.abort()},onFail:(k,M)=>{jt(this,Zn,Gr).call(this,{type:"failed",failureCount:k,error:M})},onPause:()=>{jt(this,Zn,Gr).call(this,{type:"pause"})},onContinue:()=>{jt(this,Zn,Gr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const k=await F(this,bt).start();if(k===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(k),(S=(p=F(this,Mn).config).onSuccess)==null||S.call(p,k,this),(_=(g=F(this,Mn).config).onSettled)==null||_.call(g,k,this.state.error,this),k}catch(k){if(k instanceof _y){if(k.silent)return F(this,bt).promise;if(k.revert){if(this.state.data===void 0)throw k;return this.state.data}}throw jt(this,Zn,Gr).call(this,{type:"error",error:k}),(v=(w=F(this,Mn).config).onError)==null||v.call(w,k,this),(P=(T=F(this,Mn).config).onSettled)==null||P.call(T,this.state.data,k,this),k}finally{this.scheduleGc()}}},ao=new WeakMap,Fa=new WeakMap,Mn=new WeakMap,lo=new WeakMap,bt=new WeakMap,wc=new WeakMap,uo=new WeakMap,Zn=new WeakSet,Gr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...WF(s.data,this.options),fetchMeta:n.meta??null};case"success":const i={...s,...$x(n.data,n.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ae(this,Fa,n.manual?i:void 0),i;case"error":const o=n.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),tn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),F(this,Mn).notify({query:this,type:"updated",action:n})})},E1);function WF(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:DA(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function $x(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function zx(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function Wx(t){return{onFetch:(e,n)=>{var d,h,f,p,S;const r=e.options,s=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((S=e.state.data)==null?void 0:S.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let g=!1;const _=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},w=kA(e.options,e.fetchOptions),v=async(T,P,k)=>{if(g)return Promise.reject();if(P==null&&T.pages.length)return Promise.resolve(T);const C=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:P,direction:k?"backward":"forward",meta:e.options.meta};return _(N),N})(),b=await w(C),{maxPages:I}=e.options,R=k?VF:MF;return{pages:R(T.pages,b,I),pageParams:R(T.pageParams,P,I)}};if(s&&i.length){const T=s==="backward",P=T?HF:Hx,k={pages:i,pageParams:o},M=P(r,k);a=await v(k,M,T)}else{const T=t??i.length;do{const P=l===0?o[0]??r.initialPageParam:Hx(r,a);if(l>0&&P==null)break;a=await v(a,P),l++}while(l<T)}return a};e.options.persister?e.fetchFn=()=>{var g,_;return(_=(g=e.options).persister)==null?void 0:_.call(g,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function Hx(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function HF(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var _c,_r,Zt,co,Er,Ps,x1,qF=(x1=class extends MA{constructor(n){super();Te(this,Er);Te(this,_c);Te(this,_r);Te(this,Zt);Te(this,co);ae(this,_c,n.client),this.mutationId=n.mutationId,ae(this,Zt,n.mutationCache),ae(this,_r,[]),this.state=n.state||GF(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){F(this,_r).includes(n)||(F(this,_r).push(n),this.clearGcTimeout(),F(this,Zt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ae(this,_r,F(this,_r).filter(r=>r!==n)),this.scheduleGc(),F(this,Zt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){F(this,_r).length||(this.state.status==="pending"?this.scheduleGc():F(this,Zt).remove(this))}continue(){var n;return((n=F(this,co))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,l,u,d,h,f,p,S,g,_,w,v,T,P,k,M,C,b,I,R;const r=()=>{jt(this,Er,Ps).call(this,{type:"continue"})},s={client:F(this,_c),meta:this.options.meta,mutationKey:this.options.mutationKey};ae(this,co,OA({fn:()=>this.options.mutationFn?this.options.mutationFn(n,s):Promise.reject(new Error("No mutationFn found")),onFail:(N,O)=>{jt(this,Er,Ps).call(this,{type:"failed",failureCount:N,error:O})},onPause:()=>{jt(this,Er,Ps).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,Zt).canRun(this)}));const i=this.state.status==="pending",o=!F(this,co).canStart();try{if(i)r();else{jt(this,Er,Ps).call(this,{type:"pending",variables:n,isPaused:o}),await((l=(a=F(this,Zt).config).onMutate)==null?void 0:l.call(a,n,this,s));const O=await((d=(u=this.options).onMutate)==null?void 0:d.call(u,n,s));O!==this.state.context&&jt(this,Er,Ps).call(this,{type:"pending",context:O,variables:n,isPaused:o})}const N=await F(this,co).start();return await((f=(h=F(this,Zt).config).onSuccess)==null?void 0:f.call(h,N,n,this.state.context,this,s)),await((S=(p=this.options).onSuccess)==null?void 0:S.call(p,N,n,this.state.context,s)),await((_=(g=F(this,Zt).config).onSettled)==null?void 0:_.call(g,N,null,this.state.variables,this.state.context,this,s)),await((v=(w=this.options).onSettled)==null?void 0:v.call(w,N,null,n,this.state.context,s)),jt(this,Er,Ps).call(this,{type:"success",data:N}),N}catch(N){try{throw await((P=(T=F(this,Zt).config).onError)==null?void 0:P.call(T,N,n,this.state.context,this,s)),await((M=(k=this.options).onError)==null?void 0:M.call(k,N,n,this.state.context,s)),await((b=(C=F(this,Zt).config).onSettled)==null?void 0:b.call(C,void 0,N,this.state.variables,this.state.context,this,s)),await((R=(I=this.options).onSettled)==null?void 0:R.call(I,void 0,N,n,this.state.context,s)),N}finally{jt(this,Er,Ps).call(this,{type:"error",error:N})}}finally{F(this,Zt).runNext(this)}}},_c=new WeakMap,_r=new WeakMap,Zt=new WeakMap,co=new WeakMap,Er=new WeakSet,Ps=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),tn.batch(()=>{F(this,_r).forEach(s=>{s.onMutationUpdate(n)}),F(this,Zt).notify({mutation:this,type:"updated",action:n})})},x1);function GF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Yr,er,Ec,T1,KF=(T1=class extends Jf{constructor(e={}){super();Te(this,Yr);Te(this,er);Te(this,Ec);this.config=e,ae(this,Yr,new Set),ae(this,er,new Map),ae(this,Ec,0)}build(e,n,r){const s=new qF({client:e,mutationCache:this,mutationId:++sd(this,Ec)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){F(this,Yr).add(e);const n=bd(e);if(typeof n=="string"){const r=F(this,er).get(n);r?r.push(e):F(this,er).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(F(this,Yr).delete(e)){const n=bd(e);if(typeof n=="string"){const r=F(this,er).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&F(this,er).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=bd(e);if(typeof n=="string"){const r=F(this,er).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=bd(e);if(typeof n=="string"){const s=(r=F(this,er).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){tn.batch(()=>{F(this,Yr).forEach(e=>{this.notify({type:"removed",mutation:e})}),F(this,Yr).clear(),F(this,er).clear()})}getAll(){return Array.from(F(this,Yr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Fx(n,r))}findAll(e={}){return this.getAll().filter(n=>Fx(e,n))}notify(e){tn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return tn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Jn))))}},Yr=new WeakMap,er=new WeakMap,Ec=new WeakMap,T1);function bd(t){var e;return(e=t.options.scope)==null?void 0:e.id}var xr,S1,QF=(S1=class extends Jf{constructor(e={}){super();Te(this,xr);this.config=e,ae(this,xr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??P0(s,n);let o=this.get(i);return o||(o=new zF({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){F(this,xr).has(e.queryHash)||(F(this,xr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=F(this,xr).get(e.queryHash);n&&(e.destroy(),n===e&&F(this,xr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){tn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return F(this,xr).get(e)}getAll(){return[...F(this,xr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>jx(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>jx(e,r)):n}notify(e){tn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){tn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){tn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},xr=new WeakMap,S1),et,Hs,qs,Ua,Ba,Gs,$a,za,b1,YF=(b1=class{constructor(t={}){Te(this,et);Te(this,Hs);Te(this,qs);Te(this,Ua);Te(this,Ba);Te(this,Gs);Te(this,$a);Te(this,za);ae(this,et,t.queryCache||new QF),ae(this,Hs,t.mutationCache||new KF),ae(this,qs,t.defaultOptions||{}),ae(this,Ua,new Map),ae(this,Ba,new Map),ae(this,Gs,0)}mount(){sd(this,Gs)._++,F(this,Gs)===1&&(ae(this,$a,NA.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,et).onFocus())})),ae(this,za,Kh.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,et).onOnline())})))}unmount(){var t,e;sd(this,Gs)._--,F(this,Gs)===0&&((t=F(this,$a))==null||t.call(this),ae(this,$a,void 0),(e=F(this,za))==null||e.call(this),ae(this,za,void 0))}isFetching(t){return F(this,et).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return F(this,Hs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,et).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=F(this,et).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(vy(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return F(this,et).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=F(this,et).get(r.queryHash),i=s==null?void 0:s.state.data,o=AF(e,i);if(o!==void 0)return F(this,et).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return tn.batch(()=>F(this,et).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,et).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=F(this,et);tn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=F(this,et);return tn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=tn.batch(()=>F(this,et).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Jn).catch(Jn)}invalidateQueries(t,e={}){return tn.batch(()=>(F(this,et).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=tn.batch(()=>F(this,et).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Jn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Jn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=F(this,et).build(this,e);return n.isStaleByTime(vy(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Jn).catch(Jn)}fetchInfiniteQuery(t){return t.behavior=Wx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Jn).catch(Jn)}ensureInfiniteQueryData(t){return t.behavior=Wx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Kh.isOnline()?F(this,Hs).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,et)}getMutationCache(){return F(this,Hs)}getDefaultOptions(){return F(this,qs)}setDefaultOptions(t){ae(this,qs,t)}setQueryDefaults(t,e){F(this,Ua).set(ec(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...F(this,Ua).values()],n={};return e.forEach(r=>{tc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){F(this,Ba).set(ec(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...F(this,Ba).values()],n={};return e.forEach(r=>{tc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...F(this,qs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=P0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===R0&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...F(this,qs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){F(this,et).clear(),F(this,Hs).clear()}},et=new WeakMap,Hs=new WeakMap,qs=new WeakMap,Ua=new WeakMap,Ba=new WeakMap,Gs=new WeakMap,$a=new WeakMap,za=new WeakMap,b1),XF=y.createContext(void 0),JF=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),E.jsx(XF.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nc(){return nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nc.apply(this,arguments)}var Ys;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ys||(Ys={}));const qx="popstate";function ZF(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Ey("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:VA(s)}return tU(e,n,null,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function k0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eU(){return Math.random().toString(36).substr(2,8)}function Gx(t,e){return{usr:t.state,key:t.key,idx:e}}function Ey(t,e,n,r){return n===void 0&&(n=null),nc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?vl(e):e,{state:n,key:e&&e.key||r||eU()})}function VA(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function vl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function tU(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ys.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(nc({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Ys.Pop;let _=d(),w=_==null?null:_-u;u=_,l&&l({action:a,location:g.location,delta:w})}function f(_,w){a=Ys.Push;let v=Ey(g.location,_,w);u=d()+1;let T=Gx(v,u),P=g.createHref(v);try{o.pushState(T,"",P)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(P)}i&&l&&l({action:a,location:g.location,delta:1})}function p(_,w){a=Ys.Replace;let v=Ey(g.location,_,w);u=d();let T=Gx(v,u),P=g.createHref(v);o.replaceState(T,"",P),i&&l&&l({action:a,location:g.location,delta:0})}function S(_){let w=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof _=="string"?_:VA(_);return v=v.replace(/ $/,"%20"),ft(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let g={get action(){return a},get location(){return t(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(qx,h),l=_,()=>{s.removeEventListener(qx,h),l=null}},createHref(_){return e(s,_)},createURL:S,encodeLocation(_){let w=S(_);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:p,go(_){return o.go(_)}};return g}var Kx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Kx||(Kx={}));function nU(t,e,n){return n===void 0&&(n="/"),rU(t,e,n)}function rU(t,e,n,r){let s=typeof e=="string"?vl(e):e,i=FA(s.pathname||"/",n);if(i==null)return null;let o=LA(t);sU(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=gU(i);a=fU(o[l],u)}return a}function LA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ft(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=po([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(ft(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),LA(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:dU(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of jA(i.path))s(i,o,l)}),e}function jA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=jA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function sU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const iU=/^:[\w-]+$/,oU=3,aU=2,lU=1,uU=10,cU=-2,Qx=t=>t==="*";function dU(t,e){let n=t.split("/"),r=n.length;return n.some(Qx)&&(r+=cU),e&&(r+=aU),n.filter(s=>!Qx(s)).reduce((s,i)=>s+(iU.test(i)?oU:i===""?lU:uU),r)}function hU(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function fU(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=pU({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:po([i,h.pathname]),pathnameBase:EU(po([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=po([i,h.pathnameBase]))}return o}function pU(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=mU(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let g=a[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const S=a[h];return p&&!S?u[f]=void 0:u[f]=(S||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function mU(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),k0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function gU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return k0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function FA(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const yU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vU=t=>yU.test(t);function wU(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?vl(t):t,i;if(n)if(vU(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),k0(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?i=Yx(n.substring(1),"/"):i=Yx(n,e)}else i=e;return{pathname:i,search:xU(r),hash:TU(s)}}function Yx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Nm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _U(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function UA(t,e){let n=_U(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function BA(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=vl(t):(s=nc({},t),ft(!s.pathname||!s.pathname.includes("?"),Nm("?","pathname","search",s)),ft(!s.pathname||!s.pathname.includes("#"),Nm("#","pathname","hash",s)),ft(!s.search||!s.search.includes("#"),Nm("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=wU(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const po=t=>t.join("/").replace(/\/\/+/g,"/"),EU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,TU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function SU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const $A=["post","put","patch","delete"];new Set($A);const bU=["get",...$A];new Set(bU);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rc(){return rc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rc.apply(this,arguments)}const N0=y.createContext(null),CU=y.createContext(null),Ac=y.createContext(null),ep=y.createContext(null),Lo=y.createContext({outlet:null,matches:[],isDataRoute:!1}),zA=y.createContext(null);function Pc(){return y.useContext(ep)!=null}function tp(){return Pc()||ft(!1),y.useContext(ep).location}function WA(t){y.useContext(Ac).static||y.useLayoutEffect(t)}function np(){let{isDataRoute:t}=y.useContext(Lo);return t?FU():IU()}function IU(){Pc()||ft(!1);let t=y.useContext(N0),{basename:e,future:n,navigator:r}=y.useContext(Ac),{matches:s}=y.useContext(Lo),{pathname:i}=tp(),o=JSON.stringify(UA(s,n.v7_relativeSplatPath)),a=y.useRef(!1);return WA(()=>{a.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=BA(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:po([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}function AU(t,e){return PU(t,e)}function PU(t,e,n,r){Pc()||ft(!1);let{navigator:s}=y.useContext(Ac),{matches:i}=y.useContext(Lo),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=tp(),d;if(e){var h;let _=typeof e=="string"?vl(e):e;l==="/"||(h=_.pathname)!=null&&h.startsWith(l)||ft(!1),d=_}else d=u;let f=d.pathname||"/",p=f;if(l!=="/"){let _=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(_.length).join("/")}let S=nU(t,{pathname:p}),g=OU(S&&S.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:po([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:po([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return e&&g?y.createElement(ep.Provider,{value:{location:rc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ys.Pop}},g):g}function RU(){let t=jU(),e=SU(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,null)}const kU=y.createElement(RU,null);class NU extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(Lo.Provider,{value:this.props.routeContext},y.createElement(zA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function DU(t){let{routeContext:e,match:n,children:r}=t,s=y.useContext(N0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Lo.Provider,{value:e},r)}function OU(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||ft(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=n,S=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||S){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,S=!1,g=null,_=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,g=h.route.errorElement||kU,l&&(u<0&&f===0?(UU("route-fallback"),S=!0,_=null):u===f&&(S=!0,_=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,f+1)),v=()=>{let T;return p?T=g:S?T=_:h.route.Component?T=y.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,y.createElement(DU,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?y.createElement(NU,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var HA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(HA||{}),qA=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qA||{});function MU(t){let e=y.useContext(N0);return e||ft(!1),e}function VU(t){let e=y.useContext(CU);return e||ft(!1),e}function LU(t){let e=y.useContext(Lo);return e||ft(!1),e}function GA(t){let e=LU(),n=e.matches[e.matches.length-1];return n.route.id||ft(!1),n.route.id}function jU(){var t;let e=y.useContext(zA),n=VU(),r=GA();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function FU(){let{router:t}=MU(HA.UseNavigateStable),e=GA(qA.UseNavigateStable),n=y.useRef(!1);return WA(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,rc({fromRouteId:e},i)))},[t,e])}const Xx={};function UU(t,e,n){Xx[t]||(Xx[t]=!0)}function BU(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function $U(t){let{to:e,replace:n,state:r,relative:s}=t;Pc()||ft(!1);let{future:i,static:o}=y.useContext(Ac),{matches:a}=y.useContext(Lo),{pathname:l}=tp(),u=np(),d=BA(e,UA(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return y.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function su(t){ft(!1)}function zU(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ys.Pop,navigator:i,static:o=!1,future:a}=t;Pc()&&ft(!1);let l=e.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:l,navigator:i,static:o,future:rc({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=vl(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:S="default"}=r,g=y.useMemo(()=>{let _=FA(d,l);return _==null?null:{location:{pathname:_,search:h,hash:f,state:p,key:S},navigationType:s}},[l,d,h,f,p,S,s]);return g==null?null:y.createElement(Ac.Provider,{value:u},y.createElement(ep.Provider,{children:n,value:g}))}function WU(t){let{children:e,location:n}=t;return AU(xy(e),n)}new Promise(()=>{});function xy(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,xy(r.props.children,i));return}r.type!==su&&ft(!1),!r.props.index||!r.props.children||ft(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=xy(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const HU="6";try{window.__reactRouterVersion=HU}catch{}const qU="startTransition",Jx=Af[qU];function GU(t){let{basename:e,children:n,future:r,window:s}=t,i=y.useRef();i.current==null&&(i.current=ZF({window:s,v5Compat:!0}));let o=i.current,[a,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=y.useCallback(h=>{u&&Jx?Jx(()=>l(h)):l(h)},[l,u]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.useEffect(()=>BU(r),[r]),y.createElement(zU,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var Zx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Zx||(Zx={}));var eT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(eT||(eT={}));const KU=()=>{};var tT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},QU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},QA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[d],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(KA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new YU;const f=i<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const S=u<<6&192|h;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class YU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XU=function(t){const e=KA(t);return QA.encodeByteArray(e,!0)},Qh=function(t){return XU(t).replace(/\./g,"")},YA=function(t){try{return QA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU=()=>JU().__FIREBASE_DEFAULTS__,e6=()=>{if(typeof process>"u"||typeof tT>"u")return;const t=tT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},t6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&YA(t[1]);return e&&JSON.parse(e)},rp=()=>{try{return KU()||ZU()||e6()||t6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},XA=t=>{var e,n;return(n=(e=rp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},JA=t=>{const e=XA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ZA=()=>{var t;return(t=rp())==null?void 0:t.config},eP=t=>{var e;return(e=rp())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function D0(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Qh(JSON.stringify(n)),Qh(JSON.stringify(o)),""].join(".")}const Tu={};function r6(){const t={prod:[],emulator:[]};for(const e of Object.keys(Tu))Tu[e]?t.emulator.push(e):t.prod.push(e);return t}function s6(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let nT=!1;function O0(t,e){if(typeof window>"u"||typeof document>"u"||!Di(window.location.host)||Tu[t]===e||Tu[t]||nT)return;Tu[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",i=r6().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{nT=!0,o()},f}function d(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=s6(r),p=n("text"),S=document.getElementById(p)||document.createElement("span"),g=n("learnmore"),_=document.getElementById(g)||document.createElement("a"),w=n("preprendIcon"),v=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const T=f.element;a(T),d(_,g);const P=u();l(v,w),T.append(v,S,_,P),document.body.appendChild(T)}i?(S.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function i6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function o6(){var e;const t=(e=rp())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function a6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function l6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function u6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function c6(){const t=Qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function d6(){return!o6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function h6(){try{return typeof indexedDB=="object"}catch{return!1}}function f6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6="FirebaseError";class $r extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=p6,Object.setPrototypeOf(this,$r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rc.prototype.create)}}class Rc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?m6(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new $r(s,a,r)}}function m6(t,e){return t.replace(g6,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const g6=/\{\$([^}]+)}/g;function y6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(rT(i)&&rT(o)){if(!bo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function rT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function v6(t,e){const n=new w6(t,e);return n.subscribe.bind(n)}class w6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_6(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Dm),s.error===void 0&&(s.error=Dm),s.complete===void 0&&(s.complete=Dm);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t){return t&&t._delegate?t._delegate:t}class wi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new n6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(T6(e))try{this.getOrInitializeService({instanceIdentifier:Qi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Qi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qi){return this.instances.has(e)}getOptions(e=Qi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:x6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qi){return this.component?this.component.multipleInstances?e:Qi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function x6(t){return t===Qi?void 0:t}function T6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new E6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const b6={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},C6=we.INFO,I6={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},A6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=I6[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class M0{constructor(e){this.name=e,this._logLevel=C6,this._logHandler=A6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?b6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const P6=(t,e)=>e.some(n=>t instanceof n);let sT,iT;function R6(){return sT||(sT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function k6(){return iT||(iT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nP=new WeakMap,Ty=new WeakMap,rP=new WeakMap,Om=new WeakMap,V0=new WeakMap;function N6(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(li(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&nP.set(n,t)}).catch(()=>{}),V0.set(e,t),e}function D6(t){if(Ty.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ty.set(t,e)}let Sy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ty.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return li(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function O6(t){Sy=t(Sy)}function M6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Mm(this),e,...n);return rP.set(r,e.sort?e.sort():[e]),li(r)}:k6().includes(t)?function(...e){return t.apply(Mm(this),e),li(nP.get(this))}:function(...e){return li(t.apply(Mm(this),e))}}function V6(t){return typeof t=="function"?M6(t):(t instanceof IDBTransaction&&D6(t),P6(t,R6())?new Proxy(t,Sy):t)}function li(t){if(t instanceof IDBRequest)return N6(t);if(Om.has(t))return Om.get(t);const e=V6(t);return e!==t&&(Om.set(t,e),V0.set(e,t)),e}const Mm=t=>V0.get(t);function L6(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=li(o);return r&&o.addEventListener("upgradeneeded",l=>{r(li(o.result),l.oldVersion,l.newVersion,li(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const j6=["get","getKey","getAll","getAllKeys","count"],F6=["put","add","delete","clear"],Vm=new Map;function oT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vm.get(e))return Vm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=F6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||j6.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Vm.set(e,i),i}O6(t=>({...t,get:(e,n,r)=>oT(e,n)||t.get(e,n,r),has:(e,n)=>!!oT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(B6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function B6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const by="@firebase/app",aT="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new M0("@firebase/app"),$6="@firebase/app-compat",z6="@firebase/analytics-compat",W6="@firebase/analytics",H6="@firebase/app-check-compat",q6="@firebase/app-check",G6="@firebase/auth",K6="@firebase/auth-compat",Q6="@firebase/database",Y6="@firebase/data-connect",X6="@firebase/database-compat",J6="@firebase/functions",Z6="@firebase/functions-compat",e5="@firebase/installations",t5="@firebase/installations-compat",n5="@firebase/messaging",r5="@firebase/messaging-compat",s5="@firebase/performance",i5="@firebase/performance-compat",o5="@firebase/remote-config",a5="@firebase/remote-config-compat",l5="@firebase/storage",u5="@firebase/storage-compat",c5="@firebase/firestore",d5="@firebase/ai",h5="@firebase/firestore-compat",f5="firebase",p5="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="[DEFAULT]",m5={[by]:"fire-core",[$6]:"fire-core-compat",[W6]:"fire-analytics",[z6]:"fire-analytics-compat",[q6]:"fire-app-check",[H6]:"fire-app-check-compat",[G6]:"fire-auth",[K6]:"fire-auth-compat",[Q6]:"fire-rtdb",[Y6]:"fire-data-connect",[X6]:"fire-rtdb-compat",[J6]:"fire-fn",[Z6]:"fire-fn-compat",[e5]:"fire-iid",[t5]:"fire-iid-compat",[n5]:"fire-fcm",[r5]:"fire-fcm-compat",[s5]:"fire-perf",[i5]:"fire-perf-compat",[o5]:"fire-rc",[a5]:"fire-rc-compat",[l5]:"fire-gcs",[u5]:"fire-gcs-compat",[c5]:"fire-fst",[h5]:"fire-fst-compat",[d5]:"fire-vertex","fire-js":"fire-js",[f5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=new Map,g5=new Map,Iy=new Map;function lT(t,e){try{t.container.addComponent(e)}catch(n){cs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Co(t){const e=t.name;if(Iy.has(e))return cs.debug(`There were multiple attempts to register component ${e}.`),!1;Iy.set(e,t);for(const n of sc.values())lT(n,t);for(const n of g5.values())lT(n,t);return!0}function sp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function jn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ui=new Rc("app","Firebase",y5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ui.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=p5;function sP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Cy,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw ui.create("bad-app-name",{appName:String(s)});if(n||(n=ZA()),!n)throw ui.create("no-options");const i=sc.get(s);if(i){if(bo(n,i.options)&&bo(r,i.config))return i;throw ui.create("duplicate-app",{appName:s})}const o=new S6(s);for(const l of Iy.values())o.addComponent(l);const a=new v5(n,r,o);return sc.set(s,a),a}function L0(t=Cy){const e=sc.get(t);if(!e&&t===Cy&&ZA())return sP();if(!e)throw ui.create("no-app",{appName:t});return e}function uT(){return Array.from(sc.values())}function Pr(t,e,n){let r=m5[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cs.warn(o.join(" "));return}Co(new wi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5="firebase-heartbeat-database",_5=1,ic="firebase-heartbeat-store";let Lm=null;function iP(){return Lm||(Lm=L6(w5,_5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ic)}catch(n){console.warn(n)}}}}).catch(t=>{throw ui.create("idb-open",{originalErrorMessage:t.message})})),Lm}async function E5(t){try{const n=(await iP()).transaction(ic),r=await n.objectStore(ic).get(oP(t));return await n.done,r}catch(e){if(e instanceof $r)cs.warn(e.message);else{const n=ui.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cs.warn(n.message)}}}async function cT(t,e){try{const r=(await iP()).transaction(ic,"readwrite");await r.objectStore(ic).put(e,oP(t)),await r.done}catch(n){if(n instanceof $r)cs.warn(n.message);else{const r=ui.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});cs.warn(r.message)}}}function oP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=1024,T5=30;class S5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new C5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=dT();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>T5){const o=I5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){cs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=dT(),{heartbeatsToSend:r,unsentEntries:s}=b5(this._heartbeatsCache.heartbeats),i=Qh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return cs.warn(n),""}}}function dT(){return new Date().toISOString().substring(0,10)}function b5(t,e=x5){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),hT(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),hT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class C5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return h6()?f6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await E5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function hT(t){return Qh(JSON.stringify({version:2,heartbeats:t})).length}function I5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(t){Co(new wi("platform-logger",e=>new U6(e),"PRIVATE")),Co(new wi("heartbeat",e=>new S5(e),"PRIVATE")),Pr(by,aT,t),Pr(by,aT,"esm2020"),Pr("fire-js","")}A5("");var P5="firebase",R5="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pr(P5,R5,"app");var fT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ci,aP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,b){function I(){}I.prototype=b.prototype,C.F=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(R,N,O){for(var D=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)D[Y-2]=arguments[Y];return b.prototype[N].apply(R,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,b,I){I||(I=0);const R=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)R[N]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(N=0;N<16;++N)R[N]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],N=C.g[2];let O=C.g[3],D;D=b+(O^I&(N^O))+R[0]+3614090360&4294967295,b=I+(D<<7&4294967295|D>>>25),D=O+(N^b&(I^N))+R[1]+3905402710&4294967295,O=b+(D<<12&4294967295|D>>>20),D=N+(I^O&(b^I))+R[2]+606105819&4294967295,N=O+(D<<17&4294967295|D>>>15),D=I+(b^N&(O^b))+R[3]+3250441966&4294967295,I=N+(D<<22&4294967295|D>>>10),D=b+(O^I&(N^O))+R[4]+4118548399&4294967295,b=I+(D<<7&4294967295|D>>>25),D=O+(N^b&(I^N))+R[5]+1200080426&4294967295,O=b+(D<<12&4294967295|D>>>20),D=N+(I^O&(b^I))+R[6]+2821735955&4294967295,N=O+(D<<17&4294967295|D>>>15),D=I+(b^N&(O^b))+R[7]+4249261313&4294967295,I=N+(D<<22&4294967295|D>>>10),D=b+(O^I&(N^O))+R[8]+1770035416&4294967295,b=I+(D<<7&4294967295|D>>>25),D=O+(N^b&(I^N))+R[9]+2336552879&4294967295,O=b+(D<<12&4294967295|D>>>20),D=N+(I^O&(b^I))+R[10]+4294925233&4294967295,N=O+(D<<17&4294967295|D>>>15),D=I+(b^N&(O^b))+R[11]+2304563134&4294967295,I=N+(D<<22&4294967295|D>>>10),D=b+(O^I&(N^O))+R[12]+1804603682&4294967295,b=I+(D<<7&4294967295|D>>>25),D=O+(N^b&(I^N))+R[13]+4254626195&4294967295,O=b+(D<<12&4294967295|D>>>20),D=N+(I^O&(b^I))+R[14]+2792965006&4294967295,N=O+(D<<17&4294967295|D>>>15),D=I+(b^N&(O^b))+R[15]+1236535329&4294967295,I=N+(D<<22&4294967295|D>>>10),D=b+(N^O&(I^N))+R[1]+4129170786&4294967295,b=I+(D<<5&4294967295|D>>>27),D=O+(I^N&(b^I))+R[6]+3225465664&4294967295,O=b+(D<<9&4294967295|D>>>23),D=N+(b^I&(O^b))+R[11]+643717713&4294967295,N=O+(D<<14&4294967295|D>>>18),D=I+(O^b&(N^O))+R[0]+3921069994&4294967295,I=N+(D<<20&4294967295|D>>>12),D=b+(N^O&(I^N))+R[5]+3593408605&4294967295,b=I+(D<<5&4294967295|D>>>27),D=O+(I^N&(b^I))+R[10]+38016083&4294967295,O=b+(D<<9&4294967295|D>>>23),D=N+(b^I&(O^b))+R[15]+3634488961&4294967295,N=O+(D<<14&4294967295|D>>>18),D=I+(O^b&(N^O))+R[4]+3889429448&4294967295,I=N+(D<<20&4294967295|D>>>12),D=b+(N^O&(I^N))+R[9]+568446438&4294967295,b=I+(D<<5&4294967295|D>>>27),D=O+(I^N&(b^I))+R[14]+3275163606&4294967295,O=b+(D<<9&4294967295|D>>>23),D=N+(b^I&(O^b))+R[3]+4107603335&4294967295,N=O+(D<<14&4294967295|D>>>18),D=I+(O^b&(N^O))+R[8]+1163531501&4294967295,I=N+(D<<20&4294967295|D>>>12),D=b+(N^O&(I^N))+R[13]+2850285829&4294967295,b=I+(D<<5&4294967295|D>>>27),D=O+(I^N&(b^I))+R[2]+4243563512&4294967295,O=b+(D<<9&4294967295|D>>>23),D=N+(b^I&(O^b))+R[7]+1735328473&4294967295,N=O+(D<<14&4294967295|D>>>18),D=I+(O^b&(N^O))+R[12]+2368359562&4294967295,I=N+(D<<20&4294967295|D>>>12),D=b+(I^N^O)+R[5]+4294588738&4294967295,b=I+(D<<4&4294967295|D>>>28),D=O+(b^I^N)+R[8]+2272392833&4294967295,O=b+(D<<11&4294967295|D>>>21),D=N+(O^b^I)+R[11]+1839030562&4294967295,N=O+(D<<16&4294967295|D>>>16),D=I+(N^O^b)+R[14]+4259657740&4294967295,I=N+(D<<23&4294967295|D>>>9),D=b+(I^N^O)+R[1]+2763975236&4294967295,b=I+(D<<4&4294967295|D>>>28),D=O+(b^I^N)+R[4]+1272893353&4294967295,O=b+(D<<11&4294967295|D>>>21),D=N+(O^b^I)+R[7]+4139469664&4294967295,N=O+(D<<16&4294967295|D>>>16),D=I+(N^O^b)+R[10]+3200236656&4294967295,I=N+(D<<23&4294967295|D>>>9),D=b+(I^N^O)+R[13]+681279174&4294967295,b=I+(D<<4&4294967295|D>>>28),D=O+(b^I^N)+R[0]+3936430074&4294967295,O=b+(D<<11&4294967295|D>>>21),D=N+(O^b^I)+R[3]+3572445317&4294967295,N=O+(D<<16&4294967295|D>>>16),D=I+(N^O^b)+R[6]+76029189&4294967295,I=N+(D<<23&4294967295|D>>>9),D=b+(I^N^O)+R[9]+3654602809&4294967295,b=I+(D<<4&4294967295|D>>>28),D=O+(b^I^N)+R[12]+3873151461&4294967295,O=b+(D<<11&4294967295|D>>>21),D=N+(O^b^I)+R[15]+530742520&4294967295,N=O+(D<<16&4294967295|D>>>16),D=I+(N^O^b)+R[2]+3299628645&4294967295,I=N+(D<<23&4294967295|D>>>9),D=b+(N^(I|~O))+R[0]+4096336452&4294967295,b=I+(D<<6&4294967295|D>>>26),D=O+(I^(b|~N))+R[7]+1126891415&4294967295,O=b+(D<<10&4294967295|D>>>22),D=N+(b^(O|~I))+R[14]+2878612391&4294967295,N=O+(D<<15&4294967295|D>>>17),D=I+(O^(N|~b))+R[5]+4237533241&4294967295,I=N+(D<<21&4294967295|D>>>11),D=b+(N^(I|~O))+R[12]+1700485571&4294967295,b=I+(D<<6&4294967295|D>>>26),D=O+(I^(b|~N))+R[3]+2399980690&4294967295,O=b+(D<<10&4294967295|D>>>22),D=N+(b^(O|~I))+R[10]+4293915773&4294967295,N=O+(D<<15&4294967295|D>>>17),D=I+(O^(N|~b))+R[1]+2240044497&4294967295,I=N+(D<<21&4294967295|D>>>11),D=b+(N^(I|~O))+R[8]+1873313359&4294967295,b=I+(D<<6&4294967295|D>>>26),D=O+(I^(b|~N))+R[15]+4264355552&4294967295,O=b+(D<<10&4294967295|D>>>22),D=N+(b^(O|~I))+R[6]+2734768916&4294967295,N=O+(D<<15&4294967295|D>>>17),D=I+(O^(N|~b))+R[13]+1309151649&4294967295,I=N+(D<<21&4294967295|D>>>11),D=b+(N^(I|~O))+R[4]+4149444226&4294967295,b=I+(D<<6&4294967295|D>>>26),D=O+(I^(b|~N))+R[11]+3174756917&4294967295,O=b+(D<<10&4294967295|D>>>22),D=N+(b^(O|~I))+R[2]+718787259&4294967295,N=O+(D<<15&4294967295|D>>>17),D=I+(O^(N|~b))+R[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+O&4294967295}r.prototype.v=function(C,b){b===void 0&&(b=C.length);const I=b-this.blockSize,R=this.C;let N=this.h,O=0;for(;O<b;){if(N==0)for(;O<=I;)s(this,C,O),O+=this.blockSize;if(typeof C=="string"){for(;O<b;)if(R[N++]=C.charCodeAt(O++),N==this.blockSize){s(this,R),N=0;break}}else for(;O<b;)if(R[N++]=C[O++],N==this.blockSize){s(this,R),N=0;break}}this.h=N,this.o+=b},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,I=0;I<4;++I)for(let R=0;R<32;R+=8)C[b++]=this.g[I]>>>R&255;return C};function i(C,b){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function o(C,b){this.h=b;const I=[];let R=!0;for(let N=C.length-1;N>=0;N--){const O=C[N]|0;R&&O==b||(I[N]=O,R=!1)}this.g=I}var a={};function l(C){return-128<=C&&C<128?i(C,function(b){return new o([b|0],b<0?-1:0)}):new o([C|0],C<0?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return h;if(C<0)return _(u(-C));const b=[];let I=1;for(let R=0;C>=I;R++)b[R]=C/I|0,I*=4294967296;return new o(b,0)}function d(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return _(d(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=u(Math.pow(b,8));let R=h;for(let O=0;O<C.length;O+=8){var N=Math.min(8,C.length-O);const D=parseInt(C.substring(O,O+N),b);N<8?(N=u(Math.pow(b,N)),R=R.j(N).add(u(D))):(R=R.j(I),R=R.add(u(D)))}return R}var h=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-_(this).m();let C=0,b=1;for(let I=0;I<this.g.length;I++){const R=this.i(I);C+=(R>=0?R:4294967296+R)*b,b*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(S(this))return"0";if(g(this))return"-"+_(this).toString(C);const b=u(Math.pow(C,6));var I=this;let R="";for(;;){const N=P(I,b).g;I=w(I,N.j(b));let O=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,S(I))return O+R;for(;O.length<6;)O="0"+O;R=O+R}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function S(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function g(C){return C.h==-1}t.l=function(C){return C=w(this,C),g(C)?-1:S(C)?0:1};function _(C){const b=C.g.length,I=[];for(let R=0;R<b;R++)I[R]=~C.g[R];return new o(I,~C.h).add(f)}t.abs=function(){return g(this)?_(this):this},t.add=function(C){const b=Math.max(this.g.length,C.g.length),I=[];let R=0;for(let N=0;N<=b;N++){let O=R+(this.i(N)&65535)+(C.i(N)&65535),D=(O>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);R=D>>>16,O&=65535,D&=65535,I[N]=D<<16|O}return new o(I,I[I.length-1]&-2147483648?-1:0)};function w(C,b){return C.add(_(b))}t.j=function(C){if(S(this)||S(C))return h;if(g(this))return g(C)?_(this).j(_(C)):_(_(this).j(C));if(g(C))return _(this.j(_(C)));if(this.l(p)<0&&C.l(p)<0)return u(this.m()*C.m());const b=this.g.length+C.g.length,I=[];for(var R=0;R<2*b;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(let N=0;N<C.g.length;N++){const O=this.i(R)>>>16,D=this.i(R)&65535,Y=C.i(N)>>>16,ce=C.i(N)&65535;I[2*R+2*N]+=D*ce,v(I,2*R+2*N),I[2*R+2*N+1]+=O*ce,v(I,2*R+2*N+1),I[2*R+2*N+1]+=D*Y,v(I,2*R+2*N+1),I[2*R+2*N+2]+=O*Y,v(I,2*R+2*N+2)}for(C=0;C<b;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=b;C<2*b;C++)I[C]=0;return new o(I,0)};function v(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function T(C,b){this.g=C,this.h=b}function P(C,b){if(S(b))throw Error("division by zero");if(S(C))return new T(h,h);if(g(C))return b=P(_(C),b),new T(_(b.g),_(b.h));if(g(b))return b=P(C,_(b)),new T(_(b.g),b.h);if(C.g.length>30){if(g(C)||g(b))throw Error("slowDivide_ only works with positive integers.");for(var I=f,R=b;R.l(C)<=0;)I=k(I),R=k(R);var N=M(I,1),O=M(R,1);for(R=M(R,2),I=M(I,2);!S(R);){var D=O.add(R);D.l(C)<=0&&(N=N.add(I),O=D),R=M(R,1),I=M(I,1)}return b=w(C,N.j(b)),new T(N,b)}for(N=h;C.l(b)>=0;){for(I=Math.max(1,Math.floor(C.m()/b.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),O=u(I),D=O.j(b);g(D)||D.l(C)>0;)I-=R,O=u(I),D=O.j(b);S(O)&&(O=f),N=N.add(O),C=w(C,D)}return new T(N,C)}t.B=function(C){return P(this,C).h},t.and=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let R=0;R<b;R++)I[R]=this.i(R)&C.i(R);return new o(I,this.h&C.h)},t.or=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let R=0;R<b;R++)I[R]=this.i(R)|C.i(R);return new o(I,this.h|C.h)},t.xor=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let R=0;R<b;R++)I[R]=this.i(R)^C.i(R);return new o(I,this.h^C.h)};function k(C){const b=C.g.length+1,I=[];for(let R=0;R<b;R++)I[R]=C.i(R)<<1|C.i(R-1)>>>31;return new o(I,C.h)}function M(C,b){const I=b>>5;b%=32;const R=C.g.length-I,N=[];for(let O=0;O<R;O++)N[O]=b>0?C.i(O+I)>>>b|C.i(O+I+1)<<32-b:C.i(O+I);return new o(N,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,aP=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,ci=o}).apply(typeof fT<"u"?fT:typeof self<"u"?self:typeof window<"u"?window:{});var Cd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lP,iu,uP,rh,Ay,cP,dP,hP;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cd=="object"&&Cd];for(var m=0;m<c.length;++m){var x=c[m];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function s(c,m){if(m)e:{var x=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var V=c[A];if(!(V in x))break e;x=x[V]}c=c[c.length-1],A=x[c],m=m(A),m!=A&&m!=null&&e(x,c,{configurable:!0,writable:!0,value:m})}}s("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(c){return c||function(m){var x=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&x.push([A,m[A]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function l(c,m,x){return c.call.apply(c.bind,arguments)}function u(c,m,x){return u=l,u.apply(null,arguments)}function d(c,m){var x=Array.prototype.slice.call(arguments,1);return function(){var A=x.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function h(c,m){function x(){}x.prototype=m.prototype,c.Z=m.prototype,c.prototype=new x,c.prototype.constructor=c,c.Ob=function(A,V,L){for(var H=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)H[fe-2]=arguments[fe];return m.prototype[V].apply(A,H)}}var f=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function p(c){const m=c.length;if(m>0){const x=Array(m);for(let A=0;A<m;A++)x[A]=c[A];return x}return[]}function S(c,m){for(let A=1;A<arguments.length;A++){const V=arguments[A];var x=typeof V;if(x=x!="object"?x:V?Array.isArray(V)?"array":x:"null",x=="array"||x=="object"&&typeof V.length=="number"){x=c.length||0;const L=V.length||0;c.length=x+L;for(let H=0;H<L;H++)c[x+H]=V[H]}else c.push(V)}}class g{constructor(m,x){this.i=m,this.j=x,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function _(c){o.setTimeout(()=>{throw c},0)}function w(){var c=C;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class v{constructor(){this.h=this.g=null}add(m,x){const A=T.get();A.set(m,x),this.h?this.h.next=A:this.g=A,this.h=A}}var T=new g(()=>new P,c=>c.reset());class P{constructor(){this.next=this.g=this.h=null}set(m,x){this.h=m,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let k,M=!1,C=new v,b=()=>{const c=Promise.resolve(void 0);k=()=>{c.then(I)}};function I(){for(var c;c=w();){try{c.h.call(c.g)}catch(x){_(x)}var m=T;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}M=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const x=()=>{};o.addEventListener("test",x,m),o.removeEventListener("test",x,m)}catch{}return c}();function D(c){return/^[\s\xa0]*$/.test(c)}function Y(c,m){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}h(Y,N),Y.prototype.init=function(c,m){const x=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(x=="mouseover"?m=c.fromElement:x=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Y.Z.h.call(this)},Y.prototype.h=function(){Y.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ce="closure_listenable_"+(Math.random()*1e6|0),J=0;function X(c,m,x,A,V){this.listener=c,this.proxy=null,this.src=m,this.type=x,this.capture=!!A,this.ha=V,this.key=++J,this.da=this.fa=!1}function j(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function U(c,m,x){for(const A in c)m.call(x,c[A],A,c)}function q(c,m){for(const x in c)m.call(void 0,c[x],x,c)}function ie(c){const m={};for(const x in c)m[x]=c[x];return m}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(c,m){let x,A;for(let V=1;V<arguments.length;V++){A=arguments[V];for(x in A)c[x]=A[x];for(let L=0;L<ee.length;L++)x=ee[L],Object.prototype.hasOwnProperty.call(A,x)&&(c[x]=A[x])}}function le(c){this.src=c,this.g={},this.h=0}le.prototype.add=function(c,m,x,A,V){const L=c.toString();c=this.g[L],c||(c=this.g[L]=[],this.h++);const H=Oe(c,m,A,V);return H>-1?(m=c[H],x||(m.fa=!1)):(m=new X(m,this.src,L,!!A,V),m.fa=x,c.push(m)),m};function ke(c,m){const x=m.type;if(x in c.g){var A=c.g[x],V=Array.prototype.indexOf.call(A,m,void 0),L;(L=V>=0)&&Array.prototype.splice.call(A,V,1),L&&(j(m),c.g[x].length==0&&(delete c.g[x],c.h--))}}function Oe(c,m,x,A){for(let V=0;V<c.length;++V){const L=c[V];if(!L.da&&L.listener==m&&L.capture==!!x&&L.ha==A)return V}return-1}var G="closure_lm_"+(Math.random()*1e6|0),be={};function Le(c,m,x,A,V){if(Array.isArray(m)){for(let L=0;L<m.length;L++)Le(c,m[L],x,A,V);return null}return x=ys(x),c&&c[ce]?c.J(m,x,a(A)?!!A.capture:!1,V):Ce(c,m,x,!1,A,V)}function Ce(c,m,x,A,V,L){if(!m)throw Error("Invalid event type");const H=a(V)?!!V.capture:!!V;let fe=kn(c);if(fe||(c[G]=fe=new le(c)),x=fe.add(m,x,A,H,L),x.proxy)return x;if(A=ve(),x.proxy=A,A.src=c,A.listener=x,c.addEventListener)O||(V=H),V===void 0&&(V=!1),c.addEventListener(m.toString(),A,V);else if(c.attachEvent)c.attachEvent(Yt(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return x}function ve(){function c(x){return m.call(c.src,c.listener,x)}const m=zr;return c}function xe(c,m,x,A,V){if(Array.isArray(m))for(var L=0;L<m.length;L++)xe(c,m[L],x,A,V);else A=a(A)?!!A.capture:!!A,x=ys(x),c&&c[ce]?(c=c.i,L=String(m).toString(),L in c.g&&(m=c.g[L],x=Oe(m,x,A,V),x>-1&&(j(m[x]),Array.prototype.splice.call(m,x,1),m.length==0&&(delete c.g[L],c.h--)))):c&&(c=kn(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Oe(m,x,A,V)),(x=c>-1?m[c]:null)&&ut(x))}function ut(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[ce])ke(m.i,c);else{var x=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(x,A,c.capture):m.detachEvent?m.detachEvent(Yt(x),A):m.addListener&&m.removeListener&&m.removeListener(A),(x=kn(m))?(ke(x,c),x.h==0&&(x.src=null,m[G]=null)):j(c)}}}function Yt(c){return c in be?be[c]:be[c]="on"+c}function zr(c,m){if(c.da)c=!0;else{m=new Y(m,this);const x=c.listener,A=c.ha||c.src;c.fa&&ut(c),c=x.call(A,m)}return c}function kn(c){return c=c[G],c instanceof le?c:null}var Wn="__closure_events_fn_"+(Math.random()*1e9>>>0);function ys(c){return typeof c=="function"?c:(c[Wn]||(c[Wn]=function(m){return c.handleEvent(m)}),c[Wn])}function Ge(){R.call(this),this.i=new le(this),this.M=this,this.G=null}h(Ge,R),Ge.prototype[ce]=!0,Ge.prototype.removeEventListener=function(c,m,x,A){xe(this,c,m,x,A)};function xt(c,m){var x,A=c.G;if(A)for(x=[];A;A=A.G)x.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new N(m,c);else if(m instanceof N)m.target=m.target||c;else{var V=m;m=new N(A,c),me(m,V)}V=!0;let L,H;if(x)for(H=x.length-1;H>=0;H--)L=m.g=x[H],V=dr(L,A,!0,m)&&V;if(L=m.g=c,V=dr(L,A,!0,m)&&V,V=dr(L,A,!1,m)&&V,x)for(H=0;H<x.length;H++)L=m.g=x[H],V=dr(L,A,!1,m)&&V}Ge.prototype.N=function(){if(Ge.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const x=c.g[m];for(let A=0;A<x.length;A++)j(x[A]);delete c.g[m],c.h--}}this.G=null},Ge.prototype.J=function(c,m,x,A){return this.i.add(String(c),m,!1,x,A)},Ge.prototype.K=function(c,m,x,A){return this.i.add(String(c),m,!0,x,A)};function dr(c,m,x,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let V=!0;for(let L=0;L<m.length;++L){const H=m[L];if(H&&!H.da&&H.capture==x){const fe=H.listener,gt=H.ha||H.src;H.fa&&ke(c.i,H),V=fe.call(gt,A)!==!1&&V}}return V&&!A.defaultPrevented}function Hc(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=u(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:o.setTimeout(c,m||0)}function hr(c){c.g=Hc(()=>{c.g=null,c.i&&(c.i=!1,hr(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Up extends R{constructor(m,x){super(),this.m=m,this.l=x,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:hr(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fi(c){R.call(this),this.h=c,this.g={}}h(Fi,R);var Xt=[];function Wr(c){U(c.g,function(m,x){this.g.hasOwnProperty(x)&&ut(m)},c),c.g={}}Fi.prototype.N=function(){Fi.Z.N.call(this),Wr(this)},Fi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Il=o.JSON.stringify,Bp=o.JSON.parse,$o=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function qc(){}function Al(){}var Hr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function fr(){N.call(this,"d")}h(fr,N);function zo(){N.call(this,"c")}h(zo,N);var on={},Gc=null;function Wo(){return Gc=Gc||new Ge}on.Ia="serverreachability";function Pl(c){N.call(this,on.Ia,c)}h(Pl,N);function vs(c){const m=Wo();xt(m,new Pl(m))}on.STAT_EVENT="statevent";function Kc(c,m){N.call(this,on.STAT_EVENT,c),this.stat=m}h(Kc,N);function mt(c){const m=Wo();xt(m,new Kc(m,c))}on.Ja="timingevent";function Hn(c,m){N.call(this,on.Ja,c),this.size=m}h(Hn,N);function Ui(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},m)}function re(){this.g=!0}re.prototype.ua=function(){this.g=!1};function Pe(c,m,x,A,V,L){c.info(function(){if(c.g)if(L){var H="",fe=L.split("&");for(let De=0;De<fe.length;De++){var gt=fe[De].split("=");if(gt.length>1){const St=gt[0];gt=gt[1];const gr=St.split("_");H=gr.length>=2&&gr[1]=="type"?H+(St+"="+gt+"&"):H+(St+"=redacted&")}}}else H=null;else H=L;return"XMLHTTP REQ ("+A+") [attempt "+V+"]: "+m+`
`+x+`
`+H})}function Me(c,m,x,A,V,L,H){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+V+"]: "+m+`
`+x+`
`+L+" "+H})}function Tt(c,m,x,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+pr(c,x)+(A?" "+A:"")})}function gn(c,m){c.info(function(){return"TIMEOUT: "+m})}re.prototype.info=function(){};function pr(c,m){if(!c.g)return m;if(!m)return null;try{const L=JSON.parse(m);if(L){for(c=0;c<L.length;c++)if(Array.isArray(L[c])){var x=L[c];if(!(x.length<2)){var A=x[1];if(Array.isArray(A)&&!(A.length<1)){var V=A[0];if(V!="noop"&&V!="stop"&&V!="close")for(let H=1;H<A.length;H++)A[H]=""}}}}return Il(L)}catch{return m}}var Nn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},an={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qn;function $p(){}h($p,qc),$p.prototype.g=function(){return new XMLHttpRequest},qn=new $p;function Rl(c){return encodeURIComponent(String(c))}function uO(c){var m=1;c=c.split(":");const x=[];for(;m>0&&c.length;)x.push(c.shift()),m--;return c.length&&x.push(c.join(":")),x}function ws(c,m,x,A){this.j=c,this.i=m,this.l=x,this.S=A||1,this.V=new Fi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new C_}function C_(){this.i=null,this.g="",this.h=!1}var I_={},zp={};function Wp(c,m,x){c.M=1,c.A=Yc(mr(m)),c.u=x,c.R=!0,A_(c,null)}function A_(c,m){c.F=Date.now(),Qc(c),c.B=mr(c.A);var x=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),B_(x.i,"t",A),c.C=0,x=c.j.L,c.h=new C_,c.g=iE(c.j,x?m:null,!c.u),c.P>0&&(c.O=new Up(u(c.Y,c,c.g),c.P)),m=c.V,x=c.g,A=c.ba;var V="readystatechange";Array.isArray(V)||(V&&(Xt[0]=V.toString()),V=Xt);for(let L=0;L<V.length;L++){const H=Le(x,V[L],A||m.handleEvent,!1,m.h||m);if(!H)break;m.g[H.key]=H}m=c.J?ie(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),vs(),Pe(c.i,c.v,c.B,c.l,c.S,c.u)}ws.prototype.ba=function(c){c=c.target;const m=this.O;m&&xs(c)==3?m.j():this.Y(c)},ws.prototype.Y=function(c){try{if(c==this.g)e:{const fe=xs(this.g),gt=this.g.ya(),De=this.g.ca();if(!(fe<3)&&(fe!=3||this.g&&(this.h.h||this.g.la()||K_(this.g)))){this.K||fe!=4||gt==7||(gt==8||De<=0?vs(3):vs(2)),Hp(this);var m=this.g.ca();this.X=m;var x=cO(this);if(this.o=m==200,Me(this.i,this.v,this.B,this.l,this.S,fe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,V=this.g;if((A=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(A)){var L=A;break t}}L=null}if(c=L)Tt(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qp(this,c);else{this.o=!1,this.m=3,mt(12),Bi(this),kl(this);break e}}if(this.R){c=!0;let St;for(;!this.K&&this.C<x.length;)if(St=dO(this,x),St==zp){fe==4&&(this.m=4,mt(14),c=!1),Tt(this.i,this.l,null,"[Incomplete Response]");break}else if(St==I_){this.m=4,mt(15),Tt(this.i,this.l,x,"[Invalid Chunk]"),c=!1;break}else Tt(this.i,this.l,St,null),qp(this,St);if(P_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fe!=4||x.length!=0||this.h.h||(this.m=1,mt(16),c=!1),this.o=this.o&&c,!c)Tt(this.i,this.l,x,"[Invalid Chunked Response]"),Bi(this),kl(this);else if(x.length>0&&!this.W){this.W=!0;var H=this.j;H.g==this&&H.aa&&!H.P&&(H.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),em(H),H.P=!0,mt(11))}}else Tt(this.i,this.l,x,null),qp(this,x);fe==4&&Bi(this),this.o&&!this.K&&(fe==4?tE(this.j,this):(this.o=!1,Qc(this)))}else bO(this.g),m==400&&x.indexOf("Unknown SID")>0?(this.m=3,mt(12)):(this.m=0,mt(13)),Bi(this),kl(this)}}}catch{}finally{}};function cO(c){if(!P_(c))return c.g.la();const m=K_(c.g);if(m==="")return"";let x="";const A=m.length,V=xs(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Bi(c),kl(c),"";c.h.i=new o.TextDecoder}for(let L=0;L<A;L++)c.h.h=!0,x+=c.h.i.decode(m[L],{stream:!(V&&L==A-1)});return m.length=0,c.h.g+=x,c.C=0,c.h.g}function P_(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function dO(c,m){var x=c.C,A=m.indexOf(`
`,x);return A==-1?zp:(x=Number(m.substring(x,A)),isNaN(x)?I_:(A+=1,A+x>m.length?zp:(m=m.slice(A,A+x),c.C=A+x,m)))}ws.prototype.cancel=function(){this.K=!0,Bi(this)};function Qc(c){c.T=Date.now()+c.H,R_(c,c.H)}function R_(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Ui(u(c.aa,c),m)}function Hp(c){c.D&&(o.clearTimeout(c.D),c.D=null)}ws.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(gn(this.i,this.B),this.M!=2&&(vs(),mt(17)),Bi(this),this.m=2,kl(this)):R_(this,this.T-c)};function kl(c){c.j.I==0||c.K||tE(c.j,c)}function Bi(c){Hp(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Wr(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function qp(c,m){try{var x=c.j;if(x.I!=0&&(x.g==c||Gp(x.h,c))){if(!c.L&&Gp(x.h,c)&&x.I==3){try{var A=x.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var V=A;if(V[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<c.F)td(x),Zc(x);else break e;Zp(x),mt(18)}}else x.xa=V[1],0<x.xa-x.K&&V[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=Ui(u(x.Va,x),6e3));D_(x.h)<=1&&x.ta&&(x.ta=void 0)}else zi(x,11)}else if((c.L||x.g==c)&&td(x),!D(m))for(V=x.Ba.g.parse(m),m=0;m<V.length;m++){let De=V[m];const St=De[0];if(!(St<=x.K))if(x.K=St,De=De[1],x.I==2)if(De[0]=="c"){x.M=De[1],x.ba=De[2];const gr=De[3];gr!=null&&(x.ka=gr,x.j.info("VER="+x.ka));const Wi=De[4];Wi!=null&&(x.za=Wi,x.j.info("SVER="+x.za));const Ts=De[5];Ts!=null&&typeof Ts=="number"&&Ts>0&&(A=1.5*Ts,x.O=A,x.j.info("backChannelRequestTimeoutMs_="+A)),A=x;const Ss=c.g;if(Ss){const rd=Ss.g?Ss.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rd){var L=A.h;L.g||rd.indexOf("spdy")==-1&&rd.indexOf("quic")==-1&&rd.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Kp(L,L.h),L.h=null))}if(A.G){const tm=Ss.g?Ss.g.getResponseHeader("X-HTTP-Session-Id"):null;tm&&(A.wa=tm,je(A.J,A.G,tm))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-c.F,x.j.info("Handshake RTT: "+x.T+"ms")),A=x;var H=c;if(A.na=sE(A,A.L?A.ba:null,A.W),H.L){O_(A.h,H);var fe=H,gt=A.O;gt&&(fe.H=gt),fe.D&&(Hp(fe),Qc(fe)),A.g=H}else Z_(A);x.i.length>0&&ed(x)}else De[0]!="stop"&&De[0]!="close"||zi(x,7);else x.I==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?zi(x,7):Jp(x):De[0]!="noop"&&x.l&&x.l.qa(De),x.A=0)}}vs(4)}catch{}}var hO=class{constructor(c,m){this.g=c,this.map=m}};function k_(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function N_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function D_(c){return c.h?1:c.g?c.g.size:0}function Gp(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Kp(c,m){c.g?c.g.add(m):c.h=m}function O_(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}k_.prototype.cancel=function(){if(this.i=M_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function M_(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const x of c.g.values())m=m.concat(x.G);return m}return p(c.i)}var V_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fO(c,m){if(c){c=c.split("&");for(let x=0;x<c.length;x++){const A=c[x].indexOf("=");let V,L=null;A>=0?(V=c[x].substring(0,A),L=c[x].substring(A+1)):V=c[x],m(V,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function _s(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof _s?(this.l=c.l,Nl(this,c.j),this.o=c.o,this.g=c.g,Dl(this,c.u),this.h=c.h,Qp(this,$_(c.i)),this.m=c.m):c&&(m=String(c).match(V_))?(this.l=!1,Nl(this,m[1]||"",!0),this.o=Ol(m[2]||""),this.g=Ol(m[3]||"",!0),Dl(this,m[4]),this.h=Ol(m[5]||"",!0),Qp(this,m[6]||"",!0),this.m=Ol(m[7]||"")):(this.l=!1,this.i=new Vl(null,this.l))}_s.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Ml(m,L_,!0),":");var x=this.g;return(x||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Ml(m,L_,!0),"@"),c.push(Rl(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&c.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&c.push("/"),c.push(Ml(x,x.charAt(0)=="/"?gO:mO,!0))),(x=this.i.toString())&&c.push("?",x),(x=this.m)&&c.push("#",Ml(x,vO)),c.join("")},_s.prototype.resolve=function(c){const m=mr(this);let x=!!c.j;x?Nl(m,c.j):x=!!c.o,x?m.o=c.o:x=!!c.g,x?m.g=c.g:x=c.u!=null;var A=c.h;if(x)Dl(m,c.u);else if(x=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var V=m.h.lastIndexOf("/");V!=-1&&(A=m.h.slice(0,V+1)+A)}if(V=A,V==".."||V==".")A="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){A=V.lastIndexOf("/",0)==0,V=V.split("/");const L=[];for(let H=0;H<V.length;){const fe=V[H++];fe=="."?A&&H==V.length&&L.push(""):fe==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),A&&H==V.length&&L.push("")):(L.push(fe),A=!0)}A=L.join("/")}else A=V}return x?m.h=A:x=c.i.toString()!=="",x?Qp(m,$_(c.i)):x=!!c.m,x&&(m.m=c.m),m};function mr(c){return new _s(c)}function Nl(c,m,x){c.j=x?Ol(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Dl(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Qp(c,m,x){m instanceof Vl?(c.i=m,wO(c.i,c.l)):(x||(m=Ml(m,yO)),c.i=new Vl(m,c.l))}function je(c,m,x){c.i.set(m,x)}function Yc(c){return je(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ol(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ml(c,m,x){return typeof c=="string"?(c=encodeURI(c).replace(m,pO),x&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function pO(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var L_=/[#\/\?@]/g,mO=/[#\?:]/g,gO=/[#\?]/g,yO=/[#\?@]/g,vO=/#/g;function Vl(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function $i(c){c.g||(c.g=new Map,c.h=0,c.i&&fO(c.i,function(m,x){c.add(decodeURIComponent(m.replace(/\+/g," ")),x)}))}t=Vl.prototype,t.add=function(c,m){$i(this),this.i=null,c=Ho(this,c);let x=this.g.get(c);return x||this.g.set(c,x=[]),x.push(m),this.h+=1,this};function j_(c,m){$i(c),m=Ho(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function F_(c,m){return $i(c),m=Ho(c,m),c.g.has(m)}t.forEach=function(c,m){$i(this),this.g.forEach(function(x,A){x.forEach(function(V){c.call(m,V,A,this)},this)},this)};function U_(c,m){$i(c);let x=[];if(typeof m=="string")F_(c,m)&&(x=x.concat(c.g.get(Ho(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)x=x.concat(c[m]);return x}t.set=function(c,m){return $i(this),this.i=null,c=Ho(this,c),F_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=U_(this,c),c.length>0?String(c[0]):m):m};function B_(c,m,x){j_(c,m),x.length>0&&(c.i=null,c.g.set(Ho(c,m),p(x)),c.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var x=m[A];const V=Rl(x);x=U_(this,x);for(let L=0;L<x.length;L++){let H=V;x[L]!==""&&(H+="="+Rl(x[L])),c.push(H)}}return this.i=c.join("&")};function $_(c){const m=new Vl;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function Ho(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function wO(c,m){m&&!c.j&&($i(c),c.i=null,c.g.forEach(function(x,A){const V=A.toLowerCase();A!=V&&(j_(this,A),B_(this,V,x))},c)),c.j=m}function _O(c,m){const x=new re;if(o.Image){const A=new Image;A.onload=d(Es,x,"TestLoadImage: loaded",!0,m,A),A.onerror=d(Es,x,"TestLoadImage: error",!1,m,A),A.onabort=d(Es,x,"TestLoadImage: abort",!1,m,A),A.ontimeout=d(Es,x,"TestLoadImage: timeout",!1,m,A),o.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function EO(c,m){const x=new re,A=new AbortController,V=setTimeout(()=>{A.abort(),Es(x,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(L=>{clearTimeout(V),L.ok?Es(x,"TestPingServer: ok",!0,m):Es(x,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(V),Es(x,"TestPingServer: error",!1,m)})}function Es(c,m,x,A,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),A(x)}catch{}}function xO(){this.g=new $o}function Yp(c){this.i=c.Sb||null,this.h=c.ab||!1}h(Yp,qc),Yp.prototype.g=function(){return new Xc(this.i,this.h)};function Xc(c,m){Ge.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Xc,Ge),t=Xc.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,jl(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||o).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ll(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,jl(this)),this.g&&(this.readyState=3,jl(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;z_(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function z_(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Ll(this):jl(this),this.readyState==3&&z_(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,Ll(this))},t.Na=function(c){this.g&&(this.response=c,Ll(this))},t.ga=function(){this.g&&Ll(this)};function Ll(c){c.readyState=4,c.l=null,c.j=null,c.B=null,jl(c)}t.setRequestHeader=function(c,m){this.A.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var x=m.next();!x.done;)x=x.value,c.push(x[0]+": "+x[1]),x=m.next();return c.join(`\r
`)};function jl(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Xc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function W_(c){let m="";return U(c,function(x,A){m+=A,m+=":",m+=x,m+=`\r
`}),m}function Xp(c,m,x){e:{for(A in x){var A=!1;break e}A=!0}A||(x=W_(x),typeof c=="string"?x!=null&&Rl(x):je(c,m,x))}function Ze(c){Ge.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Ze,Ge);var TO=/^https?$/i,SO=["POST","PUT"];t=Ze.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,m,x,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qn.g(),this.g.onreadystatechange=f(u(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(L){H_(this,L);return}if(c=x||"",x=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var V in A)x.set(V,A[V]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const L of A.keys())x.set(L,A.get(L));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(x.keys()).find(L=>L.toLowerCase()=="content-type"),V=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(SO,m,void 0)>=0)||A||V||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,H]of x)this.g.setRequestHeader(L,H);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(L){H_(this,L)}};function H_(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,q_(c),Jc(c)}function q_(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,xt(this,"complete"),xt(this,"abort"),Jc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jc(this,!0)),Ze.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?G_(this):this.Xa())},t.Xa=function(){G_(this)};function G_(c){if(c.h&&typeof i<"u"){if(c.v&&xs(c)==4)setTimeout(c.Ca.bind(c),0);else if(xt(c,"readystatechange"),xs(c)==4){c.h=!1;try{const L=c.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var x;if(!(x=m)){var A;if(A=L===0){let H=String(c.D).match(V_)[1]||null;!H&&o.self&&o.self.location&&(H=o.self.location.protocol.slice(0,-1)),A=!TO.test(H?H.toLowerCase():"")}x=A}if(x)xt(c,"complete"),xt(c,"success");else{c.o=6;try{var V=xs(c)>2?c.g.statusText:""}catch{V=""}c.l=V+" ["+c.ca()+"]",q_(c)}}finally{Jc(c)}}}}function Jc(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const x=c.g;c.g=null,m||xt(c,"ready");try{x.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function xs(c){return c.g?c.g.readyState:0}t.ca=function(){try{return xs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Bp(m)}};function K_(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function bO(c){const m={};c=(c.g&&xs(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(D(c[A]))continue;var x=uO(c[A]);const V=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const L=m[V]||[];m[V]=L,L.push(x)}q(m,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fl(c,m,x){return x&&x.internalChannelParams&&x.internalChannelParams[c]||m}function Q_(c){this.za=0,this.i=[],this.j=new re,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fl("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fl("baseRetryDelayMs",5e3,c),this.Za=Fl("retryDelaySeedMs",1e4,c),this.Ta=Fl("forwardChannelMaxRetries",2,c),this.va=Fl("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new k_(c&&c.concurrentRequestLimit),this.Ba=new xO,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Q_.prototype,t.ka=8,t.I=1,t.connect=function(c,m,x,A){mt(0),this.W=c,this.H=m||{},x&&A!==void 0&&(this.H.OSID=x,this.H.OAID=A),this.F=this.X,this.J=sE(this,null,this.W),ed(this)};function Jp(c){if(Y_(c),c.I==3){var m=c.V++,x=mr(c.J);if(je(x,"SID",c.M),je(x,"RID",m),je(x,"TYPE","terminate"),Ul(c,x),m=new ws(c,c.j,m),m.M=2,m.A=Yc(mr(x)),x=!1,o.navigator&&o.navigator.sendBeacon)try{x=o.navigator.sendBeacon(m.A.toString(),"")}catch{}!x&&o.Image&&(new Image().src=m.A,x=!0),x||(m.g=iE(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Qc(m)}rE(c)}function Zc(c){c.g&&(em(c),c.g.cancel(),c.g=null)}function Y_(c){Zc(c),c.v&&(o.clearTimeout(c.v),c.v=null),td(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function ed(c){if(!N_(c.h)&&!c.m){c.m=!0;var m=c.Ea;k||b(),M||(k(),M=!0),C.add(m,c),c.D=0}}function CO(c,m){return D_(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Ui(u(c.Ea,c,m),nE(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const V=new ws(this,this.j,c);let L=this.o;if(this.U&&(L?(L=ie(L),me(L,this.U)):L=this.U),this.u!==null||this.R||(V.J=L,L=null),this.S)e:{for(var m=0,x=0;x<this.i.length;x++){t:{var A=this.i[x];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=x;break e}if(m===4096||x===this.i.length-1){m=x+1;break e}}m=1e3}else m=1e3;m=J_(this,V,m),x=mr(this.J),je(x,"RID",c),je(x,"CVER",22),this.G&&je(x,"X-HTTP-Session-Id",this.G),Ul(this,x),L&&(this.R?m="headers="+Rl(W_(L))+"&"+m:this.u&&Xp(x,this.u,L)),Kp(this.h,V),this.Ra&&je(x,"TYPE","init"),this.S?(je(x,"$req",m),je(x,"SID","null"),V.U=!0,Wp(V,x,null)):Wp(V,x,m),this.I=2}}else this.I==3&&(c?X_(this,c):this.i.length==0||N_(this.h)||X_(this))};function X_(c,m){var x;m?x=m.l:x=c.V++;const A=mr(c.J);je(A,"SID",c.M),je(A,"RID",x),je(A,"AID",c.K),Ul(c,A),c.u&&c.o&&Xp(A,c.u,c.o),x=new ws(c,c.j,x,c.D+1),c.u===null&&(x.J=c.o),m&&(c.i=m.G.concat(c.i)),m=J_(c,x,1e3),x.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Kp(c.h,x),Wp(x,A,m)}function Ul(c,m){c.H&&U(c.H,function(x,A){je(m,A,x)}),c.l&&U({},function(x,A){je(m,A,x)})}function J_(c,m,x){x=Math.min(c.i.length,x);const A=c.l?u(c.l.Ka,c.l,c):null;e:{var V=c.i;let fe=-1;for(;;){const gt=["count="+x];fe==-1?x>0?(fe=V[0].g,gt.push("ofs="+fe)):fe=0:gt.push("ofs="+fe);let De=!0;for(let St=0;St<x;St++){var L=V[St].g;const gr=V[St].map;if(L-=fe,L<0)fe=Math.max(0,V[St].g-100),De=!1;else try{L="req"+L+"_"||"";try{var H=gr instanceof Map?gr:Object.entries(gr);for(const[Wi,Ts]of H){let Ss=Ts;a(Ts)&&(Ss=Il(Ts)),gt.push(L+Wi+"="+encodeURIComponent(Ss))}}catch(Wi){throw gt.push(L+"type="+encodeURIComponent("_badmap")),Wi}}catch{A&&A(gr)}}if(De){H=gt.join("&");break e}}H=void 0}return c=c.i.splice(0,x),m.G=c,H}function Z_(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;k||b(),M||(k(),M=!0),C.add(m,c),c.A=0}}function Zp(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Ui(u(c.Da,c),nE(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,eE(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Ui(u(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,mt(10),Zc(this),eE(this))};function em(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function eE(c){c.g=new ws(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=mr(c.na);je(m,"RID","rpc"),je(m,"SID",c.M),je(m,"AID",c.K),je(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&je(m,"TO",c.ia),je(m,"TYPE","xmlhttp"),Ul(c,m),c.u&&c.o&&Xp(m,c.u,c.o),c.O&&(c.g.H=c.O);var x=c.g;c=c.ba,x.M=1,x.A=Yc(mr(m)),x.u=null,x.R=!0,A_(x,c)}t.Va=function(){this.C!=null&&(this.C=null,Zc(this),Zp(this),mt(19))};function td(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function tE(c,m){var x=null;if(c.g==m){td(c),em(c),c.g=null;var A=2}else if(Gp(c.h,m))x=m.G,O_(c.h,m),A=1;else return;if(c.I!=0){if(m.o)if(A==1){x=m.u?m.u.length:0,m=Date.now()-m.F;var V=c.D;A=Wo(),xt(A,new Hn(A,x)),ed(c)}else Z_(c);else if(V=m.m,V==3||V==0&&m.X>0||!(A==1&&CO(c,m)||A==2&&Zp(c)))switch(x&&x.length>0&&(m=c.h,m.i=m.i.concat(x)),V){case 1:zi(c,5);break;case 4:zi(c,10);break;case 3:zi(c,6);break;default:zi(c,2)}}}function nE(c,m){let x=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(x*=2),x*m}function zi(c,m){if(c.j.info("Error code "+m),m==2){var x=u(c.bb,c),A=c.Ua;const V=!A;A=new _s(A||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Nl(A,"https"),Yc(A),V?_O(A.toString(),x):EO(A.toString(),x)}else mt(2);c.I=0,c.l&&c.l.pa(m),rE(c),Y_(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function rE(c){if(c.I=0,c.ja=[],c.l){const m=M_(c.h);(m.length!=0||c.i.length!=0)&&(S(c.ja,m),S(c.ja,c.i),c.h.i.length=0,p(c.i),c.i.length=0),c.l.oa()}}function sE(c,m,x){var A=x instanceof _s?mr(x):new _s(x);if(A.g!="")m&&(A.g=m+"."+A.g),Dl(A,A.u);else{var V=o.location;A=V.protocol,m=m?m+"."+V.hostname:V.hostname,V=+V.port;const L=new _s(null);A&&Nl(L,A),m&&(L.g=m),V&&Dl(L,V),x&&(L.h=x),A=L}return x=c.G,m=c.wa,x&&m&&je(A,x,m),je(A,"VER",c.ka),Ul(c,A),A}function iE(c,m,x){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Ze(new Yp({ab:x})):new Ze(c.ma),m.Fa(c.L),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function oE(){}t=oE.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function nd(){}nd.prototype.g=function(c,m){return new yn(c,m)};function yn(c,m){Ge.call(this),this.g=new Q_(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!D(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!D(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new qo(this)}h(yn,Ge),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Jp(this.g)},yn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var x={};x.__data__=c,c=x}else this.v&&(x={},x.__data__=Il(c),c=x);m.i.push(new hO(m.Ya++,c)),m.I==3&&ed(m)},yn.prototype.N=function(){this.g.l=null,delete this.j,Jp(this.g),delete this.g,yn.Z.N.call(this)};function aE(c){fr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const x in m){c=x;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}h(aE,fr);function lE(){zo.call(this),this.status=1}h(lE,zo);function qo(c){this.g=c}h(qo,oE),qo.prototype.ra=function(){xt(this.g,"a")},qo.prototype.qa=function(c){xt(this.g,new aE(c))},qo.prototype.pa=function(c){xt(this.g,new lE)},qo.prototype.oa=function(){xt(this.g,"b")},nd.prototype.createWebChannel=nd.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,hP=function(){return new nd},dP=function(){return Wo()},cP=on,Ay={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Nn.NO_ERROR=0,Nn.TIMEOUT=8,Nn.HTTP_ERROR=6,rh=Nn,an.COMPLETE="complete",uP=an,Al.EventType=Hr,Hr.OPEN="a",Hr.CLOSE="b",Hr.ERROR="c",Hr.MESSAGE="d",Ge.prototype.listen=Ge.prototype.J,iu=Al,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,lP=Ze}).apply(typeof Cd<"u"?Cd:typeof self<"u"?self:typeof window<"u"?window:{});const pT="@firebase/firestore",mT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=new M0("@firebase/firestore");function Xo(){return Io.logLevel}function K(t,...e){if(Io.logLevel<=we.DEBUG){const n=e.map(j0);Io.debug(`Firestore (${wl}): ${t}`,...n)}}function ds(t,...e){if(Io.logLevel<=we.ERROR){const n=e.map(j0);Io.error(`Firestore (${wl}): ${t}`,...n)}}function Za(t,...e){if(Io.logLevel<=we.WARN){const n=e.map(j0);Io.warn(`Firestore (${wl}): ${t}`,...n)}}function j0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,fP(t,r,n)}function fP(t,e,n){let r=`FIRESTORE (${wl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ds(r),new Error(r)}function Re(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||fP(e,s,r)}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends $r{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class k5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}class N5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class D5{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new mo;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new mo,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new mo)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string",31837,{l:r}),new pP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string",2055,{h:e}),new zt(e)}}class O5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class M5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new O5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class V5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Re(this.o===void 0,3512);const r=i=>{i.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new gT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new gT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=L5(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function _e(t,e){return t<e?-1:t>e?1:0}function Py(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return jm(s)===jm(i)?_e(s,i):jm(s)?1:-1}return _e(t.length,e.length)}const j5=55296,F5=57343;function jm(t){const e=t.charCodeAt(0);return e>=j5&&e<=F5}function el(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="__name__";class wr{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return wr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof wr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=wr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return _e(e.length,n.length)}static compareSegments(e,n){const r=wr.isNumericId(e),s=wr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?wr.extractNumericId(e).compare(wr.extractNumericId(n)):Py(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ci.fromString(e.substring(4,e.length-2))}}class Be extends wr{construct(e,n,r){return new Be(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Be(n)}static emptyPath(){return new Be([])}}const U5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends wr{construct(e,n,r){return new Ot(e,n,r)}static isValidIdentifier(e){return U5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yT}static keyField(){return new Ot([yT])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Z($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Z($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Z($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Z($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(n)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Be.fromString(e))}static fromName(e){return new te(Be.fromString(e).popFirst(5))}static empty(){return new te(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Be(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t,e,n){if(!n)throw new Z($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function B5(t,e,n,r){if(e===!0&&r===!0)throw new Z($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vT(t){if(!te.isDocumentKey(t))throw new Z($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wT(t){if(te.isDocumentKey(t))throw new Z($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gP(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function U0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se(12329,{type:typeof t})}function di(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=U0(t);throw new Z($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t,e){const n={typeString:t};return e&&(n.value=e),n}function Nc(t,e){if(!gP(t))throw new Z($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Z($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=-62135596800,ET=1e6;class $e{static now(){return $e.fromMillis(Date.now())}static fromDate(e){return $e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ET);return new $e(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<_T)throw new Z($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ET}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Nc(e,$e._jsonSchema))return new $e(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_T;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$e._jsonSchemaVersion="firestore/timestamp/1.0",$e._jsonSchema={type:ht("string",$e._jsonSchemaVersion),seconds:ht("number"),nanoseconds:ht("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{static fromTimestamp(e){return new ue(e)}static min(){return new ue(new $e(0,0))}static max(){return new ue(new $e(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=-1;function $5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ue.fromTimestamp(r===1e9?new $e(n+1,0):new $e(n,r));return new _i(s,te.empty(),e)}function z5(t){return new _i(t.readTime,t.key,oc)}class _i{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _i(ue.min(),te.empty(),oc)}static max(){return new _i(ue.max(),te.empty(),oc)}}function W5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==H5)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function G5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function El(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ip.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=-1;function op(t){return t==null}function Yh(t){return t===0&&1/t==-1/0}function K5(t){return typeof t=="number"&&Number.isInteger(t)&&!Yh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP="";function Q5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=xT(e)),e=Y5(t.get(n),e);return xT(e)}function Y5(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case yP:n+="";break;default:n+=i}}return n}function xT(t){return t+yP+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Oi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){this.comparator=e,this.root=n||Dt.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Id(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Id(this.root,e,this.comparator,!1)}getReverseIterator(){return new Id(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Id(this.root,e,this.comparator,!0)}}class Id{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Dt.RED,this.left=s??Dt.EMPTY,this.right=i??Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Dt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Dt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw se(27949);return e+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Dt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ST(this.data.getIterator())}getIteratorFrom(e){return new ST(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Et(this.comparator);return n.data=e,n}}class ST{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new En([])}unionWith(e){let n=new Et(Ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new En(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return el(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new wP("Invalid base64 string: "+i):i}}(e);return new Lt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const X5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ei(t){if(Re(!!t,39018),typeof t=="string"){let e=0;const n=X5.exec(t);if(Re(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ot(t.seconds),nanos:ot(t.nanos)}}function ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xi(t){return typeof t=="string"?Lt.fromBase64String(t):Lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P="server_timestamp",EP="__type__",xP="__previous_value__",TP="__local_write_time__";function $0(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[EP])==null?void 0:r.stringValue)===_P}function ap(t){const e=t.mapValue.fields[xP];return $0(e)?ap(e):e}function ac(t){const e=Ei(t.mapValue.fields[TP].timestampValue);return new $e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e,n,r,s,i,o,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const Xh="(default)";class lc{constructor(e,n){this.projectId=e,this.database=n||Xh}static empty(){return new lc("","")}get isDefaultDatabase(){return this.database===Xh}isEqual(e){return e instanceof lc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP="__type__",Z5="__max__",Ad={mapValue:{}},bP="__vector__",Jh="value";function Ti(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$0(t)?4:t3(t)?9007199254740991:e3(t)?10:11:se(28295,{value:t})}function Fr(t,e){if(t===e)return!0;const n=Ti(t);if(n!==Ti(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ac(t).isEqual(ac(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ei(s.timestampValue),a=Ei(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return xi(s.bytesValue).isEqual(xi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ot(s.geoPointValue.latitude)===ot(i.geoPointValue.latitude)&&ot(s.geoPointValue.longitude)===ot(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ot(s.integerValue)===ot(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ot(s.doubleValue),a=ot(i.doubleValue);return o===a?Yh(o)===Yh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return el(t.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(TT(o)!==TT(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Fr(o[l],a[l])))return!1;return!0}(t,e);default:return se(52216,{left:t})}}function uc(t,e){return(t.values||[]).find(n=>Fr(n,e))!==void 0}function tl(t,e){if(t===e)return 0;const n=Ti(t),r=Ti(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ot(i.integerValue||i.doubleValue),l=ot(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return bT(t.timestampValue,e.timestampValue);case 4:return bT(ac(t),ac(e));case 5:return Py(t.stringValue,e.stringValue);case 6:return function(i,o){const a=xi(i),l=xi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=_e(a[u],l[u]);if(d!==0)return d}return _e(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=_e(ot(i.latitude),ot(o.latitude));return a!==0?a:_e(ot(i.longitude),ot(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return CT(t.arrayValue,e.arrayValue);case 10:return function(i,o){var f,p,S,g;const a=i.fields||{},l=o.fields||{},u=(f=a[Jh])==null?void 0:f.arrayValue,d=(p=l[Jh])==null?void 0:p.arrayValue,h=_e(((S=u==null?void 0:u.values)==null?void 0:S.length)||0,((g=d==null?void 0:d.values)==null?void 0:g.length)||0);return h!==0?h:CT(u,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Ad.mapValue&&o===Ad.mapValue)return 0;if(i===Ad.mapValue)return 1;if(o===Ad.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=Py(l[h],d[h]);if(f!==0)return f;const p=tl(a[l[h]],u[d[h]]);if(p!==0)return p}return _e(l.length,d.length)}(t.mapValue,e.mapValue);default:throw se(23264,{he:n})}}function bT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);const n=Ei(t),r=Ei(e),s=_e(n.seconds,r.seconds);return s!==0?s:_e(n.nanos,r.nanos)}function CT(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=tl(n[s],r[s]);if(i)return i}return _e(n.length,r.length)}function nl(t){return Ry(t)}function Ry(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ei(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Ry(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Ry(n.fields[o])}`;return s+"}"}(t.mapValue):se(61005,{value:t})}function sh(t){switch(Ti(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ap(t);return e?16+sh(e):16;case 5:return 2*t.stringValue.length;case 6:return xi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+sh(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Oi(r.fields,(i,o)=>{s+=i.length+sh(o)}),s}(t.mapValue);default:throw se(13486,{value:t})}}function ky(t){return!!t&&"integerValue"in t}function z0(t){return!!t&&"arrayValue"in t}function IT(t){return!!t&&"nullValue"in t}function AT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ih(t){return!!t&&"mapValue"in t}function e3(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[SP])==null?void 0:r.stringValue)===bP}function Su(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Oi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Su(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Su(t.arrayValue.values[n]);return e}return{...t}}function t3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Z5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Su(n)}setAll(e){let n=Ot.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Su(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];ih(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Oi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new dn(Su(this.value))}}function CP(t){const e=[];return Oi(t.fields,(n,r)=>{const s=new Ot([n]);if(ih(r)){const i=CP(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new En(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ht(e,0,ue.min(),ue.min(),ue.min(),dn.empty(),0)}static newFoundDocument(e,n,r,s){return new Ht(e,1,n,ue.min(),r,s,0)}static newNoDocument(e,n){return new Ht(e,2,n,ue.min(),ue.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Ht(e,3,n,ue.min(),ue.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n){this.position=e,this.inclusive=n}}function PT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=tl(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function RT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n="asc"){this.field=e,this.dir=n}}function n3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{}class vt extends IP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new s3(e,n,r):n==="array-contains"?new a3(e,r):n==="in"?new l3(e,r):n==="not-in"?new u3(e,r):n==="array-contains-any"?new c3(e,r):new vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new i3(e,r):new o3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(tl(n,this.value)):n!==null&&Ti(this.value)===Ti(n)&&this.matchesComparison(tl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ur extends IP{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ur(e,n)}matches(e){return AP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function AP(t){return t.op==="and"}function PP(t){return r3(t)&&AP(t)}function r3(t){for(const e of t.filters)if(e instanceof Ur)return!1;return!0}function Ny(t){if(t instanceof vt)return t.field.canonicalString()+t.op.toString()+nl(t.value);if(PP(t))return t.filters.map(e=>Ny(e)).join(",");{const e=t.filters.map(n=>Ny(n)).join(",");return`${t.op}(${e})`}}function RP(t,e){return t instanceof vt?function(r,s){return s instanceof vt&&r.op===s.op&&r.field.isEqual(s.field)&&Fr(r.value,s.value)}(t,e):t instanceof Ur?function(r,s){return s instanceof Ur&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&RP(o,s.filters[a]),!0):!1}(t,e):void se(19439)}function kP(t){return t instanceof vt?function(n){return`${n.field.canonicalString()} ${n.op} ${nl(n.value)}`}(t):t instanceof Ur?function(n){return n.op.toString()+" {"+n.getFilters().map(kP).join(" ,")+"}"}(t):"Filter"}class s3 extends vt{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class i3 extends vt{constructor(e,n){super(e,"in",n),this.keys=NP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class o3 extends vt{constructor(e,n){super(e,"not-in",n),this.keys=NP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function NP(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class a3 extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return z0(n)&&uc(n.arrayValue,this.value)}}class l3 extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uc(this.value.arrayValue,n)}}class u3 extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!uc(this.value.arrayValue,n)}}class c3 extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!z0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>uc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function kT(t,e=null,n=[],r=[],s=null,i=null,o=null){return new d3(t,e,n,r,s,i,o)}function W0(t){const e=de(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ny(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),op(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nl(r)).join(",")),e.Te=n}return e.Te}function H0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!n3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!RP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!RT(t.startAt,e.startAt)&&RT(t.endAt,e.endAt)}function Dy(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function h3(t,e,n,r,s,i,o,a){return new lp(t,e,n,r,s,i,o,a)}function q0(t){return new lp(t)}function NT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function f3(t){return t.collectionGroup!==null}function bu(t){const e=de(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Et(Ot.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new ef(i,r))}),n.has(Ot.keyField().canonicalString())||e.Ie.push(new ef(Ot.keyField(),r))}return e.Ie}function Rr(t){const e=de(t);return e.Ee||(e.Ee=p3(e,bu(t))),e.Ee}function p3(t,e){if(t.limitType==="F")return kT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ef(s.field,i)});const n=t.endAt?new Zh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Zh(t.startAt.position,t.startAt.inclusive):null;return kT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Oy(t,e,n){return new lp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function up(t,e){return H0(Rr(t),Rr(e))&&t.limitType===e.limitType}function DP(t){return`${W0(Rr(t))}|lt:${t.limitType}`}function Jo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>kP(s)).join(", ")}]`),op(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>nl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>nl(s)).join(",")),`Target(${r})`}(Rr(t))}; limitType=${t.limitType})`}function cp(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):te.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of bu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=PT(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,bu(r),s)||r.endAt&&!function(o,a,l){const u=PT(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,bu(r),s))}(t,e)}function m3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OP(t){return(e,n)=>{let r=!1;for(const s of bu(t)){const i=g3(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function g3(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?tl(l,u):se(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Oi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return vP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=new Je(te.comparator);function hs(){return y3}const MP=new Je(te.comparator);function ou(...t){let e=MP;for(const n of t)e=e.insert(n.key,n);return e}function VP(t){let e=MP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ro(){return Cu()}function LP(){return Cu()}function Cu(){return new Fo(t=>t.toString(),(t,e)=>t.isEqual(e))}const v3=new Je(te.comparator),w3=new Et(te.comparator);function Ee(...t){let e=w3;for(const n of t)e=e.add(n);return e}const _3=new Et(_e);function E3(){return _3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yh(e)?"-0":e}}function jP(t){return{integerValue:""+t}}function x3(t,e){return K5(e)?jP(e):G0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(){this._=void 0}}function T3(t,e,n){return t instanceof tf?function(s,i){const o={fields:{[EP]:{stringValue:_P},[TP]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&$0(i)&&(i=ap(i)),i&&(o.fields[xP]=i),{mapValue:o}}(n,e):t instanceof cc?UP(t,e):t instanceof dc?BP(t,e):function(s,i){const o=FP(s,i),a=DT(o)+DT(s.Ae);return ky(o)&&ky(s.Ae)?jP(a):G0(s.serializer,a)}(t,e)}function S3(t,e,n){return t instanceof cc?UP(t,e):t instanceof dc?BP(t,e):n}function FP(t,e){return t instanceof nf?function(r){return ky(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class tf extends dp{}class cc extends dp{constructor(e){super(),this.elements=e}}function UP(t,e){const n=$P(e);for(const r of t.elements)n.some(s=>Fr(s,r))||n.push(r);return{arrayValue:{values:n}}}class dc extends dp{constructor(e){super(),this.elements=e}}function BP(t,e){let n=$P(e);for(const r of t.elements)n=n.filter(s=>!Fr(s,r));return{arrayValue:{values:n}}}class nf extends dp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function DT(t){return ot(t.integerValue||t.doubleValue)}function $P(t){return z0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function b3(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof cc&&s instanceof cc||r instanceof dc&&s instanceof dc?el(r.elements,s.elements,Fr):r instanceof nf&&s instanceof nf?Fr(r.Ae,s.Ae):r instanceof tf&&s instanceof tf}(t.transform,e.transform)}class C3{constructor(e,n){this.version=e,this.transformResults=n}}class bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bn}static exists(e){return new bn(void 0,e)}static updateTime(e){return new bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hp{}function zP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new fp(t.key,bn.none()):new Dc(t.key,t.data,bn.none());{const n=t.data,r=dn.empty();let s=new Et(Ot.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Mi(t.key,r,new En(s.toArray()),bn.none())}}function I3(t,e,n){t instanceof Dc?function(s,i,o){const a=s.value.clone(),l=MT(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Mi?function(s,i,o){if(!oh(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=MT(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(WP(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Iu(t,e,n,r){return t instanceof Dc?function(i,o,a,l){if(!oh(i.precondition,o))return a;const u=i.value.clone(),d=VT(i.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Mi?function(i,o,a,l){if(!oh(i.precondition,o))return a;const u=VT(i.fieldTransforms,l,o),d=o.data;return d.setAll(WP(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return oh(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function A3(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=FP(r.transform,s||null);i!=null&&(n===null&&(n=dn.empty()),n.set(r.field,i))}return n||null}function OT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&el(r,s,(i,o)=>b3(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Dc extends hp{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Mi extends hp{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function WP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function MT(t,e,n){const r=new Map;Re(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,S3(o,a,n[s]))}return r}function VT(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,T3(i,o,e))}return r}class fp extends hp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class P3 extends hp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&I3(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Iu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Iu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=LP();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=zP(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&el(this.mutations,e.mutations,(n,r)=>OT(n,r))&&el(this.baseMutations,e.baseMutations,(n,r)=>OT(n,r))}}class K0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Re(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return v3}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new K0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k3=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,Se;function D3(t){switch(t){case $.OK:return se(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return se(15467,{code:t})}}function HP(t){if(t===void 0)return ds("GRPC error has no .code"),$.UNKNOWN;switch(t){case ct.OK:return $.OK;case ct.CANCELLED:return $.CANCELLED;case ct.UNKNOWN:return $.UNKNOWN;case ct.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case ct.INTERNAL:return $.INTERNAL;case ct.UNAVAILABLE:return $.UNAVAILABLE;case ct.UNAUTHENTICATED:return $.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case ct.NOT_FOUND:return $.NOT_FOUND;case ct.ALREADY_EXISTS:return $.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return $.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case ct.ABORTED:return $.ABORTED;case ct.OUT_OF_RANGE:return $.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return $.UNIMPLEMENTED;case ct.DATA_LOSS:return $.DATA_LOSS;default:return se(39323,{code:t})}}(Se=ct||(ct={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=new ci([4294967295,4294967295],0);function LT(t){const e=O3().encode(t),n=new aP;return n.update(e),new Uint8Array(n.digest())}function jT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ci([n,r],0),new ci([s,i],0)]}class Q0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new au(`Invalid padding: ${n}`);if(r<0)throw new au(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new au(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ci.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(ci.fromNumber(r)));return s.compare(M3)===1&&(s=new ci([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=LT(e),[r,s]=jT(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Q0(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=LT(e),[r,s]=jT(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Oc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new pp(ue.min(),s,new Je(_e),hs(),Ee())}}class Oc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Oc(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class qP{constructor(e,n){this.targetId=e,this.Ce=n}}class GP{constructor(e,n,r=Lt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class FT{constructor(){this.ve=0,this.Fe=UT(),this.Me=Lt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ee(),n=Ee(),r=Ee();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:se(38017,{changeType:i})}}),new Oc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=UT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Re(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class V3{constructor(e){this.Ge=e,this.ze=new Map,this.je=hs(),this.Je=Pd(),this.He=Pd(),this.Ye=new Je(_e)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Dy(i))if(r===0){const o=new te(i.path);this.et(n,o,Ht.newNoDocument(o,ue.min()))}else Re(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=xi(r).toUint8Array()}catch(l){if(l instanceof wP)return Za("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Q0(o,s,i)}catch(l){return Za(l instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Dy(a.target)){const l=new te(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Ht.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=Ee();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new pp(e,n,this.Ye,this.je,r);return this.je=hs(),this.Je=Pd(),this.He=Pd(),this.Ye=new Je(_e),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new FT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Et(_e),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Et(_e),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new FT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Pd(){return new Je(te.comparator)}function UT(){return new Je(te.comparator)}const L3={asc:"ASCENDING",desc:"DESCENDING"},j3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},F3={and:"AND",or:"OR"};class U3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function My(t,e){return t.useProto3Json||op(e)?e:{value:e}}function rf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function B3(t,e){return rf(t,e.toTimestamp())}function kr(t){return Re(!!t,49232),ue.fromTimestamp(function(n){const r=Ei(n);return new $e(r.seconds,r.nanos)}(t))}function Y0(t,e){return Vy(t,e).canonicalString()}function Vy(t,e){const n=function(s){return new Be(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function QP(t){const e=Be.fromString(t);return Re(eR(e),10190,{key:e.toString()}),e}function Ly(t,e){return Y0(t.databaseId,e.path)}function Fm(t,e){const n=QP(e);if(n.get(1)!==t.databaseId.projectId)throw new Z($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(XP(n))}function YP(t,e){return Y0(t.databaseId,e)}function $3(t){const e=QP(t);return e.length===4?Be.emptyPath():XP(e)}function jy(t){return new Be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function XP(t){return Re(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function BT(t,e,n){return{name:Ly(t,e),fields:n.value.mapValue.fields}}function z3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:se(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(Re(d===void 0||typeof d=="string",58123),Lt.fromBase64String(d||"")):(Re(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Lt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?$.UNKNOWN:HP(u.code);return new Z(d,u.message||"")}(o);n=new GP(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Fm(t,r.document.name),i=kr(r.document.updateTime),o=r.document.createTime?kr(r.document.createTime):ue.min(),a=new dn({mapValue:{fields:r.document.fields}}),l=Ht.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new ah(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Fm(t,r.document),i=r.readTime?kr(r.readTime):ue.min(),o=Ht.newNoDocument(s,i),a=r.removedTargetIds||[];n=new ah([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Fm(t,r.document),i=r.removedTargetIds||[];n=new ah([],i,s,null)}else{if(!("filter"in e))return se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new N3(s,i),a=r.targetId;n=new qP(a,o)}}return n}function W3(t,e){let n;if(e instanceof Dc)n={update:BT(t,e.key,e.value)};else if(e instanceof fp)n={delete:Ly(t,e.key)};else if(e instanceof Mi)n={update:BT(t,e.key,e.data),updateMask:Z3(e.fieldMask)};else{if(!(e instanceof P3))return se(16599,{Vt:e.type});n={verify:Ly(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof tf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof cc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof dc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof nf)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw se(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:B3(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:se(27497)}(t,e.precondition)),n}function H3(t,e){return t&&t.length>0?(Re(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?kr(s.updateTime):kr(i);return o.isEqual(ue.min())&&(o=kr(i)),new C3(o,s.transformResults||[])}(n,e))):[]}function q3(t,e){return{documents:[YP(t,e.path)]}}function G3(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=YP(t,s);const i=function(u){if(u.length!==0)return ZP(Ur.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:Zo(f.field),direction:Y3(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=My(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function K3(t){let e=$3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Re(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const f=JP(h);return f instanceof Ur&&PP(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(S){return new ef(ea(S.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,op(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new Zh(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new Zh(p,f)}(n.endAt)),h3(e,s,o,i,a,"F",l,u)}function Q3(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ea(n.unaryFilter.field);return vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ea(n.unaryFilter.field);return vt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ea(n.unaryFilter.field);return vt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ea(n.unaryFilter.field);return vt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}}(t):t.fieldFilter!==void 0?function(n){return vt.create(ea(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ur.create(n.compositeFilter.filters.map(r=>JP(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return se(1026)}}(n.compositeFilter.op))}(t):se(30097,{filter:t})}function Y3(t){return L3[t]}function X3(t){return j3[t]}function J3(t){return F3[t]}function Zo(t){return{fieldPath:t.canonicalString()}}function ea(t){return Ot.fromServerFormat(t.fieldPath)}function ZP(t){return t instanceof vt?function(n){if(n.op==="=="){if(AT(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NAN"}};if(IT(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(AT(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NOT_NAN"}};if(IT(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zo(n.field),op:X3(n.op),value:n.value}}}(t):t instanceof Ur?function(n){const r=n.getFilters().map(s=>ZP(s));return r.length===1?r[0]:{compositeFilter:{op:J3(n.op),filters:r}}}(t):se(54877,{filter:t})}function Z3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function eR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n,r,s,i=ue.min(),o=ue.min(),a=Lt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e){this.yt=e}}function tB(t){const e=K3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Oy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(){this.Cn=new rB}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(_i.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(_i.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class rB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Et(Be.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Et(Be.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tR=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(tR,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new rl(0)}static cr(){return new rl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="LruGarbageCollector",sB=1048576;function WT([t,e],[n,r]){const s=_e(t,n);return s===0?_e(e,r):s}class iB{constructor(e){this.Ir=e,this.buffer=new Et(WT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();WT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class oB{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){K(zT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){El(n)?K(zT,"Ignoring IndexedDB error during garbage collection: ",n):await _l(n)}await this.Vr(3e5)})}}class aB{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(ip.ce);const r=new iB(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve($T)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$T):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),Xo()<=we.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function lB(t,e){return new aB(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(){this.changes=new Fo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Iu(r.mutation,s,En.empty(),$e.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const s=ro();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ou();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ro();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=hs();const o=Cu(),a=function(){return Cu()}();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof Mi)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Iu(d.mutation,u,d.mutation.getFieldMask(),$e.now())):o.set(u.key,En.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>a.set(u,new cB(d,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Cu();let s=new Je((o,a)=>o-a),i=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||En.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(s.get(a.batchId)||Ee()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=LP();d.forEach(f=>{if(!i.has(f)){const p=zP(n.get(f),r.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):f3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(ro());let a=oc,l=i;return o.next(u=>B.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,Ee())).next(d=>({batchId:a,changes:VP(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let s=ou();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ou();return this.indexManager.getCollectionParents(e,i).next(a=>B.forEach(a,l=>{const u=function(h,f){return new lp(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Ht.newInvalidDocument(d)))});let a=ou();return o.forEach((l,u)=>{const d=i.get(l);d!==void 0&&Iu(d.mutation,u,En.empty(),$e.now()),cp(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:kr(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:tB(s.bundledQuery),readTime:kr(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(){this.overlays=new Je(te.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ro();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=ro(),i=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Je((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=ro(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=ro(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return B.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new k3(n,r));let i=this.qr.get(n);i===void 0&&(i=Ee(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(){this.Qr=new Et(Ct.$r),this.Ur=new Et(Ct.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ct(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Ct(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new te(new Be([])),r=new Ct(n,e),s=new Ct(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new te(new Be([])),r=new Ct(n,e),s=new Ct(n,e+1);let i=Ee();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ct(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ct{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return te.comparator(e.key,n.key)||_e(e.Yr,n.Yr)}static Kr(e,n){return _e(e.Yr,n.Yr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Et(Ct.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new R3(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new Ct(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?B0:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ct(n,0),s=new Ct(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Et(_e);return n.forEach(s=>{const i=new Ct(s,0),o=new Ct(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;te.isDocumentKey(i)||(i=i.child(""));const o=new Ct(new te(i),0);let a=new Et(_e);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Yr)),!0)},o),B.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Re(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,s=>{const i=new Ct(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Ct(n,0),s=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(e){this.ri=e,this.docs=function(){return new Je(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let r=hs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ht.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=hs();const o=n.path,a=new te(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||W5(z5(d),r)<=0||(s.has(d.key)||cp(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){se(9500)}ii(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new yB(this)}getSize(e){return B.resolve(this.size)}}class yB extends uB{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e){this.persistence=e,this.si=new Fo(n=>W0(n),H0),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.oi=0,this._i=new X0,this.targetCount=0,this.ai=rl.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new rl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,n){this.ui={},this.overlays={},this.ci=new ip(0),this.li=!1,this.li=!0,this.hi=new pB,this.referenceDelegate=e(this),this.Pi=new vB(this),this.indexManager=new nB,this.remoteDocumentCache=function(s){return new gB(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new eB(n),this.Ii=new hB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new mB(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const s=new wB(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return B.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class wB extends q5{constructor(e){super(),this.currentSequenceNumber=e}}class J0{constructor(e){this.persistence=e,this.Ri=new X0,this.Vi=null}static mi(e){return new J0(e)}get fi(){if(this.Vi)return this.Vi;throw se(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,r=>{const s=te.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ue.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class sf{constructor(e,n){this.persistence=e,this.pi=new Fo(r=>Q5(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=lB(this,n)}static mi(e,n){return new sf(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return B.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?B.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ue.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sh(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return B.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ee(),s=Ee();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Z0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return d6()?8:G5(Qt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new _B;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Xo()<=we.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",Jo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(Xo()<=we.DEBUG&&K("QueryEngine","Query:",Jo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Xo()<=we.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",Jo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rr(n))):B.resolve())}ys(e,n){if(NT(n))return B.resolve(null);let r=Rr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Oy(n,null,"F"),r=Rr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ee(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(e,Oy(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,s){return NT(n)||s.isEqual(ue.min())?B.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?B.resolve(null):(Xo()<=we.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Jo(n)),this.vs(e,o,n,$5(s,oc)).next(a=>a))})}Ds(e,n){let r=new Et(OP(e));return n.forEach((s,i)=>{cp(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Xo()<=we.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",Jo(n)),this.ps.getDocumentsMatchingQuery(e,n,_i.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="LocalStore",xB=3e8;class TB{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Je(_e),this.xs=new Fo(i=>W0(i),H0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dB(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function SB(t,e,n,r){return new TB(t,e,n,r)}async function rR(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ee();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function bB(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,f=h.keys();let p=B.resolve();return f.forEach(S=>{p=p.next(()=>d.getEntry(l,S)).next(g=>{const _=u.docVersions.get(S);Re(_!==null,48541),g.version.compareTo(_)<0&&(h.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),d.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ee();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function sR(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function CB(t,e){const n=de(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,h)=>{const f=s.get(h);if(!f)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Lt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),s=s.insert(h,p),function(g,_,w){return g.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=xB?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,p,d)&&a.push(n.Pi.updateTargetData(i,p))});let l=hs(),u=Ee();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(IB(i,o,e.documentUpdates).next(d=>{l=d.ks,u=d.qs})),!r.isEqual(ue.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(h=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return B.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.Ms=s,i))}function IB(t,e,n){let r=Ee(),s=Ee();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=hs();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ue.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):K(ew,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:s}})}function AB(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=B0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function PB(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Xs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Fy(t,e,n){const r=de(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!El(o))throw o;K(ew,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function HT(t,e,n){const r=de(t);let s=ue.min(),i=Ee();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=de(l),f=h.xs.get(d);return f!==void 0?B.resolve(h.Ms.get(f)):h.Pi.getTargetData(u,d)}(r,o,Rr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ue.min(),n?i:Ee())).next(a=>(RB(r,m3(e),a),{documents:a,Qs:i})))}function RB(t,e,n){let r=t.Os.get(e)||ue.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class qT{constructor(){this.activeTargetIds=E3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kB{constructor(){this.Mo=new qT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new qT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="ConnectivityMonitor";class KT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){K(GT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){K(GT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rd=null;function Uy(){return Rd===null?Rd=function(){return 268435456+Math.round(2147483648*Math.random())}():Rd++,"0x"+Rd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="RestConnection",DB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OB{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Xh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Uy(),a=this.zo(e,n.toUriEncodedString());K(Um,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:u}=new URL(a),d=Di(u);return this.Jo(e,a,l,r,d).then(h=>(K(Um,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Za(Um,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=DB[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class VB extends OB{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Uy();return new Promise((a,l)=>{const u=new lP;u.setWithCredentials(!0),u.listenOnce(uP.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case rh.NO_ERROR:const h=u.getResponseJson();K(Bt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case rh.TIMEOUT:K(Bt,`RPC '${e}' ${o} timed out`),l(new Z($.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const f=u.getStatus();if(K(Bt,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const S=p==null?void 0:p.error;if(S&&S.status&&S.message){const g=function(w){const v=w.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(v)>=0?v:$.UNKNOWN}(S.status);l(new Z(g,S.message))}else l(new Z($.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Z($.UNAVAILABLE,"Connection failed."));break;default:se(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{K(Bt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);K(Bt,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=Uy(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=hP(),a=dP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");K(Bt,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);this.I_(h);let f=!1,p=!1;const S=new MB({Yo:_=>{p?K(Bt,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(f||(K(Bt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),K(Bt,`RPC '${e}' stream ${s} sending:`,_),h.send(_))},Zo:()=>h.close()}),g=(_,w,v)=>{_.listen(w,T=>{try{v(T)}catch(P){setTimeout(()=>{throw P},0)}})};return g(h,iu.EventType.OPEN,()=>{p||(K(Bt,`RPC '${e}' stream ${s} transport opened.`),S.o_())}),g(h,iu.EventType.CLOSE,()=>{p||(p=!0,K(Bt,`RPC '${e}' stream ${s} transport closed`),S.a_(),this.E_(h))}),g(h,iu.EventType.ERROR,_=>{p||(p=!0,Za(Bt,`RPC '${e}' stream ${s} transport errored. Name:`,_.name,"Message:",_.message),S.a_(new Z($.UNAVAILABLE,"The operation could not be completed")))}),g(h,iu.EventType.MESSAGE,_=>{var w;if(!p){const v=_.data[0];Re(!!v,16349);const T=v,P=(T==null?void 0:T.error)||((w=T[0])==null?void 0:w.error);if(P){K(Bt,`RPC '${e}' stream ${s} received error:`,P);const k=P.status;let M=function(I){const R=ct[I];if(R!==void 0)return HP(R)}(k),C=P.message;M===void 0&&(M=$.INTERNAL,C="Unknown error status: "+k+" with message "+P.message),p=!0,S.a_(new Z(M,C)),h.close()}else K(Bt,`RPC '${e}' stream ${s} received:`,v),S.u_(v)}}),g(a,cP.STAT_EVENT,_=>{_.stat===Ay.PROXY?K(Bt,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===Ay.NOPROXY&&K(Bt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Bm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(t){return new U3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&K("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="PersistentStream";class oR{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new iR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(ds(n.toString()),ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Z($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return K(QT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(K(QT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LB extends oR{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=z3(this.serializer,e),r=function(i){if(!("targetChange"in i))return ue.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?kr(o.readTime):ue.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=jy(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Dy(l)?{documents:q3(i,l)}:{query:G3(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=KP(i,o.resumeToken);const u=My(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ue.min())>0){a.readTime=rf(i,o.snapshotVersion.toTimestamp());const u=My(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Q3(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=jy(this.serializer),n.removeTarget=e,this.q_(n)}}class jB extends oR{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Re(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Re(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=H3(e.writeResults,e.commitTime),r=kr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=jy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>W3(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{}class UB extends FB{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Z($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Vy(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Z($.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Vy(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z($.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class BB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ds(n),this.aa=!1):K("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="RemoteStore";class $B{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Uo(this)&&(K(Ao,"Restarting streams for network reachability change."),await async function(l){const u=de(l);u.Ea.add(4),await Mc(u),u.Ra.set("Unknown"),u.Ea.delete(4),await gp(u)}(this))})}),this.Ra=new BB(r,s)}}async function gp(t){if(Uo(t))for(const e of t.da)await e(!0)}async function Mc(t){for(const e of t.da)await e(!1)}function aR(t,e){const n=de(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),sw(n)?rw(n):xl(n).O_()&&nw(n,e))}function tw(t,e){const n=de(t),r=xl(n);n.Ia.delete(e),r.O_()&&lR(n,e),n.Ia.size===0&&(r.O_()?r.L_():Uo(n)&&n.Ra.set("Unknown"))}function nw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xl(t).Y_(e)}function lR(t,e){t.Va.Ue(e),xl(t).Z_(e)}function rw(t){t.Va=new V3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),xl(t).start(),t.Ra.ua()}function sw(t){return Uo(t)&&!xl(t).x_()&&t.Ia.size>0}function Uo(t){return de(t).Ea.size===0}function uR(t){t.Va=void 0}async function zB(t){t.Ra.set("Online")}async function WB(t){t.Ia.forEach((e,n)=>{nw(t,e)})}async function HB(t,e){uR(t),sw(t)?(t.Ra.ha(e),rw(t)):t.Ra.set("Unknown")}async function qB(t,e,n){if(t.Ra.set("Online"),e instanceof GP&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){K(Ao,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await of(t,r)}else if(e instanceof ah?t.Va.Ze(e):e instanceof qP?t.Va.st(e):t.Va.tt(e),!n.isEqual(ue.min()))try{const r=await sR(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ia.get(u);d&&i.Ia.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=i.Ia.get(l);if(!d)return;i.Ia.set(l,d.withResumeToken(Lt.EMPTY_BYTE_STRING,d.snapshotVersion)),lR(i,l);const h=new Xs(d.target,l,u,d.sequenceNumber);nw(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){K(Ao,"Failed to raise snapshot:",r),await of(t,r)}}async function of(t,e,n){if(!El(e))throw e;t.Ea.add(1),await Mc(t),t.Ra.set("Offline"),n||(n=()=>sR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K(Ao,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await gp(t)})}function cR(t,e){return e().catch(n=>of(t,n,e))}async function yp(t){const e=de(t),n=Si(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:B0;for(;GB(e);)try{const s=await AB(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,KB(e,s)}catch(s){await of(e,s)}dR(e)&&hR(e)}function GB(t){return Uo(t)&&t.Ta.length<10}function KB(t,e){t.Ta.push(e);const n=Si(t);n.O_()&&n.X_&&n.ea(e.mutations)}function dR(t){return Uo(t)&&!Si(t).x_()&&t.Ta.length>0}function hR(t){Si(t).start()}async function QB(t){Si(t).ra()}async function YB(t){const e=Si(t);for(const n of t.Ta)e.ea(n.mutations)}async function XB(t,e,n){const r=t.Ta.shift(),s=K0.from(r,e,n);await cR(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await yp(t)}async function JB(t,e){e&&Si(t).X_&&await async function(r,s){if(function(o){return D3(o)&&o!==$.ABORTED}(s.code)){const i=r.Ta.shift();Si(r).B_(),await cR(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await yp(r)}}(t,e),dR(t)&&hR(t)}async function YT(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),K(Ao,"RemoteStore received new credentials");const r=Uo(n);n.Ea.add(3),await Mc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await gp(n)}async function ZB(t,e){const n=de(t);e?(n.Ea.delete(2),await gp(n)):e||(n.Ea.add(2),await Mc(n),n.Ra.set("Unknown"))}function xl(t){return t.ma||(t.ma=function(n,r,s){const i=de(n);return i.sa(),new LB(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:zB.bind(null,t),t_:WB.bind(null,t),r_:HB.bind(null,t),H_:qB.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),sw(t)?rw(t):t.Ra.set("Unknown")):(await t.ma.stop(),uR(t))})),t.ma}function Si(t){return t.fa||(t.fa=function(n,r,s){const i=de(n);return i.sa(),new jB(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:QB.bind(null,t),r_:JB.bind(null,t),ta:YB.bind(null,t),na:XB.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await yp(t)):(await t.fa.stop(),t.Ta.length>0&&(K(Ao,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new mo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new iw(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ow(t,e){if(ds("AsyncQueue",`${e}: ${t}`),El(t))return new Z($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{static emptySet(e){return new Ra(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=ou(),this.sortedSet=new Je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ra)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ra;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(){this.ga=new Je(te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class sl{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new sl(e,n,Ra.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&up(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class t9{constructor(){this.queries=JT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=de(n),i=s.queries;s.queries=JT(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Z($.ABORTED,"Firestore shutting down"))}}function JT(){return new Fo(t=>DP(t),up)}async function n9(t,e){const n=de(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new e9,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=ow(o,`Initialization of query '${Jo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&aw(n)}async function r9(t,e){const n=de(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function s9(t,e){const n=de(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&aw(n)}function i9(t,e,n){const r=de(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function aw(t){t.Ca.forEach(e=>{e.next()})}var By,ZT;(ZT=By||(By={})).Ma="default",ZT.Cache="cache";class o9{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new sl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==By.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.key=e}}class pR{constructor(e){this.key=e}}class a9{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ee(),this.mutatedKeys=Ee(),this.eu=OP(e),this.tu=new Ra(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new XT,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const f=s.get(d),p=cp(this.query,h)?h:null,S=!!f&&this.mutatedKeys.has(f.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let _=!1;f&&p?f.data.isEqual(p.data)?S!==g&&(r.track({type:3,doc:p}),_=!0):this.su(f,p)||(r.track({type:2,doc:p}),_=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),_=!0):f&&!p&&(r.track({type:1,doc:f}),_=!0,(l||u)&&(a=!0)),_&&(p?(o=o.add(p),i=g?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(p,S){const g=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{Rt:_})}};return g(p)-g(S)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new sl(this.query,e.tu,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new XT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ee(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new pR(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new fR(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ee();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const lw="SyncEngine";class l9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class u9{constructor(e){this.key=e,this.hu=!1}}class c9{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Fo(a=>DP(a),up),this.Iu=new Map,this.Eu=new Set,this.du=new Je(te.comparator),this.Au=new Map,this.Ru=new X0,this.Vu={},this.mu=new Map,this.fu=rl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function d9(t,e,n=!0){const r=_R(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await mR(r,e,n,!0),s}async function h9(t,e){const n=_R(t);await mR(n,e,!0,!1)}async function mR(t,e,n,r){const s=await PB(t.localStore,Rr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await f9(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&aR(t.remoteStore,s),a}async function f9(t,e,n,r,s){t.pu=(h,f,p)=>async function(g,_,w,v){let T=_.view.ru(w);T.Cs&&(T=await HT(g.localStore,_.query,!1).then(({documents:C})=>_.view.ru(C,T)));const P=v&&v.targetChanges.get(_.targetId),k=v&&v.targetMismatches.get(_.targetId)!=null,M=_.view.applyChanges(T,g.isPrimaryClient,P,k);return tS(g,_.targetId,M.au),M.snapshot}(t,h,f,p);const i=await HT(t.localStore,e,!0),o=new a9(e,i.Qs),a=o.ru(i.documents),l=Oc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);tS(t,n,u.au);const d=new l9(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function p9(t,e,n){const r=de(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!up(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Fy(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&tw(r.remoteStore,s.targetId),$y(r,s.targetId)}).catch(_l)):($y(r,s.targetId),await Fy(r.localStore,s.targetId,!0))}async function m9(t,e){const n=de(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),tw(n.remoteStore,r.targetId))}async function g9(t,e,n){const r=T9(t);try{const s=await function(o,a){const l=de(o),u=$e.now(),d=a.reduce((p,S)=>p.add(S.key),Ee());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let S=hs(),g=Ee();return l.Ns.getEntries(p,d).next(_=>{S=_,S.forEach((w,v)=>{v.isValidDocument()||(g=g.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,S)).next(_=>{h=_;const w=[];for(const v of a){const T=A3(v,h.get(v.key).overlayedDocument);T!=null&&w.push(new Mi(v.key,T,CP(T.value.mapValue),bn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,w,a)}).next(_=>{f=_;const w=_.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(p,_.batchId,w)})}).then(()=>({batchId:f.batchId,changes:VP(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new Je(_e)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u}(r,s.batchId,n),await Vc(r,s.changes),await yp(r.remoteStore)}catch(s){const i=ow(s,"Failed to persist write");n.reject(i)}}async function gR(t,e){const n=de(t);try{const r=await CB(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Re(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Re(o.hu,14607):s.removedDocuments.size>0&&(Re(o.hu,42227),o.hu=!1))}),await Vc(n,r,e)}catch(r){await _l(r)}}function eS(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=de(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.Sa)f.va(a)&&(u=!0)}),u&&aw(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function y9(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Je(te.comparator);o=o.insert(i,Ht.newNoDocument(i,ue.min()));const a=Ee().add(i),l=new pp(ue.min(),new Map,new Je(_e),o,a);await gR(r,l),r.du=r.du.remove(i),r.Au.delete(e),uw(r)}else await Fy(r.localStore,e,!1).then(()=>$y(r,e,n)).catch(_l)}async function v9(t,e){const n=de(t),r=e.batch.batchId;try{const s=await bB(n.localStore,e);vR(n,r,null),yR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vc(n,s)}catch(s){await _l(s)}}async function w9(t,e,n){const r=de(t);try{const s=await function(o,a){const l=de(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Re(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);vR(r,e,n),yR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vc(r,s)}catch(s){await _l(s)}}function yR(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function vR(t,e,n){const r=de(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function $y(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||wR(t,r)})}function wR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(tw(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),uw(t))}function tS(t,e,n){for(const r of n)r instanceof fR?(t.Ru.addReference(r.key,e),_9(t,r)):r instanceof pR?(K(lw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||wR(t,r.key)):se(19791,{wu:r})}function _9(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(K(lw,"New document in limbo: "+n),t.Eu.add(r),uw(t))}function uw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new te(Be.fromString(e)),r=t.fu.next();t.Au.set(r,new u9(n)),t.du=t.du.insert(n,r),aR(t.remoteStore,new Xs(Rr(q0(n.path)),r,"TargetPurposeLimboResolution",ip.ce))}}async function Vc(t,e,n){const r=de(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){s.push(u);const h=Z0.As(l.targetId,u);i.push(h)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,u){const d=de(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>B.forEach(u,f=>B.forEach(f.Es,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>B.forEach(f.ds,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!El(h))throw h;K(ew,"Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=d.Ms.get(f),S=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(S);d.Ms=d.Ms.insert(f,g)}}}(r.localStore,i))}async function E9(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){K(lw,"User change. New user:",e.toKey());const r=await rR(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new Z($.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vc(n,r.Ls)}}function x9(t,e){const n=de(t),r=n.Au.get(e);if(r&&r.hu)return Ee().add(r.key);{let s=Ee();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function _R(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=x9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=y9.bind(null,e),e.Pu.H_=s9.bind(null,e.eventManager),e.Pu.yu=i9.bind(null,e.eventManager),e}function T9(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=v9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=w9.bind(null,e),e}class af{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return SB(this.persistence,new EB,e.initialUser,this.serializer)}Cu(e){return new nR(J0.mi,this.serializer)}Du(e){return new kB}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}af.provider={build:()=>new af};class S9 extends af{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Re(this.persistence.referenceDelegate instanceof sf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new oB(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new nR(r=>sf.mi(r,n),this.serializer)}}class zy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>eS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=E9.bind(null,this.syncEngine),await ZB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new t9}()}createDatastore(e){const n=mp(e.databaseInfo.databaseId),r=function(i){return new VB(i)}(e.databaseInfo);return function(i,o,a,l){return new UB(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new $B(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>eS(this.syncEngine,n,0),function(){return KT.v()?new KT:new NB}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,d){const h=new c9(s,i,o,a,l,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=de(s);K(Ao,"RemoteStore shutting down."),i.Ea.add(5),await Mc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}zy.provider={build:()=>new zy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ds("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi="FirestoreClient";class C9{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=zt.UNAUTHENTICATED,this.clientId=F0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{K(bi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(K(bi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ow(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $m(t,e){t.asyncQueue.verifyOperationInProgress(),K(bi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await rR(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function nS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await I9(t);K(bi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>YT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>YT(e.remoteStore,s)),t._onlineComponents=e}async function I9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K(bi,"Using user provided OfflineComponentProvider");try{await $m(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Za("Error using user provided cache. Falling back to memory cache: "+n),await $m(t,new af)}}else K(bi,"Using default OfflineComponentProvider"),await $m(t,new S9(void 0));return t._offlineComponents}async function ER(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K(bi,"Using user provided OnlineComponentProvider"),await nS(t,t._uninitializedComponentsProvider._online)):(K(bi,"Using default OnlineComponentProvider"),await nS(t,new zy))),t._onlineComponents}function A9(t){return ER(t).then(e=>e.syncEngine)}async function rS(t){const e=await ER(t),n=e.eventManager;return n.onListen=d9.bind(null,e.syncEngine),n.onUnlisten=p9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=h9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=m9.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="firestore.googleapis.com",iS=!0;class oS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Z($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TR,this.ssl=iS}else this.host=e.host,this.ssl=e.ssl??iS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sB)throw new Z($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}B5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xR(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Z($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Z($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Z($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vp{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new k5;switch(r.type){case"firstParty":return new M5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=sS.get(n);r&&(K("ComponentProvider","Removing Datastore"),sS.delete(n),r.terminate())}(this),Promise.resolve()}}function P9(t,e,n,r={}){var u;t=di(t,vp);const s=Di(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(D0(`https://${a}`),O0("Firestore",!0)),i.host!==TR&&i.host!==a&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!bo(l,o)&&(t._setSettings(l),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=zt.MOCK_USER;else{d=tP(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Z($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new zt(f)}t._authCredentials=new N5(new pP(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wp(this.firestore,e,this._query)}}class _t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}toJSON(){return{type:_t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Nc(n,_t._jsonSchema))return new _t(e,r||null,new te(Be.fromString(n.referencePath)))}}_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:ht("string",_t._jsonSchemaVersion),referencePath:ht("string")};class hi extends wp{constructor(e,n,r){super(e,n,q0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new te(e))}withConverter(e){return new hi(this.firestore,e,this._path)}}function R9(t,e,...n){if(t=lt(t),mP("collection","path",e),t instanceof vp){const r=Be.fromString(e,...n);return wT(r),new hi(t,null,r)}{if(!(t instanceof _t||t instanceof hi))throw new Z($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return wT(r),new hi(t.firestore,null,r)}}function Xl(t,e,...n){if(t=lt(t),arguments.length===1&&(e=F0.newId()),mP("doc","path",e),t instanceof vp){const r=Be.fromString(e,...n);return vT(r),new _t(t,null,new te(r))}{if(!(t instanceof _t||t instanceof hi))throw new Z($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return vT(r),new _t(t.firestore,t instanceof hi?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="AsyncQueue";class lS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new iR(this,"async_queue_retry"),this._c=()=>{const r=Bm();r&&K(aS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Bm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Bm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new mo;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!El(e))throw e;K(aS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ds("INTERNAL UNHANDLED ERROR: ",uS(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=iw.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&se(47125,{Pc:uS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function uS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class il extends vp{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new lS,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lS(e),this._firestoreClient=void 0,await e}}}function k9(t,e){const n=typeof t=="object"?t:L0(),r=typeof t=="string"?t:Xh,s=sp(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=JA("firestore");i&&P9(s,...i)}return s}function cw(t){if(t._terminated)throw new Z($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||N9(t),t._firestoreClient}function N9(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,u,d){return new J5(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,xR(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new C9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(Lt.fromBase64String(e))}catch(n){throw new Z($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fn(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Nc(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:ht("string",Fn._jsonSchemaVersion),bytes:ht("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Nr._jsonSchemaVersion}}static fromJSON(e){if(Nc(e,Nr._jsonSchema))return new Nr(e.latitude,e.longitude)}}Nr._jsonSchemaVersion="firestore/geoPoint/1.0",Nr._jsonSchema={type:ht("string",Nr._jsonSchemaVersion),latitude:ht("number"),longitude:ht("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Dr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Nc(e,Dr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Dr(e.vectorValues);throw new Z($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Dr._jsonSchemaVersion="firestore/vectorValue/1.0",Dr._jsonSchema={type:ht("string",Dr._jsonSchemaVersion),vectorValues:ht("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9=/^__.*__$/;class O9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Mi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Dc(e,this.data,n,this.fieldTransforms)}}class SR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Mi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{Ac:t})}}class hw{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new hw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return lf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(bR(this.Ac)&&D9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class M9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||mp(e)}Cc(e,n,r,s=!1){return new hw({Ac:e,methodName:n,Dc:r,path:Ot.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function CR(t){const e=t._freezeSettings(),n=mp(t._databaseId);return new M9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function IR(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);fw("Data must be an object, but it was:",o,r);const a=AR(r,o);let l,u;if(i.merge)l=new En(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const f=Wy(e,h,n);if(!o.contains(f))throw new Z($.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);RR(d,f)||d.push(f)}l=new En(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new O9(new dn(a),l,u)}class Ep extends dw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ep}}function V9(t,e,n,r){const s=t.Cc(1,e,n);fw("Data must be an object, but it was:",s,r);const i=[],o=dn.empty();Oi(r,(l,u)=>{const d=pw(e,l,n);u=lt(u);const h=s.yc(d);if(u instanceof Ep)i.push(d);else{const f=xp(u,h);f!=null&&(i.push(d),o.set(d,f))}});const a=new En(i);return new SR(o,a,s.fieldTransforms)}function L9(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[Wy(e,r,n)],l=[s];if(i.length%2!=0)throw new Z($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(Wy(e,i[f])),l.push(i[f+1]);const u=[],d=dn.empty();for(let f=a.length-1;f>=0;--f)if(!RR(u,a[f])){const p=a[f];let S=l[f];S=lt(S);const g=o.yc(p);if(S instanceof Ep)u.push(p);else{const _=xp(S,g);_!=null&&(u.push(p),d.set(p,_))}}const h=new En(u);return new SR(d,h,o.fieldTransforms)}function xp(t,e){if(PR(t=lt(t)))return fw("Unsupported field value:",e,t),AR(t,e);if(t instanceof dw)return function(r,s){if(!bR(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=xp(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return x3(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=$e.fromDate(r);return{timestampValue:rf(s.serializer,i)}}if(r instanceof $e){const i=new $e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rf(s.serializer,i)}}if(r instanceof Nr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fn)return{bytesValue:KP(s.serializer,r._byteString)};if(r instanceof _t){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Y0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Dr)return function(o,a){return{mapValue:{fields:{[SP]:{stringValue:bP},[Jh]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return G0(a.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${U0(r)}`)}(t,e)}function AR(t,e){const n={};return vP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oi(t,(r,s)=>{const i=xp(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function PR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $e||t instanceof Nr||t instanceof Fn||t instanceof _t||t instanceof dw||t instanceof Dr)}function fw(t,e,n){if(!PR(n)||!gP(n)){const r=U0(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Wy(t,e,n){if((e=lt(e))instanceof _p)return e._internalPath;if(typeof e=="string")return pw(t,e);throw lf("Field path arguments must be of type string or ",t,!1,void 0,n)}const j9=new RegExp("[~\\*/\\[\\]]");function pw(t,e,n){if(e.search(j9)>=0)throw lf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _p(...e.split("."))._internalPath}catch{throw lf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lf(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Z($.INVALID_ARGUMENT,a+t+l)}function RR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new F9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(NR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class F9 extends kR{data(){return super.data()}}function NR(t,e){return typeof e=="string"?pw(t,e):e instanceof _p?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class B9{convertValue(e,n="none"){switch(Ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Oi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Jh].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>ot(o.doubleValue));return new Dr(n)}convertGeoPoint(e){return new Nr(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ap(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ac(e));default:return null}}convertTimestamp(e){const n=Ei(e);return new $e(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Be.fromString(e);Re(eR(r),9688,{name:e});const s=new lc(r.get(1),r.get(3)),i=new te(r.popFirst(5));return s.isEqual(n)||ds(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class lu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class go extends kR{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(NR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Z($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=go._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}go._jsonSchemaVersion="firestore/documentSnapshot/1.0",go._jsonSchema={type:ht("string",go._jsonSchemaVersion),bundleSource:ht("string","DocumentSnapshot"),bundleName:ht("string"),bundle:ht("string")};class lh extends go{data(e={}){return super.data(e)}}class ka{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new lu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new lh(this._firestore,this._userDataWriter,r.key,r,new lu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new lh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new lu(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new lh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new lu(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:$9(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Z($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ka._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=F0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:t})}}ka._jsonSchemaVersion="firestore/querySnapshot/1.0",ka._jsonSchema={type:ht("string",ka._jsonSchemaVersion),bundleSource:ht("string","QuerySnapshot"),bundleName:ht("string"),bundle:ht("string")};class OR extends B9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}}function z9(t,e,n){t=di(t,_t);const r=di(t.firestore,il),s=DR(t.converter,e,n);return mw(r,[IR(CR(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,bn.none())])}function W9(t){return mw(di(t.firestore,il),[new fp(t._key,bn.none())])}function dS(t,...e){var l,u,d;t=lt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||cS(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(cS(e[r])){const h=e[r];e[r]=(l=h.next)==null?void 0:l.bind(h),e[r+1]=(u=h.error)==null?void 0:u.bind(h),e[r+2]=(d=h.complete)==null?void 0:d.bind(h)}let i,o,a;if(t instanceof _t)o=di(t.firestore,il),a=q0(t._key.path),i={next:h=>{e[r]&&e[r](H9(o,t,h))},error:e[r+1],complete:e[r+2]};else{const h=di(t,wp);o=di(h.firestore,il),a=h._query;const f=new OR(o);i={next:p=>{e[r]&&e[r](new ka(o,f,h,p))},error:e[r+1],complete:e[r+2]},U9(t._query)}return function(f,p,S,g){const _=new b9(g),w=new o9(p,_,S);return f.asyncQueue.enqueueAndForget(async()=>n9(await rS(f),w)),()=>{_.Nu(),f.asyncQueue.enqueueAndForget(async()=>r9(await rS(f),w))}}(cw(o),a,s,i)}function mw(t,e){return function(r,s){const i=new mo;return r.asyncQueue.enqueueAndForget(async()=>g9(await A9(r),s,i)),i.promise}(cw(t),e)}function H9(t,e,n){const r=n.docs.get(e._key),s=new OR(t);return new go(t,s,e._key,r,new lu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=CR(e)}set(e,n,r){this._verifyNotCommitted();const s=zm(e,this._firestore),i=DR(s.converter,n,r),o=IR(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,bn.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=zm(e,this._firestore);let o;return o=typeof(n=lt(n))=="string"||n instanceof _p?L9(this._dataReader,"WriteBatch.update",i._key,n,r,s):V9(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,bn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=zm(e,this._firestore);return this._mutations=this._mutations.concat(new fp(n._key,bn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Z($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function zm(t,e){if((t=lt(t)).firestore!==e)throw new Z($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(t){return cw(t=di(t,il)),new q9(t,e=>mw(t,e))}(function(e,n=!0){(function(s){wl=s})(jo),Co(new wi("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new il(new D5(r.getProvider("auth-internal")),new V5(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Z($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lc(u.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Pr(pT,mT,e),Pr(pT,mT,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR="firebasestorage.googleapis.com",VR="storageBucket",G9=2*60*1e3,K9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st extends $r{constructor(e,n,r=0){super(Wm(e),`Firebase Storage: ${n} (${Wm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,st.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Wm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var rt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(rt||(rt={}));function Wm(t){return"storage/"+t}function gw(){const t="An unknown error occurred, please check the error payload for server response.";return new st(rt.UNKNOWN,t)}function Q9(t){return new st(rt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Y9(t){return new st(rt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function X9(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new st(rt.UNAUTHENTICATED,t)}function J9(){return new st(rt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Z9(t){return new st(rt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function e$(){return new st(rt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function t$(){return new st(rt.CANCELED,"User canceled the upload/download.")}function n$(t){return new st(rt.INVALID_URL,"Invalid URL '"+t+"'.")}function r$(t){return new st(rt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function s$(){return new st(rt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+VR+"' property when initializing the app?")}function i$(){return new st(rt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function o$(){return new st(rt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function a$(t){return new st(rt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Hy(t){return new st(rt.INVALID_ARGUMENT,t)}function LR(){return new st(rt.APP_DELETED,"The Firebase app was deleted.")}function l$(t){return new st(rt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Au(t,e){return new st(rt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Jl(t){throw new st(rt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=xn.makeFromUrl(e,n)}catch{return new xn(e,"")}if(r.path==="")return r;throw r$(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(P){P.path_=decodeURIComponent(P.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${d}/b/${s}/o${f}`,"i"),S={bucket:1,path:3},g=n===MR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",w=new RegExp(`^https?://${g}/${s}/${_}`,"i"),T=[{regex:a,indices:l,postModify:i},{regex:p,indices:S,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let P=0;P<T.length;P++){const k=T[P],M=k.regex.exec(e);if(M){const C=M[k.indices.bucket];let b=M[k.indices.path];b||(b=""),r=new xn(C,b),k.postModify(r);break}}if(r==null)throw n$(e);return r}}class u${constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c$(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(..._){u||(u=!0,e.apply(null,_))}function h(_){s=setTimeout(()=>{s=null,t(p,l())},_)}function f(){i&&clearTimeout(i)}function p(_,...w){if(u){f();return}if(_){f(),d.call(null,_,...w);return}if(l()||o){f(),d.call(null,_,...w);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,h(T)}let S=!1;function g(_){S||(S=!0,f(),!u&&(s!==null?(_||(a=2),clearTimeout(s),h(0)):_||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,g(!0)},n),g}function d$(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(t){return t!==void 0}function f$(t){return typeof t=="object"&&!Array.isArray(t)}function yw(t){return typeof t=="string"||t instanceof String}function fS(t){return vw()&&t instanceof Blob}function vw(){return typeof Blob<"u"}function pS(t,e,n,r){if(r<e)throw Hy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Hy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function jR(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var yo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(yo||(yo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p$(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(e,n,r,s,i,o,a,l,u,d,h,f=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,g)=>{this.resolve_=S,this.reject_=g,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new kd(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===yo.NO_ERROR,l=i.getStatus();if(!a||p$(l,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===yo.ABORT;r(!1,new kd(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new kd(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());h$(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=gw();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?LR():t$();o(l)}else{const l=e$();o(l)}};this.canceled_?n(!1,new kd(!1,null,!0)):this.backoffId_=c$(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&d$(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class kd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function g$(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function y$(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function v$(t,e){e&&(t["X-Firebase-GMPID"]=e)}function w$(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function _$(t,e,n,r,s,i,o=!0,a=!1){const l=jR(t.urlParams),u=t.url+l,d=Object.assign({},t.headers);return v$(d,e),g$(d,n),y$(d,i),w$(d,r),new m$(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E$(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function x$(...t){const e=E$();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(vw())return new Blob(t);throw new st(rt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function T$(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S$(t){if(typeof atob>"u")throw a$("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Hm{constructor(e,n){this.data=e,this.contentType=n||null}}function FR(t,e){switch(t){case rr.RAW:return new Hm(UR(e));case rr.BASE64:case rr.BASE64URL:return new Hm(BR(t,e));case rr.DATA_URL:return new Hm(C$(e),I$(e))}throw gw()}function UR(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function b$(t){let e;try{e=decodeURIComponent(t)}catch{throw Au(rr.DATA_URL,"Malformed data URL.")}return UR(e)}function BR(t,e){switch(t){case rr.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Au(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case rr.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Au(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=S$(e)}catch(s){throw s.message.includes("polyfill")?s:Au(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class $R{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Au(rr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=A$(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function C$(t){const e=new $R(t);return e.base64?BR(rr.BASE64,e.rest):b$(e.rest)}function I$(t){return new $R(t).contentType}function A$(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n){let r=0,s="";fS(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(fS(this.data_)){const r=this.data_,s=T$(r,e,n);return s===null?null:new Ls(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ls(r,!0)}}static getBlob(...e){if(vw()){const n=e.map(r=>r instanceof Ls?r.data_:r);return new Ls(x$.apply(null,n))}else{const n=e.map(o=>yw(o)?FR(rr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new Ls(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(t){let e;try{e=JSON.parse(t)}catch{return null}return f$(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P$(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function R$(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function WR(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k$(t,e){return e}class Jt{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||k$}}let Nd=null;function N$(t){return!yw(t)||t.length<2?t:WR(t)}function HR(){if(Nd)return Nd;const t=[];t.push(new Jt("bucket")),t.push(new Jt("generation")),t.push(new Jt("metageneration")),t.push(new Jt("name","fullPath",!0));function e(i,o){return N$(o)}const n=new Jt("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Jt("size");return s.xform=r,t.push(s),t.push(new Jt("timeCreated")),t.push(new Jt("updated")),t.push(new Jt("md5Hash",null,!0)),t.push(new Jt("cacheControl",null,!0)),t.push(new Jt("contentDisposition",null,!0)),t.push(new Jt("contentEncoding",null,!0)),t.push(new Jt("contentLanguage",null,!0)),t.push(new Jt("contentType",null,!0)),t.push(new Jt("metadata","customMetadata",!0)),Nd=t,Nd}function D$(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new xn(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function O$(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return D$(r,t),r}function qR(t,e,n){const r=zR(e);return r===null?null:O$(t,r,n)}function M$(t,e,n,r){const s=zR(e);if(s===null||!yw(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const d=t.bucket,h=t.fullPath,f="/b/"+o(d)+"/o/"+o(h),p=Tp(f,n,r),S=jR({alt:"media",token:u});return p+S})[0]}function V$(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class ww{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(t){if(!t)throw gw()}function L$(t,e){function n(r,s){const i=qR(t,s,e);return GR(i!==null),i}return n}function j$(t,e){function n(r,s){const i=qR(t,s,e);return GR(i!==null),M$(i,s,t.host,t._protocol)}return n}function KR(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=J9():s=X9():n.getStatus()===402?s=Y9(t.bucket):n.getStatus()===403?s=Z9(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function QR(t){const e=KR(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=Q9(t.path)),i.serverResponse=s.serverResponse,i}return n}function F$(t,e,n){const r=e.fullServerUrl(),s=Tp(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new ww(s,i,j$(t,n),o);return a.errorHandler=QR(e),a}function U$(t,e){const n=e.fullServerUrl(),r=Tp(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(l,u){}const a=new ww(r,s,o,i);return a.successCodes=[200,204],a.errorHandler=QR(e),a}function B$(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function $$(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=B$(null,e)),r}function z$(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let T="";for(let P=0;P<2;P++)T=T+Math.random().toString().slice(2);return T}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=$$(e,r,s),d=V$(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=Ls.getBlob(h,r,f);if(p===null)throw i$();const S={name:u.fullPath},g=Tp(i,t.host,t._protocol),_="POST",w=t.maxUploadRetryTime,v=new ww(g,_,L$(t,n),w);return v.urlParams=S,v.headers=o,v.body=p.uploadData(),v.errorHandler=KR(e),v}class W${constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=yo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=yo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=yo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,i){if(this.sent_)throw Jl("cannot .send() more than once");if(Di(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Jl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Jl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Jl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Jl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class H$ extends W${initXhr(){this.xhr_.responseType="text"}}function _w(){return new H$}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,n){this._service=e,n instanceof xn?this._location=n:this._location=xn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Po(e,n)}get root(){const e=new xn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return WR(this._location.path)}get storage(){return this._service}get parent(){const e=P$(this._location.path);if(e===null)return null;const n=new xn(this._location.bucket,e);return new Po(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw l$(e)}}function q$(t,e,n){t._throwIfRoot("uploadBytes");const r=z$(t.storage,t._location,HR(),new Ls(e,!0),n);return t.storage.makeRequestWithTokens(r,_w).then(s=>({metadata:s,ref:t}))}function G$(t,e,n=rr.RAW,r){t._throwIfRoot("uploadString");const s=FR(n,e),i={...r};return i.contentType==null&&s.contentType!=null&&(i.contentType=s.contentType),q$(t,s.data,i)}function K$(t){t._throwIfRoot("getDownloadURL");const e=F$(t.storage,t._location,HR());return t.storage.makeRequestWithTokens(e,_w).then(n=>{if(n===null)throw o$();return n})}function Q$(t){t._throwIfRoot("deleteObject");const e=U$(t.storage,t._location);return t.storage.makeRequestWithTokens(e,_w)}function Y$(t,e){const n=R$(t._location.path,e),r=new xn(t._location.bucket,n);return new Po(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X$(t){return/^[A-Za-z]+:\/\//.test(t)}function J$(t,e){return new Po(t,e)}function YR(t,e){if(t instanceof Ew){const n=t;if(n._bucket==null)throw s$();const r=new Po(n,n._bucket);return e!=null?YR(r,e):r}else return e!==void 0?Y$(t,e):t}function Z$(t,e){if(e&&X$(e)){if(t instanceof Ew)return J$(t,e);throw Hy("To use ref(service, url), the first argument must be a Storage instance.")}else return YR(t,e)}function mS(t,e){const n=e==null?void 0:e[VR];return n==null?null:xn.makeFromBucketSpec(n,t)}function ez(t,e,n,r={}){t.host=`${e}:${n}`;const s=Di(e);s&&(D0(`https://${t.host}/b`),O0("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:tP(i,t.app.options.projectId))}class Ew{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=MR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=G9,this._maxUploadRetryTime=K9,this._requests=new Set,s!=null?this._bucket=xn.makeFromBucketSpec(s,this._host):this._bucket=mS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=xn.makeFromBucketSpec(this._url,e):this._bucket=mS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){pS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){pS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Po(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new u$(LR());{const o=_$(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const gS="@firebase/storage",yS="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="storage";function tz(t,e,n,r){return t=lt(t),G$(t,e,n,r)}function nz(t){return t=lt(t),K$(t)}function rz(t){return t=lt(t),Q$(t)}function JR(t,e){return t=lt(t),Z$(t,e)}function sz(t=L0(),e){t=lt(t);const r=sp(t,XR).getImmediate({identifier:e}),s=JA("storage");return s&&iz(r,...s),r}function iz(t,e,n,r={}){ez(t,e,n,r)}function oz(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Ew(n,r,s,e,jo)}function az(){Co(new wi(XR,oz,"PUBLIC").setMultipleInstances(!0)),Pr(gS,yS,""),Pr(gS,yS,"esm2020")}az();function ZR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lz=ZR,ek=new Rc("auth","Firebase",ZR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=new M0("@firebase/auth");function uz(t,...e){uf.logLevel<=we.WARN&&uf.warn(`Auth (${jo}): ${t}`,...e)}function uh(t,...e){uf.logLevel<=we.ERROR&&uf.error(`Auth (${jo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(t,...e){throw xw(t,...e)}function Or(t,...e){return xw(t,...e)}function tk(t,e,n){const r={...lz(),[e]:n};return new Rc("auth","Firebase",r).create(e,{appName:t.name})}function fi(t){return tk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ek.create(t,...e)}function oe(t,e,...n){if(!t)throw xw(e,...n)}function Zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw uh(e),new Error(e)}function ps(t,e){t||Zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function cz(){return vS()==="http:"||vS()==="https:"}function vS(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cz()||l6()||"connection"in navigator)?navigator.onLine:!0}function hz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ps(n>e,"Short delay should be less than long delay!"),this.isMobile=i6()||u6()}get(){return dz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(t,e){ps(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mz=new Lc(3e4,6e4);function Sp(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Tl(t,e,n,r,s={}){return rk(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=kc({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...i};return a6()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Di(t.emulatorConfig.host)&&(u.credentials="include"),nk.fetch()(await ik(t,t.config.apiHost,n,a),u)})}async function rk(t,e,n){t._canInitEmulator=!1;const r={...fz,...e};try{const s=new gz(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Dd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Dd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Dd(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw tk(t,d,u);fs(t,d)}}catch(s){if(s instanceof $r)throw s;fs(t,"network-request-failed",{message:String(s)})}}async function sk(t,e,n,r,s={}){const i=await Tl(t,e,n,r,s);return"mfaPendingCredential"in i&&fs(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function ik(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Tw(t.config,s):`${t.config.apiScheme}://${s}`;return pz.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class gz{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Or(this.auth,"network-request-failed")),mz.get())})}}function Dd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Or(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yz(t,e){return Tl(t,"POST","/v1/accounts:delete",e)}async function cf(t,e){return Tl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vz(t,e=!1){const n=lt(t),r=await n.getIdToken(e),s=Sw(r);oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Pu(qm(s.auth_time)),issuedAtTime:Pu(qm(s.iat)),expirationTime:Pu(qm(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function qm(t){return Number(t)*1e3}function Sw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const s=YA(n);return s?JSON.parse(s):(uh("Failed to decode base64 JWT payload"),null)}catch(s){return uh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function wS(t){const e=Sw(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof $r&&wz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function wz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pu(this.lastLoginAt),this.creationTime=Pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function df(t){var h;const e=t.auth,n=await t.getIdToken(),r=await hc(t,cf(e,{idToken:n}));oe(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(h=s.providerUserInfo)!=null&&h.length?ok(s.providerUserInfo):[],o=xz(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Gy(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function Ez(t){const e=lt(t);await df(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xz(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function ok(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tz(t,e){const n=await rk(t,{},async()=>{const r=kc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await ik(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Di(t.emulatorConfig.host)&&(l.credentials="include"),nk.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Sz(t,e){return Tl(t,"POST","/v2/accounts:revokeToken",Sp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=wS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Tz(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Na;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(oe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(oe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Na,this.toJSON())}_performRefresh(){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class sr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new _z(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Gy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await hc(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return vz(this,e)}reload(){return Ez(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new sr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await df(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(fi(this.auth));const e=await this.getIdToken();return await hc(this,yz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:f,isAnonymous:p,providerData:S,stsTokenManager:g}=n;oe(h&&g,e,"internal-error");const _=Na.fromJSON(this.name,g);oe(typeof h=="string",e,"internal-error"),As(r,e.name),As(s,e.name),oe(typeof f=="boolean",e,"internal-error"),oe(typeof p=="boolean",e,"internal-error"),As(i,e.name),As(o,e.name),As(a,e.name),As(l,e.name),As(u,e.name),As(d,e.name);const w=new sr({uid:h,auth:e,email:s,emailVerified:f,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:_,createdAt:u,lastLoginAt:d});return S&&Array.isArray(S)&&(w.providerData=S.map(v=>({...v}))),l&&(w._redirectEventId=l),w}static async _fromIdTokenResponse(e,n,r=!1){const s=new Na;s.updateFromServerResponse(n);const i=new sr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await df(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];oe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?ok(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Na;a.updateFromIdToken(r);const l=new sr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Gy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=new Map;function es(t){ps(t instanceof Function,"Expected a class definition");let e=_S.get(t);return e?(ps(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_S.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ak.type="NONE";const ES=ak;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(t,e,n){return`firebase:${t}:${e}:${n}`}class Da{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=ch(this.userKey,s.apiKey,i),this.fullPersistenceKey=ch("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await cf(this.auth,{idToken:e}).catch(()=>{});return n?sr._fromGetAccountInfoResponse(this.auth,n,e):null}return sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Da(es(ES),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||es(ES);const o=ch(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const f=await cf(e,{idToken:d}).catch(()=>{});if(!f)break;h=await sr._fromGetAccountInfoResponse(e,f,d)}else h=sr._fromJSON(e,d);u!==i&&(a=h),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Da(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Da(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fk(e))return"Blackberry";if(pk(e))return"Webos";if(uk(e))return"Safari";if((e.includes("chrome/")||ck(e))&&!e.includes("edge/"))return"Chrome";if(hk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lk(t=Qt()){return/firefox\//i.test(t)}function uk(t=Qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ck(t=Qt()){return/crios\//i.test(t)}function dk(t=Qt()){return/iemobile/i.test(t)}function hk(t=Qt()){return/android/i.test(t)}function fk(t=Qt()){return/blackberry/i.test(t)}function pk(t=Qt()){return/webos/i.test(t)}function bw(t=Qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bz(t=Qt()){var e;return bw(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Cz(){return c6()&&document.documentMode===10}function mk(t=Qt()){return bw(t)||hk(t)||pk(t)||fk(t)||/windows phone/i.test(t)||dk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(t,e=[]){let n;switch(t){case"Browser":n=xS(Qt());break;case"Worker":n=`${xS(Qt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${jo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Az(t,e={}){return Tl(t,"GET","/v2/passwordPolicy",Sp(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pz=6;class Rz{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Pz,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TS(this),this.idTokenSubscription=new TS(this),this.beforeStateQueue=new Iz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ek,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=es(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Da.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await cf(this,{idToken:e}),r=await sr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(jn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await df(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(fi(this));const n=e?lt(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(fi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(fi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Az(this),n=new Rz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Rc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Sz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&es(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Da.create(this,[es(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&uz(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function bp(t){return lt(t)}class TS{constructor(e){this.auth=e,this.observer=null,this.addObserver=v6(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Nz(t){Cw=t}function Dz(t){return Cw.loadJS(t)}function Oz(){return Cw.gapiScript}function Mz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vz(t,e){const n=sp(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(bo(i,e??{}))return s;fs(s,"already-initialized")}return n.initialize({options:e})}function Lz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(es);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function jz(t,e,n){const r=bp(t);oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=yk(e),{host:o,port:a}=Fz(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),oe(bo(u,r.config.emulator)&&bo(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Di(o)?(D0(`${i}//${o}${l}`),O0("Auth",!0)):Uz()}function yk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Fz(t){const e=yk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:SS(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:SS(o)}}}function SS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Uz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,n){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(t,e){return sk(t,"POST","/v1/accounts:signInWithIdp",Sp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz="http://localhost";class Ro extends vk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ro(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Ro(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Oa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Oa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Oa(e,n)}buildRequest(){const e={requestUri:Bz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends wk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends jc{constructor(){super("facebook.com")}static credential(e){return Ro._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return js.credential(e.oauthAccessToken)}catch{return null}}}js.FACEBOOK_SIGN_IN_METHOD="facebook.com";js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends jc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ro._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Fs.credential(n,r)}catch{return null}}}Fs.GOOGLE_SIGN_IN_METHOD="google.com";Fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends jc{constructor(){super("github.com")}static credential(e){return Ro._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Us.credential(e.oauthAccessToken)}catch{return null}}}Us.GITHUB_SIGN_IN_METHOD="github.com";Us.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends jc{constructor(){super("twitter.com")}static credential(e,n){return Ro._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Bs.credential(n,r)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $z(t,e){return sk(t,"POST","/v1/accounts:signUp",Sp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await sr._fromIdTokenResponse(e,r,s),o=bS(r);return new Ci({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=bS(r);return new Ci({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function bS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zz(t){var s;if(jn(t.app))return Promise.reject(fi(t));const e=bp(t);if(await e._initializationPromise,(s=e.currentUser)!=null&&s.isAnonymous)return new Ci({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await $z(e,{returnSecureToken:!0}),r=await Ci._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf extends $r{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,hf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new hf(e,n,r,s)}}function _k(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?hf._fromErrorAndOperation(t,i,e,r):i})}async function Wz(t,e,n=!1){const r=await hc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ci._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hz(t,e,n=!1){const{auth:r}=t;if(jn(r.app))return Promise.reject(fi(r));const s="reauthenticate";try{const i=await hc(t,_k(r,s,e,t),n);oe(i.idToken,r,"internal-error");const o=Sw(i.idToken);oe(o,r,"internal-error");const{sub:a}=o;return oe(t.uid===a,r,"user-mismatch"),Ci._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&fs(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qz(t,e,n=!1){if(jn(t.app))return Promise.reject(fi(t));const r="signIn",s=await _k(t,r,e),i=await Ci._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function Gz(t,e,n,r){return lt(t).onIdTokenChanged(e,n,r)}function Kz(t,e,n){return lt(t).beforeAuthStateChanged(e,n)}const ff="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ff,"1"),this.storage.removeItem(ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz=1e3,Yz=10;class xk extends Ek{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Cz()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Yz):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Qz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xk.type="LOCAL";const Xz=xk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk extends Ek{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Tk.type="SESSION";const Sk=Tk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Cp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await Jz(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=Iw("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(){return window}function e8(t){Mr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(){return typeof Mr().WorkerGlobalScope<"u"&&typeof Mr().importScripts=="function"}async function t8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function n8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function r8(){return bk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck="firebaseLocalStorageDb",s8=1,pf="firebaseLocalStorage",Ik="fbase_key";class Fc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ip(t,e){return t.transaction([pf],e?"readwrite":"readonly").objectStore(pf)}function i8(){const t=indexedDB.deleteDatabase(Ck);return new Fc(t).toPromise()}function Ky(){const t=indexedDB.open(Ck,s8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pf,{keyPath:Ik})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pf)?e(r):(r.close(),await i8(),e(await Ky()))})})}async function CS(t,e,n){const r=Ip(t,!0).put({[Ik]:e,value:n});return new Fc(r).toPromise()}async function o8(t,e){const n=Ip(t,!1).get(e),r=await new Fc(n).toPromise();return r===void 0?null:r.value}function IS(t,e){const n=Ip(t,!0).delete(e);return new Fc(n).toPromise()}const a8=800,l8=3;class Ak{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ky(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>l8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cp._getInstance(r8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await t8(),!this.activeServiceWorker)return;this.sender=new Zz(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||n8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ky();return await CS(e,ff,"1"),await IS(e,ff),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>CS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>o8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>IS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Ip(s,!1).getAll();return new Fc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),a8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ak.type="LOCAL";const u8=Ak;new Lc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(t,e){return e?es(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw extends vk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Oa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Oa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function d8(t){return qz(t.auth,new Aw(t),t.bypassAuthState)}function h8(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),Hz(n,new Aw(t),t.bypassAuthState)}async function f8(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),Wz(n,new Aw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return d8;case"linkViaPopup":case"linkViaRedirect":return f8;case"reauthViaPopup":case"reauthViaRedirect":return h8;default:fs(this.auth,"internal-error")}}resolve(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8=new Lc(2e3,1e4);class pa extends Pk{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,pa.currentPopupAction&&pa.currentPopupAction.cancel(),pa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){ps(this.filter.length===1,"Popup operations only handle one event");const e=Iw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,p8.get())};e()}}pa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8="pendingRedirect",dh=new Map;class g8 extends Pk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=dh.get(this.auth._key());if(!e){try{const r=await y8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}dh.set(this.auth._key(),e)}return this.bypassAuthState||dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function y8(t,e){const n=_8(e),r=w8(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function v8(t,e){dh.set(t._key(),e)}function w8(t){return es(t._redirectPersistence)}function _8(t){return ch(m8,t.config.apiKey,t.name)}async function E8(t,e,n=!1){if(jn(t.app))return Promise.reject(fi(t));const r=bp(t),s=c8(r,e),o=await new g8(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8=10*60*1e3;class T8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!S8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Rk(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Or(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=x8&&this.cachedEventUids.clear(),this.cachedEventUids.has(AS(e))}saveEventToCache(e){this.cachedEventUids.add(AS(e)),this.lastProcessedEventTime=Date.now()}}function AS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Rk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function S8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b8(t,e={}){return Tl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,I8=/^https?/;async function A8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await b8(t);for(const n of e)try{if(P8(n))return}catch{}fs(t,"unauthorized-domain")}function P8(t){const e=qy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!I8.test(n))return!1;if(C8.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R8=new Lc(3e4,6e4);function PS(){const t=Mr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function k8(t){return new Promise((e,n)=>{var s,i,o;function r(){PS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PS(),n(Or(t,"network-request-failed"))},timeout:R8.get()})}if((i=(s=Mr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Mr().gapi)!=null&&o.load)r();else{const a=Mz("iframefcb");return Mr()[a]=()=>{gapi.load?r():n(Or(t,"network-request-failed"))},Dz(`${Oz()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw hh=null,e})}let hh=null;function N8(t){return hh=hh||k8(t),hh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8=new Lc(5e3,15e3),O8="__/auth/iframe",M8="emulator/auth/iframe",V8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j8(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Tw(e,M8):`https://${t.config.authDomain}/${O8}`,r={apiKey:e.apiKey,appName:t.name,v:jo},s=L8.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${kc(r).slice(1)}`}async function F8(t){const e=await N8(t),n=Mr().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:j8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:V8,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Or(t,"network-request-failed"),a=Mr().setTimeout(()=>{i(o)},D8.get());function l(){Mr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},B8=500,$8=600,z8="_blank",W8="http://localhost";class RS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function H8(t,e,n,r=B8,s=$8){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...U8,width:r.toString(),height:s.toString(),top:i,left:o},u=Qt().toLowerCase();n&&(a=ck(u)?z8:n),lk(u)&&(e=e||W8,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[p,S])=>`${f}${p}=${S},`,"");if(bz(u)&&a!=="_self")return q8(e||"",a),new RS(null);const h=window.open(e||"",a,d);oe(h,t,"popup-blocked");try{h.focus()}catch{}return new RS(h)}function q8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8="__/auth/handler",K8="emulator/auth/handler",Q8=encodeURIComponent("fac");async function kS(t,e,n,r,s,i){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:jo,eventId:s};if(e instanceof wk){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",y6(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof jc){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${Q8}=${encodeURIComponent(l)}`:"";return`${Y8(t)}?${kc(a).slice(1)}${u}`}function Y8({config:t}){return t.emulator?Tw(t,K8):`https://${t.authDomain}/${G8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="webStorageSupport";class X8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sk,this._completeRedirectFn=E8,this._overrideRedirectResult=v8}async _openPopup(e,n,r,s){var o;ps((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await kS(e,n,r,qy(),s);return H8(e,i,Iw())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await kS(e,n,r,qy(),s);return e8(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ps(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await F8(e),r=new T8(e);return n.register("authEvent",s=>(oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gm,{type:Gm},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Gm];i!==void 0&&n(!!i),fs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=A8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mk()||uk()||bw()}}const J8=X8;var NS="@firebase/auth",DS="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function t7(t){Co(new wi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gk(t)},u=new kz(r,s,i,l);return Lz(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Co(new wi("auth-internal",e=>{const n=bp(e.getProvider("auth").getImmediate());return(r=>new Z8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pr(NS,DS,e7(t)),Pr(NS,DS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7=5*60,r7=eP("authIdTokenMaxAge")||n7;let OS=null;const s7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>r7)return;const s=n==null?void 0:n.token;OS!==s&&(OS=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function i7(t=L0()){const e=sp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Vz(t,{popupRedirectResolver:J8,persistence:[u8,Xz,Sk]}),r=eP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=s7(i.toString());Kz(n,o,()=>o(n.currentUser)),Gz(n,a=>o(a))}}const s=XA("auth");return s&&jz(n,`http://${s}`),n}function o7(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Nz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Or("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",o7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});t7("Browser");function Pw(){const t={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},e=Object.values(t).every(Boolean),n=(typeof window<"u"&&window.__FIREBASE_CONFIG__)??null,r=n?Object.values(n).every(Boolean):!1,s=e?t:r?n:null;return s?uT().length?uT()[0]:sP(s):null}function Od(){const t=Pw();return t?k9(t):null}function kk(){const t=Pw();return t?sz(t):null}async function Nk(){const t=Pw();if(!t)return!1;const e=i7(t);if(e.currentUser)return!0;try{return await zz(e),!0}catch{return!1}}async function a7(t,e){const n=kk();if(!n||!await Nk())return null;const s=JR(n,`students/${t}.jpg`);return await tz(s,e,"data_url"),await nz(s)}async function l7(t){const e=kk();if(!e)return!1;try{const n=new URL(t),r=/\/o\/(.+)\?/.exec(n.pathname+n.search),s=r?decodeURIComponent(r[1]):"";if(!s)return!1;const i=JR(e,s);return await rz(i),!0}catch{return!1}}const Km="taekwondo-sbeitla-data";function Dk(){const[t,e]=y.useState([]),[n,r]=y.useState("connecting"),[s,i]=y.useState(null),o=y.useRef(!1);y.useEffect(()=>{const g=Od();if(!g){const v=localStorage.getItem(Km),T=v?(()=>{try{return JSON.parse(v)}catch{return[]}})():[];e(T),r("offline");return}const _=async()=>{if(!await Nk())return r("error"),()=>{};const T=dS(R9(g,"students"),async k=>{const M=k.docs.map(C=>C.data()).sort((C,b)=>C.order-b.order);if(e(M),r("online"),!o.current&&M.length===0){const C=localStorage.getItem(Km);if(C)try{const b=JSON.parse(C);if(b.length>0){const I=hS(g);b.forEach(R=>I.set(Xl(g,"students",R.id),R)),await I.commit()}}catch{}o.current=!0}},()=>r("error")),P=dS(Xl(g,"presentation","current"),k=>{const M=k.data();i((M==null?void 0:M.id)??null)},()=>i(null));return()=>{T(),P()}};let w;return _().then(v=>{w=v}),()=>{w&&w()}},[]);const a=async g=>{e(g);const _=Od();if(!_){localStorage.setItem(Km,JSON.stringify(g)),r("offline"),no.success("Donnes enregistres en local (mode hors-ligne)");return}const w=hS(_);g.forEach(v=>{w.set(Xl(_,"students",v.id),v)}),await w.commit(),r("online")},l=async g=>{const _=t.length>0?Math.max(...t.map(T=>T.order))+1:1,w={...g,order:_},v=[...t,w];await a(v),no.success("lve ajout avec succs")},u=async g=>{const _=t.length>0?Math.max(...t.map(T=>T.order)):0,w=g.map((T,P)=>({...T,order:_+P+1})),v=[...t,...w];await a(v)},d=async(g,_)=>{const w=t.map(v=>v.id===g?{...v,..._}:v);await a(w),no.success("lve mis  jour")},h=async g=>{const _=t.find(T=>T.id===g),w=t.filter(T=>T.id!==g);await a(w);const v=Od();v&&await W9(Xl(v,"students",g)),_!=null&&_.photoUrl&&/^https?:\/\//.test(_.photoUrl)&&await l7(_.photoUrl),no.success("lve supprim")},f=async g=>{const _=g.map((w,v)=>({...w,order:v+1}));await a(_)},p=(g,_)=>{d(g,{status:_})},S=async g=>{const _=Od();_&&(await z9(Xl(_,"presentation","current"),{id:g,ts:Date.now()}),i(g))};return{students:t.slice().sort((g,_)=>g.order-_.order),syncStatus:n,currentId:s,addStudent:l,addMultipleStudents:u,updateStudent:d,deleteStudent:h,reorderStudents:f,setStatus:p,setCurrent:S}}var Qm="focusScope.autoFocusOnMount",Ym="focusScope.autoFocusOnUnmount",MS={bubbles:!1,cancelable:!0},u7="FocusScope",Rw=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=y.useState(null),u=gi(s),d=gi(i),h=y.useRef(null),f=qe(e,g=>l(g)),p=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let g=function(T){if(p.paused||!a)return;const P=T.target;a.contains(P)?h.current=P:Rs(h.current,{select:!0})},_=function(T){if(p.paused||!a)return;const P=T.relatedTarget;P!==null&&(a.contains(P)||Rs(h.current,{select:!0}))},w=function(T){if(document.activeElement===document.body)for(const k of T)k.removedNodes.length>0&&Rs(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",_);const v=new MutationObserver(w);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",_),v.disconnect()}}},[r,a,p.paused]),y.useEffect(()=>{if(a){LS.add(p);const g=document.activeElement;if(!a.contains(g)){const w=new CustomEvent(Qm,MS);a.addEventListener(Qm,u),a.dispatchEvent(w),w.defaultPrevented||(c7(m7(Ok(a)),{select:!0}),document.activeElement===g&&Rs(a))}return()=>{a.removeEventListener(Qm,u),setTimeout(()=>{const w=new CustomEvent(Ym,MS);a.addEventListener(Ym,d),a.dispatchEvent(w),w.defaultPrevented||Rs(g??document.body,{select:!0}),a.removeEventListener(Ym,d),LS.remove(p)},0)}}},[a,u,d,p]);const S=y.useCallback(g=>{if(!n&&!r||p.paused)return;const _=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(_&&w){const v=g.currentTarget,[T,P]=d7(v);T&&P?!g.shiftKey&&w===P?(g.preventDefault(),n&&Rs(T,{select:!0})):g.shiftKey&&w===T&&(g.preventDefault(),n&&Rs(P,{select:!0})):w===v&&g.preventDefault()}},[n,r,p.paused]);return E.jsx(Ae.div,{tabIndex:-1,...o,ref:f,onKeyDown:S})});Rw.displayName=u7;function c7(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Rs(r,{select:e}),document.activeElement!==n)return}function d7(t){const e=Ok(t),n=VS(e,t),r=VS(e.reverse(),t);return[n,r]}function Ok(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function VS(t,e){for(const n of t)if(!h7(n,{upTo:e}))return n}function h7(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function f7(t){return t instanceof HTMLInputElement&&"select"in t}function Rs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&f7(t)&&e&&t.select()}}var LS=p7();function p7(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=jS(t,e),t.unshift(e)},remove(e){var n;t=jS(t,e),(n=t[0])==null||n.resume()}}}function jS(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function m7(t){return t.filter(e=>e.tagName!=="A")}var Xm=0;function Mk(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??FS()),document.body.insertAdjacentElement("beforeend",t[1]??FS()),Xm++,()=>{Xm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Xm--}},[])}function FS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Sr=function(){return Sr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Sr.apply(this,arguments)};function Vk(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function g7(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var fh="right-scroll-bar-position",ph="width-before-scroll-bar",y7="with-scroll-bars-hidden",v7="--removed-body-scroll-bar-size";function Jm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function w7(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var _7=typeof window<"u"?y.useLayoutEffect:y.useEffect,US=new WeakMap;function E7(t,e){var n=w7(null,function(r){return t.forEach(function(s){return Jm(s,r)})});return _7(function(){var r=US.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Jm(a,null)}),i.forEach(function(a){s.has(a)||Jm(a,o)})}US.set(n,t)},[t]),n}function x7(t){return t}function T7(t,e){e===void 0&&(e=x7);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function S7(t){t===void 0&&(t={});var e=T7(null);return e.options=Sr({async:!0,ssr:!1},t),e}var Lk=function(t){var e=t.sideCar,n=Vk(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,Sr({},n))};Lk.isSideCarExport=!0;function b7(t,e){return t.useMedium(e),Lk}var jk=S7(),Zm=function(){},Ap=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:Zm,onWheelCapture:Zm,onTouchMoveCapture:Zm}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,p=t.noRelative,S=t.noIsolation,g=t.inert,_=t.allowPinchZoom,w=t.as,v=w===void 0?"div":w,T=t.gapMode,P=Vk(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=f,M=E7([n,e]),C=Sr(Sr({},P),s);return y.createElement(y.Fragment,null,d&&y.createElement(k,{sideCar:jk,removeScrollBar:u,shards:h,noRelative:p,noIsolation:S,inert:g,setCallbacks:i,allowPinchZoom:!!_,lockRef:n,gapMode:T}),o?y.cloneElement(y.Children.only(a),Sr(Sr({},C),{ref:M})):y.createElement(v,Sr({},C,{className:l,ref:M}),a))});Ap.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ap.classNames={fullWidth:ph,zeroRight:fh};var C7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function I7(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=C7();return e&&t.setAttribute("nonce",e),t}function A7(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function P7(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var R7=function(){var t=0,e=null;return{add:function(n){t==0&&(e=I7())&&(A7(e,n),P7(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},k7=function(){var t=R7();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Fk=function(){var t=k7(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},N7={left:0,top:0,right:0,gap:0},eg=function(t){return parseInt(t||"",10)||0},D7=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[eg(n),eg(r),eg(s)]},O7=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return N7;var e=D7(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},M7=Fk(),Ma="data-scroll-locked",V7=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(y7,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ma,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(fh,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ph,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(fh," .").concat(fh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ph," .").concat(ph,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ma,`] {
    `).concat(v7,": ").concat(a,`px;
  }
`)},BS=function(){var t=parseInt(document.body.getAttribute(Ma)||"0",10);return isFinite(t)?t:0},L7=function(){y.useEffect(function(){return document.body.setAttribute(Ma,(BS()+1).toString()),function(){var t=BS()-1;t<=0?document.body.removeAttribute(Ma):document.body.setAttribute(Ma,t.toString())}},[])},j7=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;L7();var i=y.useMemo(function(){return O7(s)},[s]);return y.createElement(M7,{styles:V7(i,!e,s,n?"":"!important")})},Qy=!1;if(typeof window<"u")try{var Md=Object.defineProperty({},"passive",{get:function(){return Qy=!0,!0}});window.addEventListener("test",Md,Md),window.removeEventListener("test",Md,Md)}catch{Qy=!1}var Ko=Qy?{passive:!1}:!1,F7=function(t){return t.tagName==="TEXTAREA"},Uk=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!F7(t)&&n[e]==="visible")},U7=function(t){return Uk(t,"overflowY")},B7=function(t){return Uk(t,"overflowX")},$S=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Bk(t,r);if(s){var i=$k(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},$7=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},z7=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Bk=function(t,e){return t==="v"?U7(e):B7(e)},$k=function(t,e){return t==="v"?$7(e):z7(e)},W7=function(t,e){return t==="h"&&e==="rtl"?-1:1},H7=function(t,e,n,r,s){var i=W7(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,d=o>0,h=0,f=0;do{if(!a)break;var p=$k(t,a),S=p[0],g=p[1],_=p[2],w=g-_-i*S;(S||w)&&Bk(t,a)&&(h+=w,f+=S);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(u=!0),u},Vd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},zS=function(t){return[t.deltaX,t.deltaY]},WS=function(t){return t&&"current"in t?t.current:t},q7=function(t,e){return t[0]===e[0]&&t[1]===e[1]},G7=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},K7=0,Qo=[];function Q7(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(K7++)[0],i=y.useState(Fk)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=g7([t.lockRef.current],(t.shards||[]).map(WS),!0).filter(Boolean);return g.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(g,_){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var w=Vd(g),v=n.current,T="deltaX"in g?g.deltaX:v[0]-w[0],P="deltaY"in g?g.deltaY:v[1]-w[1],k,M=g.target,C=Math.abs(T)>Math.abs(P)?"h":"v";if("touches"in g&&C==="h"&&M.type==="range")return!1;var b=window.getSelection(),I=b&&b.anchorNode,R=I?I===M||I.contains(M):!1;if(R)return!1;var N=$S(C,M);if(!N)return!0;if(N?k=C:(k=C==="v"?"h":"v",N=$S(C,M)),!N)return!1;if(!r.current&&"changedTouches"in g&&(T||P)&&(r.current=k),!k)return!0;var O=r.current||k;return H7(O,_,g,O==="h"?T:P)},[]),l=y.useCallback(function(g){var _=g;if(!(!Qo.length||Qo[Qo.length-1]!==i)){var w="deltaY"in _?zS(_):Vd(_),v=e.current.filter(function(k){return k.name===_.type&&(k.target===_.target||_.target===k.shadowParent)&&q7(k.delta,w)})[0];if(v&&v.should){_.cancelable&&_.preventDefault();return}if(!v){var T=(o.current.shards||[]).map(WS).filter(Boolean).filter(function(k){return k.contains(_.target)}),P=T.length>0?a(_,T[0]):!o.current.noIsolation;P&&_.cancelable&&_.preventDefault()}}},[]),u=y.useCallback(function(g,_,w,v){var T={name:g,delta:_,target:w,should:v,shadowParent:Y7(w)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(P){return P!==T})},1)},[]),d=y.useCallback(function(g){n.current=Vd(g),r.current=void 0},[]),h=y.useCallback(function(g){u(g.type,zS(g),g.target,a(g,t.lockRef.current))},[]),f=y.useCallback(function(g){u(g.type,Vd(g),g.target,a(g,t.lockRef.current))},[]);y.useEffect(function(){return Qo.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Ko),document.addEventListener("touchmove",l,Ko),document.addEventListener("touchstart",d,Ko),function(){Qo=Qo.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,Ko),document.removeEventListener("touchmove",l,Ko),document.removeEventListener("touchstart",d,Ko)}},[]);var p=t.removeScrollBar,S=t.inert;return y.createElement(y.Fragment,null,S?y.createElement(i,{styles:G7(s)}):null,p?y.createElement(j7,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Y7(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const X7=b7(jk,Q7);var kw=y.forwardRef(function(t,e){return y.createElement(Ap,Sr({},t,{ref:e,sideCar:X7}))});kw.classNames=Ap.classNames;var J7=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Yo=new WeakMap,Ld=new WeakMap,jd={},tg=0,zk=function(t){return t&&(t.host||zk(t.parentNode))},Z7=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=zk(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},eW=function(t,e,n,r){var s=Z7(e,Array.isArray(t)?t:[t]);jd[n]||(jd[n]=new WeakMap);var i=jd[n],o=[],a=new Set,l=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var p=f.getAttribute(r),S=p!==null&&p!=="false",g=(Yo.get(f)||0)+1,_=(i.get(f)||0)+1;Yo.set(f,g),i.set(f,_),o.push(f),g===1&&S&&Ld.set(f,!0),_===1&&f.setAttribute(n,"true"),S||f.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",f,w)}})};return d(e),a.clear(),tg++,function(){o.forEach(function(h){var f=Yo.get(h)-1,p=i.get(h)-1;Yo.set(h,f),i.set(h,p),f||(Ld.has(h)||h.removeAttribute(r),Ld.delete(h)),p||h.removeAttribute(n)}),tg--,tg||(Yo=new WeakMap,Yo=new WeakMap,Ld=new WeakMap,jd={})}},Wk=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=J7(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),eW(r,s,n,"aria-hidden")):function(){return null}};function tW(t){const e=nW(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(sW);if(l){const u=l.props.children,d=a.map(h=>h===l?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:h);return E.jsx(e,{...o,ref:s,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return E.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function nW(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=oW(s),a=iW(i,s.props);return s.type!==y.Fragment&&(a.ref=r?fl(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var rW=Symbol("radix.slottable");function sW(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===rW}function iW(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function oW(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Pp="Dialog",[Hk]=Vo(Pp),[aW,cr]=Hk(Pp),qk=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=y.useRef(null),l=y.useRef(null),[u,d]=Zu({prop:r,defaultProp:s??!1,onChange:i,caller:Pp});return E.jsx(aW,{scope:e,triggerRef:a,contentRef:l,contentId:ai(),titleId:ai(),descriptionId:ai(),open:u,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};qk.displayName=Pp;var Gk="DialogTrigger",Kk=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=cr(Gk,n),i=qe(e,s.triggerRef);return E.jsx(Ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ow(s.open),...r,ref:i,onClick:pe(t.onClick,s.onOpenToggle)})});Kk.displayName=Gk;var Nw="DialogPortal",[lW,Qk]=Hk(Nw,{forceMount:void 0}),Yk=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=cr(Nw,e);return E.jsx(lW,{scope:e,forceMount:n,children:y.Children.map(r,o=>E.jsx(gl,{present:n||i.open,children:E.jsx(C0,{asChild:!0,container:s,children:o})}))})};Yk.displayName=Nw;var mf="DialogOverlay",Xk=y.forwardRef((t,e)=>{const n=Qk(mf,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=cr(mf,t.__scopeDialog);return i.modal?E.jsx(gl,{present:r||i.open,children:E.jsx(cW,{...s,ref:e})}):null});Xk.displayName=mf;var uW=tW("DialogOverlay.RemoveScroll"),cW=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=cr(mf,n);return E.jsx(kw,{as:uW,allowPinchZoom:!0,shards:[s.contentRef],children:E.jsx(Ae.div,{"data-state":Ow(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ko="DialogContent",Jk=y.forwardRef((t,e)=>{const n=Qk(ko,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=cr(ko,t.__scopeDialog);return E.jsx(gl,{present:r||i.open,children:i.modal?E.jsx(dW,{...s,ref:e}):E.jsx(hW,{...s,ref:e})})});Jk.displayName=ko;var dW=y.forwardRef((t,e)=>{const n=cr(ko,t.__scopeDialog),r=y.useRef(null),s=qe(e,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return Wk(i)},[]),E.jsx(Zk,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:pe(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:pe(t.onFocusOutside,i=>i.preventDefault())})}),hW=y.forwardRef((t,e)=>{const n=cr(ko,t.__scopeDialog),r=y.useRef(!1),s=y.useRef(!1);return E.jsx(Zk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Zk=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=cr(ko,n),l=y.useRef(null),u=qe(e,l);return Mk(),E.jsxs(E.Fragment,{children:[E.jsx(Rw,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:E.jsx(Wf,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Ow(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),E.jsxs(E.Fragment,{children:[E.jsx(fW,{titleId:a.titleId}),E.jsx(mW,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Dw="DialogTitle",eN=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=cr(Dw,n);return E.jsx(Ae.h2,{id:s.titleId,...r,ref:e})});eN.displayName=Dw;var tN="DialogDescription",nN=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=cr(tN,n);return E.jsx(Ae.p,{id:s.descriptionId,...r,ref:e})});nN.displayName=tN;var rN="DialogClose",sN=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=cr(rN,n);return E.jsx(Ae.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,()=>s.onOpenChange(!1))})});sN.displayName=rN;function Ow(t){return t?"open":"closed"}var iN="DialogTitleWarning",[lX,oN]=kL(iN,{contentName:ko,titleName:Dw,docsSlug:"dialog"}),fW=({titleId:t})=>{const e=oN(iN),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},pW="DialogDescriptionWarning",mW=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${oN(pW).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},gW=qk,yW=Kk,vW=Yk,aN=Xk,lN=Jk,uN=eN,cN=nN,wW=sN;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dN=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var EW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...EW,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:dN("lucide",s),...a},[...o.map(([u,d])=>y.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(xW,{ref:i,iconNode:e,className:dN(`lucide-${_W(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=pt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=pt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=pt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=pt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=pt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=pt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=pt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=pt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=pt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=pt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kW=pt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=pt("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DW=pt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OW=pt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MW=pt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=pt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LW=pt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=pt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=pt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=pt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),mN=gW,gN=yW,jW=vW,yN=y.forwardRef(({className:t,...e},n)=>E.jsx(aN,{ref:n,className:ge("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));yN.displayName=aN.displayName;const Mw=y.forwardRef(({className:t,children:e,...n},r)=>E.jsxs(jW,{children:[E.jsx(yN,{}),E.jsxs(lN,{ref:r,className:ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,E.jsxs(wW,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[E.jsx(pN,{className:"h-4 w-4"}),E.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Mw.displayName=lN.displayName;const Vw=({className:t,...e})=>E.jsx("div",{className:ge("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Vw.displayName="DialogHeader";const vN=({className:t,...e})=>E.jsx("div",{className:ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});vN.displayName="DialogFooter";const Lw=y.forwardRef(({className:t,...e},n)=>E.jsx(uN,{ref:n,className:ge("text-lg font-semibold leading-none tracking-tight",t),...e}));Lw.displayName=uN.displayName;const wN=y.forwardRef(({className:t,...e},n)=>E.jsx(cN,{ref:n,className:ge("text-sm text-muted-foreground",t),...e}));wN.displayName=cN.displayName;var FW=Symbol.for("react.lazy"),gf=Af[" use ".trim().toString()];function UW(t){return typeof t=="object"&&t!==null&&"then"in t}function _N(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===FW&&"_payload"in t&&UW(t._payload)}function EN(t){const e=$W(t),n=y.forwardRef((r,s)=>{let{children:i,...o}=r;_N(i)&&typeof gf=="function"&&(i=gf(i._payload));const a=y.Children.toArray(i),l=a.find(WW);if(l){const u=l.props.children,d=a.map(h=>h===l?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:h);return E.jsx(e,{...o,ref:s,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return E.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var BW=EN("Slot");function $W(t){const e=y.forwardRef((n,r)=>{let{children:s,...i}=n;if(_N(s)&&typeof gf=="function"&&(s=gf(s._payload)),y.isValidElement(s)){const o=qW(s),a=HW(i,s.props);return s.type!==y.Fragment&&(a.ref=r?fl(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var zW=Symbol("radix.slottable");function WW(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===zW}function HW(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function qW(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const HS=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,qS=SA,xN=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return qS(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const f=HS(d)||HS(h);return s[u][f]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(S=>{let[g,_]=S;return Array.isArray(_)?_.includes({...i,...a}[g]):{...i,...a}[g]===_})?[...u,h,f]:u},[]);return qS(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},GW=xN("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),It=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?BW:"button";return E.jsx(o,{className:ge(GW({variant:e,size:n,className:t})),ref:i,...s})});It.displayName="Button";const fc=y.forwardRef(({className:t,type:e,...n},r)=>E.jsx("input",{type:e,className:ge("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));fc.displayName="Input";var KW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],QW=KW.reduce((t,e)=>{const n=EN(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),YW="Label",TN=y.forwardRef((t,e)=>E.jsx(QW.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));TN.displayName=YW;var SN=TN;const XW=xN("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ta=y.forwardRef(({className:t,...e},n)=>E.jsx(SN,{ref:n,className:ge(XW(),t),...e}));ta.displayName=SN.displayName;function GS(t,[e,n]){return Math.min(n,Math.max(e,t))}function KS(t){const e=JW(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(eH);if(l){const u=l.props.children,d=a.map(h=>h===l?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:h);return E.jsx(e,{...o,ref:s,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return E.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function JW(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=nH(s),a=tH(i,s.props);return s.type!==y.Fragment&&(a.ref=r?fl(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ZW=Symbol("radix.slottable");function eH(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ZW}function tH(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function nH(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function bN(t){const e=t+"CollectionProvider",[n,r]=Vo(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:_,children:w}=g,v=W.useRef(null),T=W.useRef(new Map).current;return E.jsx(s,{scope:_,itemMap:T,collectionRef:v,children:w})};o.displayName=e;const a=t+"CollectionSlot",l=KS(a),u=W.forwardRef((g,_)=>{const{scope:w,children:v}=g,T=i(a,w),P=qe(_,T.collectionRef);return E.jsx(l,{ref:P,children:v})});u.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",f=KS(d),p=W.forwardRef((g,_)=>{const{scope:w,children:v,...T}=g,P=W.useRef(null),k=qe(_,P),M=i(d,w);return W.useEffect(()=>(M.itemMap.set(P,{ref:P,...T}),()=>void M.itemMap.delete(P))),E.jsx(f,{[h]:"",ref:k,children:v})});p.displayName=d;function S(g){const _=i(t+"CollectionConsumer",g);return W.useCallback(()=>{const v=_.collectionRef.current;if(!v)return[];const T=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(_.itemMap.values()).sort((M,C)=>T.indexOf(M.ref.current)-T.indexOf(C.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},S,r]}var rH=y.createContext(void 0);function jw(t){const e=y.useContext(rH);return t||e||"ltr"}function sH(t){const e=iH(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(aH);if(l){const u=l.props.children,d=a.map(h=>h===l?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:h);return E.jsx(e,{...o,ref:s,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return E.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function iH(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=uH(s),a=lH(i,s.props);return s.type!==y.Fragment&&(a.ref=r?fl(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var oH=Symbol("radix.slottable");function aH(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===oH}function lH(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function uH(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function cH(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var dH=[" ","Enter","ArrowUp","ArrowDown"],hH=[" ","Enter"],No="Select",[Rp,kp,fH]=bN(No),[Sl]=Vo(No,[fH,Qf]),Np=Qf(),[pH,Vi]=Sl(No),[mH,gH]=Sl(No),CN=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:h,disabled:f,required:p,form:S}=t,g=Np(e),[_,w]=y.useState(null),[v,T]=y.useState(null),[P,k]=y.useState(!1),M=jw(u),[C,b]=Zu({prop:r,defaultProp:s??!1,onChange:i,caller:No}),[I,R]=Zu({prop:o,defaultProp:a,onChange:l,caller:No}),N=y.useRef(null),O=_?S||!!_.closest("form"):!0,[D,Y]=y.useState(new Set),ce=Array.from(D).map(J=>J.props.value).join(";");return E.jsx(g4,{...g,children:E.jsxs(pH,{required:p,scope:e,trigger:_,onTriggerChange:w,valueNode:v,onValueNodeChange:T,valueNodeHasChildren:P,onValueNodeHasChildrenChange:k,contentId:ai(),value:I,onValueChange:R,open:C,onOpenChange:b,dir:M,triggerPointerDownPosRef:N,disabled:f,children:[E.jsx(Rp.Provider,{scope:e,children:E.jsx(mH,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(J=>{Y(X=>new Set(X).add(J))},[]),onNativeOptionRemove:y.useCallback(J=>{Y(X=>{const j=new Set(X);return j.delete(J),j})},[]),children:n})}),O?E.jsxs(YN,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:h,value:I,onChange:J=>R(J.target.value),disabled:f,form:S,children:[I===void 0?E.jsx("option",{value:""}):null,Array.from(D)]},ce):null]})})};CN.displayName=No;var IN="SelectTrigger",AN=y.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Np(n),o=Vi(IN,n),a=o.disabled||r,l=qe(e,o.onTriggerChange),u=kp(n),d=y.useRef("touch"),[h,f,p]=JN(g=>{const _=u().filter(T=>!T.disabled),w=_.find(T=>T.value===o.value),v=ZN(_,g,w);v!==void 0&&o.onValueChange(v.value)}),S=g=>{a||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return E.jsx(cA,{asChild:!0,...i,children:E.jsx(Ae.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":XN(o.value)?"":void 0,...s,ref:l,onClick:pe(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&S(g)}),onPointerDown:pe(s.onPointerDown,g=>{d.current=g.pointerType;const _=g.target;_.hasPointerCapture(g.pointerId)&&_.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(S(g),g.preventDefault())}),onKeyDown:pe(s.onKeyDown,g=>{const _=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(_&&g.key===" ")&&dH.includes(g.key)&&(S(),g.preventDefault())})})})});AN.displayName=IN;var PN="SelectValue",RN=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Vi(PN,n),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,h=qe(e,l.onValueNodeChange);return Kt(()=>{u(d)},[u,d]),E.jsx(Ae.span,{...a,ref:h,style:{pointerEvents:"none"},children:XN(l.value)?E.jsx(E.Fragment,{children:o}):i})});RN.displayName=PN;var yH="SelectIcon",kN=y.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return E.jsx(Ae.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});kN.displayName=yH;var vH="SelectPortal",NN=t=>E.jsx(C0,{asChild:!0,...t});NN.displayName=vH;var Do="SelectContent",DN=y.forwardRef((t,e)=>{const n=Vi(Do,t.__scopeSelect),[r,s]=y.useState();if(Kt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?hl.createPortal(E.jsx(ON,{scope:t.__scopeSelect,children:E.jsx(Rp.Slot,{scope:t.__scopeSelect,children:E.jsx("div",{children:t.children})})}),i):null}return E.jsx(MN,{...t,ref:e})});DN.displayName=Do;var Qn=10,[ON,Li]=Sl(Do),wH="SelectContentImpl",_H=sH("SelectContent.RemoveScroll"),MN=y.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:S,hideWhenDetached:g,avoidCollisions:_,...w}=t,v=Vi(Do,n),[T,P]=y.useState(null),[k,M]=y.useState(null),C=qe(e,G=>P(G)),[b,I]=y.useState(null),[R,N]=y.useState(null),O=kp(n),[D,Y]=y.useState(!1),ce=y.useRef(!1);y.useEffect(()=>{if(T)return Wk(T)},[T]),Mk();const J=y.useCallback(G=>{const[be,...Le]=O().map(xe=>xe.ref.current),[Ce]=Le.slice(-1),ve=document.activeElement;for(const xe of G)if(xe===ve||(xe==null||xe.scrollIntoView({block:"nearest"}),xe===be&&k&&(k.scrollTop=0),xe===Ce&&k&&(k.scrollTop=k.scrollHeight),xe==null||xe.focus(),document.activeElement!==ve))return},[O,k]),X=y.useCallback(()=>J([b,T]),[J,b,T]);y.useEffect(()=>{D&&X()},[D,X]);const{onOpenChange:j,triggerPointerDownPosRef:U}=v;y.useEffect(()=>{if(T){let G={x:0,y:0};const be=Ce=>{var ve,xe;G={x:Math.abs(Math.round(Ce.pageX)-(((ve=U.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(Ce.pageY)-(((xe=U.current)==null?void 0:xe.y)??0))}},Le=Ce=>{G.x<=10&&G.y<=10?Ce.preventDefault():T.contains(Ce.target)||j(!1),document.removeEventListener("pointermove",be),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",Le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",Le,{capture:!0})}}},[T,j,U]),y.useEffect(()=>{const G=()=>j(!1);return window.addEventListener("blur",G),window.addEventListener("resize",G),()=>{window.removeEventListener("blur",G),window.removeEventListener("resize",G)}},[j]);const[q,ie]=JN(G=>{const be=O().filter(ve=>!ve.disabled),Le=be.find(ve=>ve.ref.current===document.activeElement),Ce=ZN(be,G,Le);Ce&&setTimeout(()=>Ce.ref.current.focus())}),ee=y.useCallback((G,be,Le)=>{const Ce=!ce.current&&!Le;(v.value!==void 0&&v.value===be||Ce)&&(I(G),Ce&&(ce.current=!0))},[v.value]),me=y.useCallback(()=>T==null?void 0:T.focus(),[T]),le=y.useCallback((G,be,Le)=>{const Ce=!ce.current&&!Le;(v.value!==void 0&&v.value===be||Ce)&&N(G)},[v.value]),ke=r==="popper"?Yy:VN,Oe=ke===Yy?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:S,hideWhenDetached:g,avoidCollisions:_}:{};return E.jsx(ON,{scope:n,content:T,viewport:k,onViewportChange:M,itemRefCallback:ee,selectedItem:b,onItemLeave:me,itemTextRefCallback:le,focusSelectedItem:X,selectedItemText:R,position:r,isPositioned:D,searchRef:q,children:E.jsx(kw,{as:_H,allowPinchZoom:!0,children:E.jsx(Rw,{asChild:!0,trapped:v.open,onMountAutoFocus:G=>{G.preventDefault()},onUnmountAutoFocus:pe(s,G=>{var be;(be=v.trigger)==null||be.focus({preventScroll:!0}),G.preventDefault()}),children:E.jsx(Wf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:G=>G.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:E.jsx(ke,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:G=>G.preventDefault(),...w,...Oe,onPlaced:()=>Y(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:pe(w.onKeyDown,G=>{const be=G.ctrlKey||G.altKey||G.metaKey;if(G.key==="Tab"&&G.preventDefault(),!be&&G.key.length===1&&ie(G.key),["ArrowUp","ArrowDown","Home","End"].includes(G.key)){let Ce=O().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(G.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(G.key)){const ve=G.target,xe=Ce.indexOf(ve);Ce=Ce.slice(xe+1)}setTimeout(()=>J(Ce)),G.preventDefault()}})})})})})})});MN.displayName=wH;var EH="SelectItemAlignedPosition",VN=y.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Vi(Do,n),o=Li(Do,n),[a,l]=y.useState(null),[u,d]=y.useState(null),h=qe(e,C=>d(C)),f=kp(n),p=y.useRef(!1),S=y.useRef(!0),{viewport:g,selectedItem:_,selectedItemText:w,focusSelectedItem:v}=o,T=y.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&g&&_&&w){const C=i.trigger.getBoundingClientRect(),b=u.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),R=w.getBoundingClientRect();if(i.dir!=="rtl"){const ve=R.left-b.left,xe=I.left-ve,ut=C.left-xe,Yt=C.width+ut,zr=Math.max(Yt,b.width),kn=window.innerWidth-Qn,Wn=GS(xe,[Qn,Math.max(Qn,kn-zr)]);a.style.minWidth=Yt+"px",a.style.left=Wn+"px"}else{const ve=b.right-R.right,xe=window.innerWidth-I.right-ve,ut=window.innerWidth-C.right-xe,Yt=C.width+ut,zr=Math.max(Yt,b.width),kn=window.innerWidth-Qn,Wn=GS(xe,[Qn,Math.max(Qn,kn-zr)]);a.style.minWidth=Yt+"px",a.style.right=Wn+"px"}const N=f(),O=window.innerHeight-Qn*2,D=g.scrollHeight,Y=window.getComputedStyle(u),ce=parseInt(Y.borderTopWidth,10),J=parseInt(Y.paddingTop,10),X=parseInt(Y.borderBottomWidth,10),j=parseInt(Y.paddingBottom,10),U=ce+J+D+j+X,q=Math.min(_.offsetHeight*5,U),ie=window.getComputedStyle(g),ee=parseInt(ie.paddingTop,10),me=parseInt(ie.paddingBottom,10),le=C.top+C.height/2-Qn,ke=O-le,Oe=_.offsetHeight/2,G=_.offsetTop+Oe,be=ce+J+G,Le=U-be;if(be<=le){const ve=N.length>0&&_===N[N.length-1].ref.current;a.style.bottom="0px";const xe=u.clientHeight-g.offsetTop-g.offsetHeight,ut=Math.max(ke,Oe+(ve?me:0)+xe+X),Yt=be+ut;a.style.height=Yt+"px"}else{const ve=N.length>0&&_===N[0].ref.current;a.style.top="0px";const ut=Math.max(le,ce+g.offsetTop+(ve?ee:0)+Oe)+Le;a.style.height=ut+"px",g.scrollTop=be-le+g.offsetTop}a.style.margin=`${Qn}px 0`,a.style.minHeight=q+"px",a.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[f,i.trigger,i.valueNode,a,u,g,_,w,i.dir,r]);Kt(()=>T(),[T]);const[P,k]=y.useState();Kt(()=>{u&&k(window.getComputedStyle(u).zIndex)},[u]);const M=y.useCallback(C=>{C&&S.current===!0&&(T(),v==null||v(),S.current=!1)},[T,v]);return E.jsx(TH,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:M,children:E.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:E.jsx(Ae.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});VN.displayName=EH;var xH="SelectPopperPosition",Yy=y.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Qn,...i}=t,o=Np(n);return E.jsx(dA,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Yy.displayName=xH;var[TH,Fw]=Sl(Do,{}),Xy="SelectViewport",LN=y.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Li(Xy,n),o=Fw(Xy,n),a=qe(e,i.onViewportChange),l=y.useRef(0);return E.jsxs(E.Fragment,{children:[E.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),E.jsx(Rp.Slot,{scope:n,children:E.jsx(Ae.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:pe(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const p=Math.abs(l.current-d.scrollTop);if(p>0){const S=window.innerHeight-Qn*2,g=parseFloat(h.style.minHeight),_=parseFloat(h.style.height),w=Math.max(g,_);if(w<S){const v=w+p,T=Math.min(S,v),P=v-T;h.style.height=T+"px",h.style.bottom==="0px"&&(d.scrollTop=P>0?P:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});LN.displayName=Xy;var jN="SelectGroup",[SH,bH]=Sl(jN),CH=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ai();return E.jsx(SH,{scope:n,id:s,children:E.jsx(Ae.div,{role:"group","aria-labelledby":s,...r,ref:e})})});CH.displayName=jN;var FN="SelectLabel",UN=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=bH(FN,n);return E.jsx(Ae.div,{id:s.id,...r,ref:e})});UN.displayName=FN;var yf="SelectItem",[IH,BN]=Sl(yf),$N=y.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Vi(yf,n),l=Li(yf,n),u=a.value===r,[d,h]=y.useState(i??""),[f,p]=y.useState(!1),S=qe(e,v=>{var T;return(T=l.itemRefCallback)==null?void 0:T.call(l,v,r,s)}),g=ai(),_=y.useRef("touch"),w=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return E.jsx(IH,{scope:n,value:r,disabled:s,textId:g,isSelected:u,onItemTextChange:y.useCallback(v=>{h(T=>T||((v==null?void 0:v.textContent)??"").trim())},[]),children:E.jsx(Rp.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:E.jsx(Ae.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:S,onFocus:pe(o.onFocus,()=>p(!0)),onBlur:pe(o.onBlur,()=>p(!1)),onClick:pe(o.onClick,()=>{_.current!=="mouse"&&w()}),onPointerUp:pe(o.onPointerUp,()=>{_.current==="mouse"&&w()}),onPointerDown:pe(o.onPointerDown,v=>{_.current=v.pointerType}),onPointerMove:pe(o.onPointerMove,v=>{var T;_.current=v.pointerType,s?(T=l.onItemLeave)==null||T.call(l):_.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pe(o.onPointerLeave,v=>{var T;v.currentTarget===document.activeElement&&((T=l.onItemLeave)==null||T.call(l))}),onKeyDown:pe(o.onKeyDown,v=>{var P;((P=l.searchRef)==null?void 0:P.current)!==""&&v.key===" "||(hH.includes(v.key)&&w(),v.key===" "&&v.preventDefault())})})})})});$N.displayName=yf;var uu="SelectItemText",zN=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Vi(uu,n),a=Li(uu,n),l=BN(uu,n),u=gH(uu,n),[d,h]=y.useState(null),f=qe(e,w=>h(w),l.onItemTextChange,w=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,w,l.value,l.disabled)}),p=d==null?void 0:d.textContent,S=y.useMemo(()=>E.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:_}=u;return Kt(()=>(g(S),()=>_(S)),[g,_,S]),E.jsxs(E.Fragment,{children:[E.jsx(Ae.span,{id:l.textId,...i,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?hl.createPortal(i.children,o.valueNode):null]})});zN.displayName=uu;var WN="SelectItemIndicator",HN=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return BN(WN,n).isSelected?E.jsx(Ae.span,{"aria-hidden":!0,...r,ref:e}):null});HN.displayName=WN;var Jy="SelectScrollUpButton",qN=y.forwardRef((t,e)=>{const n=Li(Jy,t.__scopeSelect),r=Fw(Jy,t.__scopeSelect),[s,i]=y.useState(!1),o=qe(e,r.onScrollButtonChange);return Kt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?E.jsx(KN,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});qN.displayName=Jy;var Zy="SelectScrollDownButton",GN=y.forwardRef((t,e)=>{const n=Li(Zy,t.__scopeSelect),r=Fw(Zy,t.__scopeSelect),[s,i]=y.useState(!1),o=qe(e,r.onScrollButtonChange);return Kt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?E.jsx(KN,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});GN.displayName=Zy;var KN=y.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Li("SelectScrollButton",n),o=y.useRef(null),a=kp(n),l=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>l(),[l]),Kt(()=>{var d;const u=a().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),E.jsx(Ae.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:pe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:pe(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:pe(s.onPointerLeave,()=>{l()})})}),AH="SelectSeparator",QN=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return E.jsx(Ae.div,{"aria-hidden":!0,...r,ref:e})});QN.displayName=AH;var ev="SelectArrow",PH=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Np(n),i=Vi(ev,n),o=Li(ev,n);return i.open&&o.position==="popper"?E.jsx(hA,{...s,...r,ref:e}):null});PH.displayName=ev;var RH="SelectBubbleInput",YN=y.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=y.useRef(null),i=qe(r,s),o=cH(e);return y.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const h=new Event("change",{bubbles:!0});d.call(a,e),a.dispatchEvent(h)}},[o,e]),E.jsx(Ae.select,{...n,style:{...fA,...n.style},ref:i,defaultValue:e})});YN.displayName=RH;function XN(t){return t===""||t===void 0}function JN(t){const e=gi(t),n=y.useRef(""),r=y.useRef(0),s=y.useCallback(o=>{const a=n.current+o;e(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function ZN(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=kH(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function kH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var NH=CN,eD=AN,DH=RN,OH=kN,MH=NN,tD=DN,VH=LN,nD=UN,rD=$N,LH=zN,jH=HN,sD=qN,iD=GN,oD=QN;const QS=NH,YS=DH,tv=y.forwardRef(({className:t,children:e,...n},r)=>E.jsxs(eD,{ref:r,className:ge("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,E.jsx(OH,{asChild:!0,children:E.jsx(hN,{className:"h-4 w-4 opacity-50"})})]}));tv.displayName=eD.displayName;const aD=y.forwardRef(({className:t,...e},n)=>E.jsx(sD,{ref:n,className:ge("flex cursor-default items-center justify-center py-1",t),...e,children:E.jsx(bW,{className:"h-4 w-4"})}));aD.displayName=sD.displayName;const lD=y.forwardRef(({className:t,...e},n)=>E.jsx(iD,{ref:n,className:ge("flex cursor-default items-center justify-center py-1",t),...e,children:E.jsx(hN,{className:"h-4 w-4"})}));lD.displayName=iD.displayName;const nv=y.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>E.jsx(MH,{children:E.jsxs(tD,{ref:s,className:ge("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[E.jsx(aD,{}),E.jsx(VH,{className:ge("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),E.jsx(lD,{})]})}));nv.displayName=tD.displayName;const FH=y.forwardRef(({className:t,...e},n)=>E.jsx(nD,{ref:n,className:ge("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));FH.displayName=nD.displayName;const rv=y.forwardRef(({className:t,children:e,...n},r)=>E.jsxs(rD,{ref:r,className:ge("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[E.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:E.jsx(jH,{children:E.jsx(mh,{className:"h-4 w-4"})})}),E.jsx(LH,{children:e})]}));rv.displayName=rD.displayName;const UH=y.forwardRef(({className:t,...e},n)=>E.jsx(oD,{ref:n,className:ge("-mx-1 my-1 h-px bg-muted",t),...e}));UH.displayName=oD.displayName;const vf=["BLANC","DEMI-JAUNE","JAUNE","DEMI-VERT","VERT","DEMI-BLEU","BLEU","ROUGE 3","ROUGE 2","ROUGE 1","1ER DAN","2EME DAN","3EME DAN"],XS={BLANC:{bg:"bg-white",text:"text-gray-900",border:"border-gray-200"},"DEMI-JAUNE":{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-300"},JAUNE:{bg:"bg-yellow-400",text:"text-yellow-900",border:"border-yellow-500"},"DEMI-VERT":{bg:"bg-green-100",text:"text-green-800",border:"border-green-300"},VERT:{bg:"bg-green-500",text:"text-white",border:"border-green-600"},"DEMI-BLEU":{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-300"},BLEU:{bg:"bg-blue-500",text:"text-white",border:"border-blue-600"},"ROUGE 3":{bg:"bg-red-500",text:"text-white",border:"border-red-600"},"ROUGE 2":{bg:"bg-red-600",text:"text-white",border:"border-red-700"},"ROUGE 1":{bg:"bg-red-700",text:"text-white",border:"border-red-800"},"1ER DAN":{bg:"bg-black",text:"text-white",border:"border-gray-800"},"2EME DAN":{bg:"bg-black",text:"text-white",border:"border-gray-800"},"3EME DAN":{bg:"bg-black",text:"text-white",border:"border-gray-800"}},Hi="/passagedegrade/",Js=[`${Hi}assets/logos/TAEKWONDO_SBEITLA_-removebg-preview.png`,`${Hi}assets/logos/kukkiwon.png`,`${Hi}assets/logos/Elite Sportive - 1.png`,`${Hi}assets/logos/img_4026_nobg_new.png`,`${Hi}assets/logos/WAADTI.png`,`${Hi}assets/logos/diamond-gym.png`,`${Hi}assets/logos/federation-tunisienne-de-taekwondo.png`];var Rt=[];for(var rg=0;rg<256;++rg)Rt.push((rg+256).toString(16).slice(1));function BH(t,e=0){return(Rt[t[e+0]]+Rt[t[e+1]]+Rt[t[e+2]]+Rt[t[e+3]]+"-"+Rt[t[e+4]]+Rt[t[e+5]]+"-"+Rt[t[e+6]]+Rt[t[e+7]]+"-"+Rt[t[e+8]]+Rt[t[e+9]]+"-"+Rt[t[e+10]]+Rt[t[e+11]]+Rt[t[e+12]]+Rt[t[e+13]]+Rt[t[e+14]]+Rt[t[e+15]]).toLowerCase()}var Fd,$H=new Uint8Array(16);function zH(){if(!Fd&&(Fd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Fd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Fd($H)}var WH=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const JS={randomUUID:WH};function HH(t,e,n){if(JS.randomUUID&&!t)return JS.randomUUID();t=t||{};var r=t.random||(t.rng||zH)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,BH(r)}const qH="taekwondo-sbeitla",Ii="images";function Uw(){return new Promise((t,e)=>{const n=indexedDB.open(qH,1);n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains(Ii)||r.createObjectStore(Ii)},n.onsuccess=()=>t(n.result),n.onerror=()=>e(n.error)})}async function GH(t,e){const n=await Uw();return new Promise((r,s)=>{const a=n.transaction(Ii,"readwrite").objectStore(Ii).put(e,t);a.onsuccess=()=>r(),a.onerror=()=>s(a.error)})}async function KH(t){const e=await Uw();return new Promise((n,r)=>{const o=e.transaction(Ii,"readonly").objectStore(Ii).get(t);o.onsuccess=()=>n(o.result),o.onerror=()=>r(o.error)})}async function QH(t){const e=await Uw();return new Promise((n,r)=>{const o=e.transaction(Ii,"readwrite").objectStore(Ii).delete(t);o.onsuccess=()=>n(),o.onerror=()=>r(o.error)})}async function ZS(t,e){const r=await(await fetch(e)).blob(),s=`student/${t}`;return await GH(s,r),`idb:${s}`}async function YH(t){if(!t.startsWith("idb:"))return t;const e=t.slice(4),n=await KH(e);return n?URL.createObjectURL(n):""}async function XH(t){if(!t.startsWith("idb:"))return;const e=t.slice(4);await QH(e)}function Bw({src:t,...e}){const[n,r]=W.useState(""),s="/passagedegrade/assets/default-avatar_variant_2.png";return W.useEffect(()=>{let i=null,o=!1;return(async()=>{const l=t&&t.trim().length>0?t:s;if(/^https?:\/\//.test(l)){r(l);return}const u=await YH(l);if(o)return;const d=l.startsWith("idb:");r(u||(d?s:l)),u&&u.startsWith("blob:")&&(i=u)})(),()=>{o=!0,i&&URL.revokeObjectURL(i)}},[t]),E.jsx("img",{src:n||t||s,onError:i=>{const o=i.currentTarget;o.src!==s&&(o.src=s)},...e})}function eb({onSubmit:t,trigger:e,initialData:n}){const[r,s]=y.useState(!1),[i,o]=y.useState((n==null?void 0:n.fullName)||""),[a,l]=y.useState((n==null?void 0:n.currentBelt)||"BLANC"),[u,d]=y.useState((n==null?void 0:n.nextBelt)||"DEMI-JAUNE"),[h,f]=y.useState((n==null?void 0:n.photoUrl)||"/passagedegrade/assets/default-avatar_variant_2.png"),p=async g=>{g.preventDefault();const _=(n==null?void 0:n.id)||HH();let w=h;if(w.startsWith("data:"))try{const T=await a7(_,w);T?w=T:w=await ZS(_,w)}catch{try{w=await ZS(_,w)}catch{}}const v={id:_,fullName:i,currentBelt:a,nextBelt:u,photoUrl:w,order:(n==null?void 0:n.order)||999,status:(n==null?void 0:n.status)||"PENDING"};t(v),s(!1),n||(o(""),f("/passagedegrade/assets/default-avatar_variant_3.png"))},S=async g=>{var v;const _=(v=g.target.files)==null?void 0:v[0];if(!_)return;const w=(T,P=512,k=.8)=>new Promise((M,C)=>{const b=new FileReader;b.onload=()=>{const I=new Image;I.onload=()=>{const R=document.createElement("canvas"),N=Math.min(P/I.width,P/I.height,1);R.width=Math.round(I.width*N),R.height=Math.round(I.height*N);const O=R.getContext("2d");if(!O){C(new Error("Canvas context not available"));return}O.drawImage(I,0,0,R.width,R.height);const D=R.toDataURL("image/jpeg",k);M(D)},I.onerror=C,I.src=b.result},b.onerror=C,b.readAsDataURL(T)});try{const T=await w(_);f(T)}catch{const P=new FileReader;P.onloadend=()=>f(P.result),P.readAsDataURL(_)}};return E.jsxs(mN,{open:r,onOpenChange:s,children:[E.jsx(gN,{asChild:!0,children:e||E.jsxs(It,{className:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:[E.jsx(DW,{className:"mr-2 h-4 w-4"})," Ajouter un lve"]})}),E.jsxs(Mw,{className:"sm:max-w-[500px] border-t-4 border-red-600",children:[E.jsx(Vw,{children:E.jsx(Lw,{className:"text-2xl font-bold text-gray-900",children:n?"Modifier l'lve":"Ajouter un Nouvel lve"})}),E.jsxs("form",{onSubmit:p,className:"space-y-6 mt-4",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(ta,{htmlFor:"name",className:"text-gray-700 font-medium",children:"Nom et Prnom"}),E.jsx(fc,{id:"name",value:i,onChange:g=>o(g.target.value),required:!0,className:"border-gray-300 focus:border-red-500 focus:ring-red-500",placeholder:"Ex: Ahmed Ben Ali"})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(ta,{className:"text-gray-700 font-medium",children:"Ceinture Actuelle"}),E.jsxs(QS,{value:a,onValueChange:g=>l(g),children:[E.jsx(tv,{className:"border-gray-300",children:E.jsx(YS,{})}),E.jsx(nv,{children:vf.map(g=>E.jsx(rv,{value:g,children:g},g))})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(ta,{className:"text-gray-700 font-medium",children:"Test Pour"}),E.jsxs(QS,{value:u,onValueChange:g=>d(g),children:[E.jsx(tv,{className:"border-gray-300",children:E.jsx(YS,{})}),E.jsx(nv,{children:vf.map(g=>E.jsx(rv,{value:g,children:g},g))})]})]})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsx(ta,{className:"text-gray-700 font-medium",children:"Photo de Profil"}),E.jsxs("div",{className:"flex items-center gap-6 p-4 border-2 border-dashed border-gray-200 rounded-xl bg-gray-50",children:[E.jsx(Bw,{src:h,alt:"Aperu",className:"w-16 h-16 rounded-full object-cover border-2 border-white shadow-md"}),E.jsxs("div",{className:"flex-1",children:[E.jsx(ta,{htmlFor:"photo-upload",className:"cursor-pointer",children:E.jsxs("div",{className:"flex items-center justify-center w-full px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium text-gray-700 shadow-sm",children:[E.jsx(fN,{className:"w-4 h-4 mr-2"}),"Choisir une image"]})}),E.jsx(fc,{id:"photo-upload",type:"file",accept:"image/*",onChange:S,className:"hidden"})]})]})]}),E.jsxs(It,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-6 text-lg shadow-md transition-all",children:[E.jsx(OW,{className:"mr-2 h-5 w-5"})," ",n?"Enregistrer les Modifications":"Enregistrer l'lve"]})]})]})]})}const uD=y.forwardRef(({className:t,...e},n)=>E.jsx("textarea",{className:ge("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));uD.displayName="Textarea";function JH({onImport:t}){const[e,n]=y.useState(!1),[r,s]=y.useState(""),i=a=>{var h;const l=a.trim().split(`
`),u=[],d=l[0].toLowerCase().includes("nom")||l[0].toLowerCase().includes("name")?1:0;for(let f=d;f<l.length;f++){const p=l[f].trim();if(!p)continue;const S=p.split(/,|\t/);if(S.length<3)continue;const g=S[0].trim(),_=S[1].trim(),w=S[2].trim(),v=((h=S[3])==null?void 0:h.trim())||"/passagedegrade/assets/default-avatar.png";if(!vf.includes(_)||!vf.includes(w)){console.warn(`Invalid belt for student ${g}: ${_} -> ${w}`);continue}u.push({id:crypto.randomUUID(),fullName:g,currentBelt:_,nextBelt:w,photoUrl:v,status:"PENDING",order:0})}return u},o=()=>{try{const a=i(r);if(a.length===0){no.error("Aucun lve valide trouv. Vrifiez le format.");return}t(a),n(!1),s(""),no.success(`${a.length} lves imports avec succs !`)}catch(a){console.error(a),no.error("Erreur lors de l'importation.")}};return E.jsxs(mN,{open:e,onOpenChange:n,children:[E.jsx(gN,{asChild:!0,children:E.jsxs(It,{variant:"outline",className:"gap-2 border-green-200 hover:bg-green-50 hover:text-green-700",children:[E.jsx(NW,{size:18})," Importer (CSV)"]})}),E.jsxs(Mw,{className:"sm:max-w-[600px]",children:[E.jsxs(Vw,{children:[E.jsx(Lw,{children:"Importer depuis Google Sheets"}),E.jsxs(wN,{children:["Copiez et collez vos donnes ici. Le format doit tre : ",E.jsx("br",{}),E.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded text-xs",children:"Nom Complet, Ceinture Actuelle, Ceinture Suivante, URL Photo (Optionnel)"})]})]}),E.jsxs("div",{className:"grid gap-4 py-4",children:[E.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg flex gap-3 text-sm text-blue-700",children:[E.jsx(CW,{className:"w-5 h-5 flex-shrink-0"}),E.jsxs("div",{children:[E.jsx("p",{className:"font-bold mb-1",children:"Instructions :"}),E.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[E.jsx("li",{children:"Ouvrez votre Google Sheet"}),E.jsx("li",{children:"Slectionnez les colonnes (Nom, Grade Actuel, Grade Suivant, Photo)"}),E.jsx("li",{children:"Copiez (Ctrl+C) et collez (Ctrl+V) ci-dessous"})]})]})]}),E.jsx(uD,{placeholder:`Jean Dupont, Blanc, Jaune
Marie Martin, Jaune, Orange, https://example.com/photo.jpg`,className:"h-[200px] font-mono text-sm",value:r,onChange:a=>s(a.target.value)})]}),E.jsxs(vN,{children:[E.jsx(It,{variant:"outline",onClick:()=>n(!1),children:"Annuler"}),E.jsxs(It,{onClick:o,className:"bg-green-600 hover:bg-green-700",children:[E.jsx(fN,{className:"w-4 h-4 mr-2"})," Importer"]})]})]})]})}function wf({belt:t,className:e,size:n="md"}){const r=XS[t]||XS.BLANC,s={sm:"px-2 py-0.5 text-xs",md:"px-3 py-1 text-sm",lg:"px-4 py-2 text-base font-bold"};return E.jsx("span",{className:ge("inline-flex items-center justify-center rounded-full border shadow-sm transition-all",r.bg,r.text,r.border,s[n],e),children:t})}const ma=y.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,className:ge("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ma.displayName="Card";const $w=y.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,className:ge("flex flex-col space-y-1.5 p-6",t),...e}));$w.displayName="CardHeader";const zw=y.forwardRef(({className:t,...e},n)=>E.jsx("h3",{ref:n,className:ge("text-2xl font-semibold leading-none tracking-tight",t),...e}));zw.displayName="CardTitle";const ZH=y.forwardRef(({className:t,...e},n)=>E.jsx("p",{ref:n,className:ge("text-sm text-muted-foreground",t),...e}));ZH.displayName="CardDescription";const ga=y.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,className:ge("p-6 pt-0",t),...e}));ga.displayName="CardContent";const eq=y.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,className:ge("flex items-center p-6 pt-0",t),...e}));eq.displayName="CardFooter";const cD=y.forwardRef(({className:t,...e},n)=>E.jsx("div",{className:"relative w-full overflow-auto",children:E.jsx("table",{ref:n,className:ge("w-full caption-bottom text-sm",t),...e})}));cD.displayName="Table";const dD=y.forwardRef(({className:t,...e},n)=>E.jsx("thead",{ref:n,className:ge("[&_tr]:border-b",t),...e}));dD.displayName="TableHeader";const hD=y.forwardRef(({className:t,...e},n)=>E.jsx("tbody",{ref:n,className:ge("[&_tr:last-child]:border-0",t),...e}));hD.displayName="TableBody";const tq=y.forwardRef(({className:t,...e},n)=>E.jsx("tfoot",{ref:n,className:ge("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));tq.displayName="TableFooter";const gh=y.forwardRef(({className:t,...e},n)=>E.jsx("tr",{ref:n,className:ge("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));gh.displayName="TableRow";const Yi=y.forwardRef(({className:t,...e},n)=>E.jsx("th",{ref:n,className:ge("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Yi.displayName="TableHead";const ks=y.forwardRef(({className:t,...e},n)=>E.jsx("td",{ref:n,className:ge("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));ks.displayName="TableCell";const nq=y.forwardRef(({className:t,...e},n)=>E.jsx("caption",{ref:n,className:ge("mt-4 text-sm text-muted-foreground",t),...e}));nq.displayName="TableCaption";const Ww="auth_page";function rq(t,e,n){return t==="dashboard"&&e==="master"&&n==="aziz2004"||t==="projection"&&e==="parent"&&n==="diamondgym"?(localStorage.setItem(Ww,t),!0):!1}function sq(t){return localStorage.getItem(Ww)!=null}function fD(){localStorage.removeItem(Ww)}function iq(){const t=np(),{students:e,addStudent:n,addMultipleStudents:r,updateStudent:s,deleteStudent:i,reorderStudents:o,setStatus:a,syncStatus:l,setCurrent:u}=Dk(),d=(h,f)=>{if(f==="up"&&h===0||f==="down"&&h===e.length-1)return;const p=[...e],S=f==="up"?h-1:h+1;[p[h],p[S]]=[p[S],p[h]],o(p)};return E.jsx("div",{className:"min-h-screen bg-gray-100 p-8 font-sans",children:E.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[E.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 bg-white p-6 rounded-2xl shadow-sm border border-gray-200",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("img",{src:"/passagedegrade/assets/logos/kukkiwon.png",alt:"Logo",className:"w-12 h-12 rounded-xl shadow-lg object-contain bg-white"}),E.jsxs("div",{children:[E.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Taekwondo Sbeitla"}),E.jsx("p",{className:"text-gray-500 font-medium",children:"Tableau de Bord des Examens de Passage"}),E.jsxs("span",{className:`mt-1 inline-block text-xs px-2 py-0.5 rounded-full ${l==="online"?"bg-green-100 text-green-700":l==="connecting"||l==="offline"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:["Cloud Sync: ",l]})]})]}),E.jsxs("div",{className:"flex flex-wrap gap-3 w-full md:w-auto",children:[E.jsx(It,{asChild:!0,variant:"outline",className:"flex-1 md:flex-none w-full gap-2 border-gray-300 hover:bg-gray-50 hover:text-red-600 transition-colors",children:E.jsxs("a",{href:`${typeof window<"u"?window.location.origin:""}/passagedegrade/projection`,target:"_blank",rel:"noopener noreferrer",children:[E.jsx(RW,{size:18})," Projection"]})}),E.jsx(JH,{onImport:r}),E.jsx("div",{className:"flex-1 md:flex-none",children:E.jsx(eb,{onSubmit:n})}),E.jsx(It,{variant:"destructive",className:"md:flex-none",onClick:()=>{fD(),t("/")},children:"Dconnexion"})]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[E.jsx(ma,{className:"border-none shadow-sm bg-white",children:E.jsxs(ga,{className:"p-6 flex items-center gap-4",children:[E.jsx("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-full",children:E.jsx(ng,{size:24})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Total Candidats"}),E.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),E.jsx(ma,{className:"border-none shadow-sm bg-white",children:E.jsxs(ga,{className:"p-6 flex items-center gap-4",children:[E.jsx("div",{className:"p-3 bg-green-100 text-green-600 rounded-full",children:E.jsx(mh,{size:24})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Admis"}),E.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(h=>h.status==="APPROVED").length})]})]})}),E.jsx(ma,{className:"border-none shadow-sm bg-white",children:E.jsxs(ga,{className:"p-6 flex items-center gap-4",children:[E.jsx("div",{className:"p-3 bg-yellow-100 text-yellow-600 rounded-full",children:E.jsx(LW,{size:24})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"En Attente"}),E.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(h=>h.status==="PENDING").length})]})]})})]}),E.jsxs(ma,{className:"border-none shadow-md overflow-hidden",children:[E.jsx($w,{className:"bg-gray-50 border-b border-gray-100 py-6",children:E.jsxs(zw,{className:"flex items-center gap-2 text-xl",children:[E.jsx(ng,{className:"w-5 h-5 text-gray-400"}),"Liste des Candidats"]})}),E.jsx(ga,{className:"p-0",children:E.jsxs(cD,{children:[E.jsx(dD,{children:E.jsxs(gh,{className:"bg-gray-50/50 hover:bg-gray-50/50",children:[E.jsx(Yi,{className:"w-[80px] text-center font-bold text-gray-600",children:"Ordre"}),E.jsx(Yi,{className:"font-bold text-gray-600",children:"Candidat"}),E.jsx(Yi,{className:"font-bold text-gray-600",children:"Ceinture Actuelle"}),E.jsx(Yi,{className:"font-bold text-gray-600",children:"Test Pour"}),E.jsx(Yi,{className:"font-bold text-gray-600 text-center",children:"Rsultat"}),E.jsx(Yi,{className:"text-right font-bold text-gray-600 pr-6",children:"Actions"})]})}),E.jsx(hD,{children:e.length===0?E.jsx(gh,{children:E.jsx(ks,{colSpan:6,className:"text-center py-16",children:E.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-400",children:[E.jsx(ng,{className:"w-16 h-16 mb-4 opacity-20"}),E.jsx("p",{className:"text-lg font-medium text-gray-500",children:"Aucun lve ajout pour le moment"}),E.jsx("p",{className:"text-sm",children:'Cliquez sur "Ajouter un lve" ou "Importer" pour commencer'})]})})}):e.map((h,f)=>E.jsxs(gh,{className:"hover:bg-gray-50/80 transition-colors group",children:[E.jsxs(ks,{className:"text-center font-bold text-gray-500 text-lg",children:["#",f+1]}),E.jsx(ks,{children:E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("div",{className:"relative",children:[E.jsx(Bw,{src:h.photoUrl,alt:h.fullName,className:"w-12 h-12 rounded-full object-cover border-2 border-white shadow-sm group-hover:scale-110 transition-transform duration-300"}),h.status==="APPROVED"&&E.jsx("div",{className:"absolute -bottom-1 -right-1 bg-green-500 text-white rounded-full p-0.5 border-2 border-white",children:E.jsx(mh,{size:10,strokeWidth:4})})]}),E.jsx("span",{className:"font-bold text-gray-900 text-base",children:h.fullName})]})}),E.jsx(ks,{children:E.jsx(wf,{belt:h.currentBelt,size:"sm"})}),E.jsx(ks,{children:E.jsx(wf,{belt:h.nextBelt,size:"sm"})}),E.jsx(ks,{children:E.jsxs("div",{className:"flex justify-center gap-2",children:[E.jsxs(It,{size:"sm",variant:h.status==="APPROVED"?"default":"outline",className:`rounded-full px-4 transition-all duration-300 ${h.status==="APPROVED"?"bg-green-600 hover:bg-green-700 text-white shadow-md scale-105":"text-gray-400 hover:text-green-600 hover:border-green-200"}`,onClick:()=>a(h.id,"APPROVED"),title:"Admis",children:[E.jsx(mh,{size:16,className:"mr-1"})," ",h.status==="APPROVED"?"Admis":"Admettre"]}),E.jsxs(It,{size:"sm",variant:h.status==="REFUSED"?"destructive":"outline",className:`rounded-full px-4 transition-all duration-300 ${h.status==="REFUSED"?"bg-red-600 hover:bg-red-700 text-white shadow-md scale-105":"text-gray-400 hover:text-red-600 hover:border-red-200"}`,onClick:()=>a(h.id,"REFUSED"),title:"Refus",children:[E.jsx(pN,{size:16,className:"mr-1"})," ",h.status==="REFUSED"?"Refus":"Refuser"]})]})}),E.jsx(ks,{className:"text-right pr-6",children:E.jsxs("div",{className:"flex justify-end gap-1 opacity-60 group-hover:opacity-100 transition-opacity",children:[E.jsx(It,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-gray-200 rounded-full",onClick:()=>d(f,"up"),disabled:f===0,children:E.jsx(SW,{size:16})}),E.jsx(It,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-gray-200 rounded-full",onClick:()=>d(f,"down"),disabled:f===e.length-1,children:E.jsx(TW,{size:16})}),E.jsx(It,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-green-50 hover:text-green-600 rounded-full",onClick:()=>u(h.id),title:"Afficher en projection",children:E.jsx(kW,{size:16})}),E.jsx(eb,{initialData:h,onSubmit:p=>s(h.id,p),trigger:E.jsx(It,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-blue-50 hover:text-blue-600 rounded-full",children:E.jsx(MW,{size:16})})}),E.jsx(It,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-full",onClick:async()=>{await XH(h.photoUrl),i(h.id)},children:E.jsx(VW,{size:16})})]})})]},h.id))})]})})]})]})})}var sg="rovingFocusGroup.onEntryFocus",oq={bubbles:!1,cancelable:!0},Uc="RovingFocusGroup",[sv,pD,aq]=bN(Uc),[lq,mD]=Vo(Uc,[aq]),[uq,cq]=lq(Uc),gD=y.forwardRef((t,e)=>E.jsx(sv.Provider,{scope:t.__scopeRovingFocusGroup,children:E.jsx(sv.Slot,{scope:t.__scopeRovingFocusGroup,children:E.jsx(dq,{...t,ref:e})})}));gD.displayName=Uc;var dq=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,f=y.useRef(null),p=qe(e,f),S=jw(i),[g,_]=Zu({prop:o,defaultProp:a??null,onChange:l,caller:Uc}),[w,v]=y.useState(!1),T=gi(u),P=pD(n),k=y.useRef(!1),[M,C]=y.useState(0);return y.useEffect(()=>{const b=f.current;if(b)return b.addEventListener(sg,T),()=>b.removeEventListener(sg,T)},[T]),E.jsx(uq,{scope:n,orientation:r,dir:S,loop:s,currentTabStopId:g,onItemFocus:y.useCallback(b=>_(b),[_]),onItemShiftTab:y.useCallback(()=>v(!0),[]),onFocusableItemAdd:y.useCallback(()=>C(b=>b+1),[]),onFocusableItemRemove:y.useCallback(()=>C(b=>b-1),[]),children:E.jsx(Ae.div,{tabIndex:w||M===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...t.style},onMouseDown:pe(t.onMouseDown,()=>{k.current=!0}),onFocus:pe(t.onFocus,b=>{const I=!k.current;if(b.target===b.currentTarget&&I&&!w){const R=new CustomEvent(sg,oq);if(b.currentTarget.dispatchEvent(R),!R.defaultPrevented){const N=P().filter(J=>J.focusable),O=N.find(J=>J.active),D=N.find(J=>J.id===g),ce=[O,D,...N].filter(Boolean).map(J=>J.ref.current);wD(ce,d)}}k.current=!1}),onBlur:pe(t.onBlur,()=>v(!1))})})}),yD="RovingFocusGroupItem",vD=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=ai(),u=i||l,d=cq(yD,n),h=d.currentTabStopId===u,f=pD(n),{onFocusableItemAdd:p,onFocusableItemRemove:S,currentTabStopId:g}=d;return y.useEffect(()=>{if(r)return p(),()=>S()},[r,p,S]),E.jsx(sv.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:E.jsx(Ae.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:pe(t.onMouseDown,_=>{r?d.onItemFocus(u):_.preventDefault()}),onFocus:pe(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:pe(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){d.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const w=pq(_,d.orientation,d.dir);if(w!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let T=f().filter(P=>P.focusable).map(P=>P.ref.current);if(w==="last")T.reverse();else if(w==="prev"||w==="next"){w==="prev"&&T.reverse();const P=T.indexOf(_.currentTarget);T=d.loop?mq(T,P+1):T.slice(P+1)}setTimeout(()=>wD(T))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});vD.displayName=yD;var hq={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function fq(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function pq(t,e,n){const r=fq(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return hq[r]}function wD(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function mq(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var gq=gD,yq=vD,Dp="Tabs",[vq]=Vo(Dp,[mD]),_D=mD(),[wq,Hw]=vq(Dp),ED=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=t,d=jw(a),[h,f]=Zu({prop:r,onChange:s,defaultProp:i??"",caller:Dp});return E.jsx(wq,{scope:n,baseId:ai(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:l,children:E.jsx(Ae.div,{dir:d,"data-orientation":o,...u,ref:e})})});ED.displayName=Dp;var xD="TabsList",TD=y.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Hw(xD,n),o=_D(n);return E.jsx(gq,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:E.jsx(Ae.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});TD.displayName=xD;var SD="TabsTrigger",bD=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=Hw(SD,n),a=_D(n),l=AD(o.baseId,r),u=PD(o.baseId,r),d=r===o.value;return E.jsx(yq,{asChild:!0,...a,focusable:!s,active:d,children:E.jsx(Ae.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:pe(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:pe(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:pe(t.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(r)})})})});bD.displayName=SD;var CD="TabsContent",ID=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=Hw(CD,n),l=AD(a.baseId,r),u=PD(a.baseId,r),d=r===a.value,h=y.useRef(d);return y.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),E.jsx(gl,{present:s||d,children:({present:f})=>E.jsx(Ae.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});ID.displayName=CD;function AD(t,e){return`${t}-trigger-${e}`}function PD(t,e){return`${t}-content-${e}`}var _q=ED,RD=TD,kD=bD,ND=ID;const Eq=_q,DD=y.forwardRef(({className:t,...e},n)=>E.jsx(RD,{ref:n,className:ge("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));DD.displayName=RD.displayName;const iv=y.forwardRef(({className:t,...e},n)=>E.jsx(kD,{ref:n,className:ge("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));iv.displayName=kD.displayName;const ov=y.forwardRef(({className:t,...e},n)=>E.jsx(ND,{ref:n,className:ge("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ov.displayName=ND.displayName;const qw=y.createContext({});function Gw(t){const e=y.useRef(null);return e.current===null&&(e.current=t()),e.current}const Op=y.createContext(null),Kw=y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class xq extends y.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Tq({children:t,isPresent:e}){const n=y.useId(),r=y.useRef(null),s=y.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=y.useContext(Kw);return y.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=s.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),E.jsx(xq,{isPresent:e,childRef:r,sizeRef:s,children:y.cloneElement(t,{ref:r})})}const Sq=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=Gw(bq),l=y.useId(),u=y.useCallback(h=>{a.set(h,!0);for(const f of a.values())if(!f)return;r&&r()},[a,r]),d=y.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:u,register:h=>(a.set(h,!1),()=>a.delete(h))}),i?[Math.random(),u]:[n,u]);return y.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[n]),y.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=E.jsx(Tq,{isPresent:n,children:t})),E.jsx(Op.Provider,{value:d,children:t})};function bq(){return new Map}function OD(t=!0){const e=y.useContext(Op);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=y.useId();y.useEffect(()=>{t&&s(i)},[t]);const o=y.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const Ud=t=>t.key||"";function tb(t){const e=[];return y.Children.forEach(t,n=>{y.isValidElement(n)&&e.push(n)}),e}const Qw=typeof window<"u",MD=Qw?y.useLayoutEffect:y.useEffect,Cq=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[a,l]=OD(o),u=y.useMemo(()=>tb(t),[t]),d=o&&!a?[]:u.map(Ud),h=y.useRef(!0),f=y.useRef(u),p=Gw(()=>new Map),[S,g]=y.useState(u),[_,w]=y.useState(u);MD(()=>{h.current=!1,f.current=u;for(let P=0;P<_.length;P++){const k=Ud(_[P]);d.includes(k)?p.delete(k):p.get(k)!==!0&&p.set(k,!1)}},[_,d.length,d.join("-")]);const v=[];if(u!==S){let P=[...u];for(let k=0;k<_.length;k++){const M=_[k],C=Ud(M);d.includes(C)||(P.splice(k,0,M),v.push(M))}i==="wait"&&v.length&&(P=v),w(tb(P)),g(u);return}const{forceRender:T}=y.useContext(qw);return E.jsx(E.Fragment,{children:_.map(P=>{const k=Ud(P),M=o&&!a?!1:u===_||d.includes(k),C=()=>{if(p.has(k))p.set(k,!0);else return;let b=!0;p.forEach(I=>{I||(b=!1)}),b&&(T==null||T(),w(f.current),o&&(l==null||l()),r&&r())};return E.jsx(Sq,{isPresent:M,initial:!h.current||n?void 0:!1,custom:M?void 0:e,presenceAffectsLayout:s,mode:i,onExitComplete:M?void 0:C,children:P},k)})})},Cn=t=>t;let VD=Cn;function Yw(t){let e;return()=>(e===void 0&&(e=t()),e)}const ol=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ns=t=>t*1e3,rs=t=>t/1e3,Iq={useManualTiming:!1};function Aq(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){i.has(u)&&(l.schedule(u),t()),u(o)}const l={schedule:(u,d=!1,h=!1)=>{const p=h&&r?e:n;return d&&i.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(o=u,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,s&&(s=!1,l.process(u))}};return l}const Bd=["read","resolveKeyframes","update","preRender","render","postRender"],Pq=40;function LD(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Bd.reduce((w,v)=>(w[v]=Aq(i),w),{}),{read:a,resolveKeyframes:l,update:u,preRender:d,render:h,postRender:f}=o,p=()=>{const w=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(w-s.timestamp,Pq),1),s.timestamp=w,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(p))},S=()=>{n=!0,r=!0,s.isProcessing||t(p)};return{schedule:Bd.reduce((w,v)=>{const T=o[v];return w[v]=(P,k=!1,M=!1)=>(n||S(),T.schedule(P,k,M)),w},{}),cancel:w=>{for(let v=0;v<Bd.length;v++)o[Bd[v]].cancel(w)},state:s,steps:o}}const{schedule:We,cancel:Ai,state:Nt,steps:ig}=LD(typeof requestAnimationFrame<"u"?requestAnimationFrame:Cn,!0),jD=y.createContext({strict:!1}),nb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},al={};for(const t in nb)al[t]={isEnabled:e=>nb[t].some(n=>!!e[n])};function Rq(t){for(const e in t)al[e]={...al[e],...t[e]}}const kq=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function _f(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||kq.has(t)}let FD=t=>!_f(t);function Nq(t){t&&(FD=e=>e.startsWith("on")?!_f(e):t(e))}try{Nq(require("@emotion/is-prop-valid").default)}catch{}function Dq(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(FD(s)||n===!0&&_f(s)||!e&&!_f(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function Oq(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Mp=y.createContext({});function pc(t){return typeof t=="string"||Array.isArray(t)}function Vp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Xw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Jw=["initial",...Xw];function Lp(t){return Vp(t.animate)||Jw.some(e=>pc(t[e]))}function UD(t){return!!(Lp(t)||t.variants)}function Mq(t,e){if(Lp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||pc(n)?n:void 0,animate:pc(r)?r:void 0}}return t.inherit!==!1?e:{}}function Vq(t){const{initial:e,animate:n}=Mq(t,y.useContext(Mp));return y.useMemo(()=>({initial:e,animate:n}),[rb(e),rb(n)])}function rb(t){return Array.isArray(t)?t.join(" "):t}const Lq=Symbol.for("motionComponentSymbol");function ya(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function jq(t,e,n){return y.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ya(n)&&(n.current=r))},[e])}const Zw=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Fq="framerAppearId",BD="data-"+Zw(Fq),{schedule:e_}=LD(queueMicrotask,!1),$D=y.createContext({});function Uq(t,e,n,r,s){var i,o;const{visualElement:a}=y.useContext(Mp),l=y.useContext(jD),u=y.useContext(Op),d=y.useContext(Kw).reducedMotion,h=y.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,p=y.useContext($D);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&Bq(h.current,n,s,p);const S=y.useRef(!1);y.useInsertionEffect(()=>{f&&S.current&&f.update(n,u)});const g=n[BD],_=y.useRef(!!g&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return MD(()=>{f&&(S.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),e_.render(f.render),_.current&&f.animationState&&f.animationState.animateChanges())}),y.useEffect(()=>{f&&(!_.current&&f.animationState&&f.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,g)}),_.current=!1))}),f}function Bq(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:zD(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&ya(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function zD(t){if(t)return t.options.allowProjection!==!1?t.projection:zD(t.parent)}function $q({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,o;t&&Rq(t);function a(u,d){let h;const f={...y.useContext(Kw),...u,layoutId:zq(u)},{isStatic:p}=f,S=Vq(u),g=r(u,p);if(!p&&Qw){Wq();const _=Hq(f);h=_.MeasureLayout,S.visualElement=Uq(s,g,f,e,_.ProjectionNode)}return E.jsxs(Mp.Provider,{value:S,children:[h&&S.visualElement?E.jsx(h,{visualElement:S.visualElement,...f}):null,n(s,u,jq(g,S.visualElement,d),g,p,S.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const l=y.forwardRef(a);return l[Lq]=s,l}function zq({layoutId:t}){const e=y.useContext(qw).id;return e&&t!==void 0?e+"-"+t:t}function Wq(t,e){y.useContext(jD).strict}function Hq(t){const{drag:e,layout:n}=al;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const qq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function t_(t){return typeof t!="string"||t.includes("-")?!1:!!(qq.indexOf(t)>-1||/[A-Z]/u.test(t))}function sb(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function n_(t,e,n,r){if(typeof e=="function"){const[s,i]=sb(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=sb(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const av=t=>Array.isArray(t),Gq=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Kq=t=>av(t)?t[t.length-1]||0:t,qt=t=>!!(t&&t.getVelocity);function yh(t){const e=qt(t)?t.get():t;return Gq(e)?e.toValue():e}function Qq({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const o={latestValues:Yq(r,s,i,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const WD=t=>(e,n)=>{const r=y.useContext(Mp),s=y.useContext(Op),i=()=>Qq(t,e,r,s);return n?i():Gw(i)};function Yq(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=yh(i[f]);let{initial:o,animate:a}=t;const l=Lp(t),u=UD(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!Vp(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const S=n_(t,f[p]);if(S){const{transitionEnd:g,transition:_,...w}=S;for(const v in w){let T=w[v];if(Array.isArray(T)){const P=d?T.length-1:0;T=T[P]}T!==null&&(s[v]=T)}for(const v in g)s[v]=g[v]}}}return s}const bl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bo=new Set(bl),HD=t=>e=>typeof e=="string"&&e.startsWith(t),qD=HD("--"),Xq=HD("var(--"),r_=t=>Xq(t)?Jq.test(t.split("/*")[0].trim()):!1,Jq=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,GD=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ms=(t,e,n)=>n>e?e:n<t?t:n,Cl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},mc={...Cl,transform:t=>ms(0,1,t)},$d={...Cl,default:1},Bc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ns=Bc("deg"),Vr=Bc("%"),ne=Bc("px"),Zq=Bc("vh"),eG=Bc("vw"),ib={...Vr,parse:t=>Vr.parse(t)/100,transform:t=>Vr.transform(t*100)},tG={borderWidth:ne,borderTopWidth:ne,borderRightWidth:ne,borderBottomWidth:ne,borderLeftWidth:ne,borderRadius:ne,radius:ne,borderTopLeftRadius:ne,borderTopRightRadius:ne,borderBottomRightRadius:ne,borderBottomLeftRadius:ne,width:ne,maxWidth:ne,height:ne,maxHeight:ne,top:ne,right:ne,bottom:ne,left:ne,padding:ne,paddingTop:ne,paddingRight:ne,paddingBottom:ne,paddingLeft:ne,margin:ne,marginTop:ne,marginRight:ne,marginBottom:ne,marginLeft:ne,backgroundPositionX:ne,backgroundPositionY:ne},nG={rotate:Ns,rotateX:Ns,rotateY:Ns,rotateZ:Ns,scale:$d,scaleX:$d,scaleY:$d,scaleZ:$d,skew:Ns,skewX:Ns,skewY:Ns,distance:ne,translateX:ne,translateY:ne,translateZ:ne,x:ne,y:ne,z:ne,perspective:ne,transformPerspective:ne,opacity:mc,originX:ib,originY:ib,originZ:ne},ob={...Cl,transform:Math.round},s_={...tG,...nG,zIndex:ob,size:ne,fillOpacity:mc,strokeOpacity:mc,numOctaves:ob},rG={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sG=bl.length;function iG(t,e,n){let r="",s=!0;for(let i=0;i<sG;i++){const o=bl[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=GD(a,s_[o]);if(!l){s=!1;const d=rG[o]||o;r+=`${d}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function i_(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(Bo.has(l)){o=!0;continue}else if(qD(l)){s[l]=u;continue}else{const d=GD(u,s_[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=iG(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${u} ${d}`}}const oG={offset:"stroke-dashoffset",array:"stroke-dasharray"},aG={offset:"strokeDashoffset",array:"strokeDasharray"};function lG(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?oG:aG;t[i.offset]=ne.transform(-r);const o=ne.transform(e),a=ne.transform(n);t[i.array]=`${o} ${a}`}function ab(t,e,n){return typeof t=="string"?t:ne.transform(e+n*t)}function uG(t,e,n){const r=ab(e,t.x,t.width),s=ab(n,t.y,t.height);return`${r} ${s}`}function o_(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},d,h){if(i_(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p,dimensions:S}=t;f.transform&&(S&&(p.transform=f.transform),delete f.transform),S&&(s!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=uG(S,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&lG(f,o,a,l,!1)}const a_=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),KD=()=>({...a_(),attrs:{}}),l_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function QD(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const YD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function XD(t,e,n,r){QD(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(YD.has(s)?s:Zw(s),e.attrs[s])}const Ef={};function cG(t){Object.assign(Ef,t)}function JD(t,{layout:e,layoutId:n}){return Bo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ef[t]||t==="opacity")}function u_(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(qt(s[o])||e.style&&qt(e.style[o])||JD(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function ZD(t,e,n){const r=u_(t,e,n);for(const s in t)if(qt(t[s])||qt(e[s])){const i=bl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function dG(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const lb=["x","y","width","height","cx","cy","r"],hG={useVisualState:WD({scrapeMotionValuesFromProps:ZD,createRenderState:KD,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const a in s)if(Bo.has(a)){i=!0;break}}if(!i)return;let o=!e;if(e)for(let a=0;a<lb.length;a++){const l=lb[a];t[l]!==e[l]&&(o=!0)}o&&We.read(()=>{dG(n,r),We.render(()=>{o_(r,s,l_(n.tagName),t.transformTemplate),XD(n,r)})})}})},fG={useVisualState:WD({scrapeMotionValuesFromProps:u_,createRenderState:a_})};function e2(t,e,n){for(const r in e)!qt(e[r])&&!JD(r,n)&&(t[r]=e[r])}function pG({transformTemplate:t},e){return y.useMemo(()=>{const n=a_();return i_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function mG(t,e){const n=t.style||{},r={};return e2(r,n,t),Object.assign(r,pG(t,e)),r}function gG(t,e){const n={},r=mG(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function yG(t,e,n,r){const s=y.useMemo(()=>{const i=KD();return o_(i,e,l_(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};e2(i,t.style,t),s.style={...i,...s.style}}return s}function vG(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(t_(n)?yG:gG)(r,i,o,n),u=Dq(r,typeof n=="string",t),d=n!==y.Fragment?{...u,...l,ref:s}:{},{children:h}=r,f=y.useMemo(()=>qt(h)?h.get():h,[h]);return y.createElement(n,{...d,children:f})}}function wG(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...t_(r)?hG:fG,preloadedFeatures:t,useRender:vG(s),createVisualElement:e,Component:r};return $q(o)}}function t2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function jp(t,e,n){const r=t.getProps();return n_(r,e,n!==void 0?n:r.custom,t)}const _G=Yw(()=>window.ScrollTimeline!==void 0);class EG{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(_G()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class xG extends EG{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function c_(t,e){return t?t[e]||t.default||t:void 0}const lv=2e4;function n2(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<lv;)e+=n,r=t.next(e);return e>=lv?1/0:e}function d_(t){return typeof t=="function"}function ub(t,e){t.timeline=e,t.onfinish=null}const h_=t=>Array.isArray(t)&&typeof t[0]=="number",TG={linearEasing:void 0};function SG(t,e){const n=Yw(t);return()=>{var r;return(r=TG[e])!==null&&r!==void 0?r:n()}}const xf=SG(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),r2=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(ol(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function s2(t){return!!(typeof t=="function"&&xf()||!t||typeof t=="string"&&(t in uv||xf())||h_(t)||Array.isArray(t)&&t.every(s2))}const cu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,uv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cu([0,.65,.55,1]),circOut:cu([.55,0,1,.45]),backIn:cu([.31,.01,.66,-.59]),backOut:cu([.33,1.53,.69,.99])};function i2(t,e){if(t)return typeof t=="function"&&xf()?r2(t,e):h_(t)?cu(t):Array.isArray(t)?t.map(n=>i2(n,e)||uv.easeOut):uv[t]}const Yn={x:!1,y:!1};function o2(){return Yn.x||Yn.y}function bG(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function a2(t,e){const n=bG(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function cb(t){return e=>{e.pointerType==="touch"||o2()||t(e)}}function CG(t,e,n={}){const[r,s,i]=a2(t,n),o=cb(a=>{const{target:l}=a,u=e(a);if(typeof u!="function"||!l)return;const d=cb(h=>{u(h),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,s)});return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const l2=(t,e)=>e?t===e?!0:l2(t,e.parentElement):!1,f_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,IG=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function AG(t){return IG.has(t.tagName)||t.tabIndex!==-1}const du=new WeakSet;function db(t){return e=>{e.key==="Enter"&&t(e)}}function og(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const PG=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=db(()=>{if(du.has(n))return;og(n,"down");const s=db(()=>{og(n,"up")}),i=()=>og(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function hb(t){return f_(t)&&!o2()}function RG(t,e,n={}){const[r,s,i]=a2(t,n),o=a=>{const l=a.currentTarget;if(!hb(a)||du.has(l))return;du.add(l);const u=e(a),d=(p,S)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!hb(p)||!du.has(l))&&(du.delete(l),typeof u=="function"&&u(p,{success:S}))},h=p=>{d(p,n.useGlobalTarget||l2(l,p.target))},f=p=>{d(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{!AG(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),a.addEventListener("focus",u=>PG(u,s),s)}),i}function kG(t){return t==="x"||t==="y"?Yn[t]?null:(Yn[t]=!0,()=>{Yn[t]=!1}):Yn.x||Yn.y?null:(Yn.x=Yn.y=!0,()=>{Yn.x=Yn.y=!1})}const u2=new Set(["width","height","top","left","right","bottom",...bl]);let vh;function NG(){vh=void 0}const Lr={now:()=>(vh===void 0&&Lr.set(Nt.isProcessing||Iq.useManualTiming?Nt.timestamp:performance.now()),vh),set:t=>{vh=t,queueMicrotask(NG)}};function p_(t,e){t.indexOf(e)===-1&&t.push(e)}function m_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class g_{constructor(){this.subscriptions=[]}add(e){return p_(this.subscriptions,e),()=>m_(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function c2(t,e){return e?t*(1e3/e):0}const fb=30,DG=t=>!isNaN(parseFloat(t));class OG{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Lr.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Lr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=DG(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new g_);const r=this.events[e].add(n);return e==="change"?()=>{r(),We.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Lr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>fb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,fb);return c2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gc(t,e){return new OG(t,e)}function MG(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,gc(n))}function VG(t,e){const n=jp(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=Kq(i[o]);MG(t,o,a)}}function LG(t){return!!(qt(t)&&t.add)}function cv(t,e){const n=t.getValue("willChange");if(LG(n))return n.add(e)}function d2(t){return t.props[BD]}const h2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,jG=1e-7,FG=12;function UG(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=h2(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>jG&&++a<FG);return o}function $c(t,e,n,r){if(t===e&&n===r)return Cn;const s=i=>UG(i,0,1,t,n);return i=>i===0||i===1?i:h2(s(i),e,r)}const f2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,p2=t=>e=>1-t(1-e),m2=$c(.33,1.53,.69,.99),y_=p2(m2),g2=f2(y_),y2=t=>(t*=2)<1?.5*y_(t):.5*(2-Math.pow(2,-10*(t-1))),v_=t=>1-Math.sin(Math.acos(t)),v2=p2(v_),w2=f2(v_),_2=t=>/^0[^.\s]+$/u.test(t);function BG(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||_2(t):!0}const Ru=t=>Math.round(t*1e5)/1e5,w_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $G(t){return t==null}const zG=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,__=(t,e)=>n=>!!(typeof n=="string"&&zG.test(n)&&n.startsWith(t)||e&&!$G(n)&&Object.prototype.hasOwnProperty.call(n,e)),E2=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(w_);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},WG=t=>ms(0,255,t),ag={...Cl,transform:t=>Math.round(WG(t))},so={test:__("rgb","red"),parse:E2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ag.transform(t)+", "+ag.transform(e)+", "+ag.transform(n)+", "+Ru(mc.transform(r))+")"};function HG(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const dv={test:__("#"),parse:HG,transform:so.transform},va={test:__("hsl","hue"),parse:E2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Vr.transform(Ru(e))+", "+Vr.transform(Ru(n))+", "+Ru(mc.transform(r))+")"},$t={test:t=>so.test(t)||dv.test(t)||va.test(t),parse:t=>so.test(t)?so.parse(t):va.test(t)?va.parse(t):dv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?so.transform(t):va.transform(t)},qG=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function GG(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(w_))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(qG))===null||n===void 0?void 0:n.length)||0)>0}const x2="number",T2="color",KG="var",QG="var(",pb="${}",YG=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(YG,l=>($t.test(l)?(r.color.push(i),s.push(T2),n.push($t.parse(l))):l.startsWith(QG)?(r.var.push(i),s.push(KG),n.push(l)):(r.number.push(i),s.push(x2),n.push(parseFloat(l))),++i,pb)).split(pb);return{values:n,split:a,indexes:r,types:s}}function S2(t){return yc(t).values}function b2(t){const{split:e,types:n}=yc(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===x2?i+=Ru(s[o]):a===T2?i+=$t.transform(s[o]):i+=s[o]}return i}}const XG=t=>typeof t=="number"?0:t;function JG(t){const e=S2(t);return b2(t)(e.map(XG))}const Pi={test:GG,parse:S2,createTransformer:b2,getAnimatableNone:JG},ZG=new Set(["brightness","contrast","saturate","opacity"]);function eK(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(w_)||[];if(!r)return t;const s=n.replace(r,"");let i=ZG.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const tK=/\b([a-z-]*)\(.*?\)/gu,hv={...Pi,getAnimatableNone:t=>{const e=t.match(tK);return e?e.map(eK).join(" "):t}},nK={...s_,color:$t,backgroundColor:$t,outlineColor:$t,fill:$t,stroke:$t,borderColor:$t,borderTopColor:$t,borderRightColor:$t,borderBottomColor:$t,borderLeftColor:$t,filter:hv,WebkitFilter:hv},E_=t=>nK[t];function C2(t,e){let n=E_(t);return n!==hv&&(n=Pi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const rK=new Set(["auto","none","0"]);function sK(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!rK.has(i)&&yc(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=C2(n,s)}const mb=t=>t===Cl||t===ne,gb=(t,e)=>parseFloat(t.split(", ")[e]),yb=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return gb(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?gb(i[1],t):0}},iK=new Set(["x","y","z"]),oK=bl.filter(t=>!iK.has(t));function aK(t){const e=[];return oK.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ll={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:yb(4,13),y:yb(5,14)};ll.translateX=ll.x;ll.translateY=ll.y;const vo=new Set;let fv=!1,pv=!1;function I2(){if(pv){const t=Array.from(vo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=aK(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}pv=!1,fv=!1,vo.forEach(t=>t.complete()),vo.clear()}function A2(){vo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(pv=!0)})}function lK(){A2(),I2()}class x_{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(vo.add(this),fv||(fv=!0,We.read(A2),We.resolveKeyframes(I2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),vo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,vo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const P2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),uK=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function cK(t){const e=uK.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function R2(t,e,n=1){const[r,s]=cK(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return P2(o)?parseFloat(o):o}return r_(s)?R2(s,e,n+1):s}const k2=t=>e=>e.test(t),dK={test:t=>t==="auto",parse:t=>t},N2=[Cl,ne,Vr,Ns,eG,Zq,dK],vb=t=>N2.find(k2(t));class D2 extends x_{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),r_(u))){const d=R2(u,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!u2.has(r)||e.length!==2)return;const[s,i]=e,o=vb(s),a=vb(i);if(o!==a)if(mb(o)&&mb(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)BG(e[s])&&r.push(s);r.length&&sK(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ll[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=ll[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const wb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Pi.test(t)||t==="0")&&!t.startsWith("url("));function hK(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function fK(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=wb(s,e),a=wb(i,e);return!o||!a?!1:hK(t)||(n==="spring"||d_(n))&&r}const pK=t=>t!==null;function Fp(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(pK),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const mK=40;class O2{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Lr.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>mK?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&lK(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Lr.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!fK(e,r,s,i))if(o)this.options.duration=0;else{l&&l(Fp(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Qe=(t,e,n)=>t+(e-t)*n;function lg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function gK({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=lg(l,a,t+1/3),i=lg(l,a,t),o=lg(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Tf(t,e){return n=>n>0?e:t}const ug=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},yK=[dv,so,va],vK=t=>yK.find(e=>e.test(t));function _b(t){const e=vK(t);if(!e)return!1;let n=e.parse(t);return e===va&&(n=gK(n)),n}const Eb=(t,e)=>{const n=_b(t),r=_b(e);if(!n||!r)return Tf(t,e);const s={...n};return i=>(s.red=ug(n.red,r.red,i),s.green=ug(n.green,r.green,i),s.blue=ug(n.blue,r.blue,i),s.alpha=Qe(n.alpha,r.alpha,i),so.transform(s))},wK=(t,e)=>n=>e(t(n)),zc=(...t)=>t.reduce(wK),mv=new Set(["none","hidden"]);function _K(t,e){return mv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function EK(t,e){return n=>Qe(t,e,n)}function T_(t){return typeof t=="number"?EK:typeof t=="string"?r_(t)?Tf:$t.test(t)?Eb:SK:Array.isArray(t)?M2:typeof t=="object"?$t.test(t)?Eb:xK:Tf}function M2(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>T_(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function xK(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=T_(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function TK(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][s[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const SK=(t,e)=>{const n=Pi.createTransformer(e),r=yc(t),s=yc(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?mv.has(t)&&!s.values.length||mv.has(e)&&!r.values.length?_K(t,e):zc(M2(TK(r,s),s.values),n):Tf(t,e)};function V2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Qe(t,e,n):T_(t)(t,e)}const bK=5;function L2(t,e,n){const r=Math.max(e-bK,0);return c2(n-t(r),e-r)}const tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},cg=.001;function CK({duration:t=tt.duration,bounce:e=tt.bounce,velocity:n=tt.velocity,mass:r=tt.mass}){let s,i,o=1-e;o=ms(tt.minDamping,tt.maxDamping,o),t=ms(tt.minDuration,tt.maxDuration,rs(t)),o<1?(s=u=>{const d=u*o,h=d*t,f=d-n,p=gv(u,o),S=Math.exp(-h);return cg-f/p*S},i=u=>{const h=u*o*t,f=h*n+n,p=Math.pow(o,2)*Math.pow(u,2)*t,S=Math.exp(-h),g=gv(Math.pow(u,2),o);return(-s(u)+cg>0?-1:1)*((f-p)*S)/g}):(s=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-cg+d*h},i=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const a=5/t,l=AK(s,i,a);if(t=ns(t),isNaN(l))return{stiffness:tt.stiffness,damping:tt.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const IK=12;function AK(t,e,n){let r=n;for(let s=1;s<IK;s++)r=r-t(r)/e(r);return r}function gv(t,e){return t*Math.sqrt(1-e*e)}const PK=["duration","bounce"],RK=["stiffness","damping","mass"];function xb(t,e){return e.some(n=>t[n]!==void 0)}function kK(t){let e={velocity:tt.velocity,stiffness:tt.stiffness,damping:tt.damping,mass:tt.mass,isResolvedFromDuration:!1,...t};if(!xb(t,RK)&&xb(t,PK))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*ms(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:tt.mass,stiffness:s,damping:i}}else{const n=CK(t);e={...e,...n,mass:tt.mass},e.isResolvedFromDuration=!0}return e}function j2(t=tt.visualDuration,e=tt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=kK({...n,velocity:-rs(n.velocity||0)}),S=f||0,g=u/(2*Math.sqrt(l*d)),_=o-i,w=rs(Math.sqrt(l/d)),v=Math.abs(_)<5;r||(r=v?tt.restSpeed.granular:tt.restSpeed.default),s||(s=v?tt.restDelta.granular:tt.restDelta.default);let T;if(g<1){const k=gv(w,g);T=M=>{const C=Math.exp(-g*w*M);return o-C*((S+g*w*_)/k*Math.sin(k*M)+_*Math.cos(k*M))}}else if(g===1)T=k=>o-Math.exp(-w*k)*(_+(S+w*_)*k);else{const k=w*Math.sqrt(g*g-1);T=M=>{const C=Math.exp(-g*w*M),b=Math.min(k*M,300);return o-C*((S+g*w*_)*Math.sinh(b)+k*_*Math.cosh(b))/k}}const P={calculatedDuration:p&&h||null,next:k=>{const M=T(k);if(p)a.done=k>=h;else{let C=0;g<1&&(C=k===0?ns(S):L2(T,k,M));const b=Math.abs(C)<=r,I=Math.abs(o-M)<=s;a.done=b&&I}return a.value=a.done?o:M,a},toString:()=>{const k=Math.min(n2(P),lv),M=r2(C=>P.next(k*C).value,k,30);return k+"ms "+M}};return P}function Tb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},p=b=>a!==void 0&&b<a||l!==void 0&&b>l,S=b=>a===void 0?l:l===void 0||Math.abs(a-b)<Math.abs(l-b)?a:l;let g=n*e;const _=h+g,w=o===void 0?_:o(_);w!==_&&(g=w-h);const v=b=>-g*Math.exp(-b/r),T=b=>w+v(b),P=b=>{const I=v(b),R=T(b);f.done=Math.abs(I)<=u,f.value=f.done?w:R};let k,M;const C=b=>{p(f.value)&&(k=b,M=j2({keyframes:[f.value,S(f.value)],velocity:L2(T,b,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:b=>{let I=!1;return!M&&k===void 0&&(I=!0,P(b),C(b)),k!==void 0&&b>=k?M.next(b-k):(!I&&P(b),f)}}}const NK=$c(.42,0,1,1),DK=$c(0,0,.58,1),F2=$c(.42,0,.58,1),OK=t=>Array.isArray(t)&&typeof t[0]!="number",MK={linear:Cn,easeIn:NK,easeInOut:F2,easeOut:DK,circIn:v_,circInOut:w2,circOut:v2,backIn:y_,backInOut:g2,backOut:m2,anticipate:y2},Sb=t=>{if(h_(t)){VD(t.length===4);const[e,n,r,s]=t;return $c(e,n,r,s)}else if(typeof t=="string")return MK[t];return t};function VK(t,e,n){const r=[],s=n||V2,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Cn:e;a=zc(l,a)}r.push(a)}return r}function LK(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(VD(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=VK(e,r,s),l=a.length,u=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=ol(t[h],t[h+1],d);return a[h](f)};return n?d=>u(ms(t[0],t[i-1],d)):u}function jK(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=ol(0,e,r);t.push(Qe(n,1,s))}}function FK(t){const e=[0];return jK(e,t.length-1),e}function UK(t,e){return t.map(n=>n*e)}function BK(t,e){return t.map(()=>e||F2).splice(0,t.length-1)}function Sf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=OK(r)?r.map(Sb):Sb(r),i={done:!1,value:e[0]},o=UK(n&&n.length===e.length?n:FK(e),t),a=LK(o,e,{ease:Array.isArray(s)?s:BK(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const $K=t=>{const e=({timestamp:n})=>t(n);return{start:()=>We.update(e,!0),stop:()=>Ai(e),now:()=>Nt.isProcessing?Nt.timestamp:Lr.now()}},zK={decay:Tb,inertia:Tb,tween:Sf,keyframes:Sf,spring:j2},WK=t=>t/100;class S_ extends O2{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||x_,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=d_(n)?n:zK[n]||Sf;let l,u;a!==Sf&&typeof e[0]!="number"&&(l=zc(WK,V2(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});i==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=n2(d));const{calculatedDuration:h}=d,f=h+s,p=f*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:b}=this.options;return{done:!0,value:b[b.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:p,repeatType:S,repeatDelay:g,onUpdate:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const w=this.currentTime-f*(this.speed>=0?1:-1),v=this.speed>=0?w<0:w>d;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let T=this.currentTime,P=i;if(p){const b=Math.min(this.currentTime,d)/h;let I=Math.floor(b),R=b%1;!R&&b>=1&&(R=1),R===1&&I--,I=Math.min(I,p+1),!!(I%2)&&(S==="reverse"?(R=1-R,g&&(R-=g/h)):S==="mirror"&&(P=o)),T=ms(0,1,R)*h}const k=v?{done:!1,value:l[0]}:P.next(T);a&&(k.value=a(k.value));let{done:M}=k;!v&&u!==null&&(M=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return C&&s!==void 0&&(k.value=Fp(l,this.options,s)),_&&_(k.value),C&&this.finish(),k}get duration(){const{resolved:e}=this;return e?rs(e.calculatedDuration):0}get time(){return rs(this.currentTime)}set time(e){e=ns(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=rs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=$K,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const HK=new Set(["opacity","clipPath","filter","transform"]);function qK(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[e]:n};l&&(u.offset=l);const d=i2(a,s);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const GK=Yw(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),bf=10,KK=2e4;function QK(t){return d_(t.type)||t.type==="spring"||!s2(t.ease)}function YK(t,e){const n=new S_({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<KK;)r=n.sample(i),s.push(r.value),i+=bf;return{times:void 0,keyframes:s,duration:i-bf,ease:"linear"}}const U2={anticipate:y2,backInOut:g2,circInOut:w2};function XK(t){return t in U2}class bb extends O2{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new D2(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof i=="string"&&xf()&&XK(i)&&(i=U2[i]),QK(this.options)){const{onComplete:h,onUpdate:f,motionValue:p,element:S,...g}=this.options,_=YK(e,g);e=_.keyframes,e.length===1&&(e[1]=e[0]),r=_.duration,s=_.times,i=_.ease,o="keyframes"}const d=qK(a.owner.current,l,e,{...this.options,duration:r,times:s,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(ub(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;a.set(Fp(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:o,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return rs(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return rs(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ns(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Cn;const{animation:r}=n;ub(r,e)}return Cn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...p}=this.options,S=new S_({...p,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),g=ns(this.time);u.setWithVelocity(S.sample(g-bf).value,S.sample(g).value,bf)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return GK()&&r&&HK.has(r)&&!l&&!u&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}const JK={type:"spring",stiffness:500,damping:25,restSpeed:10},ZK=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),eQ={type:"keyframes",duration:.8},tQ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nQ=(t,{keyframes:e})=>e.length>2?eQ:Bo.has(t)?t.startsWith("scale")?ZK(e[1]):JK:tQ;function rQ({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const b_=(t,e,n,r={},s,i)=>o=>{const a=c_(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-ns(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};rQ(a)||(d={...d,...nQ(t,d)}),d.duration&&(d.duration=ns(d.duration)),d.repeatDelay&&(d.repeatDelay=ns(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&e.get()!==void 0){const f=Fp(d.keyframes,a);if(f!==void 0)return We.update(()=>{d.onUpdate(f),d.onComplete()}),new xG([])}return!i&&bb.supports(d)?new bb(d):new S_(d)};function sQ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function B2(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const u=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const h in l){const f=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),p=l[h];if(p===void 0||d&&sQ(d,h))continue;const S={delay:n,...c_(o||{},h)};let g=!1;if(window.MotionHandoffAnimation){const w=d2(t);if(w){const v=window.MotionHandoffAnimation(w,h,We);v!==null&&(S.startTime=v,g=!0)}}cv(t,h),f.start(b_(h,f,p,t.shouldReduceMotion&&u2.has(h)?{type:!1}:S,t,g));const _=f.animation;_&&u.push(_)}return a&&Promise.all(u).then(()=>{We.update(()=>{a&&VG(t,a)})}),u}function yv(t,e,n={}){var r;const s=jp(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(B2(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return iQ(t,e,d+u,h,f,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function iQ(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(oQ).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(yv(u,e,{...i,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function oQ(t,e){return t.sortNodePosition(e)}function aQ(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>yv(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=yv(t,e,n);else{const s=typeof e=="function"?jp(t,e,n.custom):e;r=Promise.all(B2(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const lQ=Jw.length;function $2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?$2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<lQ;n++){const r=Jw[n],s=t.props[r];(pc(s)||s===!1)&&(e[r]=s)}return e}const uQ=[...Xw].reverse(),cQ=Xw.length;function dQ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>aQ(t,n,r)))}function hQ(t){let e=dQ(t),n=Cb(),r=!0;const s=l=>(u,d)=>{var h;const f=jp(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:S,...g}=f;u={...u,...g,...S}}return u};function i(l){e=l(t)}function o(l){const{props:u}=t,d=$2(t.parent)||{},h=[],f=new Set;let p={},S=1/0;for(let _=0;_<cQ;_++){const w=uQ[_],v=n[w],T=u[w]!==void 0?u[w]:d[w],P=pc(T),k=w===l?v.isActive:null;k===!1&&(S=_);let M=T===d[w]&&T!==u[w]&&P;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),v.protectedKeys={...p},!v.isActive&&k===null||!T&&!v.prevProp||Vp(T)||typeof T=="boolean")continue;const C=fQ(v.prevProp,T);let b=C||w===l&&v.isActive&&!M&&P||_>S&&P,I=!1;const R=Array.isArray(T)?T:[T];let N=R.reduce(s(w),{});k===!1&&(N={});const{prevResolvedValues:O={}}=v,D={...O,...N},Y=X=>{b=!0,f.has(X)&&(I=!0,f.delete(X)),v.needsAnimating[X]=!0;const j=t.getValue(X);j&&(j.liveStyle=!1)};for(const X in D){const j=N[X],U=O[X];if(p.hasOwnProperty(X))continue;let q=!1;av(j)&&av(U)?q=!t2(j,U):q=j!==U,q?j!=null?Y(X):f.add(X):j!==void 0&&f.has(X)?Y(X):v.protectedKeys[X]=!0}v.prevProp=T,v.prevResolvedValues=N,v.isActive&&(p={...p,...N}),r&&t.blockInitialAnimation&&(b=!1),b&&(!(M&&C)||I)&&h.push(...R.map(X=>({animation:X,options:{type:w}})))}if(f.size){const _={};f.forEach(w=>{const v=t.getBaseTarget(w),T=t.getValue(w);T&&(T.liveStyle=!0),_[w]=v??null}),h.push({animation:_})}let g=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(g=!1),r=!1,g?e(h):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),n[l].isActive=u;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Cb(),r=!0}}}function fQ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!t2(e,t):!1}function qi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Cb(){return{animate:qi(!0),whileInView:qi(),whileHover:qi(),whileTap:qi(),whileDrag:qi(),whileFocus:qi(),exit:qi()}}class ji{constructor(e){this.isMounted=!1,this.node=e}update(){}}class pQ extends ji{constructor(e){super(e),e.animationState||(e.animationState=hQ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Vp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let mQ=0;class gQ extends ji{constructor(){super(...arguments),this.id=mQ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const yQ={animation:{Feature:pQ},exit:{Feature:gQ}};function vc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Wc(t){return{point:{x:t.pageX,y:t.pageY}}}const vQ=t=>e=>f_(e)&&t(e,Wc(e));function ku(t,e,n,r){return vc(t,e,vQ(n),r)}const Ib=(t,e)=>Math.abs(t-e);function wQ(t,e){const n=Ib(t.x,e.x),r=Ib(t.y,e.y);return Math.sqrt(n**2+r**2)}class z2{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=hg(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=wQ(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:S}=h,{timestamp:g}=Nt;this.history.push({...S,timestamp:g});const{onStart:_,onMove:w}=this.handlers;f||(_&&_(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=dg(f,this.transformPagePoint),We.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:S,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=hg(h.type==="pointercancel"?this.lastMoveEventInfo:dg(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,_),S&&S(h,_)},!f_(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Wc(e),a=dg(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=Nt;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,hg(a,this.history)),this.removeListeners=zc(ku(this.contextWindow,"pointermove",this.handlePointerMove),ku(this.contextWindow,"pointerup",this.handlePointerUp),ku(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ai(this.updatePoint)}}function dg(t,e){return e?{point:e(t.point)}:t}function Ab(t,e){return{x:t.x-e.x,y:t.y-e.y}}function hg({point:t},e){return{point:t,delta:Ab(t,W2(e)),offset:Ab(t,_Q(e)),velocity:EQ(e,.1)}}function _Q(t){return t[0]}function W2(t){return t[t.length-1]}function EQ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=W2(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>ns(e)));)n--;if(!r)return{x:0,y:0};const i=rs(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const H2=1e-4,xQ=1-H2,TQ=1+H2,q2=.01,SQ=0-q2,bQ=0+q2;function An(t){return t.max-t.min}function CQ(t,e,n){return Math.abs(t-e)<=n}function Pb(t,e,n,r=.5){t.origin=r,t.originPoint=Qe(e.min,e.max,t.origin),t.scale=An(n)/An(e),t.translate=Qe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=xQ&&t.scale<=TQ||isNaN(t.scale))&&(t.scale=1),(t.translate>=SQ&&t.translate<=bQ||isNaN(t.translate))&&(t.translate=0)}function Nu(t,e,n,r){Pb(t.x,e.x,n.x,r?r.originX:void 0),Pb(t.y,e.y,n.y,r?r.originY:void 0)}function Rb(t,e,n){t.min=n.min+e.min,t.max=t.min+An(e)}function IQ(t,e,n){Rb(t.x,e.x,n.x),Rb(t.y,e.y,n.y)}function kb(t,e,n){t.min=e.min-n.min,t.max=t.min+An(e)}function Du(t,e,n){kb(t.x,e.x,n.x),kb(t.y,e.y,n.y)}function AQ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Qe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Qe(n,t,r.max):Math.min(t,n)),t}function Nb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function PQ(t,{top:e,left:n,bottom:r,right:s}){return{x:Nb(t.x,n,s),y:Nb(t.y,e,r)}}function Db(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function RQ(t,e){return{x:Db(t.x,e.x),y:Db(t.y,e.y)}}function kQ(t,e){let n=.5;const r=An(t),s=An(e);return s>r?n=ol(e.min,e.max-r,t.min):r>s&&(n=ol(t.min,t.max-s,e.min)),ms(0,1,n)}function NQ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const vv=.35;function DQ(t=vv){return t===!1?t=0:t===!0&&(t=vv),{x:Ob(t,"left","right"),y:Ob(t,"top","bottom")}}function Ob(t,e,n){return{min:Mb(t,e),max:Mb(t,n)}}function Mb(t,e){return typeof t=="number"?t:t[e]||0}const Vb=()=>({translate:0,scale:1,origin:0,originPoint:0}),wa=()=>({x:Vb(),y:Vb()}),Lb=()=>({min:0,max:0}),it=()=>({x:Lb(),y:Lb()});function On(t){return[t("x"),t("y")]}function G2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function OQ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function MQ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function fg(t){return t===void 0||t===1}function wv({scale:t,scaleX:e,scaleY:n}){return!fg(t)||!fg(e)||!fg(n)}function Xi(t){return wv(t)||K2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function K2(t){return jb(t.x)||jb(t.y)}function jb(t){return t&&t!=="0%"}function Cf(t,e,n){const r=t-n,s=e*r;return n+s}function Fb(t,e,n,r,s){return s!==void 0&&(t=Cf(t,s,r)),Cf(t,n,r)+e}function _v(t,e=0,n=1,r,s){t.min=Fb(t.min,e,n,r,s),t.max=Fb(t.max,e,n,r,s)}function Q2(t,{x:e,y:n}){_v(t.x,e.translate,e.scale,e.originPoint),_v(t.y,n.translate,n.scale,n.originPoint)}const Ub=.999999999999,Bb=1.0000000000001;function VQ(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ea(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Q2(t,o)),r&&Xi(i.latestValues)&&Ea(t,i.latestValues))}e.x<Bb&&e.x>Ub&&(e.x=1),e.y<Bb&&e.y>Ub&&(e.y=1)}function _a(t,e){t.min=t.min+e,t.max=t.max+e}function $b(t,e,n,r,s=.5){const i=Qe(t.min,t.max,s);_v(t,e,n,i,r)}function Ea(t,e){$b(t.x,e.x,e.scaleX,e.scale,e.originX),$b(t.y,e.y,e.scaleY,e.scale,e.originY)}function Y2(t,e){return G2(MQ(t.getBoundingClientRect(),e))}function LQ(t,e,n){const r=Y2(t,n),{scroll:s}=e;return s&&(_a(r.x,s.offset.x),_a(r.y,s.offset.y)),r}const X2=({current:t})=>t?t.ownerDocument.defaultView:null,jQ=new WeakMap;class FQ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=it(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Wc(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:S}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=kG(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),On(_=>{let w=this.getAxisMotionValue(_).get()||0;if(Vr.test(w)){const{projection:v}=this.visualElement;if(v&&v.layout){const T=v.layout.layoutBox[_];T&&(w=An(T)*(parseFloat(w)/100))}}this.originPoint[_]=w}),S&&We.postRender(()=>S(d,h)),cv(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:S,onDrag:g}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:_}=h;if(p&&this.currentDirection===null){this.currentDirection=UQ(_),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",h.point,_),this.updateAxis("y",h.point,_),this.visualElement.render(),g&&g(d,h)},a=(d,h)=>this.stop(d,h),l=()=>On(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new z2(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:X2(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&We.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!zd(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=AQ(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&ya(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=PQ(s.layoutBox,n):this.constraints=!1,this.elastic=DQ(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&On(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=NQ(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ya(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=LQ(r,s.root,this.visualElement.getTransformPagePoint());let o=RQ(s.layout.layoutBox,i);if(n){const a=n(OQ(o));this.hasMutatedConstraints=!!a,a&&(o=G2(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=On(d=>{if(!zd(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,S={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,S)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return cv(this.visualElement,e),r.start(b_(e,r,0,n,this.visualElement,!1))}stopAnimation(){On(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){On(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){On(n=>{const{drag:r}=this.getProps();if(!zd(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Qe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ya(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};On(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=kQ({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),On(o=>{if(!zd(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Qe(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;jQ.set(this.visualElement,this);const e=this.visualElement.current,n=ku(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ya(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),We.read(r);const o=vc(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(On(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=vv,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function zd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function UQ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class BQ extends ji{constructor(e){super(e),this.removeGroupControls=Cn,this.removeListeners=Cn,this.controls=new FQ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Cn}unmount(){this.removeGroupControls(),this.removeListeners()}}const zb=t=>(e,n)=>{t&&We.postRender(()=>t(e,n))};class $Q extends ji{constructor(){super(...arguments),this.removePointerDownListener=Cn}onPointerDown(e){this.session=new z2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:X2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:zb(e),onStart:zb(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&We.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=ku(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Wb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Zl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ne.test(t))t=parseFloat(t);else return t;const n=Wb(t,e.target.x),r=Wb(t,e.target.y);return`${n}% ${r}%`}},zQ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Pi.parse(t);if(s.length>5)return r;const i=Pi.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const u=Qe(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class WQ extends y.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;cG(HQ),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),wh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||We.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),e_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function J2(t){const[e,n]=OD(),r=y.useContext(qw);return E.jsx(WQ,{...t,layoutGroup:r,switchLayoutGroup:y.useContext($D),isPresent:e,safeToRemove:n})}const HQ={borderRadius:{...Zl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zl,borderTopRightRadius:Zl,borderBottomLeftRadius:Zl,borderBottomRightRadius:Zl,boxShadow:zQ};function qQ(t,e,n){const r=qt(t)?t:gc(t);return r.start(b_("",r,e,n)),r.animation}function GQ(t){return t instanceof SVGElement&&t.tagName!=="svg"}const KQ=(t,e)=>t.depth-e.depth;class QQ{constructor(){this.children=[],this.isDirty=!1}add(e){p_(this.children,e),this.isDirty=!0}remove(e){m_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(KQ),this.isDirty=!1,this.children.forEach(e)}}function YQ(t,e){const n=Lr.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Ai(r),t(i-e))};return We.read(r,!0),()=>Ai(r)}const Z2=["TopLeft","TopRight","BottomLeft","BottomRight"],XQ=Z2.length,Hb=t=>typeof t=="string"?parseFloat(t):t,qb=t=>typeof t=="number"||ne.test(t);function JQ(t,e,n,r,s,i){s?(t.opacity=Qe(0,n.opacity!==void 0?n.opacity:1,ZQ(r)),t.opacityExit=Qe(e.opacity!==void 0?e.opacity:1,0,eY(r))):i&&(t.opacity=Qe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<XQ;o++){const a=`border${Z2[o]}Radius`;let l=Gb(e,a),u=Gb(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||qb(l)===qb(u)?(t[a]=Math.max(Qe(Hb(l),Hb(u),r),0),(Vr.test(u)||Vr.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Qe(e.rotate||0,n.rotate||0,r))}function Gb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const ZQ=eO(0,.5,v2),eY=eO(.5,.95,Cn);function eO(t,e,n){return r=>r<t?0:r>e?1:n(ol(t,e,r))}function Kb(t,e){t.min=e.min,t.max=e.max}function Dn(t,e){Kb(t.x,e.x),Kb(t.y,e.y)}function Qb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Yb(t,e,n,r,s){return t-=e,t=Cf(t,1/n,r),s!==void 0&&(t=Cf(t,1/s,r)),t}function tY(t,e=0,n=1,r=.5,s,i=t,o=t){if(Vr.test(e)&&(e=parseFloat(e),e=Qe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Qe(i.min,i.max,r);t===i&&(a-=e),t.min=Yb(t.min,e,n,a,s),t.max=Yb(t.max,e,n,a,s)}function Xb(t,e,[n,r,s],i,o){tY(t,e[n],e[r],e[s],e.scale,i,o)}const nY=["x","scaleX","originX"],rY=["y","scaleY","originY"];function Jb(t,e,n,r){Xb(t.x,e,nY,n?n.x:void 0,r?r.x:void 0),Xb(t.y,e,rY,n?n.y:void 0,r?r.y:void 0)}function Zb(t){return t.translate===0&&t.scale===1}function tO(t){return Zb(t.x)&&Zb(t.y)}function e1(t,e){return t.min===e.min&&t.max===e.max}function sY(t,e){return e1(t.x,e.x)&&e1(t.y,e.y)}function t1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function nO(t,e){return t1(t.x,e.x)&&t1(t.y,e.y)}function n1(t){return An(t.x)/An(t.y)}function r1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class iY{constructor(){this.members=[]}add(e){p_(this.members,e),e.scheduleRender()}remove(e){if(m_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function oY(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:S}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),S&&(r+=`skewY(${S}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Ji={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},hu=typeof window<"u"&&window.MotionDebug!==void 0,pg=["","X","Y","Z"],aY={visibility:"hidden"},s1=1e3;let lY=0;function mg(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function rO(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=d2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",We,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&rO(r)}function sO({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=lY++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,hu&&(Ji.totalNodes=Ji.resolvedTargetDeltas=Ji.recalculatedProjection=0),this.nodes.forEach(dY),this.nodes.forEach(gY),this.nodes.forEach(yY),this.nodes.forEach(hY),hu&&window.MotionDebug.record(Ji)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new QQ)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new g_),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=GQ(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=YQ(f,250),wh.hasAnimatedSinceResize&&(wh.hasAnimatedSinceResize=!1,this.nodes.forEach(o1))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||xY,{onLayoutAnimationStart:_,onLayoutAnimationComplete:w}=d.getProps(),v=!this.targetLayout||!nO(this.targetLayout,S)||p,T=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,T);const P={...c_(g,"layout"),onPlay:_,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else f||o1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ai(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vY),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&rO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(i1);return}this.isUpdating||this.nodes.forEach(pY),this.isUpdating=!1,this.nodes.forEach(mY),this.nodes.forEach(uY),this.nodes.forEach(cY),this.clearAllSnapshots();const a=Lr.now();Nt.delta=ms(0,1e3/60,a-Nt.timestamp),Nt.timestamp=a,Nt.isProcessing=!0,ig.update.process(Nt),ig.preRender.process(Nt),ig.render.process(Nt),Nt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,e_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fY),this.sharedNodes.forEach(wY)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,We.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){We.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=it(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!tO(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||Xi(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),TY(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return it();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(SY))){const{scroll:d}=this.root;d&&(_a(l.x,d.offset.x),_a(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=it();if(Dn(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Dn(l,o),_a(l.x,h.offset.x),_a(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=it();Dn(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ea(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Xi(d.latestValues)&&Ea(l,d.latestValues)}return Xi(this.latestValues)&&Ea(l,this.latestValues),l}removeTransform(o){const a=it();Dn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Xi(u.latestValues))continue;wv(u.latestValues)&&u.updateSnapshot();const d=it(),h=u.measurePageBox();Dn(d,h),Jb(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Xi(this.latestValues)&&Jb(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Nt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),Du(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=it(),this.targetWithTransforms=it()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),IQ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Dn(this.target,this.layout.layoutBox),Q2(this.target,this.targetDelta)):Dn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),Du(this.relativeTargetOrigin,this.target,p.target),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}hu&&Ji.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||wv(this.parent.latestValues)||K2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Nt.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Dn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;VQ(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=it());const{target:S}=a;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Qb(this.prevProjectionDelta.x,this.projectionDelta.x),Qb(this.prevProjectionDelta.y,this.projectionDelta.y)),Nu(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!r1(this.projectionDelta.x,this.prevProjectionDelta.x)||!r1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),hu&&Ji.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=wa(),this.projectionDelta=wa(),this.projectionDeltaWithTransform=wa()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=wa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=it(),p=l?l.source:void 0,S=this.layout?this.layout.source:void 0,g=p!==S,_=this.getStack(),w=!_||_.members.length<=1,v=!!(g&&!w&&this.options.crossfade===!0&&!this.path.some(EY));this.animationProgress=0;let T;this.mixTargetDelta=P=>{const k=P/1e3;a1(h.x,o.x,k),a1(h.y,o.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Du(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_Y(this.relativeTarget,this.relativeTargetOrigin,f,k),T&&sY(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=it()),Dn(T,this.relativeTarget)),g&&(this.animationValues=d,JQ(d,u,this.latestValues,k,v,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ai(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=We.update(()=>{wh.hasAnimatedSinceResize=!0,this.currentAnimation=qQ(0,s1,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(s1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&iO(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||it();const h=An(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=An(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Dn(a,l),Ea(a,d),Nu(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new iY),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&mg("z",o,u,this.animationValues);for(let d=0;d<pg.length;d++)mg(`rotate${pg[d]}`,o,u,this.animationValues),mg(`skew${pg[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return aY;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=yh(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=yh(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Xi(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=oY(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:p,y:S}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${S.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in Ef){if(f[g]===void 0)continue;const{correct:_,applyTo:w}=Ef[g],v=u.transform==="none"?f[g]:_(f[g],h);if(w){const T=w.length;for(let P=0;P<T;P++)u[w[P]]=v}else u[g]=v}return this.options.layoutId&&(u.pointerEvents=h===this?yh(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(i1),this.root.sharedNodes.clear()}}}function uY(t){t.updateLayout()}function cY(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?On(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=An(f);f.min=r[h].min,f.max=f.min+p}):iO(i,n.layoutBox,r)&&On(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=An(r[h]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=wa();Nu(a,r,n.layoutBox);const l=wa();o?Nu(l,t.applyTransform(s,!0),n.measuredBox):Nu(l,r,n.layoutBox);const u=!tO(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const S=it();Du(S,n.layoutBox,f.layoutBox);const g=it();Du(g,r,p.layoutBox),nO(S,g)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=S,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function dY(t){hu&&Ji.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function hY(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function fY(t){t.clearSnapshot()}function i1(t){t.clearMeasurements()}function pY(t){t.isLayoutDirty=!1}function mY(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function o1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function gY(t){t.resolveTargetDelta()}function yY(t){t.calcProjection()}function vY(t){t.resetSkewAndRotation()}function wY(t){t.removeLeadSnapshot()}function a1(t,e,n){t.translate=Qe(e.translate,0,n),t.scale=Qe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function l1(t,e,n,r){t.min=Qe(e.min,n.min,r),t.max=Qe(e.max,n.max,r)}function _Y(t,e,n,r){l1(t.x,e.x,n.x,r),l1(t.y,e.y,n.y,r)}function EY(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const xY={duration:.45,ease:[.4,0,.1,1]},u1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),c1=u1("applewebkit/")&&!u1("chrome/")?Math.round:Cn;function d1(t){t.min=c1(t.min),t.max=c1(t.max)}function TY(t){d1(t.x),d1(t.y)}function iO(t,e,n){return t==="position"||t==="preserve-aspect"&&!CQ(n1(e),n1(n),.2)}function SY(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const bY=sO({attachResizeListener:(t,e)=>vc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gg={current:void 0},oO=sO({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!gg.current){const t=new bY({});t.mount(window),t.setOptions({layoutScroll:!0}),gg.current=t}return gg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),CY={pan:{Feature:$Q},drag:{Feature:BQ,ProjectionNode:oO,MeasureLayout:J2}};function h1(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&We.postRender(()=>i(e,Wc(e)))}class IY extends ji{mount(){const{current:e}=this.node;e&&(this.unmount=CG(e,n=>(h1(this.node,n,"Start"),r=>h1(this.node,r,"End"))))}unmount(){}}class AY extends ji{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zc(vc(this.node.current,"focus",()=>this.onFocus()),vc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function f1(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&We.postRender(()=>i(e,Wc(e)))}class PY extends ji{mount(){const{current:e}=this.node;e&&(this.unmount=RG(e,n=>(f1(this.node,n,"Start"),(r,{success:s})=>f1(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ev=new WeakMap,yg=new WeakMap,RY=t=>{const e=Ev.get(t.target);e&&e(t)},kY=t=>{t.forEach(RY)};function NY({root:t,...e}){const n=t||document;yg.has(n)||yg.set(n,{});const r=yg.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(kY,{root:t,...e})),r[s]}function DY(t,e,n){const r=NY(e);return Ev.set(t,n),r.observe(t),()=>{Ev.delete(t),r.unobserve(t)}}const OY={some:0,all:1};class MY extends ji{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:OY[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(l)};return DY(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(VY(e,n))&&this.startObserver()}unmount(){}}function VY({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const LY={inView:{Feature:MY},tap:{Feature:PY},focus:{Feature:AY},hover:{Feature:IY}},jY={layout:{ProjectionNode:oO,MeasureLayout:J2}},xv={current:null},aO={current:!1};function FY(){if(aO.current=!0,!!Qw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>xv.current=t.matches;t.addListener(e),e()}else xv.current=!1}const UY=[...N2,$t,Pi],BY=t=>UY.find(k2(t)),p1=new WeakMap;function $Y(t,e,n){for(const r in e){const s=e[r],i=n[r];if(qt(s))t.addValue(r,s);else if(qt(i))t.addValue(r,gc(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,gc(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const m1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class zY{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=x_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Lr.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,We.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Lp(n),this.isVariantNode=UD(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const S=f[p];l[p]!==void 0&&qt(S)&&S.set(l[p],!1)}}mount(e){this.current=e,p1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),aO.current||FY(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){p1.delete(this.current),this.projection&&this.projection.unmount(),Ai(this.notifyUpdate),Ai(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Bo.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&We.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in al){const n=al[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):it()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<m1.length;r++){const s=m1[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=$Y(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=gc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(P2(s)||_2(s))?s=parseFloat(s):!BY(s)&&Pi.test(n)&&(s=C2(e,n)),this.setBaseTarget(e,qt(s)?s.get():s)),qt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=n_(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!qt(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new g_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class lO extends zY{constructor(){super(...arguments),this.KeyframeResolver=D2}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;qt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function WY(t){return window.getComputedStyle(t)}class HY extends lO{constructor(){super(...arguments),this.type="html",this.renderInstance=QD}readValueFromInstance(e,n){if(Bo.has(n)){const r=E_(n);return r&&r.default||0}else{const r=WY(e),s=(qD(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Y2(e,n)}build(e,n,r){i_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return u_(e,n,r)}}class qY extends lO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=it}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Bo.has(n)){const r=E_(n);return r&&r.default||0}return n=YD.has(n)?n:Zw(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return ZD(e,n,r)}build(e,n,r){o_(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){XD(e,n,r,s)}mount(e){this.isSVGTag=l_(e.tagName),super.mount(e)}}const GY=(t,e)=>t_(t)?new qY(e):new HY(e,{allowProjection:t!==y.Fragment}),KY=wG({...yQ,...LY,...CY,...jY},GY),fu=Oq(KY);function QY(){const t=np(),[e,n]=y.useState("dashboard"),[r,s]=y.useState(""),[i,o]=y.useState(""),[a,l]=y.useState(""),u=()=>{if(!rq(e,r.trim(),i.trim())){l("Identifiants invalides");return}l(""),t(e==="dashboard"?"/dashboard":"/projection")},d=[...Js,...Js,...Js,...Js];return E.jsxs("div",{className:"relative h-screen w-screen overflow-hidden bg-black text-white font-sans selection:bg-red-500 selection:text-white flex flex-col",children:[E.jsx("div",{className:"absolute inset-0 z-0 opacity-40",style:{backgroundImage:"url(/passagedegrade/assets/bg-taekwondo.jpg)",backgroundSize:"cover",backgroundPosition:"center",filter:"grayscale(100%) contrast(120%) brightness(60%)"}}),E.jsx("div",{className:"absolute inset-0 z-0 bg-gradient-to-br from-black via-transparent to-black opacity-90"}),E.jsx("div",{className:"absolute inset-0 z-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-gray-800/20 via-black/60 to-black"}),E.jsxs("div",{className:"relative z-10 flex-1 flex flex-col items-center justify-center p-4 pb-40 md:pb-48",children:[E.jsxs("div",{className:"w-full text-center mb-8 md:mb-12",children:[E.jsx("h1",{className:"text-4xl md:text-7xl font-black tracking-tighter uppercase bg-gradient-to-b from-white to-gray-500 bg-clip-text text-transparent drop-shadow-2xl",children:"Taekwondo Sbeitla"}),E.jsx("div",{className:"h-1 w-24 md:w-32 mx-auto mt-4 bg-red-600 rounded-full shadow-[0_0_20px_rgba(220,38,38,0.8)]"}),E.jsx("p",{className:"mt-4 text-lg md:text-xl text-gray-400 tracking-[0.3em] uppercase font-light",children:"Connexion"})]}),E.jsxs(ma,{className:"bg-black/40 backdrop-blur-md border border-white/10 shadow-2xl max-w-md w-full",children:[E.jsx($w,{children:E.jsx(zw,{className:"text-2xl",children:"Choisir la page"})}),E.jsxs(ga,{className:"space-y-6",children:[E.jsxs(Eq,{value:e,onValueChange:h=>n(h),children:[E.jsxs(DD,{className:"w-full bg-black/30 backdrop-blur-sm text-gray-300 border border-white/10",children:[E.jsx(iv,{value:"dashboard",className:"flex-1 data-[state=active]:text-white data-[state=active]:bg-black/40 border-b-2 border-transparent data-[state=active]:border-white pb-1",children:"Dashboard"}),E.jsx(iv,{value:"projection",className:"flex-1 data-[state=active]:text-white data-[state=active]:bg-black/40 border-b-2 border-transparent data-[state=active]:border-white pb-1",children:"Projection"})]}),E.jsx(ov,{value:"dashboard"}),E.jsx(ov,{value:"projection"})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Nom d'utilisateur"}),E.jsx(fc,{value:r,onChange:h=>s(h.target.value),placeholder:"Entrez le nom",className:"bg-transparent border-white/20 text-white placeholder:text-neutral-400 focus-visible:ring-red-600"})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Mot de passe"}),E.jsx(fc,{type:"password",value:i,onChange:h=>o(h.target.value),placeholder:"Entrez le mot de passe",className:"bg-transparent border-white/20 text-white placeholder:text-neutral-400 focus-visible:ring-red-600"})]})]}),a&&E.jsx("p",{className:"text-sm text-red-500",children:a}),E.jsx(It,{className:"w-full bg-red-600 hover:bg-red-700",onClick:u,children:"Se connecter"})]})]})]}),E.jsx("div",{className:"absolute bottom-0 left-0 right-0 z-50 bg-black/90 backdrop-blur-xl border-t border-white/10 shadow-[0_-10px_40px_rgba(0,0,0,0.8)]",children:E.jsxs("div",{className:"w-full overflow-hidden py-3 md:py-4 relative",children:[E.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-20 bg-gradient-to-r from-black to-transparent z-10"}),E.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-20 bg-gradient-to-l from-black to-transparent z-10"}),E.jsx(fu.div,{className:"flex items-center gap-8 md:gap-10 w-max",animate:{x:[0,-1e3]},transition:{repeat:1/0,duration:25,ease:"linear"},children:d.map((h,f)=>{const p=h.split("/").pop()||h,_=p==="WAADTI.png"||p==="federation-tunisienne-de-taekwondo.png"||p.toLowerCase().includes("sufetula")?"h-14 w-32 md:h-16 md:w-40":p==="diamond-gym.png"?"h-8 w-16 md:h-10 md:w-20":"h-10 w-20 md:h-12 md:w-24";return E.jsx("div",{className:`${_} flex-shrink-0 grayscale hover:grayscale-0 transition-all duration-300 opacity-80 hover:opacity-100`,children:E.jsx("img",{src:h,alt:"Partner Logo",className:"h-full w-full object-contain"})},f)})})]})})]})}function g1({page:t,children:e}){const n=tp();return sq()?E.jsx(E.Fragment,{children:e}):E.jsx($U,{to:"/",replace:!0,state:{from:n}})}function YY(){const t=np(),{students:e,syncStatus:n,currentId:r}=Dk(),s=e.slice().sort((h,f)=>h.order-f.order),o=(r?e.find(h=>h.id===r):void 0)||s.find(h=>h.status==="PENDING")||s[s.length-1],a=o?s.find(h=>h.status==="PENDING"&&h.order>o.order):void 0,l=o?s.findIndex(h=>h.id===o.id):-1,u=l>=0?`${l+1} / ${s.length}`:"--",d=[...Js,...Js,...Js,...Js];return!o&&e.length===0?E.jsx("div",{className:"h-screen w-screen bg-black text-white flex items-center justify-center",children:E.jsx("h1",{className:"text-4xl font-bold tracking-widest uppercase animate-pulse",children:"En attente des candidats..."})}):E.jsxs("div",{className:"relative h-screen w-screen overflow-hidden bg-black text-white font-sans selection:bg-red-500 selection:text-white flex flex-col",children:[E.jsx("div",{className:"absolute inset-0 z-0 opacity-40",style:{backgroundImage:"url(/passagedegrade/assets/bg-taekwondo.jpg)",backgroundSize:"cover",backgroundPosition:"center",filter:"grayscale(100%) contrast(120%) brightness(60%)"}}),E.jsx("div",{className:"absolute inset-0 z-0 bg-gradient-to-br from-black via-transparent to-black opacity-90"}),E.jsx("div",{className:"absolute inset-0 z-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-gray-800/20 via-black/60 to-black"}),E.jsxs("div",{className:"relative z-10 flex-1 flex flex-col items-center justify-center p-4 pb-40 md:pb-48",children:[E.jsxs(fu.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},className:"w-full text-center mb-8 md:mb-12",children:[E.jsx("h1",{className:"text-4xl md:text-7xl font-black tracking-tighter uppercase bg-gradient-to-b from-white to-gray-500 bg-clip-text text-transparent drop-shadow-2xl",children:"Taekwondo Sbeitla"}),E.jsx("div",{className:"h-1 w-24 md:w-32 mx-auto mt-4 bg-red-600 rounded-full shadow-[0_0_20px_rgba(220,38,38,0.8)]"}),E.jsx("p",{className:"mt-4 text-lg md:text-xl text-gray-400 tracking-[0.3em] uppercase font-light",children:"EXAMEN DE PASSAGE DE GRADE OFFICIEL"})]}),E.jsx(Cq,{mode:"wait",children:o&&E.jsxs(fu.div,{initial:{opacity:0,scale:.9,filter:"blur(10px)"},animate:{opacity:1,scale:1,filter:"blur(0px)"},exit:{opacity:0,scale:1.1,filter:"blur(10px)"},transition:{duration:.5,ease:"circOut"},className:"flex flex-col md:flex-row items-center gap-8 md:gap-24 max-w-7xl w-full px-4",children:[E.jsxs("div",{className:"relative group flex-shrink-0",children:[E.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-red-600 to-red-900 rounded-full opacity-30 blur-2xl group-hover:opacity-50 transition duration-1000 animate-pulse"}),E.jsx("div",{className:"relative w-48 h-48 md:w-80 md:h-80 rounded-full border-4 md:border-8 border-neutral-800 shadow-2xl overflow-hidden bg-neutral-900 ring-4 ring-white/10",children:E.jsx(Bw,{src:o.photoUrl,alt:o.fullName,className:`${o.status==="APPROVED"?"":"grayscale hover:grayscale-0"} w-full h-full object-cover transition-all duration-700 transform group-hover:scale-105`})}),E.jsxs(fu.div,{initial:{scale:0,rotate:-45},animate:{scale:1,rotate:0},className:`absolute -bottom-4 -right-4 md:bottom-4 md:right-4 px-4 py-2 md:px-6 md:py-3 rounded-xl border-4 shadow-2xl flex items-center gap-2 md:gap-3 backdrop-blur-md
                    ${o.status==="APPROVED"?"bg-green-900/90 border-green-500 text-green-100 shadow-green-900/50":o.status==="REFUSED"?"bg-red-900/90 border-red-500 text-red-100 shadow-red-900/50":"bg-yellow-900/90 border-yellow-500 text-yellow-100 shadow-yellow-900/50"}`,children:[o.status==="APPROVED"?E.jsx(IW,{size:24,className:"md:w-8 md:h-8"}):o.status==="REFUSED"?E.jsx(AW,{size:24,className:"md:w-8 md:h-8"}):E.jsx(PW,{size:24,className:"md:w-8 md:h-8"}),E.jsx("span",{className:"text-xl md:text-2xl font-black uppercase tracking-wider",children:o.status==="APPROVED"?"ADMIS":o.status==="REFUSED"?"REFUS":"EN TEST"})]})]}),E.jsxs("div",{className:"flex-1 text-center md:text-left space-y-4 md:space-y-6 w-full",children:[E.jsxs("div",{children:[E.jsxs("h2",{className:"text-lg md:text-xl text-red-500 font-bold tracking-widest uppercase mb-2 flex items-center justify-center md:justify-start gap-3",children:[E.jsx("span",{className:"h-px w-8 bg-red-500"}),"Candidat",E.jsx("span",{className:"h-px w-8 bg-red-500 md:hidden"})]}),E.jsx("h3",{className:"text-3xl md:text-6xl font-black text-white tracking-tight leading-none drop-shadow-lg",children:o.fullName})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[E.jsxs("div",{className:"bg-neutral-900/50 border border-neutral-800 p-4 md:p-5 rounded-2xl backdrop-blur-sm hover:bg-neutral-900/70 transition-colors",children:[E.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wider mb-2 font-bold",children:"Grade Actuel"}),E.jsx(wf,{belt:o.currentBelt,size:"lg",className:"text-lg md:text-xl py-3 px-4 w-full shadow-lg"})]}),E.jsxs("div",{className:"relative bg-gradient-to-br from-neutral-900/80 to-red-900/20 border border-red-900/30 p-4 md:p-5 rounded-2xl backdrop-blur-sm overflow-hidden hover:border-red-500/50 transition-colors",children:[E.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-20",children:E.jsx("svg",{width:"60",height:"60",viewBox:"0 0 24 24",fill:"none",stroke:"red",strokeWidth:"1",className:"md:w-20 md:h-20",children:E.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),E.jsx("p",{className:"text-red-400 text-xs uppercase tracking-wider mb-2 font-black",children:"Test Pour Le Grade"}),E.jsx(wf,{belt:o.nextBelt,size:"lg",className:"text-xl md:text-2xl py-3 px-4 w-full scale-105 origin-left shadow-xl ring-2 ring-red-500/20"})]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6 mt-3",children:[E.jsxs("div",{className:"bg-neutral-900/60 border border-neutral-800 rounded-2xl p-4",children:[E.jsx("p",{className:"text-[11px] uppercase tracking-wider text-gray-400",children:"Ordre"}),E.jsxs("div",{className:"mt-1 text-xs text-gray-300",children:[E.jsxs("p",{children:["Position: ",E.jsx("span",{className:"font-bold text-white",children:u})]}),E.jsxs("p",{children:["Identifiant: ",E.jsxs("span",{className:"font-bold text-white",children:["#",o?String(o.order).padStart(3,"0"):"--"]})]})]})]}),E.jsxs("div",{className:"bg-neutral-900/60 border border-neutral-800 rounded-2xl p-4",children:[E.jsx("p",{className:"text-[11px] uppercase tracking-wider text-gray-400",children:"Rsultat"}),E.jsx("p",{className:"mt-1 text-sm md:text-base font-black uppercase text-white",children:o?o.status==="APPROVED"?"ADMIS":o.status==="REFUSED"?"REFUS":"EN ATTENTE":"--"})]}),E.jsxs("div",{className:"bg-neutral-900/60 border border-neutral-800 rounded-2xl p-4",children:[E.jsx("p",{className:"text-[11px] uppercase tracking-wider text-gray-400",children:"Prochain"}),E.jsx("p",{className:"mt-1 text-sm font-bold text-white",children:a?a.fullName:"Aucun"})]})]})]})]},o.id)})]}),E.jsxs("div",{className:"absolute bottom-0 left-0 right-0 z-50 bg-black/90 backdrop-blur-xl border-t border-white/10 shadow-[0_-10px_40px_rgba(0,0,0,0.8)]",children:[E.jsxs("div",{className:"w-full overflow-hidden py-3 md:py-4 relative",children:[E.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-20 bg-gradient-to-r from-black to-transparent z-10"}),E.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-20 bg-gradient-to-l from-black to-transparent z-10"}),E.jsx(fu.div,{className:"flex items-center gap-8 md:gap-10 w-max",animate:{x:[0,-1e3]},transition:{repeat:1/0,duration:25,ease:"linear"},children:d.map((h,f)=>{const p=h.split("/").pop()||h,_=p==="WAADTI.png"||p==="federation-tunisienne-de-taekwondo.png"||p.toLowerCase().includes("sufetula")?"h-14 w-32 md:h-16 md:w-40":p==="diamond-gym.png"?"h-8 w-16 md:h-10 md:w-20":"h-10 w-20 md:h-12 md:w-24";return E.jsx("div",{className:`${_} flex-shrink-0 grayscale hover:grayscale-0 transition-all duration-300 opacity-80 hover:opacity-100`,children:E.jsx("img",{src:h,alt:"Partner Logo",className:"h-full w-full object-contain"})},f)})})]}),E.jsxs("div",{className:"flex justify-between items-center px-4 md:px-8 py-2 border-t border-white/5 text-[10px] md:text-xs text-gray-500 font-mono bg-black",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsxs("span",{className:"text-red-900/50",children:["ID: ",o==null?void 0:o.order.toString().padStart(3,"0")]}),E.jsx("div",{className:"flex gap-1",children:e.map(h=>E.jsx("div",{className:`h-1 rounded-full transition-all duration-500 ${h.id===(o==null?void 0:o.id)?"w-4 bg-red-800":"w-1 bg-gray-900"}`},h.id))})]}),E.jsxs("div",{className:"flex items-center gap-4 tracking-widest uppercase text-gray-400 font-bold",children:[E.jsxs("span",{children:["Cr par Matre ",E.jsx("span",{className:"text-red-600",children:"Ali ZAYANI"})]}),E.jsxs("span",{className:`inline-block text-[10px] md:text-xs px-2 py-0.5 rounded-full ${n==="online"?"bg-green-900 text-green-100":n==="connecting"?"bg-yellow-900 text-yellow-100":"bg-red-900 text-red-100"}`,children:["Cloud Sync: ",n]}),E.jsx("button",{className:"text-white/90 hover:text-white text-[10px] md:text-xs",onClick:()=>{fD(),t("/")},children:"Dconnexion"})]})]})]})]})}function XY(){return E.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-gray-50 to-blue-50 p-6 text-center",children:E.jsxs("div",{className:"space-y-6 max-w-md",children:[E.jsxs("div",{className:"space-y-3",children:[E.jsx("h1",{className:"text-8xl font-bold text-blue-600",children:"404"}),E.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Page Not Found"}),E.jsx("p",{className:"text-muted-foreground",children:"The page you're looking for doesn't exist or may have been moved."})]}),E.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[E.jsx(It,{asChild:!0,children:E.jsx("a",{href:"/passagedegrade/",children:"Return Home"})}),E.jsx(It,{variant:"outline",onClick:()=>window.history.back(),children:"Go Back"})]})]})})}const JY=new YF,ZY=()=>E.jsx(JF,{client:JY,children:E.jsxs(TF,{children:[E.jsx(RL,{}),E.jsx(GU,{basename:"/passagedegrade/",children:E.jsxs(WU,{children:[E.jsx(su,{path:"/",element:E.jsx(QY,{})}),E.jsx(su,{path:"/dashboard",element:E.jsx(g1,{page:"dashboard",children:E.jsx(iq,{})})}),E.jsx(su,{path:"/projection",element:E.jsx(g1,{page:"projection",children:E.jsx(YY,{})})}),E.jsx(su,{path:"*",element:E.jsx(XY,{})})]})})]})});UI(document.getElementById("root")).render(E.jsx(ZY,{}));
