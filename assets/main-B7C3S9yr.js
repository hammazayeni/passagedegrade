var z_=t=>{throw TypeError(t)};var qp=(t,e,n)=>e.has(t)||z_("Cannot "+n);var F=(t,e,n)=>(qp(t,e,"read from private field"),n?n.call(t):e.get(t)),Te=(t,e,n)=>e.has(t)?z_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ae=(t,e,n,r)=>(qp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Mt=(t,e,n)=>(qp(t,e,"access private method"),n);var Xu=(t,e,n,r)=>({set _(s){ae(t,e,s,n)},get _(){return F(t,e,r)}});function H2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function i1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o1={exports:{}},Ef={},a1={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mu=Symbol.for("react.element"),G2=Symbol.for("react.portal"),K2=Symbol.for("react.fragment"),q2=Symbol.for("react.strict_mode"),Q2=Symbol.for("react.profiler"),Y2=Symbol.for("react.provider"),X2=Symbol.for("react.context"),J2=Symbol.for("react.forward_ref"),Z2=Symbol.for("react.suspense"),eO=Symbol.for("react.memo"),tO=Symbol.for("react.lazy"),W_=Symbol.iterator;function nO(t){return t===null||typeof t!="object"?null:(t=W_&&t[W_]||t["@@iterator"],typeof t=="function"?t:null)}var l1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},c1=Object.assign,u1={};function rl(t,e,n){this.props=t,this.context=e,this.refs=u1,this.updater=n||l1}rl.prototype.isReactComponent={};rl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};rl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function d1(){}d1.prototype=rl.prototype;function pv(t,e,n){this.props=t,this.context=e,this.refs=u1,this.updater=n||l1}var mv=pv.prototype=new d1;mv.constructor=pv;c1(mv,rl.prototype);mv.isPureReactComponent=!0;var H_=Array.isArray,h1=Object.prototype.hasOwnProperty,gv={current:null},f1={key:!0,ref:!0,__self:!0,__source:!0};function p1(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)h1.call(e,r)&&!f1.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:mu,type:t,key:i,ref:o,props:s,_owner:gv.current}}function rO(t,e){return{$$typeof:mu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function yv(t){return typeof t=="object"&&t!==null&&t.$$typeof===mu}function sO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var G_=/\/+/g;function Qp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sO(""+t.key):e.toString(36)}function Vd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case mu:case G2:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Qp(o,0):r,H_(s)?(n="",t!=null&&(n=t.replace(G_,"$&/")+"/"),Vd(s,e,n,"",function(c){return c})):s!=null&&(yv(s)&&(s=rO(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(G_,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",H_(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Qp(i,a);o+=Vd(i,e,n,l,s)}else if(l=nO(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Qp(i,a++),o+=Vd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ju(t,e,n){if(t==null)return t;var r=[],s=0;return Vd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function iO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var en={current:null},Ld={transition:null},oO={ReactCurrentDispatcher:en,ReactCurrentBatchConfig:Ld,ReactCurrentOwner:gv};function m1(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:Ju,forEach:function(t,e,n){Ju(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ju(t,function(){e++}),e},toArray:function(t){return Ju(t,function(e){return e})||[]},only:function(t){if(!yv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=rl;ye.Fragment=K2;ye.Profiler=Q2;ye.PureComponent=pv;ye.StrictMode=q2;ye.Suspense=Z2;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oO;ye.act=m1;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=c1({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=gv.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)h1.call(e,l)&&!f1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:mu,type:t.type,key:s,ref:i,props:r,_owner:o}};ye.createContext=function(t){return t={$$typeof:X2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Y2,_context:t},t.Consumer=t};ye.createElement=p1;ye.createFactory=function(t){var e=p1.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:J2,render:t}};ye.isValidElement=yv;ye.lazy=function(t){return{$$typeof:tO,_payload:{_status:-1,_result:t},_init:iO}};ye.memo=function(t,e){return{$$typeof:eO,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=Ld.transition;Ld.transition={};try{t()}finally{Ld.transition=e}};ye.unstable_act=m1;ye.useCallback=function(t,e){return en.current.useCallback(t,e)};ye.useContext=function(t){return en.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return en.current.useDeferredValue(t)};ye.useEffect=function(t,e){return en.current.useEffect(t,e)};ye.useId=function(){return en.current.useId()};ye.useImperativeHandle=function(t,e,n){return en.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return en.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return en.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return en.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return en.current.useReducer(t,e,n)};ye.useRef=function(t){return en.current.useRef(t)};ye.useState=function(t){return en.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return en.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return en.current.useTransition()};ye.version="18.3.1";a1.exports=ye;var y=a1.exports;const W=i1(y),xf=H2({__proto__:null,default:W},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aO=y,lO=Symbol.for("react.element"),cO=Symbol.for("react.fragment"),uO=Object.prototype.hasOwnProperty,dO=aO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hO={key:!0,ref:!0,__self:!0,__source:!0};function g1(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)uO.call(e,r)&&!hO.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:lO,type:t,key:i,ref:o,props:s,_owner:dO.current}}Ef.Fragment=cO;Ef.jsx=g1;Ef.jsxs=g1;o1.exports=Ef;var _=o1.exports,y1={exports:{}},bn={},v1={exports:{}},w1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,U){var G=j.length;j.push(U);e:for(;0<G;){var ie=G-1>>>1,ee=j[ie];if(0<s(ee,U))j[ie]=U,j[G]=ee,G=ie;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var U=j[0],G=j.pop();if(G!==U){j[0]=G;e:for(var ie=0,ee=j.length,me=ee>>>1;ie<me;){var le=2*(ie+1)-1,ke=j[le],Oe=le+1,K=j[Oe];if(0>s(ke,G))Oe<ee&&0>s(K,ke)?(j[ie]=K,j[Oe]=G,ie=Oe):(j[ie]=ke,j[le]=G,ie=le);else if(Oe<ee&&0>s(K,G))j[ie]=K,j[Oe]=G,ie=Oe;else break e}}return U}function s(j,U){var G=j.sortIndex-U.sortIndex;return G!==0?G:j.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,p=!1,S=!1,g=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(j){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=j)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function P(j){if(g=!1,T(j),!S)if(n(l)!==null)S=!0,J(k);else{var U=n(c);U!==null&&X(P,U.startTime-j)}}function k(j,U){S=!1,g&&(g=!1,w(b),b=-1),p=!0;var G=f;try{for(T(U),h=n(l);h!==null&&(!(h.expirationTime>U)||j&&!N());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,f=h.priorityLevel;var ee=ie(h.expirationTime<=U);U=t.unstable_now(),typeof ee=="function"?h.callback=ee:h===n(l)&&r(l),T(U)}else r(l);h=n(l)}if(h!==null)var me=!0;else{var le=n(c);le!==null&&X(P,le.startTime-U),me=!1}return me}finally{h=null,f=G,p=!1}}var M=!1,C=null,b=-1,I=5,R=-1;function N(){return!(t.unstable_now()-R<I)}function O(){if(C!==null){var j=t.unstable_now();R=j;var U=!0;try{U=C(!0,j)}finally{U?D():(M=!1,C=null)}}else M=!1}var D;if(typeof v=="function")D=function(){v(O)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ue=Y.port2;Y.port1.onmessage=O,D=function(){ue.postMessage(null)}}else D=function(){E(O,0)};function J(j){C=j,M||(M=!0,D())}function X(j,U){b=E(function(){j(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){S||p||(S=!0,J(k))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var G=f;f=U;try{return j()}finally{f=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,U){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var G=f;f=j;try{return U()}finally{f=G}},t.unstable_scheduleCallback=function(j,U,G){var ie=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ie+G:ie):G=ie,j){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=G+ee,j={id:d++,callback:U,priorityLevel:j,startTime:G,expirationTime:ee,sortIndex:-1},G>ie?(j.sortIndex=G,e(c,j),n(l)===null&&j===n(c)&&(g?(w(b),b=-1):g=!0,X(P,G-ie))):(j.sortIndex=ee,e(l,j),S||p||(S=!0,J(k))),j},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(j){var U=f;return function(){var G=f;f=U;try{return j.apply(this,arguments)}finally{f=G}}}})(w1);v1.exports=w1;var fO=v1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pO=y,Tn=fO;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _1=new Set,Ic={};function Io(t,e){La(t,e),La(t+"Capture",e)}function La(t,e){for(Ic[t]=e,t=0;t<e.length;t++)_1.add(e[t])}var ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cg=Object.prototype.hasOwnProperty,mO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,K_={},q_={};function gO(t){return cg.call(q_,t)?!0:cg.call(K_,t)?!1:mO.test(t)?q_[t]=!0:(K_[t]=!0,!1)}function yO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vO(t,e,n,r){if(e===null||typeof e>"u"||yO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dt[t]=new tn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dt[e]=new tn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dt[t]=new tn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dt[t]=new tn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dt[t]=new tn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dt[t]=new tn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dt[t]=new tn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dt[t]=new tn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dt[t]=new tn(t,5,!1,t.toLowerCase(),null,!1,!1)});var vv=/[\-:]([a-z])/g;function wv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vv,wv);Dt[e]=new tn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vv,wv);Dt[e]=new tn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vv,wv);Dt[e]=new tn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dt[t]=new tn(t,1,!1,t.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dt[t]=new tn(t,1,!1,t.toLowerCase(),null,!0,!0)});function _v(t,e,n,r){var s=Dt.hasOwnProperty(e)?Dt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vO(e,n,s,r)&&(n=null),r||s===null?gO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ps=pO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zu=Symbol.for("react.element"),Qo=Symbol.for("react.portal"),Yo=Symbol.for("react.fragment"),Ev=Symbol.for("react.strict_mode"),ug=Symbol.for("react.profiler"),E1=Symbol.for("react.provider"),x1=Symbol.for("react.context"),xv=Symbol.for("react.forward_ref"),dg=Symbol.for("react.suspense"),hg=Symbol.for("react.suspense_list"),Tv=Symbol.for("react.memo"),ks=Symbol.for("react.lazy"),T1=Symbol.for("react.offscreen"),Q_=Symbol.iterator;function Vl(t){return t===null||typeof t!="object"?null:(t=Q_&&t[Q_]||t["@@iterator"],typeof t=="function"?t:null)}var Xe=Object.assign,Yp;function ql(t){if(Yp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Yp=e&&e[1]||""}return`
`+Yp+t}var Xp=!1;function Jp(t,e){if(!t||Xp)return"";Xp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Xp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ql(t):""}function wO(t){switch(t.tag){case 5:return ql(t.type);case 16:return ql("Lazy");case 13:return ql("Suspense");case 19:return ql("SuspenseList");case 0:case 2:case 15:return t=Jp(t.type,!1),t;case 11:return t=Jp(t.type.render,!1),t;case 1:return t=Jp(t.type,!0),t;default:return""}}function fg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Yo:return"Fragment";case Qo:return"Portal";case ug:return"Profiler";case Ev:return"StrictMode";case dg:return"Suspense";case hg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case x1:return(t.displayName||"Context")+".Consumer";case E1:return(t._context.displayName||"Context")+".Provider";case xv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Tv:return e=t.displayName||null,e!==null?e:fg(t.type)||"Memo";case ks:e=t._payload,t=t._init;try{return fg(t(e))}catch{}}return null}function _O(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fg(e);case 8:return e===Ev?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function di(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function S1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function EO(t){var e=S1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ed(t){t._valueTracker||(t._valueTracker=EO(t))}function b1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=S1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function hh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function pg(t,e){var n=e.checked;return Xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Y_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=di(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function C1(t,e){e=e.checked,e!=null&&_v(t,"checked",e,!1)}function mg(t,e){C1(t,e);var n=di(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gg(t,e.type,n):e.hasOwnProperty("defaultValue")&&gg(t,e.type,di(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function X_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function gg(t,e,n){(e!=="number"||hh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ql=Array.isArray;function ma(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+di(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function yg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function J_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Ql(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:di(n)}}function I1(t,e){var n=di(e.value),r=di(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Z_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function A1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?A1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var td,P1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(td=td||document.createElement("div"),td.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=td.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ac(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var lc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xO=["Webkit","ms","Moz","O"];Object.keys(lc).forEach(function(t){xO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),lc[e]=lc[t]})});function R1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||lc.hasOwnProperty(t)&&lc[t]?(""+e).trim():e+"px"}function k1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=R1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var TO=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wg(t,e){if(e){if(TO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function _g(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eg=null;function Sv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xg=null,ga=null,ya=null;function eE(t){if(t=vu(t)){if(typeof xg!="function")throw Error(z(280));var e=t.stateNode;e&&(e=If(e),xg(t.stateNode,t.type,e))}}function N1(t){ga?ya?ya.push(t):ya=[t]:ga=t}function D1(){if(ga){var t=ga,e=ya;if(ya=ga=null,eE(t),e)for(t=0;t<e.length;t++)eE(e[t])}}function O1(t,e){return t(e)}function M1(){}var Zp=!1;function V1(t,e,n){if(Zp)return t(e,n);Zp=!0;try{return O1(t,e,n)}finally{Zp=!1,(ga!==null||ya!==null)&&(M1(),D1())}}function Pc(t,e){var n=t.stateNode;if(n===null)return null;var r=If(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Tg=!1;if(ns)try{var Ll={};Object.defineProperty(Ll,"passive",{get:function(){Tg=!0}}),window.addEventListener("test",Ll,Ll),window.removeEventListener("test",Ll,Ll)}catch{Tg=!1}function SO(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var cc=!1,fh=null,ph=!1,Sg=null,bO={onError:function(t){cc=!0,fh=t}};function CO(t,e,n,r,s,i,o,a,l){cc=!1,fh=null,SO.apply(bO,arguments)}function IO(t,e,n,r,s,i,o,a,l){if(CO.apply(this,arguments),cc){if(cc){var c=fh;cc=!1,fh=null}else throw Error(z(198));ph||(ph=!0,Sg=c)}}function Ao(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function L1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function tE(t){if(Ao(t)!==t)throw Error(z(188))}function AO(t){var e=t.alternate;if(!e){if(e=Ao(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return tE(s),t;if(i===r)return tE(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function j1(t){return t=AO(t),t!==null?F1(t):null}function F1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=F1(t);if(e!==null)return e;t=t.sibling}return null}var U1=Tn.unstable_scheduleCallback,nE=Tn.unstable_cancelCallback,PO=Tn.unstable_shouldYield,RO=Tn.unstable_requestPaint,it=Tn.unstable_now,kO=Tn.unstable_getCurrentPriorityLevel,bv=Tn.unstable_ImmediatePriority,B1=Tn.unstable_UserBlockingPriority,mh=Tn.unstable_NormalPriority,NO=Tn.unstable_LowPriority,$1=Tn.unstable_IdlePriority,Tf=null,xr=null;function DO(t){if(xr&&typeof xr.onCommitFiberRoot=="function")try{xr.onCommitFiberRoot(Tf,t,void 0,(t.current.flags&128)===128)}catch{}}var tr=Math.clz32?Math.clz32:VO,OO=Math.log,MO=Math.LN2;function VO(t){return t>>>=0,t===0?32:31-(OO(t)/MO|0)|0}var nd=64,rd=4194304;function Yl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Yl(a):(i&=o,i!==0&&(r=Yl(i)))}else o=n&~s,o!==0?r=Yl(o):i!==0&&(r=Yl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tr(e),s=1<<n,r|=t[n],e&=~s;return r}function LO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-tr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=LO(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function bg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function z1(){var t=nd;return nd<<=1,!(nd&4194240)&&(nd=64),t}function em(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function gu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tr(e),t[e]=n}function FO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-tr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Cv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ne=0;function W1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var H1,Iv,G1,K1,q1,Cg=!1,sd=[],Ys=null,Xs=null,Js=null,Rc=new Map,kc=new Map,Ds=[],UO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rE(t,e){switch(t){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":Rc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kc.delete(e.pointerId)}}function jl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=vu(e),e!==null&&Iv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function BO(t,e,n,r,s){switch(e){case"focusin":return Ys=jl(Ys,t,e,n,r,s),!0;case"dragenter":return Xs=jl(Xs,t,e,n,r,s),!0;case"mouseover":return Js=jl(Js,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Rc.set(i,jl(Rc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,kc.set(i,jl(kc.get(i)||null,t,e,n,r,s)),!0}return!1}function Q1(t){var e=qi(t.target);if(e!==null){var n=Ao(e);if(n!==null){if(e=n.tag,e===13){if(e=L1(n),e!==null){t.blockedOn=e,q1(t.priority,function(){G1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ig(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Eg=r,n.target.dispatchEvent(r),Eg=null}else return e=vu(n),e!==null&&Iv(e),t.blockedOn=n,!1;e.shift()}return!0}function sE(t,e,n){jd(t)&&n.delete(e)}function $O(){Cg=!1,Ys!==null&&jd(Ys)&&(Ys=null),Xs!==null&&jd(Xs)&&(Xs=null),Js!==null&&jd(Js)&&(Js=null),Rc.forEach(sE),kc.forEach(sE)}function Fl(t,e){t.blockedOn===e&&(t.blockedOn=null,Cg||(Cg=!0,Tn.unstable_scheduleCallback(Tn.unstable_NormalPriority,$O)))}function Nc(t){function e(s){return Fl(s,t)}if(0<sd.length){Fl(sd[0],t);for(var n=1;n<sd.length;n++){var r=sd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ys!==null&&Fl(Ys,t),Xs!==null&&Fl(Xs,t),Js!==null&&Fl(Js,t),Rc.forEach(e),kc.forEach(e),n=0;n<Ds.length;n++)r=Ds[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ds.length&&(n=Ds[0],n.blockedOn===null);)Q1(n),n.blockedOn===null&&Ds.shift()}var va=ps.ReactCurrentBatchConfig,yh=!0;function zO(t,e,n,r){var s=Ne,i=va.transition;va.transition=null;try{Ne=1,Av(t,e,n,r)}finally{Ne=s,va.transition=i}}function WO(t,e,n,r){var s=Ne,i=va.transition;va.transition=null;try{Ne=4,Av(t,e,n,r)}finally{Ne=s,va.transition=i}}function Av(t,e,n,r){if(yh){var s=Ig(t,e,n,r);if(s===null)um(t,e,r,vh,n),rE(t,r);else if(BO(s,t,e,n,r))r.stopPropagation();else if(rE(t,r),e&4&&-1<UO.indexOf(t)){for(;s!==null;){var i=vu(s);if(i!==null&&H1(i),i=Ig(t,e,n,r),i===null&&um(t,e,r,vh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else um(t,e,r,null,n)}}var vh=null;function Ig(t,e,n,r){if(vh=null,t=Sv(r),t=qi(t),t!==null)if(e=Ao(t),e===null)t=null;else if(n=e.tag,n===13){if(t=L1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vh=t,null}function Y1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kO()){case bv:return 1;case B1:return 4;case mh:case NO:return 16;case $1:return 536870912;default:return 16}default:return 16}}var Hs=null,Pv=null,Fd=null;function X1(){if(Fd)return Fd;var t,e=Pv,n=e.length,r,s="value"in Hs?Hs.value:Hs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Fd=s.slice(t,1<r?1-r:void 0)}function Ud(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function id(){return!0}function iE(){return!1}function Cn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?id:iE,this.isPropagationStopped=iE,this}return Xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=id)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=id)},persist:function(){},isPersistent:id}),e}var sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rv=Cn(sl),yu=Xe({},sl,{view:0,detail:0}),HO=Cn(yu),tm,nm,Ul,Sf=Xe({},yu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ul&&(Ul&&t.type==="mousemove"?(tm=t.screenX-Ul.screenX,nm=t.screenY-Ul.screenY):nm=tm=0,Ul=t),tm)},movementY:function(t){return"movementY"in t?t.movementY:nm}}),oE=Cn(Sf),GO=Xe({},Sf,{dataTransfer:0}),KO=Cn(GO),qO=Xe({},yu,{relatedTarget:0}),rm=Cn(qO),QO=Xe({},sl,{animationName:0,elapsedTime:0,pseudoElement:0}),YO=Cn(QO),XO=Xe({},sl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),JO=Cn(XO),ZO=Xe({},sl,{data:0}),aE=Cn(ZO),eM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nM[t])?!!e[t]:!1}function kv(){return rM}var sM=Xe({},yu,{key:function(t){if(t.key){var e=eM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ud(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kv,charCode:function(t){return t.type==="keypress"?Ud(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ud(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),iM=Cn(sM),oM=Xe({},Sf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lE=Cn(oM),aM=Xe({},yu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kv}),lM=Cn(aM),cM=Xe({},sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),uM=Cn(cM),dM=Xe({},Sf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hM=Cn(dM),fM=[9,13,27,32],Nv=ns&&"CompositionEvent"in window,uc=null;ns&&"documentMode"in document&&(uc=document.documentMode);var pM=ns&&"TextEvent"in window&&!uc,J1=ns&&(!Nv||uc&&8<uc&&11>=uc),cE=" ",uE=!1;function Z1(t,e){switch(t){case"keyup":return fM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xo=!1;function mM(t,e){switch(t){case"compositionend":return eC(e);case"keypress":return e.which!==32?null:(uE=!0,cE);case"textInput":return t=e.data,t===cE&&uE?null:t;default:return null}}function gM(t,e){if(Xo)return t==="compositionend"||!Nv&&Z1(t,e)?(t=X1(),Fd=Pv=Hs=null,Xo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return J1&&e.locale!=="ko"?null:e.data;default:return null}}var yM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!yM[t.type]:e==="textarea"}function tC(t,e,n,r){N1(r),e=wh(e,"onChange"),0<e.length&&(n=new Rv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var dc=null,Dc=null;function vM(t){hC(t,0)}function bf(t){var e=ea(t);if(b1(e))return t}function wM(t,e){if(t==="change")return e}var nC=!1;if(ns){var sm;if(ns){var im="oninput"in document;if(!im){var hE=document.createElement("div");hE.setAttribute("oninput","return;"),im=typeof hE.oninput=="function"}sm=im}else sm=!1;nC=sm&&(!document.documentMode||9<document.documentMode)}function fE(){dc&&(dc.detachEvent("onpropertychange",rC),Dc=dc=null)}function rC(t){if(t.propertyName==="value"&&bf(Dc)){var e=[];tC(e,Dc,t,Sv(t)),V1(vM,e)}}function _M(t,e,n){t==="focusin"?(fE(),dc=e,Dc=n,dc.attachEvent("onpropertychange",rC)):t==="focusout"&&fE()}function EM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bf(Dc)}function xM(t,e){if(t==="click")return bf(e)}function TM(t,e){if(t==="input"||t==="change")return bf(e)}function SM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rr=typeof Object.is=="function"?Object.is:SM;function Oc(t,e){if(rr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!cg.call(e,s)||!rr(t[s],e[s]))return!1}return!0}function pE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mE(t,e){var n=pE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pE(n)}}function sC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function iC(){for(var t=window,e=hh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=hh(t.document)}return e}function Dv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function bM(t){var e=iC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&sC(n.ownerDocument.documentElement,n)){if(r!==null&&Dv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=mE(n,i);var o=mE(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var CM=ns&&"documentMode"in document&&11>=document.documentMode,Jo=null,Ag=null,hc=null,Pg=!1;function gE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pg||Jo==null||Jo!==hh(r)||(r=Jo,"selectionStart"in r&&Dv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hc&&Oc(hc,r)||(hc=r,r=wh(Ag,"onSelect"),0<r.length&&(e=new Rv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Jo)))}function od(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zo={animationend:od("Animation","AnimationEnd"),animationiteration:od("Animation","AnimationIteration"),animationstart:od("Animation","AnimationStart"),transitionend:od("Transition","TransitionEnd")},om={},oC={};ns&&(oC=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function Cf(t){if(om[t])return om[t];if(!Zo[t])return t;var e=Zo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in oC)return om[t]=e[n];return t}var aC=Cf("animationend"),lC=Cf("animationiteration"),cC=Cf("animationstart"),uC=Cf("transitionend"),dC=new Map,yE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ci(t,e){dC.set(t,e),Io(e,[t])}for(var am=0;am<yE.length;am++){var lm=yE[am],IM=lm.toLowerCase(),AM=lm[0].toUpperCase()+lm.slice(1);Ci(IM,"on"+AM)}Ci(aC,"onAnimationEnd");Ci(lC,"onAnimationIteration");Ci(cC,"onAnimationStart");Ci("dblclick","onDoubleClick");Ci("focusin","onFocus");Ci("focusout","onBlur");Ci(uC,"onTransitionEnd");La("onMouseEnter",["mouseout","mouseover"]);La("onMouseLeave",["mouseout","mouseover"]);La("onPointerEnter",["pointerout","pointerover"]);La("onPointerLeave",["pointerout","pointerover"]);Io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Io("onBeforeInput",["compositionend","keypress","textInput","paste"]);Io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xl));function vE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,IO(r,e,void 0,t),t.currentTarget=null}function hC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;vE(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;vE(s,a,c),i=l}}}if(ph)throw t=Sg,ph=!1,Sg=null,t}function Ue(t,e){var n=e[Og];n===void 0&&(n=e[Og]=new Set);var r=t+"__bubble";n.has(r)||(fC(e,t,2,!1),n.add(r))}function cm(t,e,n){var r=0;e&&(r|=4),fC(n,t,r,e)}var ad="_reactListening"+Math.random().toString(36).slice(2);function Mc(t){if(!t[ad]){t[ad]=!0,_1.forEach(function(n){n!=="selectionchange"&&(PM.has(n)||cm(n,!1,t),cm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ad]||(e[ad]=!0,cm("selectionchange",!1,e))}}function fC(t,e,n,r){switch(Y1(e)){case 1:var s=zO;break;case 4:s=WO;break;default:s=Av}n=s.bind(null,e,n,t),s=void 0,!Tg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function um(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=qi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}V1(function(){var c=i,d=Sv(n),h=[];e:{var f=dC.get(t);if(f!==void 0){var p=Rv,S=t;switch(t){case"keypress":if(Ud(n)===0)break e;case"keydown":case"keyup":p=iM;break;case"focusin":S="focus",p=rm;break;case"focusout":S="blur",p=rm;break;case"beforeblur":case"afterblur":p=rm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=oE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=KO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=lM;break;case aC:case lC:case cC:p=YO;break;case uC:p=uM;break;case"scroll":p=HO;break;case"wheel":p=hM;break;case"copy":case"cut":case"paste":p=JO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=lE}var g=(e&4)!==0,E=!g&&t==="scroll",w=g?f!==null?f+"Capture":null:f;g=[];for(var v=c,T;v!==null;){T=v;var P=T.stateNode;if(T.tag===5&&P!==null&&(T=P,w!==null&&(P=Pc(v,w),P!=null&&g.push(Vc(v,P,T)))),E)break;v=v.return}0<g.length&&(f=new p(f,S,null,n,d),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Eg&&(S=n.relatedTarget||n.fromElement)&&(qi(S)||S[rs]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(S=n.relatedTarget||n.toElement,p=c,S=S?qi(S):null,S!==null&&(E=Ao(S),S!==E||S.tag!==5&&S.tag!==6)&&(S=null)):(p=null,S=c),p!==S)){if(g=oE,P="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=lE,P="onPointerLeave",w="onPointerEnter",v="pointer"),E=p==null?f:ea(p),T=S==null?f:ea(S),f=new g(P,v+"leave",p,n,d),f.target=E,f.relatedTarget=T,P=null,qi(d)===c&&(g=new g(w,v+"enter",S,n,d),g.target=T,g.relatedTarget=E,P=g),E=P,p&&S)t:{for(g=p,w=S,v=0,T=g;T;T=Uo(T))v++;for(T=0,P=w;P;P=Uo(P))T++;for(;0<v-T;)g=Uo(g),v--;for(;0<T-v;)w=Uo(w),T--;for(;v--;){if(g===w||w!==null&&g===w.alternate)break t;g=Uo(g),w=Uo(w)}g=null}else g=null;p!==null&&wE(h,f,p,g,!1),S!==null&&E!==null&&wE(h,E,S,g,!0)}}e:{if(f=c?ea(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=wM;else if(dE(f))if(nC)k=TM;else{k=EM;var M=_M}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=xM);if(k&&(k=k(t,c))){tC(h,k,n,d);break e}M&&M(t,f,c),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&gg(f,"number",f.value)}switch(M=c?ea(c):window,t){case"focusin":(dE(M)||M.contentEditable==="true")&&(Jo=M,Ag=c,hc=null);break;case"focusout":hc=Ag=Jo=null;break;case"mousedown":Pg=!0;break;case"contextmenu":case"mouseup":case"dragend":Pg=!1,gE(h,n,d);break;case"selectionchange":if(CM)break;case"keydown":case"keyup":gE(h,n,d)}var C;if(Nv)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Xo?Z1(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(J1&&n.locale!=="ko"&&(Xo||b!=="onCompositionStart"?b==="onCompositionEnd"&&Xo&&(C=X1()):(Hs=d,Pv="value"in Hs?Hs.value:Hs.textContent,Xo=!0)),M=wh(c,b),0<M.length&&(b=new aE(b,t,null,n,d),h.push({event:b,listeners:M}),C?b.data=C:(C=eC(n),C!==null&&(b.data=C)))),(C=pM?mM(t,n):gM(t,n))&&(c=wh(c,"onBeforeInput"),0<c.length&&(d=new aE("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=C))}hC(h,e)})}function Vc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function wh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Pc(t,n),i!=null&&r.unshift(Vc(t,i,s)),i=Pc(t,e),i!=null&&r.push(Vc(t,i,s))),t=t.return}return r}function Uo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wE(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Pc(n,i),l!=null&&o.unshift(Vc(n,l,a))):s||(l=Pc(n,i),l!=null&&o.push(Vc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var RM=/\r\n?/g,kM=/\u0000|\uFFFD/g;function _E(t){return(typeof t=="string"?t:""+t).replace(RM,`
`).replace(kM,"")}function ld(t,e,n){if(e=_E(e),_E(t)!==e&&n)throw Error(z(425))}function _h(){}var Rg=null,kg=null;function Ng(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Dg=typeof setTimeout=="function"?setTimeout:void 0,NM=typeof clearTimeout=="function"?clearTimeout:void 0,EE=typeof Promise=="function"?Promise:void 0,DM=typeof queueMicrotask=="function"?queueMicrotask:typeof EE<"u"?function(t){return EE.resolve(null).then(t).catch(OM)}:Dg;function OM(t){setTimeout(function(){throw t})}function dm(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Nc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Nc(e)}function Zs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var il=Math.random().toString(36).slice(2),wr="__reactFiber$"+il,Lc="__reactProps$"+il,rs="__reactContainer$"+il,Og="__reactEvents$"+il,MM="__reactListeners$"+il,VM="__reactHandles$"+il;function qi(t){var e=t[wr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[rs]||n[wr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=xE(t);t!==null;){if(n=t[wr])return n;t=xE(t)}return e}t=n,n=t.parentNode}return null}function vu(t){return t=t[wr]||t[rs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ea(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function If(t){return t[Lc]||null}var Mg=[],ta=-1;function Ii(t){return{current:t}}function ze(t){0>ta||(t.current=Mg[ta],Mg[ta]=null,ta--)}function Ve(t,e){ta++,Mg[ta]=t.current,t.current=e}var hi={},Wt=Ii(hi),un=Ii(!1),fo=hi;function ja(t,e){var n=t.type.contextTypes;if(!n)return hi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function dn(t){return t=t.childContextTypes,t!=null}function Eh(){ze(un),ze(Wt)}function TE(t,e,n){if(Wt.current!==hi)throw Error(z(168));Ve(Wt,e),Ve(un,n)}function pC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,_O(t)||"Unknown",s));return Xe({},n,r)}function xh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hi,fo=Wt.current,Ve(Wt,t),Ve(un,un.current),!0}function SE(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=pC(t,e,fo),r.__reactInternalMemoizedMergedChildContext=t,ze(un),ze(Wt),Ve(Wt,t)):ze(un),Ve(un,n)}var Kr=null,Af=!1,hm=!1;function mC(t){Kr===null?Kr=[t]:Kr.push(t)}function LM(t){Af=!0,mC(t)}function Ai(){if(!hm&&Kr!==null){hm=!0;var t=0,e=Ne;try{var n=Kr;for(Ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Kr=null,Af=!1}catch(s){throw Kr!==null&&(Kr=Kr.slice(t+1)),U1(bv,Ai),s}finally{Ne=e,hm=!1}}return null}var na=[],ra=0,Th=null,Sh=0,Nn=[],Dn=0,po=null,Qr=1,Yr="";function $i(t,e){na[ra++]=Sh,na[ra++]=Th,Th=t,Sh=e}function gC(t,e,n){Nn[Dn++]=Qr,Nn[Dn++]=Yr,Nn[Dn++]=po,po=t;var r=Qr;t=Yr;var s=32-tr(r)-1;r&=~(1<<s),n+=1;var i=32-tr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Qr=1<<32-tr(e)+s|n<<s|r,Yr=i+t}else Qr=1<<i|n<<s|r,Yr=t}function Ov(t){t.return!==null&&($i(t,1),gC(t,1,0))}function Mv(t){for(;t===Th;)Th=na[--ra],na[ra]=null,Sh=na[--ra],na[ra]=null;for(;t===po;)po=Nn[--Dn],Nn[Dn]=null,Yr=Nn[--Dn],Nn[Dn]=null,Qr=Nn[--Dn],Nn[Dn]=null}var wn=null,yn=null,He=!1,Jn=null;function yC(t,e){var n=Vn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function bE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wn=t,yn=Zs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wn=t,yn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=po!==null?{id:Qr,overflow:Yr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Vn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wn=t,yn=null,!0):!1;default:return!1}}function Vg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Lg(t){if(He){var e=yn;if(e){var n=e;if(!bE(t,e)){if(Vg(t))throw Error(z(418));e=Zs(n.nextSibling);var r=wn;e&&bE(t,e)?yC(r,n):(t.flags=t.flags&-4097|2,He=!1,wn=t)}}else{if(Vg(t))throw Error(z(418));t.flags=t.flags&-4097|2,He=!1,wn=t}}}function CE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wn=t}function cd(t){if(t!==wn)return!1;if(!He)return CE(t),He=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ng(t.type,t.memoizedProps)),e&&(e=yn)){if(Vg(t))throw vC(),Error(z(418));for(;e;)yC(t,e),e=Zs(e.nextSibling)}if(CE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){yn=Zs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}yn=null}}else yn=wn?Zs(t.stateNode.nextSibling):null;return!0}function vC(){for(var t=yn;t;)t=Zs(t.nextSibling)}function Fa(){yn=wn=null,He=!1}function Vv(t){Jn===null?Jn=[t]:Jn.push(t)}var jM=ps.ReactCurrentBatchConfig;function Bl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function ud(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function IE(t){var e=t._init;return e(t._payload)}function wC(t){function e(w,v){if(t){var T=w.deletions;T===null?(w.deletions=[v],w.flags|=16):T.push(v)}}function n(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function s(w,v){return w=ri(w,v),w.index=0,w.sibling=null,w}function i(w,v,T){return w.index=T,t?(T=w.alternate,T!==null?(T=T.index,T<v?(w.flags|=2,v):T):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,v,T,P){return v===null||v.tag!==6?(v=wm(T,w.mode,P),v.return=w,v):(v=s(v,T),v.return=w,v)}function l(w,v,T,P){var k=T.type;return k===Yo?d(w,v,T.props.children,P,T.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ks&&IE(k)===v.type)?(P=s(v,T.props),P.ref=Bl(w,v,T),P.return=w,P):(P=Kd(T.type,T.key,T.props,null,w.mode,P),P.ref=Bl(w,v,T),P.return=w,P)}function c(w,v,T,P){return v===null||v.tag!==4||v.stateNode.containerInfo!==T.containerInfo||v.stateNode.implementation!==T.implementation?(v=_m(T,w.mode,P),v.return=w,v):(v=s(v,T.children||[]),v.return=w,v)}function d(w,v,T,P,k){return v===null||v.tag!==7?(v=ao(T,w.mode,P,k),v.return=w,v):(v=s(v,T),v.return=w,v)}function h(w,v,T){if(typeof v=="string"&&v!==""||typeof v=="number")return v=wm(""+v,w.mode,T),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Zu:return T=Kd(v.type,v.key,v.props,null,w.mode,T),T.ref=Bl(w,null,v),T.return=w,T;case Qo:return v=_m(v,w.mode,T),v.return=w,v;case ks:var P=v._init;return h(w,P(v._payload),T)}if(Ql(v)||Vl(v))return v=ao(v,w.mode,T,null),v.return=w,v;ud(w,v)}return null}function f(w,v,T,P){var k=v!==null?v.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return k!==null?null:a(w,v,""+T,P);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Zu:return T.key===k?l(w,v,T,P):null;case Qo:return T.key===k?c(w,v,T,P):null;case ks:return k=T._init,f(w,v,k(T._payload),P)}if(Ql(T)||Vl(T))return k!==null?null:d(w,v,T,P,null);ud(w,T)}return null}function p(w,v,T,P,k){if(typeof P=="string"&&P!==""||typeof P=="number")return w=w.get(T)||null,a(v,w,""+P,k);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Zu:return w=w.get(P.key===null?T:P.key)||null,l(v,w,P,k);case Qo:return w=w.get(P.key===null?T:P.key)||null,c(v,w,P,k);case ks:var M=P._init;return p(w,v,T,M(P._payload),k)}if(Ql(P)||Vl(P))return w=w.get(T)||null,d(v,w,P,k,null);ud(v,P)}return null}function S(w,v,T,P){for(var k=null,M=null,C=v,b=v=0,I=null;C!==null&&b<T.length;b++){C.index>b?(I=C,C=null):I=C.sibling;var R=f(w,C,T[b],P);if(R===null){C===null&&(C=I);break}t&&C&&R.alternate===null&&e(w,C),v=i(R,v,b),M===null?k=R:M.sibling=R,M=R,C=I}if(b===T.length)return n(w,C),He&&$i(w,b),k;if(C===null){for(;b<T.length;b++)C=h(w,T[b],P),C!==null&&(v=i(C,v,b),M===null?k=C:M.sibling=C,M=C);return He&&$i(w,b),k}for(C=r(w,C);b<T.length;b++)I=p(C,w,b,T[b],P),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?b:I.key),v=i(I,v,b),M===null?k=I:M.sibling=I,M=I);return t&&C.forEach(function(N){return e(w,N)}),He&&$i(w,b),k}function g(w,v,T,P){var k=Vl(T);if(typeof k!="function")throw Error(z(150));if(T=k.call(T),T==null)throw Error(z(151));for(var M=k=null,C=v,b=v=0,I=null,R=T.next();C!==null&&!R.done;b++,R=T.next()){C.index>b?(I=C,C=null):I=C.sibling;var N=f(w,C,R.value,P);if(N===null){C===null&&(C=I);break}t&&C&&N.alternate===null&&e(w,C),v=i(N,v,b),M===null?k=N:M.sibling=N,M=N,C=I}if(R.done)return n(w,C),He&&$i(w,b),k;if(C===null){for(;!R.done;b++,R=T.next())R=h(w,R.value,P),R!==null&&(v=i(R,v,b),M===null?k=R:M.sibling=R,M=R);return He&&$i(w,b),k}for(C=r(w,C);!R.done;b++,R=T.next())R=p(C,w,b,R.value,P),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?b:R.key),v=i(R,v,b),M===null?k=R:M.sibling=R,M=R);return t&&C.forEach(function(O){return e(w,O)}),He&&$i(w,b),k}function E(w,v,T,P){if(typeof T=="object"&&T!==null&&T.type===Yo&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Zu:e:{for(var k=T.key,M=v;M!==null;){if(M.key===k){if(k=T.type,k===Yo){if(M.tag===7){n(w,M.sibling),v=s(M,T.props.children),v.return=w,w=v;break e}}else if(M.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ks&&IE(k)===M.type){n(w,M.sibling),v=s(M,T.props),v.ref=Bl(w,M,T),v.return=w,w=v;break e}n(w,M);break}else e(w,M);M=M.sibling}T.type===Yo?(v=ao(T.props.children,w.mode,P,T.key),v.return=w,w=v):(P=Kd(T.type,T.key,T.props,null,w.mode,P),P.ref=Bl(w,v,T),P.return=w,w=P)}return o(w);case Qo:e:{for(M=T.key;v!==null;){if(v.key===M)if(v.tag===4&&v.stateNode.containerInfo===T.containerInfo&&v.stateNode.implementation===T.implementation){n(w,v.sibling),v=s(v,T.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else e(w,v);v=v.sibling}v=_m(T,w.mode,P),v.return=w,w=v}return o(w);case ks:return M=T._init,E(w,v,M(T._payload),P)}if(Ql(T))return S(w,v,T,P);if(Vl(T))return g(w,v,T,P);ud(w,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,v!==null&&v.tag===6?(n(w,v.sibling),v=s(v,T),v.return=w,w=v):(n(w,v),v=wm(T,w.mode,P),v.return=w,w=v),o(w)):n(w,v)}return E}var Ua=wC(!0),_C=wC(!1),bh=Ii(null),Ch=null,sa=null,Lv=null;function jv(){Lv=sa=Ch=null}function Fv(t){var e=bh.current;ze(bh),t._currentValue=e}function jg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function wa(t,e){Ch=t,Lv=sa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(cn=!0),t.firstContext=null)}function jn(t){var e=t._currentValue;if(Lv!==t)if(t={context:t,memoizedValue:e,next:null},sa===null){if(Ch===null)throw Error(z(308));sa=t,Ch.dependencies={lanes:0,firstContext:t}}else sa=sa.next=t;return e}var Qi=null;function Uv(t){Qi===null?Qi=[t]:Qi.push(t)}function EC(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Uv(e)):(n.next=s.next,s.next=n),e.interleaved=n,ss(t,r)}function ss(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ns=!1;function Bv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ei(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ss(t,n)}return s=r.interleaved,s===null?(e.next=e,Uv(r)):(e.next=s.next,s.next=e),r.interleaved=e,ss(t,n)}function Bd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cv(t,n)}}function AE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ih(t,e,n,r){var s=t.updateQueue;Ns=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,g=a;switch(f=e,p=n,g.tag){case 1:if(S=g.payload,typeof S=="function"){h=S.call(p,h,f);break e}h=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=g.payload,f=typeof S=="function"?S.call(p,h,f):S,f==null)break e;h=Xe({},h,f);break e;case 2:Ns=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);go|=o,t.lanes=o,t.memoizedState=h}}function PE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var wu={},Tr=Ii(wu),jc=Ii(wu),Fc=Ii(wu);function Yi(t){if(t===wu)throw Error(z(174));return t}function $v(t,e){switch(Ve(Fc,e),Ve(jc,t),Ve(Tr,wu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vg(e,t)}ze(Tr),Ve(Tr,e)}function Ba(){ze(Tr),ze(jc),ze(Fc)}function TC(t){Yi(Fc.current);var e=Yi(Tr.current),n=vg(e,t.type);e!==n&&(Ve(jc,t),Ve(Tr,n))}function zv(t){jc.current===t&&(ze(Tr),ze(jc))}var qe=Ii(0);function Ah(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fm=[];function Wv(){for(var t=0;t<fm.length;t++)fm[t]._workInProgressVersionPrimary=null;fm.length=0}var $d=ps.ReactCurrentDispatcher,pm=ps.ReactCurrentBatchConfig,mo=0,Ye=null,pt=null,bt=null,Ph=!1,fc=!1,Uc=0,FM=0;function Vt(){throw Error(z(321))}function Hv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!rr(t[n],e[n]))return!1;return!0}function Gv(t,e,n,r,s,i){if(mo=i,Ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$d.current=t===null||t.memoizedState===null?zM:WM,t=n(r,s),fc){i=0;do{if(fc=!1,Uc=0,25<=i)throw Error(z(301));i+=1,bt=pt=null,e.updateQueue=null,$d.current=HM,t=n(r,s)}while(fc)}if($d.current=Rh,e=pt!==null&&pt.next!==null,mo=0,bt=pt=Ye=null,Ph=!1,e)throw Error(z(300));return t}function Kv(){var t=Uc!==0;return Uc=0,t}function pr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Ye.memoizedState=bt=t:bt=bt.next=t,bt}function Fn(){if(pt===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var e=bt===null?Ye.memoizedState:bt.next;if(e!==null)bt=e,pt=t;else{if(t===null)throw Error(z(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},bt===null?Ye.memoizedState=bt=t:bt=bt.next=t}return bt}function Bc(t,e){return typeof e=="function"?e(t):e}function mm(t){var e=Fn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=pt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((mo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ye.lanes|=d,go|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,rr(r,e.memoizedState)||(cn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ye.lanes|=i,go|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function gm(t){var e=Fn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);rr(i,e.memoizedState)||(cn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function SC(){}function bC(t,e){var n=Ye,r=Fn(),s=e(),i=!rr(r.memoizedState,s);if(i&&(r.memoizedState=s,cn=!0),r=r.queue,qv(AC.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||bt!==null&&bt.memoizedState.tag&1){if(n.flags|=2048,$c(9,IC.bind(null,n,r,s,e),void 0,null),Ct===null)throw Error(z(349));mo&30||CC(n,e,s)}return s}function CC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function IC(t,e,n,r){e.value=n,e.getSnapshot=r,PC(e)&&RC(t)}function AC(t,e,n){return n(function(){PC(e)&&RC(t)})}function PC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!rr(t,n)}catch{return!0}}function RC(t){var e=ss(t,1);e!==null&&nr(e,t,1,-1)}function RE(t){var e=pr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bc,lastRenderedState:t},e.queue=t,t=t.dispatch=$M.bind(null,Ye,t),[e.memoizedState,t]}function $c(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function kC(){return Fn().memoizedState}function zd(t,e,n,r){var s=pr();Ye.flags|=t,s.memoizedState=$c(1|e,n,void 0,r===void 0?null:r)}function Pf(t,e,n,r){var s=Fn();r=r===void 0?null:r;var i=void 0;if(pt!==null){var o=pt.memoizedState;if(i=o.destroy,r!==null&&Hv(r,o.deps)){s.memoizedState=$c(e,n,i,r);return}}Ye.flags|=t,s.memoizedState=$c(1|e,n,i,r)}function kE(t,e){return zd(8390656,8,t,e)}function qv(t,e){return Pf(2048,8,t,e)}function NC(t,e){return Pf(4,2,t,e)}function DC(t,e){return Pf(4,4,t,e)}function OC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function MC(t,e,n){return n=n!=null?n.concat([t]):null,Pf(4,4,OC.bind(null,e,t),n)}function Qv(){}function VC(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function LC(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function jC(t,e,n){return mo&21?(rr(n,e)||(n=z1(),Ye.lanes|=n,go|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,cn=!0),t.memoizedState=n)}function UM(t,e){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var r=pm.transition;pm.transition={};try{t(!1),e()}finally{Ne=n,pm.transition=r}}function FC(){return Fn().memoizedState}function BM(t,e,n){var r=ni(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},UC(t))BC(e,n);else if(n=EC(t,e,n,r),n!==null){var s=Zt();nr(n,t,r,s),$C(n,e,r)}}function $M(t,e,n){var r=ni(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(UC(t))BC(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,rr(a,o)){var l=e.interleaved;l===null?(s.next=s,Uv(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=EC(t,e,s,r),n!==null&&(s=Zt(),nr(n,t,r,s),$C(n,e,r))}}function UC(t){var e=t.alternate;return t===Ye||e!==null&&e===Ye}function BC(t,e){fc=Ph=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $C(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cv(t,n)}}var Rh={readContext:jn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},zM={readContext:jn,useCallback:function(t,e){return pr().memoizedState=[t,e===void 0?null:e],t},useContext:jn,useEffect:kE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,zd(4194308,4,OC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zd(4194308,4,t,e)},useInsertionEffect:function(t,e){return zd(4,2,t,e)},useMemo:function(t,e){var n=pr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=pr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=BM.bind(null,Ye,t),[r.memoizedState,t]},useRef:function(t){var e=pr();return t={current:t},e.memoizedState=t},useState:RE,useDebugValue:Qv,useDeferredValue:function(t){return pr().memoizedState=t},useTransition:function(){var t=RE(!1),e=t[0];return t=UM.bind(null,t[1]),pr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ye,s=pr();if(He){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),Ct===null)throw Error(z(349));mo&30||CC(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,kE(AC.bind(null,r,i,t),[t]),r.flags|=2048,$c(9,IC.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=pr(),e=Ct.identifierPrefix;if(He){var n=Yr,r=Qr;n=(r&~(1<<32-tr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Uc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=FM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},WM={readContext:jn,useCallback:VC,useContext:jn,useEffect:qv,useImperativeHandle:MC,useInsertionEffect:NC,useLayoutEffect:DC,useMemo:LC,useReducer:mm,useRef:kC,useState:function(){return mm(Bc)},useDebugValue:Qv,useDeferredValue:function(t){var e=Fn();return jC(e,pt.memoizedState,t)},useTransition:function(){var t=mm(Bc)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:SC,useSyncExternalStore:bC,useId:FC,unstable_isNewReconciler:!1},HM={readContext:jn,useCallback:VC,useContext:jn,useEffect:qv,useImperativeHandle:MC,useInsertionEffect:NC,useLayoutEffect:DC,useMemo:LC,useReducer:gm,useRef:kC,useState:function(){return gm(Bc)},useDebugValue:Qv,useDeferredValue:function(t){var e=Fn();return pt===null?e.memoizedState=t:jC(e,pt.memoizedState,t)},useTransition:function(){var t=gm(Bc)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:SC,useSyncExternalStore:bC,useId:FC,unstable_isNewReconciler:!1};function Kn(t,e){if(t&&t.defaultProps){e=Xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Fg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rf={isMounted:function(t){return(t=t._reactInternals)?Ao(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zt(),s=ni(t),i=Zr(r,s);i.payload=e,n!=null&&(i.callback=n),e=ei(t,i,s),e!==null&&(nr(e,t,s,r),Bd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zt(),s=ni(t),i=Zr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ei(t,i,s),e!==null&&(nr(e,t,s,r),Bd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zt(),r=ni(t),s=Zr(n,r);s.tag=2,e!=null&&(s.callback=e),e=ei(t,s,r),e!==null&&(nr(e,t,r,n),Bd(e,t,r))}};function NE(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Oc(n,r)||!Oc(s,i):!0}function zC(t,e,n){var r=!1,s=hi,i=e.contextType;return typeof i=="object"&&i!==null?i=jn(i):(s=dn(e)?fo:Wt.current,r=e.contextTypes,i=(r=r!=null)?ja(t,s):hi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Rf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function DE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Rf.enqueueReplaceState(e,e.state,null)}function Ug(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Bv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=jn(i):(i=dn(e)?fo:Wt.current,s.context=ja(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Fg(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Rf.enqueueReplaceState(s,s.state,null),Ih(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function $a(t,e){try{var n="",r=e;do n+=wO(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ym(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Bg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var GM=typeof WeakMap=="function"?WeakMap:Map;function WC(t,e,n){n=Zr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Nh||(Nh=!0,Xg=r),Bg(t,e)},n}function HC(t,e,n){n=Zr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Bg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Bg(t,e),typeof r!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function OE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new GM;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=oV.bind(null,t,e,n),e.then(t,t))}function ME(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function VE(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zr(-1,1),e.tag=2,ei(n,e,1))),n.lanes|=1),t)}var KM=ps.ReactCurrentOwner,cn=!1;function Xt(t,e,n,r){e.child=t===null?_C(e,null,n,r):Ua(e,t.child,n,r)}function LE(t,e,n,r,s){n=n.render;var i=e.ref;return wa(e,s),r=Gv(t,e,n,r,i,s),n=Kv(),t!==null&&!cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,is(t,e,s)):(He&&n&&Ov(e),e.flags|=1,Xt(t,e,r,s),e.child)}function jE(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!r0(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,GC(t,e,i,r,s)):(t=Kd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Oc,n(o,r)&&t.ref===e.ref)return is(t,e,s)}return e.flags|=1,t=ri(i,r),t.ref=e.ref,t.return=e,e.child=t}function GC(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Oc(i,r)&&t.ref===e.ref)if(cn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(cn=!0);else return e.lanes=t.lanes,is(t,e,s)}return $g(t,e,n,r,s)}function KC(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(oa,mn),mn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ve(oa,mn),mn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ve(oa,mn),mn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ve(oa,mn),mn|=r;return Xt(t,e,s,n),e.child}function qC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function $g(t,e,n,r,s){var i=dn(n)?fo:Wt.current;return i=ja(e,i),wa(e,s),n=Gv(t,e,n,r,i,s),r=Kv(),t!==null&&!cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,is(t,e,s)):(He&&r&&Ov(e),e.flags|=1,Xt(t,e,n,s),e.child)}function FE(t,e,n,r,s){if(dn(n)){var i=!0;xh(e)}else i=!1;if(wa(e,s),e.stateNode===null)Wd(t,e),zC(e,n,r),Ug(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=jn(c):(c=dn(n)?fo:Wt.current,c=ja(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&DE(e,o,r,c),Ns=!1;var f=e.memoizedState;o.state=f,Ih(e,r,o,s),l=e.memoizedState,a!==r||f!==l||un.current||Ns?(typeof d=="function"&&(Fg(e,n,d,r),l=e.memoizedState),(a=Ns||NE(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,xC(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Kn(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=jn(l):(l=dn(n)?fo:Wt.current,l=ja(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&DE(e,o,r,l),Ns=!1,f=e.memoizedState,o.state=f,Ih(e,r,o,s);var S=e.memoizedState;a!==h||f!==S||un.current||Ns?(typeof p=="function"&&(Fg(e,n,p,r),S=e.memoizedState),(c=Ns||NE(e,n,c,r,f,S,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return zg(t,e,n,r,i,s)}function zg(t,e,n,r,s,i){qC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&SE(e,n,!1),is(t,e,i);r=e.stateNode,KM.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ua(e,t.child,null,i),e.child=Ua(e,null,a,i)):Xt(t,e,a,i),e.memoizedState=r.state,s&&SE(e,n,!0),e.child}function QC(t){var e=t.stateNode;e.pendingContext?TE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&TE(t,e.context,!1),$v(t,e.containerInfo)}function UE(t,e,n,r,s){return Fa(),Vv(s),e.flags|=256,Xt(t,e,n,r),e.child}var Wg={dehydrated:null,treeContext:null,retryLane:0};function Hg(t){return{baseLanes:t,cachePool:null,transitions:null}}function YC(t,e,n){var r=e.pendingProps,s=qe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ve(qe,s&1),t===null)return Lg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Df(o,r,0,null),t=ao(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Hg(n),e.memoizedState=Wg,t):Yv(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return qM(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ri(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ri(a,i):(i=ao(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Hg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Wg,r}return i=t.child,t=i.sibling,r=ri(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Yv(t,e){return e=Df({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function dd(t,e,n,r){return r!==null&&Vv(r),Ua(e,t.child,null,n),t=Yv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qM(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=ym(Error(z(422))),dd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Df({mode:"visible",children:r.children},s,0,null),i=ao(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ua(e,t.child,null,o),e.child.memoizedState=Hg(o),e.memoizedState=Wg,i);if(!(e.mode&1))return dd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(z(419)),r=ym(i,r,void 0),dd(t,e,o,r)}if(a=(o&t.childLanes)!==0,cn||a){if(r=Ct,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ss(t,s),nr(r,t,s,-1))}return n0(),r=ym(Error(z(421))),dd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=aV.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,yn=Zs(s.nextSibling),wn=e,He=!0,Jn=null,t!==null&&(Nn[Dn++]=Qr,Nn[Dn++]=Yr,Nn[Dn++]=po,Qr=t.id,Yr=t.overflow,po=e),e=Yv(e,r.children),e.flags|=4096,e)}function BE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),jg(t.return,e,n)}function vm(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function XC(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Xt(t,e,r.children,n),r=qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&BE(t,n,e);else if(t.tag===19)BE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ve(qe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ah(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),vm(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ah(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}vm(e,!0,n,null,i);break;case"together":vm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function is(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),go|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=ri(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ri(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function QM(t,e,n){switch(e.tag){case 3:QC(e),Fa();break;case 5:TC(e);break;case 1:dn(e.type)&&xh(e);break;case 4:$v(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ve(bh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ve(qe,qe.current&1),e.flags|=128,null):n&e.child.childLanes?YC(t,e,n):(Ve(qe,qe.current&1),t=is(t,e,n),t!==null?t.sibling:null);Ve(qe,qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return XC(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ve(qe,qe.current),r)break;return null;case 22:case 23:return e.lanes=0,KC(t,e,n)}return is(t,e,n)}var JC,Gg,ZC,eI;JC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gg=function(){};ZC=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Yi(Tr.current);var i=null;switch(n){case"input":s=pg(t,s),r=pg(t,r),i=[];break;case"select":s=Xe({},s,{value:void 0}),r=Xe({},r,{value:void 0}),i=[];break;case"textarea":s=yg(t,s),r=yg(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=_h)}wg(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ic.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ic.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ue("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};eI=function(t,e,n,r){n!==r&&(e.flags|=4)};function $l(t,e){if(!He)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function YM(t,e,n){var r=e.pendingProps;switch(Mv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(e),null;case 1:return dn(e.type)&&Eh(),Lt(e),null;case 3:return r=e.stateNode,Ba(),ze(un),ze(Wt),Wv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jn!==null&&(ey(Jn),Jn=null))),Gg(t,e),Lt(e),null;case 5:zv(e);var s=Yi(Fc.current);if(n=e.type,t!==null&&e.stateNode!=null)ZC(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Lt(e),null}if(t=Yi(Tr.current),cd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[wr]=e,r[Lc]=i,t=(e.mode&1)!==0,n){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(s=0;s<Xl.length;s++)Ue(Xl[s],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":Y_(r,i),Ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ue("invalid",r);break;case"textarea":J_(r,i),Ue("invalid",r)}wg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ld(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ld(r.textContent,a,t),s=["children",""+a]):Ic.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ue("scroll",r)}switch(n){case"input":ed(r),X_(r,i,!0);break;case"textarea":ed(r),Z_(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=_h)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=A1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[wr]=e,t[Lc]=r,JC(t,e,!1,!1),e.stateNode=t;e:{switch(o=_g(n,r),n){case"dialog":Ue("cancel",t),Ue("close",t),s=r;break;case"iframe":case"object":case"embed":Ue("load",t),s=r;break;case"video":case"audio":for(s=0;s<Xl.length;s++)Ue(Xl[s],t);s=r;break;case"source":Ue("error",t),s=r;break;case"img":case"image":case"link":Ue("error",t),Ue("load",t),s=r;break;case"details":Ue("toggle",t),s=r;break;case"input":Y_(t,r),s=pg(t,r),Ue("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Xe({},r,{value:void 0}),Ue("invalid",t);break;case"textarea":J_(t,r),s=yg(t,r),Ue("invalid",t);break;default:s=r}wg(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?k1(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&P1(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ac(t,l):typeof l=="number"&&Ac(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ic.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ue("scroll",t):l!=null&&_v(t,i,l,o))}switch(n){case"input":ed(t),X_(t,r,!1);break;case"textarea":ed(t),Z_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+di(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ma(t,!!r.multiple,i,!1):r.defaultValue!=null&&ma(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=_h)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Lt(e),null;case 6:if(t&&e.stateNode!=null)eI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Yi(Fc.current),Yi(Tr.current),cd(e)){if(r=e.stateNode,n=e.memoizedProps,r[wr]=e,(i=r.nodeValue!==n)&&(t=wn,t!==null))switch(t.tag){case 3:ld(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ld(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wr]=e,e.stateNode=r}return Lt(e),null;case 13:if(ze(qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&yn!==null&&e.mode&1&&!(e.flags&128))vC(),Fa(),e.flags|=98560,i=!1;else if(i=cd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[wr]=e}else Fa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Lt(e),i=!1}else Jn!==null&&(ey(Jn),Jn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||qe.current&1?gt===0&&(gt=3):n0())),e.updateQueue!==null&&(e.flags|=4),Lt(e),null);case 4:return Ba(),Gg(t,e),t===null&&Mc(e.stateNode.containerInfo),Lt(e),null;case 10:return Fv(e.type._context),Lt(e),null;case 17:return dn(e.type)&&Eh(),Lt(e),null;case 19:if(ze(qe),i=e.memoizedState,i===null)return Lt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)$l(i,!1);else{if(gt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ah(t),o!==null){for(e.flags|=128,$l(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ve(qe,qe.current&1|2),e.child}t=t.sibling}i.tail!==null&&it()>za&&(e.flags|=128,r=!0,$l(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ah(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),$l(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!He)return Lt(e),null}else 2*it()-i.renderingStartTime>za&&n!==1073741824&&(e.flags|=128,r=!0,$l(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=it(),e.sibling=null,n=qe.current,Ve(qe,r?n&1|2:n&1),e):(Lt(e),null);case 22:case 23:return t0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?mn&1073741824&&(Lt(e),e.subtreeFlags&6&&(e.flags|=8192)):Lt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function XM(t,e){switch(Mv(e),e.tag){case 1:return dn(e.type)&&Eh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ba(),ze(un),ze(Wt),Wv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return zv(e),null;case 13:if(ze(qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Fa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ze(qe),null;case 4:return Ba(),null;case 10:return Fv(e.type._context),null;case 22:case 23:return t0(),null;case 24:return null;default:return null}}var hd=!1,Bt=!1,JM=typeof WeakSet=="function"?WeakSet:Set,Q=null;function ia(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nt(t,e,r)}else n.current=null}function Kg(t,e,n){try{n()}catch(r){nt(t,e,r)}}var $E=!1;function ZM(t,e){if(Rg=yh,t=iC(),Dv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++d===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(kg={focusedElem:t,selectionRange:n},yh=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var g=S.memoizedProps,E=S.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?g:Kn(e.type,g),E);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(P){nt(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return S=$E,$E=!1,S}function pc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Kg(e,n,i)}s=s.next}while(s!==r)}}function kf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function qg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function tI(t){var e=t.alternate;e!==null&&(t.alternate=null,tI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wr],delete e[Lc],delete e[Og],delete e[MM],delete e[VM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nI(t){return t.tag===5||t.tag===3||t.tag===4}function zE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_h));else if(r!==4&&(t=t.child,t!==null))for(Qg(t,e,n),t=t.sibling;t!==null;)Qg(t,e,n),t=t.sibling}function Yg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Yg(t,e,n),t=t.sibling;t!==null;)Yg(t,e,n),t=t.sibling}var At=null,Xn=!1;function Ts(t,e,n){for(n=n.child;n!==null;)rI(t,e,n),n=n.sibling}function rI(t,e,n){if(xr&&typeof xr.onCommitFiberUnmount=="function")try{xr.onCommitFiberUnmount(Tf,n)}catch{}switch(n.tag){case 5:Bt||ia(n,e);case 6:var r=At,s=Xn;At=null,Ts(t,e,n),At=r,Xn=s,At!==null&&(Xn?(t=At,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):At.removeChild(n.stateNode));break;case 18:At!==null&&(Xn?(t=At,n=n.stateNode,t.nodeType===8?dm(t.parentNode,n):t.nodeType===1&&dm(t,n),Nc(t)):dm(At,n.stateNode));break;case 4:r=At,s=Xn,At=n.stateNode.containerInfo,Xn=!0,Ts(t,e,n),At=r,Xn=s;break;case 0:case 11:case 14:case 15:if(!Bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Kg(n,e,o),s=s.next}while(s!==r)}Ts(t,e,n);break;case 1:if(!Bt&&(ia(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){nt(n,e,a)}Ts(t,e,n);break;case 21:Ts(t,e,n);break;case 22:n.mode&1?(Bt=(r=Bt)||n.memoizedState!==null,Ts(t,e,n),Bt=r):Ts(t,e,n);break;default:Ts(t,e,n)}}function WE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new JM),e.forEach(function(r){var s=lV.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function zn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:At=a.stateNode,Xn=!1;break e;case 3:At=a.stateNode.containerInfo,Xn=!0;break e;case 4:At=a.stateNode.containerInfo,Xn=!0;break e}a=a.return}if(At===null)throw Error(z(160));rI(i,o,s),At=null,Xn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){nt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sI(e,t),e=e.sibling}function sI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zn(e,t),fr(t),r&4){try{pc(3,t,t.return),kf(3,t)}catch(g){nt(t,t.return,g)}try{pc(5,t,t.return)}catch(g){nt(t,t.return,g)}}break;case 1:zn(e,t),fr(t),r&512&&n!==null&&ia(n,n.return);break;case 5:if(zn(e,t),fr(t),r&512&&n!==null&&ia(n,n.return),t.flags&32){var s=t.stateNode;try{Ac(s,"")}catch(g){nt(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&C1(s,i),_g(a,o);var c=_g(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?k1(s,h):d==="dangerouslySetInnerHTML"?P1(s,h):d==="children"?Ac(s,h):_v(s,d,h,c)}switch(a){case"input":mg(s,i);break;case"textarea":I1(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ma(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?ma(s,!!i.multiple,i.defaultValue,!0):ma(s,!!i.multiple,i.multiple?[]:"",!1))}s[Lc]=i}catch(g){nt(t,t.return,g)}}break;case 6:if(zn(e,t),fr(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){nt(t,t.return,g)}}break;case 3:if(zn(e,t),fr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Nc(e.containerInfo)}catch(g){nt(t,t.return,g)}break;case 4:zn(e,t),fr(t);break;case 13:zn(e,t),fr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Zv=it())),r&4&&WE(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Bt=(c=Bt)||d,zn(e,t),Bt=c):zn(e,t),fr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Q=t,d=t.child;d!==null;){for(h=Q=d;Q!==null;){switch(f=Q,p=f.child,f.tag){case 0:case 11:case 14:case 15:pc(4,f,f.return);break;case 1:ia(f,f.return);var S=f.stateNode;if(typeof S.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(g){nt(r,n,g)}}break;case 5:ia(f,f.return);break;case 22:if(f.memoizedState!==null){GE(h);continue}}p!==null?(p.return=f,Q=p):GE(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=R1("display",o))}catch(g){nt(t,t.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){nt(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:zn(e,t),fr(t),r&4&&WE(t);break;case 21:break;default:zn(e,t),fr(t)}}function fr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(nI(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ac(s,""),r.flags&=-33);var i=zE(t);Yg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=zE(t);Qg(t,a,o);break;default:throw Error(z(161))}}catch(l){nt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function eV(t,e,n){Q=t,iI(t)}function iI(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var s=Q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||hd;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Bt;a=hd;var c=Bt;if(hd=o,(Bt=l)&&!c)for(Q=s;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?KE(s):l!==null?(l.return=o,Q=l):KE(s);for(;i!==null;)Q=i,iI(i),i=i.sibling;Q=s,hd=a,Bt=c}HE(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Q=i):HE(t)}}function HE(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bt||kf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Bt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Kn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&PE(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}PE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Nc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Bt||e.flags&512&&qg(e)}catch(f){nt(e,e.return,f)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function GE(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function KE(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{kf(4,e)}catch(l){nt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){nt(e,s,l)}}var i=e.return;try{qg(e)}catch(l){nt(e,i,l)}break;case 5:var o=e.return;try{qg(e)}catch(l){nt(e,o,l)}}}catch(l){nt(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var tV=Math.ceil,kh=ps.ReactCurrentDispatcher,Xv=ps.ReactCurrentOwner,Ln=ps.ReactCurrentBatchConfig,Ie=0,Ct=null,lt=null,Nt=0,mn=0,oa=Ii(0),gt=0,zc=null,go=0,Nf=0,Jv=0,mc=null,an=null,Zv=0,za=1/0,Gr=null,Nh=!1,Xg=null,ti=null,fd=!1,Gs=null,Dh=0,gc=0,Jg=null,Hd=-1,Gd=0;function Zt(){return Ie&6?it():Hd!==-1?Hd:Hd=it()}function ni(t){return t.mode&1?Ie&2&&Nt!==0?Nt&-Nt:jM.transition!==null?(Gd===0&&(Gd=z1()),Gd):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:Y1(t.type)),t):1}function nr(t,e,n,r){if(50<gc)throw gc=0,Jg=null,Error(z(185));gu(t,n,r),(!(Ie&2)||t!==Ct)&&(t===Ct&&(!(Ie&2)&&(Nf|=n),gt===4&&Os(t,Nt)),hn(t,r),n===1&&Ie===0&&!(e.mode&1)&&(za=it()+500,Af&&Ai()))}function hn(t,e){var n=t.callbackNode;jO(t,e);var r=gh(t,t===Ct?Nt:0);if(r===0)n!==null&&nE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&nE(n),e===1)t.tag===0?LM(qE.bind(null,t)):mC(qE.bind(null,t)),DM(function(){!(Ie&6)&&Ai()}),n=null;else{switch(W1(r)){case 1:n=bv;break;case 4:n=B1;break;case 16:n=mh;break;case 536870912:n=$1;break;default:n=mh}n=fI(n,oI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function oI(t,e){if(Hd=-1,Gd=0,Ie&6)throw Error(z(327));var n=t.callbackNode;if(_a()&&t.callbackNode!==n)return null;var r=gh(t,t===Ct?Nt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Oh(t,r);else{e=r;var s=Ie;Ie|=2;var i=lI();(Ct!==t||Nt!==e)&&(Gr=null,za=it()+500,oo(t,e));do try{sV();break}catch(a){aI(t,a)}while(!0);jv(),kh.current=i,Ie=s,lt!==null?e=0:(Ct=null,Nt=0,e=gt)}if(e!==0){if(e===2&&(s=bg(t),s!==0&&(r=s,e=Zg(t,s))),e===1)throw n=zc,oo(t,0),Os(t,r),hn(t,it()),n;if(e===6)Os(t,r);else{if(s=t.current.alternate,!(r&30)&&!nV(s)&&(e=Oh(t,r),e===2&&(i=bg(t),i!==0&&(r=i,e=Zg(t,i))),e===1))throw n=zc,oo(t,0),Os(t,r),hn(t,it()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:zi(t,an,Gr);break;case 3:if(Os(t,r),(r&130023424)===r&&(e=Zv+500-it(),10<e)){if(gh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Zt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Dg(zi.bind(null,t,an,Gr),e);break}zi(t,an,Gr);break;case 4:if(Os(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-tr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=it()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tV(r/1960))-r,10<r){t.timeoutHandle=Dg(zi.bind(null,t,an,Gr),r);break}zi(t,an,Gr);break;case 5:zi(t,an,Gr);break;default:throw Error(z(329))}}}return hn(t,it()),t.callbackNode===n?oI.bind(null,t):null}function Zg(t,e){var n=mc;return t.current.memoizedState.isDehydrated&&(oo(t,e).flags|=256),t=Oh(t,e),t!==2&&(e=an,an=n,e!==null&&ey(e)),t}function ey(t){an===null?an=t:an.push.apply(an,t)}function nV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!rr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Os(t,e){for(e&=~Jv,e&=~Nf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tr(e),r=1<<n;t[n]=-1,e&=~r}}function qE(t){if(Ie&6)throw Error(z(327));_a();var e=gh(t,0);if(!(e&1))return hn(t,it()),null;var n=Oh(t,e);if(t.tag!==0&&n===2){var r=bg(t);r!==0&&(e=r,n=Zg(t,r))}if(n===1)throw n=zc,oo(t,0),Os(t,e),hn(t,it()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zi(t,an,Gr),hn(t,it()),null}function e0(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(za=it()+500,Af&&Ai())}}function yo(t){Gs!==null&&Gs.tag===0&&!(Ie&6)&&_a();var e=Ie;Ie|=1;var n=Ln.transition,r=Ne;try{if(Ln.transition=null,Ne=1,t)return t()}finally{Ne=r,Ln.transition=n,Ie=e,!(Ie&6)&&Ai()}}function t0(){mn=oa.current,ze(oa)}function oo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,NM(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(Mv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Eh();break;case 3:Ba(),ze(un),ze(Wt),Wv();break;case 5:zv(r);break;case 4:Ba();break;case 13:ze(qe);break;case 19:ze(qe);break;case 10:Fv(r.type._context);break;case 22:case 23:t0()}n=n.return}if(Ct=t,lt=t=ri(t.current,null),Nt=mn=e,gt=0,zc=null,Jv=Nf=go=0,an=mc=null,Qi!==null){for(e=0;e<Qi.length;e++)if(n=Qi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Qi=null}return t}function aI(t,e){do{var n=lt;try{if(jv(),$d.current=Rh,Ph){for(var r=Ye.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ph=!1}if(mo=0,bt=pt=Ye=null,fc=!1,Uc=0,Xv.current=null,n===null||n.return===null){gt=1,zc=e,lt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Nt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ME(o);if(p!==null){p.flags&=-257,VE(p,o,a,i,e),p.mode&1&&OE(i,c,e),e=p,l=c;var S=e.updateQueue;if(S===null){var g=new Set;g.add(l),e.updateQueue=g}else S.add(l);break e}else{if(!(e&1)){OE(i,c,e),n0();break e}l=Error(z(426))}}else if(He&&a.mode&1){var E=ME(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),VE(E,o,a,i,e),Vv($a(l,a));break e}}i=l=$a(l,a),gt!==4&&(gt=2),mc===null?mc=[i]:mc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=WC(i,l,e);AE(i,w);break e;case 1:a=l;var v=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ti===null||!ti.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var P=HC(i,a,e);AE(i,P);break e}}i=i.return}while(i!==null)}uI(n)}catch(k){e=k,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(!0)}function lI(){var t=kh.current;return kh.current=Rh,t===null?Rh:t}function n0(){(gt===0||gt===3||gt===2)&&(gt=4),Ct===null||!(go&268435455)&&!(Nf&268435455)||Os(Ct,Nt)}function Oh(t,e){var n=Ie;Ie|=2;var r=lI();(Ct!==t||Nt!==e)&&(Gr=null,oo(t,e));do try{rV();break}catch(s){aI(t,s)}while(!0);if(jv(),Ie=n,kh.current=r,lt!==null)throw Error(z(261));return Ct=null,Nt=0,gt}function rV(){for(;lt!==null;)cI(lt)}function sV(){for(;lt!==null&&!PO();)cI(lt)}function cI(t){var e=hI(t.alternate,t,mn);t.memoizedProps=t.pendingProps,e===null?uI(t):lt=e,Xv.current=null}function uI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=XM(n,e),n!==null){n.flags&=32767,lt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gt=6,lt=null;return}}else if(n=YM(n,e,mn),n!==null){lt=n;return}if(e=e.sibling,e!==null){lt=e;return}lt=e=t}while(e!==null);gt===0&&(gt=5)}function zi(t,e,n){var r=Ne,s=Ln.transition;try{Ln.transition=null,Ne=1,iV(t,e,n,r)}finally{Ln.transition=s,Ne=r}return null}function iV(t,e,n,r){do _a();while(Gs!==null);if(Ie&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(FO(t,i),t===Ct&&(lt=Ct=null,Nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fd||(fd=!0,fI(mh,function(){return _a(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ln.transition,Ln.transition=null;var o=Ne;Ne=1;var a=Ie;Ie|=4,Xv.current=null,ZM(t,n),sI(n,t),bM(kg),yh=!!Rg,kg=Rg=null,t.current=n,eV(n),RO(),Ie=a,Ne=o,Ln.transition=i}else t.current=n;if(fd&&(fd=!1,Gs=t,Dh=s),i=t.pendingLanes,i===0&&(ti=null),DO(n.stateNode),hn(t,it()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Nh)throw Nh=!1,t=Xg,Xg=null,t;return Dh&1&&t.tag!==0&&_a(),i=t.pendingLanes,i&1?t===Jg?gc++:(gc=0,Jg=t):gc=0,Ai(),null}function _a(){if(Gs!==null){var t=W1(Dh),e=Ln.transition,n=Ne;try{if(Ln.transition=null,Ne=16>t?16:t,Gs===null)var r=!1;else{if(t=Gs,Gs=null,Dh=0,Ie&6)throw Error(z(331));var s=Ie;for(Ie|=4,Q=t.current;Q!==null;){var i=Q,o=i.child;if(Q.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Q=c;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:pc(8,d,i)}var h=d.child;if(h!==null)h.return=d,Q=h;else for(;Q!==null;){d=Q;var f=d.sibling,p=d.return;if(tI(d),d===c){Q=null;break}if(f!==null){f.return=p,Q=f;break}Q=p}}}var S=i.alternate;if(S!==null){var g=S.child;if(g!==null){S.child=null;do{var E=g.sibling;g.sibling=null,g=E}while(g!==null)}}Q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Q=o;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:pc(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,Q=w;break e}Q=i.return}}var v=t.current;for(Q=v;Q!==null;){o=Q;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,Q=T;else e:for(o=v;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:kf(9,a)}}catch(k){nt(a,a.return,k)}if(a===o){Q=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,Q=P;break e}Q=a.return}}if(Ie=s,Ai(),xr&&typeof xr.onPostCommitFiberRoot=="function")try{xr.onPostCommitFiberRoot(Tf,t)}catch{}r=!0}return r}finally{Ne=n,Ln.transition=e}}return!1}function QE(t,e,n){e=$a(n,e),e=WC(t,e,1),t=ei(t,e,1),e=Zt(),t!==null&&(gu(t,1,e),hn(t,e))}function nt(t,e,n){if(t.tag===3)QE(t,t,n);else for(;e!==null;){if(e.tag===3){QE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ti===null||!ti.has(r))){t=$a(n,t),t=HC(e,t,1),e=ei(e,t,1),t=Zt(),e!==null&&(gu(e,1,t),hn(e,t));break}}e=e.return}}function oV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zt(),t.pingedLanes|=t.suspendedLanes&n,Ct===t&&(Nt&n)===n&&(gt===4||gt===3&&(Nt&130023424)===Nt&&500>it()-Zv?oo(t,0):Jv|=n),hn(t,e)}function dI(t,e){e===0&&(t.mode&1?(e=rd,rd<<=1,!(rd&130023424)&&(rd=4194304)):e=1);var n=Zt();t=ss(t,e),t!==null&&(gu(t,e,n),hn(t,n))}function aV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),dI(t,n)}function lV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),dI(t,n)}var hI;hI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||un.current)cn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return cn=!1,QM(t,e,n);cn=!!(t.flags&131072)}else cn=!1,He&&e.flags&1048576&&gC(e,Sh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Wd(t,e),t=e.pendingProps;var s=ja(e,Wt.current);wa(e,n),s=Gv(null,e,r,t,s,n);var i=Kv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dn(r)?(i=!0,xh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Bv(e),s.updater=Rf,e.stateNode=s,s._reactInternals=e,Ug(e,r,t,n),e=zg(null,e,r,!0,i,n)):(e.tag=0,He&&i&&Ov(e),Xt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Wd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=uV(r),t=Kn(r,t),s){case 0:e=$g(null,e,r,t,n);break e;case 1:e=FE(null,e,r,t,n);break e;case 11:e=LE(null,e,r,t,n);break e;case 14:e=jE(null,e,r,Kn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kn(r,s),$g(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kn(r,s),FE(t,e,r,s,n);case 3:e:{if(QC(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,xC(t,e),Ih(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=$a(Error(z(423)),e),e=UE(t,e,r,n,s);break e}else if(r!==s){s=$a(Error(z(424)),e),e=UE(t,e,r,n,s);break e}else for(yn=Zs(e.stateNode.containerInfo.firstChild),wn=e,He=!0,Jn=null,n=_C(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fa(),r===s){e=is(t,e,n);break e}Xt(t,e,r,n)}e=e.child}return e;case 5:return TC(e),t===null&&Lg(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Ng(r,s)?o=null:i!==null&&Ng(r,i)&&(e.flags|=32),qC(t,e),Xt(t,e,o,n),e.child;case 6:return t===null&&Lg(e),null;case 13:return YC(t,e,n);case 4:return $v(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ua(e,null,r,n):Xt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kn(r,s),LE(t,e,r,s,n);case 7:return Xt(t,e,e.pendingProps,n),e.child;case 8:return Xt(t,e,e.pendingProps.children,n),e.child;case 12:return Xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ve(bh,r._currentValue),r._currentValue=o,i!==null)if(rr(i.value,o)){if(i.children===s.children&&!un.current){e=is(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Zr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),jg(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),jg(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Xt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,wa(e,n),s=jn(s),r=r(s),e.flags|=1,Xt(t,e,r,n),e.child;case 14:return r=e.type,s=Kn(r,e.pendingProps),s=Kn(r.type,s),jE(t,e,r,s,n);case 15:return GC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kn(r,s),Wd(t,e),e.tag=1,dn(r)?(t=!0,xh(e)):t=!1,wa(e,n),zC(e,r,s),Ug(e,r,s,n),zg(null,e,r,!0,t,n);case 19:return XC(t,e,n);case 22:return KC(t,e,n)}throw Error(z(156,e.tag))};function fI(t,e){return U1(t,e)}function cV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,e,n,r){return new cV(t,e,n,r)}function r0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function uV(t){if(typeof t=="function")return r0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===xv)return 11;if(t===Tv)return 14}return 2}function ri(t,e){var n=t.alternate;return n===null?(n=Vn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Kd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")r0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Yo:return ao(n.children,s,i,e);case Ev:o=8,s|=8;break;case ug:return t=Vn(12,n,e,s|2),t.elementType=ug,t.lanes=i,t;case dg:return t=Vn(13,n,e,s),t.elementType=dg,t.lanes=i,t;case hg:return t=Vn(19,n,e,s),t.elementType=hg,t.lanes=i,t;case T1:return Df(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case E1:o=10;break e;case x1:o=9;break e;case xv:o=11;break e;case Tv:o=14;break e;case ks:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=Vn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ao(t,e,n,r){return t=Vn(7,t,r,e),t.lanes=n,t}function Df(t,e,n,r){return t=Vn(22,t,r,e),t.elementType=T1,t.lanes=n,t.stateNode={isHidden:!1},t}function wm(t,e,n){return t=Vn(6,t,null,e),t.lanes=n,t}function _m(t,e,n){return e=Vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dV(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=em(0),this.expirationTimes=em(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=em(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function s0(t,e,n,r,s,i,o,a,l){return t=new dV(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Vn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bv(i),t}function hV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function pI(t){if(!t)return hi;t=t._reactInternals;e:{if(Ao(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(dn(n))return pC(t,n,e)}return e}function mI(t,e,n,r,s,i,o,a,l){return t=s0(n,r,!0,t,s,i,o,a,l),t.context=pI(null),n=t.current,r=Zt(),s=ni(n),i=Zr(r,s),i.callback=e??null,ei(n,i,s),t.current.lanes=s,gu(t,s,r),hn(t,r),t}function Of(t,e,n,r){var s=e.current,i=Zt(),o=ni(s);return n=pI(n),e.context===null?e.context=n:e.pendingContext=n,e=Zr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ei(s,e,o),t!==null&&(nr(t,s,o,i),Bd(t,s,o)),o}function Mh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function YE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function i0(t,e){YE(t,e),(t=t.alternate)&&YE(t,e)}function fV(){return null}var gI=typeof reportError=="function"?reportError:function(t){console.error(t)};function o0(t){this._internalRoot=t}Mf.prototype.render=o0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Of(t,e,null,null)};Mf.prototype.unmount=o0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yo(function(){Of(null,t,null,null)}),e[rs]=null}};function Mf(t){this._internalRoot=t}Mf.prototype.unstable_scheduleHydration=function(t){if(t){var e=K1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ds.length&&e!==0&&e<Ds[n].priority;n++);Ds.splice(n,0,t),n===0&&Q1(t)}};function a0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function XE(){}function pV(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Mh(o);i.call(c)}}var o=mI(e,r,t,0,null,!1,!1,"",XE);return t._reactRootContainer=o,t[rs]=o.current,Mc(t.nodeType===8?t.parentNode:t),yo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Mh(l);a.call(c)}}var l=s0(t,0,!1,null,null,!1,!1,"",XE);return t._reactRootContainer=l,t[rs]=l.current,Mc(t.nodeType===8?t.parentNode:t),yo(function(){Of(e,l,n,r)}),l}function Lf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Mh(o);a.call(l)}}Of(e,o,t,s)}else o=pV(n,e,t,s,r);return Mh(o)}H1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Yl(e.pendingLanes);n!==0&&(Cv(e,n|1),hn(e,it()),!(Ie&6)&&(za=it()+500,Ai()))}break;case 13:yo(function(){var r=ss(t,1);if(r!==null){var s=Zt();nr(r,t,1,s)}}),i0(t,1)}};Iv=function(t){if(t.tag===13){var e=ss(t,134217728);if(e!==null){var n=Zt();nr(e,t,134217728,n)}i0(t,134217728)}};G1=function(t){if(t.tag===13){var e=ni(t),n=ss(t,e);if(n!==null){var r=Zt();nr(n,t,e,r)}i0(t,e)}};K1=function(){return Ne};q1=function(t,e){var n=Ne;try{return Ne=t,e()}finally{Ne=n}};xg=function(t,e,n){switch(e){case"input":if(mg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=If(r);if(!s)throw Error(z(90));b1(r),mg(r,s)}}}break;case"textarea":I1(t,n);break;case"select":e=n.value,e!=null&&ma(t,!!n.multiple,e,!1)}};O1=e0;M1=yo;var mV={usingClientEntryPoint:!1,Events:[vu,ea,If,N1,D1,e0]},zl={findFiberByHostInstance:qi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gV={bundleType:zl.bundleType,version:zl.version,rendererPackageName:zl.rendererPackageName,rendererConfig:zl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ps.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=j1(t),t===null?null:t.stateNode},findFiberByHostInstance:zl.findFiberByHostInstance||fV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pd.isDisabled&&pd.supportsFiber)try{Tf=pd.inject(gV),xr=pd}catch{}}bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mV;bn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!a0(e))throw Error(z(200));return hV(t,e,null,n)};bn.createRoot=function(t,e){if(!a0(t))throw Error(z(299));var n=!1,r="",s=gI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=s0(t,1,!1,null,null,n,!1,r,s),t[rs]=e.current,Mc(t.nodeType===8?t.parentNode:t),new o0(e)};bn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=j1(e),t=t===null?null:t.stateNode,t};bn.flushSync=function(t){return yo(t)};bn.hydrate=function(t,e,n){if(!Vf(e))throw Error(z(200));return Lf(null,t,e,!0,n)};bn.hydrateRoot=function(t,e,n){if(!a0(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=gI;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=mI(e,null,t,1,n??null,s,!1,i,o),t[rs]=e.current,Mc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Mf(e)};bn.render=function(t,e,n){if(!Vf(e))throw Error(z(200));return Lf(null,t,e,!1,n)};bn.unmountComponentAtNode=function(t){if(!Vf(t))throw Error(z(40));return t._reactRootContainer?(yo(function(){Lf(null,null,t,!1,function(){t._reactRootContainer=null,t[rs]=null})}),!0):!1};bn.unstable_batchedUpdates=e0;bn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Vf(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Lf(t,e,n,!1,r)};bn.version="18.3.1-next-f1338f8080-20240426";function yI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yI)}catch(t){console.error(t)}}yI(),y1.exports=bn;var ol=y1.exports;const vI=i1(ol);var wI,JE=ol;wI=JE.createRoot,JE.hydrateRoot;var yV=(t,e,n,r,s,i,o,a)=>{let l=document.documentElement,c=["light","dark"];function d(p){(Array.isArray(t)?t:[t]).forEach(S=>{let g=S==="class",E=g&&i?s.map(w=>i[w]||w):s;g?(l.classList.remove(...E),l.classList.add(i&&i[p]?i[p]:p)):l.setAttribute(S,p)}),h(p)}function h(p){a&&c.includes(p)&&(l.style.colorScheme=p)}function f(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)d(r);else try{let p=localStorage.getItem(e)||n,S=o&&p==="system"?f():p;d(S)}catch{}},vV=y.createContext(void 0),wV={setTheme:t=>{},themes:[]},_V=()=>{var t;return(t=y.useContext(vV))!=null?t:wV};y.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,themes:a,nonce:l,scriptProps:c})=>{let d=JSON.stringify([n,e,i,t,a,o,r,s]).slice(1,-1);return y.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${yV.toString()})(${d})`}})});var EV=t=>{switch(t){case"success":return SV;case"info":return CV;case"warning":return bV;case"error":return IV;default:return null}},xV=Array(12).fill(0),TV=({visible:t,className:e})=>W.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},W.createElement("div",{className:"sonner-spinner"},xV.map((n,r)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),SV=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),bV=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),CV=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),IV=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),AV=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),PV=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},ty=1,RV=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:ty++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async c=>{if(o=["resolve",c],W.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(NV(c)&&!c.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:d,description:h})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(c):n.success,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:d,description:h})}}).catch(async c=>{if(o=["reject",c],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(c):n.error,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:d,description:h})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),l=()=>new Promise((c,d)=>a.then(()=>o[0]==="reject"?d(o[1]):c(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||ty++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},sn=new RV,kV=(t,e)=>{let n=(e==null?void 0:e.id)||ty++;return sn.addToast({title:t,...e,id:n}),n},NV=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",DV=kV,OV=()=>sn.toasts,MV=()=>sn.getActiveToasts(),Xi=Object.assign(DV,{success:sn.success,info:sn.info,warning:sn.warning,error:sn.error,custom:sn.custom,message:sn.message,promise:sn.promise,dismiss:sn.dismiss,loading:sn.loading},{getHistory:OV,getToasts:MV});function VV(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}VV(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function md(t){return t.label!==void 0}var LV=3,jV="32px",FV="16px",ZE=4e3,UV=356,BV=14,$V=20,zV=200;function Wn(...t){return t.filter(Boolean).join(" ")}function WV(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var HV=t=>{var e,n,r,s,i,o,a,l,c,d,h;let{invert:f,toast:p,unstyled:S,interacting:g,setHeights:E,visibleToasts:w,heights:v,index:T,toasts:P,expanded:k,removeToast:M,defaultRichColors:C,closeButton:b,style:I,cancelButtonStyle:R,actionButtonStyle:N,className:O="",descriptionClassName:D="",duration:Y,position:ue,gap:J,loadingIcon:X,expandByDefault:j,classNames:U,icons:G,closeButtonAriaLabel:ie="Close toast",pauseWhenPageIsHidden:ee}=t,[me,le]=W.useState(null),[ke,Oe]=W.useState(null),[K,be]=W.useState(!1),[Le,Ce]=W.useState(!1),[ve,xe]=W.useState(!1),[ot,qt]=W.useState(!1),[Br,In]=W.useState(!1),[Un,ms]=W.useState(0),[Ke,wt]=W.useState(0),ar=W.useRef(p.duration||Y||ZE),ju=W.useRef(null),lr=W.useRef(null),Np=T===0,Oi=T+1<=w,Qt=p.type,$r=p.dismissible!==!1,xl=p.className||"",Dp=p.descriptionClassName||"",Mo=W.useMemo(()=>v.findIndex(re=>re.toastId===p.id)||0,[v,p.id]),Fu=W.useMemo(()=>{var re;return(re=p.closeButton)!=null?re:b},[p.closeButton,b]),Tl=W.useMemo(()=>p.duration||Y||ZE,[p.duration,Y]),zr=W.useRef(0),cr=W.useRef(0),Vo=W.useRef(0),nn=W.useRef(null),[Uu,Lo]=ue.split("-"),Sl=W.useMemo(()=>v.reduce((re,Pe,Me)=>Me>=Mo?re:re+Pe.height,0),[v,Mo]),gs=PV(),Bu=p.invert||f,ht=Qt==="loading";cr.current=W.useMemo(()=>Mo*J+Sl,[Mo,Sl]),W.useEffect(()=>{ar.current=Tl},[Tl]),W.useEffect(()=>{be(!0)},[]),W.useEffect(()=>{let re=lr.current;if(re){let Pe=re.getBoundingClientRect().height;return wt(Pe),E(Me=>[{toastId:p.id,height:Pe,position:p.position},...Me]),()=>E(Me=>Me.filter(_t=>_t.toastId!==p.id))}},[E,p.id]),W.useLayoutEffect(()=>{if(!K)return;let re=lr.current,Pe=re.style.height;re.style.height="auto";let Me=re.getBoundingClientRect().height;re.style.height=Pe,wt(Me),E(_t=>_t.find(fn=>fn.toastId===p.id)?_t.map(fn=>fn.toastId===p.id?{...fn,height:Me}:fn):[{toastId:p.id,height:Me,position:p.position},..._t])},[K,p.title,p.description,E,p.id]);let Bn=W.useCallback(()=>{Ce(!0),ms(cr.current),E(re=>re.filter(Pe=>Pe.toastId!==p.id)),setTimeout(()=>{M(p)},zV)},[p,M,E,cr]);W.useEffect(()=>{if(p.promise&&Qt==="loading"||p.duration===1/0||p.type==="loading")return;let re;return k||g||ee&&gs?(()=>{if(Vo.current<zr.current){let Pe=new Date().getTime()-zr.current;ar.current=ar.current-Pe}Vo.current=new Date().getTime()})():ar.current!==1/0&&(zr.current=new Date().getTime(),re=setTimeout(()=>{var Pe;(Pe=p.onAutoClose)==null||Pe.call(p,p),Bn()},ar.current)),()=>clearTimeout(re)},[k,g,p,Qt,ee,gs,Bn]),W.useEffect(()=>{p.delete&&Bn()},[Bn,p.delete]);function Mi(){var re,Pe,Me;return G!=null&&G.loading?W.createElement("div",{className:Wn(U==null?void 0:U.loader,(re=p==null?void 0:p.classNames)==null?void 0:re.loader,"sonner-loader"),"data-visible":Qt==="loading"},G.loading):X?W.createElement("div",{className:Wn(U==null?void 0:U.loader,(Pe=p==null?void 0:p.classNames)==null?void 0:Pe.loader,"sonner-loader"),"data-visible":Qt==="loading"},X):W.createElement(TV,{className:Wn(U==null?void 0:U.loader,(Me=p==null?void 0:p.classNames)==null?void 0:Me.loader),visible:Qt==="loading"})}return W.createElement("li",{tabIndex:0,ref:lr,className:Wn(O,xl,U==null?void 0:U.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,U==null?void 0:U.default,U==null?void 0:U[Qt],(n=p==null?void 0:p.classNames)==null?void 0:n[Qt]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:C,"data-styled":!(p.jsx||p.unstyled||S),"data-mounted":K,"data-promise":!!p.promise,"data-swiped":Br,"data-removed":Le,"data-visible":Oi,"data-y-position":Uu,"data-x-position":Lo,"data-index":T,"data-front":Np,"data-swiping":ve,"data-dismissible":$r,"data-type":Qt,"data-invert":Bu,"data-swipe-out":ot,"data-swipe-direction":ke,"data-expanded":!!(k||j&&K),style:{"--index":T,"--toasts-before":T,"--z-index":P.length-T,"--offset":`${Le?Un:cr.current}px`,"--initial-height":j?"auto":`${Ke}px`,...I,...p.style},onDragEnd:()=>{xe(!1),le(null),nn.current=null},onPointerDown:re=>{ht||!$r||(ju.current=new Date,ms(cr.current),re.target.setPointerCapture(re.pointerId),re.target.tagName!=="BUTTON"&&(xe(!0),nn.current={x:re.clientX,y:re.clientY}))},onPointerUp:()=>{var re,Pe,Me,_t;if(ot||!$r)return;nn.current=null;let fn=Number(((re=lr.current)==null?void 0:re.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ur=Number(((Pe=lr.current)==null?void 0:Pe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),An=new Date().getTime()-((Me=ju.current)==null?void 0:Me.getTime()),rn=me==="x"?fn:ur,$n=Math.abs(rn)/An;if(Math.abs(rn)>=$V||$n>.11){ms(cr.current),(_t=p.onDismiss)==null||_t.call(p,p),Oe(me==="x"?fn>0?"right":"left":ur>0?"down":"up"),Bn(),qt(!0),In(!1);return}xe(!1),le(null)},onPointerMove:re=>{var Pe,Me,_t,fn;if(!nn.current||!$r||((Pe=window.getSelection())==null?void 0:Pe.toString().length)>0)return;let ur=re.clientY-nn.current.y,An=re.clientX-nn.current.x,rn=(Me=t.swipeDirections)!=null?Me:WV(ue);!me&&(Math.abs(An)>1||Math.abs(ur)>1)&&le(Math.abs(An)>Math.abs(ur)?"x":"y");let $n={x:0,y:0};me==="y"?(rn.includes("top")||rn.includes("bottom"))&&(rn.includes("top")&&ur<0||rn.includes("bottom")&&ur>0)&&($n.y=ur):me==="x"&&(rn.includes("left")||rn.includes("right"))&&(rn.includes("left")&&An<0||rn.includes("right")&&An>0)&&($n.x=An),(Math.abs($n.x)>0||Math.abs($n.y)>0)&&In(!0),(_t=lr.current)==null||_t.style.setProperty("--swipe-amount-x",`${$n.x}px`),(fn=lr.current)==null||fn.style.setProperty("--swipe-amount-y",`${$n.y}px`)}},Fu&&!p.jsx?W.createElement("button",{"aria-label":ie,"data-disabled":ht,"data-close-button":!0,onClick:ht||!$r?()=>{}:()=>{var re;Bn(),(re=p.onDismiss)==null||re.call(p,p)},className:Wn(U==null?void 0:U.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=G==null?void 0:G.close)!=null?i:AV):null,p.jsx||y.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:W.createElement(W.Fragment,null,Qt||p.icon||p.promise?W.createElement("div",{"data-icon":"",className:Wn(U==null?void 0:U.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Mi():null,p.type!=="loading"?p.icon||(G==null?void 0:G[Qt])||EV(Qt):null):null,W.createElement("div",{"data-content":"",className:Wn(U==null?void 0:U.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},W.createElement("div",{"data-title":"",className:Wn(U==null?void 0:U.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?W.createElement("div",{"data-description":"",className:Wn(D,Dp,U==null?void 0:U.description,(c=p==null?void 0:p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),y.isValidElement(p.cancel)?p.cancel:p.cancel&&md(p.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||R,onClick:re=>{var Pe,Me;md(p.cancel)&&$r&&((Me=(Pe=p.cancel).onClick)==null||Me.call(Pe,re),Bn())},className:Wn(U==null?void 0:U.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,y.isValidElement(p.action)?p.action:p.action&&md(p.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||N,onClick:re=>{var Pe,Me;md(p.action)&&((Me=(Pe=p.action).onClick)==null||Me.call(Pe,re),!re.defaultPrevented&&Bn())},className:Wn(U==null?void 0:U.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function ex(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function GV(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?FV:jV;function l(c){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var KV=y.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:d="light",richColors:h,duration:f,style:p,visibleToasts:S=LV,toastOptions:g,dir:E=ex(),gap:w=BV,loadingIcon:v,icons:T,containerAriaLabel:P="Notifications",pauseWhenPageIsHidden:k}=t,[M,C]=W.useState([]),b=W.useMemo(()=>Array.from(new Set([r].concat(M.filter(ee=>ee.position).map(ee=>ee.position)))),[M,r]),[I,R]=W.useState([]),[N,O]=W.useState(!1),[D,Y]=W.useState(!1),[ue,J]=W.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X=W.useRef(null),j=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=W.useRef(null),G=W.useRef(!1),ie=W.useCallback(ee=>{C(me=>{var le;return(le=me.find(ke=>ke.id===ee.id))!=null&&le.delete||sn.dismiss(ee.id),me.filter(({id:ke})=>ke!==ee.id)})},[]);return W.useEffect(()=>sn.subscribe(ee=>{if(ee.dismiss){C(me=>me.map(le=>le.id===ee.id?{...le,delete:!0}:le));return}setTimeout(()=>{vI.flushSync(()=>{C(me=>{let le=me.findIndex(ke=>ke.id===ee.id);return le!==-1?[...me.slice(0,le),{...me[le],...ee},...me.slice(le+1)]:[ee,...me]})})})}),[]),W.useEffect(()=>{if(d!=="system"){J(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;let ee=window.matchMedia("(prefers-color-scheme: dark)");try{ee.addEventListener("change",({matches:me})=>{J(me?"dark":"light")})}catch{ee.addListener(({matches:le})=>{try{J(le?"dark":"light")}catch(ke){console.error(ke)}})}},[d]),W.useEffect(()=>{M.length<=1&&O(!1)},[M]),W.useEffect(()=>{let ee=me=>{var le,ke;s.every(Oe=>me[Oe]||me.code===Oe)&&(O(!0),(le=X.current)==null||le.focus()),me.code==="Escape"&&(document.activeElement===X.current||(ke=X.current)!=null&&ke.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[s]),W.useEffect(()=>{if(X.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,G.current=!1)}},[X.current]),W.createElement("section",{ref:e,"aria-label":`${P} ${j}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},b.map((ee,me)=>{var le;let[ke,Oe]=ee.split("-");return M.length?W.createElement("ol",{key:ee,dir:E==="auto"?ex():E,tabIndex:-1,ref:X,className:a,"data-sonner-toaster":!0,"data-theme":ue,"data-y-position":ke,"data-lifted":N&&M.length>1&&!i,"data-x-position":Oe,style:{"--front-toast-height":`${((le=I[0])==null?void 0:le.height)||0}px`,"--width":`${UV}px`,"--gap":`${w}px`,...p,...GV(l,c)},onBlur:K=>{G.current&&!K.currentTarget.contains(K.relatedTarget)&&(G.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||G.current||(G.current=!0,U.current=K.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{D||O(!1)},onDragEnd:()=>O(!1),onPointerDown:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||Y(!0)},onPointerUp:()=>Y(!1)},M.filter(K=>!K.position&&me===0||K.position===ee).map((K,be)=>{var Le,Ce;return W.createElement(HV,{key:K.id,icons:T,index:be,toast:K,defaultRichColors:h,duration:(Le=g==null?void 0:g.duration)!=null?Le:f,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:S,closeButton:(Ce=g==null?void 0:g.closeButton)!=null?Ce:o,interacting:D,position:ee,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:ie,toasts:M.filter(ve=>ve.position==K.position),heights:I.filter(ve=>ve.position==K.position),setHeights:R,expandByDefault:i,gap:w,loadingIcon:v,expanded:N,pauseWhenPageIsHidden:k,swipeDirections:t.swipeDirections})})):null}))});const qV=({...t})=>{const{theme:e="system"}=_V();return _.jsx(KV,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function pe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function tx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function al(...t){return e=>{let n=!1;const r=t.map(s=>{const i=tx(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():tx(t[s],null)}}}}function Ge(...t){return y.useCallback(al(...t),t)}function QV(t,e){const n=y.createContext(e),r=i=>{const{children:o,...a}=i,l=y.useMemo(()=>a,Object.values(a));return _.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Po(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];const c=h=>{var w;const{scope:f,children:p,...S}=h,g=((w=f==null?void 0:f[t])==null?void 0:w[l])||a,E=y.useMemo(()=>S,Object.values(S));return _.jsx(g.Provider,{value:E,children:p})};c.displayName=i+"Provider";function d(h,f){var g;const p=((g=f==null?void 0:f[t])==null?void 0:g[l])||a,S=y.useContext(p);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,YV(s,...e)]}function YV(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function XV(t){const e=JV(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(eL);if(l){const c=l.props.children,d=a.map(h=>h===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:h);return _.jsx(e,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,d):null})}return _.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function JV(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=nL(s),a=tL(i,s.props);return s.type!==y.Fragment&&(a.ref=r?al(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ZV=Symbol("radix.slottable");function eL(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ZV}function tL(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function nL(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var rL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ae=rL.reduce((t,e)=>{const n=XV(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),_.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function sL(t,e){t&&ol.flushSync(()=>t.dispatchEvent(e))}function fi(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function iL(t,e=globalThis==null?void 0:globalThis.document){const n=fi(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var oL="DismissableLayer",ny="dismissableLayer.update",aL="dismissableLayer.pointerDownOutside",lL="dismissableLayer.focusOutside",nx,_I=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jf=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=y.useContext(_I),[d,h]=y.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=y.useState({}),S=Ge(e,C=>h(C)),g=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(E),v=d?g.indexOf(d):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,P=v>=w,k=dL(C=>{const b=C.target,I=[...c.branches].some(R=>R.contains(b));!P||I||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},f),M=hL(C=>{const b=C.target;[...c.branches].some(R=>R.contains(b))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},f);return iL(C=>{v===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},f),y.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(nx=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),rx(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=nx)}},[d,f,n,c]),y.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),rx())},[d,c]),y.useEffect(()=>{const C=()=>p({});return document.addEventListener(ny,C),()=>document.removeEventListener(ny,C)},[]),_.jsx(Ae.div,{...l,ref:S,style:{pointerEvents:T?P?"auto":"none":void 0,...t.style},onFocusCapture:pe(t.onFocusCapture,M.onFocusCapture),onBlurCapture:pe(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:pe(t.onPointerDownCapture,k.onPointerDownCapture)})});jf.displayName=oL;var cL="DismissableLayerBranch",uL=y.forwardRef((t,e)=>{const n=y.useContext(_I),r=y.useRef(null),s=Ge(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),_.jsx(Ae.div,{...t,ref:s})});uL.displayName=cL;function dL(t,e=globalThis==null?void 0:globalThis.document){const n=fi(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){EI(aL,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function hL(t,e=globalThis==null?void 0:globalThis.document){const n=fi(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&EI(lL,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function rx(){const t=new CustomEvent(ny);document.dispatchEvent(t)}function EI(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?sL(s,i):s.dispatchEvent(i)}var Ht=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},fL=xf[" useId ".trim().toString()]||(()=>{}),pL=0;function si(t){const[e,n]=y.useState(fL());return Ht(()=>{n(r=>r??String(pL++))},[t]),e?`radix-${e}`:""}const mL=["top","right","bottom","left"],pi=Math.min,gn=Math.max,Vh=Math.round,gd=Math.floor,Sr=t=>({x:t,y:t}),gL={left:"right",right:"left",bottom:"top",top:"bottom"},yL={start:"end",end:"start"};function ry(t,e,n){return gn(t,pi(e,n))}function os(t,e){return typeof t=="function"?t(e):t}function as(t){return t.split("-")[0]}function ll(t){return t.split("-")[1]}function l0(t){return t==="x"?"y":"x"}function c0(t){return t==="y"?"height":"width"}const vL=new Set(["top","bottom"]);function Er(t){return vL.has(as(t))?"y":"x"}function u0(t){return l0(Er(t))}function wL(t,e,n){n===void 0&&(n=!1);const r=ll(t),s=u0(t),i=c0(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Lh(o)),[o,Lh(o)]}function _L(t){const e=Lh(t);return[sy(t),e,sy(e)]}function sy(t){return t.replace(/start|end/g,e=>yL[e])}const sx=["left","right"],ix=["right","left"],EL=["top","bottom"],xL=["bottom","top"];function TL(t,e,n){switch(t){case"top":case"bottom":return n?e?ix:sx:e?sx:ix;case"left":case"right":return e?EL:xL;default:return[]}}function SL(t,e,n,r){const s=ll(t);let i=TL(as(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(sy)))),i}function Lh(t){return t.replace(/left|right|bottom|top/g,e=>gL[e])}function bL(t){return{top:0,right:0,bottom:0,left:0,...t}}function xI(t){return typeof t!="number"?bL(t):{top:t,right:t,bottom:t,left:t}}function jh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function ox(t,e,n){let{reference:r,floating:s}=t;const i=Er(e),o=u0(e),a=c0(o),l=as(e),c=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let p;switch(l){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-s.width,y:h};break;default:p={x:r.x,y:r.y}}switch(ll(e)){case"start":p[o]-=f*(n&&c?-1:1);break;case"end":p[o]+=f*(n&&c?-1:1);break}return p}const CL=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=ox(c,r,l),f=r,p={},S=0;for(let g=0;g<a.length;g++){const{name:E,fn:w}=a[g],{x:v,y:T,data:P,reset:k}=await w({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});d=v??d,h=T??h,p={...p,[E]:{...p[E],...P}},k&&S<=50&&(S++,typeof k=="object"&&(k.placement&&(f=k.placement),k.rects&&(c=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):k.rects),{x:d,y:h}=ox(c,f,l)),g=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:p}};async function Wc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=os(e,t),S=xI(p),E=a[f?h==="floating"?"reference":"floating":h],w=jh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),v=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),P=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},k=jh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:T,strategy:l}):v);return{top:(w.top-k.top+S.top)/P.y,bottom:(k.bottom-w.bottom+S.bottom)/P.y,left:(w.left-k.left+S.left)/P.x,right:(k.right-w.right+S.right)/P.x}}const IL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=os(t,e)||{};if(c==null)return{};const h=xI(d),f={x:n,y:r},p=u0(s),S=c0(p),g=await o.getDimensions(c),E=p==="y",w=E?"top":"left",v=E?"bottom":"right",T=E?"clientHeight":"clientWidth",P=i.reference[S]+i.reference[p]-f[p]-i.floating[S],k=f[p]-i.reference[p],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=M?M[T]:0;(!C||!await(o.isElement==null?void 0:o.isElement(M)))&&(C=a.floating[T]||i.floating[S]);const b=P/2-k/2,I=C/2-g[S]/2-1,R=pi(h[w],I),N=pi(h[v],I),O=R,D=C-g[S]-N,Y=C/2-g[S]/2+b,ue=ry(O,Y,D),J=!l.arrow&&ll(s)!=null&&Y!==ue&&i.reference[S]/2-(Y<O?R:N)-g[S]/2<0,X=J?Y<O?Y-O:Y-D:0;return{[p]:f[p]+X,data:{[p]:ue,centerOffset:Y-ue-X,...J&&{alignmentOffset:X}},reset:J}}}),AL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:g=!0,...E}=os(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=as(s),v=Er(a),T=as(a)===a,P=await(l.isRTL==null?void 0:l.isRTL(c.floating)),k=f||(T||!g?[Lh(a)]:_L(a)),M=S!=="none";!f&&M&&k.push(...SL(a,g,S,P));const C=[a,...k],b=await Wc(e,E),I=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&I.push(b[w]),h){const Y=wL(s,o,P);I.push(b[Y[0]],b[Y[1]])}if(R=[...R,{placement:s,overflows:I}],!I.every(Y=>Y<=0)){var N,O;const Y=(((N=i.flip)==null?void 0:N.index)||0)+1,ue=C[Y];if(ue&&(!(h==="alignment"?v!==Er(ue):!1)||R.every(j=>Er(j.placement)===v?j.overflows[0]>0:!0)))return{data:{index:Y,overflows:R},reset:{placement:ue}};let J=(O=R.filter(X=>X.overflows[0]<=0).sort((X,j)=>X.overflows[1]-j.overflows[1])[0])==null?void 0:O.placement;if(!J)switch(p){case"bestFit":{var D;const X=(D=R.filter(j=>{if(M){const U=Er(j.placement);return U===v||U==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(U=>U>0).reduce((U,G)=>U+G,0)]).sort((j,U)=>j[1]-U[1])[0])==null?void 0:D[0];X&&(J=X);break}case"initialPlacement":J=a;break}if(s!==J)return{reset:{placement:J}}}return{}}}};function ax(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function lx(t){return mL.some(e=>t[e]>=0)}const PL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=os(t,e);switch(r){case"referenceHidden":{const i=await Wc(e,{...s,elementContext:"reference"}),o=ax(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:lx(o)}}}case"escaped":{const i=await Wc(e,{...s,altBoundary:!0}),o=ax(i,n.floating);return{data:{escapedOffsets:o,escaped:lx(o)}}}default:return{}}}}},TI=new Set(["left","top"]);async function RL(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=as(n),a=ll(n),l=Er(n)==="y",c=TI.has(o)?-1:1,d=i&&l?-1:1,h=os(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:S}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof S=="number"&&(p=a==="end"?S*-1:S),l?{x:p*d,y:f*c}:{x:f*c,y:p*d}}const kL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await RL(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},NL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:w,y:v}=E;return{x:w,y:v}}},...l}=os(t,e),c={x:n,y:r},d=await Wc(e,l),h=Er(as(s)),f=l0(h);let p=c[f],S=c[h];if(i){const E=f==="y"?"top":"left",w=f==="y"?"bottom":"right",v=p+d[E],T=p-d[w];p=ry(v,p,T)}if(o){const E=h==="y"?"top":"left",w=h==="y"?"bottom":"right",v=S+d[E],T=S-d[w];S=ry(v,S,T)}const g=a.fn({...e,[f]:p,[h]:S});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:i,[h]:o}}}}}},DL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=os(t,e),d={x:n,y:r},h=Er(s),f=l0(h);let p=d[f],S=d[h];const g=os(a,e),E=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const T=f==="y"?"height":"width",P=i.reference[f]-i.floating[T]+E.mainAxis,k=i.reference[f]+i.reference[T]-E.mainAxis;p<P?p=P:p>k&&(p=k)}if(c){var w,v;const T=f==="y"?"width":"height",P=TI.has(as(s)),k=i.reference[h]-i.floating[T]+(P&&((w=o.offset)==null?void 0:w[h])||0)+(P?0:E.crossAxis),M=i.reference[h]+i.reference[T]+(P?0:((v=o.offset)==null?void 0:v[h])||0)-(P?E.crossAxis:0);S<k?S=k:S>M&&(S=M)}return{[f]:p,[h]:S}}}},OL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=os(t,e),d=await Wc(e,c),h=as(s),f=ll(s),p=Er(s)==="y",{width:S,height:g}=i.floating;let E,w;h==="top"||h==="bottom"?(E=h,w=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=h,E=f==="end"?"top":"bottom");const v=g-d.top-d.bottom,T=S-d.left-d.right,P=pi(g-d[E],v),k=pi(S-d[w],T),M=!e.middlewareData.shift;let C=P,b=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(b=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=v),M&&!f){const R=gn(d.left,0),N=gn(d.right,0),O=gn(d.top,0),D=gn(d.bottom,0);p?b=S-2*(R!==0||N!==0?R+N:gn(d.left,d.right)):C=g-2*(O!==0||D!==0?O+D:gn(d.top,d.bottom))}await l({...e,availableWidth:b,availableHeight:C});const I=await o.getDimensions(a.floating);return S!==I.width||g!==I.height?{reset:{rects:!0}}:{}}}};function Ff(){return typeof window<"u"}function cl(t){return SI(t)?(t.nodeName||"").toLowerCase():"#document"}function _n(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function jr(t){var e;return(e=(SI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function SI(t){return Ff()?t instanceof Node||t instanceof _n(t).Node:!1}function sr(t){return Ff()?t instanceof Element||t instanceof _n(t).Element:!1}function Or(t){return Ff()?t instanceof HTMLElement||t instanceof _n(t).HTMLElement:!1}function cx(t){return!Ff()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof _n(t).ShadowRoot}const ML=new Set(["inline","contents"]);function _u(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ir(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!ML.has(s)}const VL=new Set(["table","td","th"]);function LL(t){return VL.has(cl(t))}const jL=[":popover-open",":modal"];function Uf(t){return jL.some(e=>{try{return t.matches(e)}catch{return!1}})}const FL=["transform","translate","scale","rotate","perspective"],UL=["transform","translate","scale","rotate","perspective","filter"],BL=["paint","layout","strict","content"];function d0(t){const e=h0(),n=sr(t)?ir(t):t;return FL.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||UL.some(r=>(n.willChange||"").includes(r))||BL.some(r=>(n.contain||"").includes(r))}function $L(t){let e=mi(t);for(;Or(e)&&!Wa(e);){if(d0(e))return e;if(Uf(e))return null;e=mi(e)}return null}function h0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const zL=new Set(["html","body","#document"]);function Wa(t){return zL.has(cl(t))}function ir(t){return _n(t).getComputedStyle(t)}function Bf(t){return sr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function mi(t){if(cl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||cx(t)&&t.host||jr(t);return cx(e)?e.host:e}function bI(t){const e=mi(t);return Wa(e)?t.ownerDocument?t.ownerDocument.body:t.body:Or(e)&&_u(e)?e:bI(e)}function Hc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=bI(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=_n(s);if(i){const a=iy(o);return e.concat(o,o.visualViewport||[],_u(s)?s:[],a&&n?Hc(a):[])}return e.concat(s,Hc(s,[],n))}function iy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function CI(t){const e=ir(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Or(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Vh(n)!==i||Vh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function f0(t){return sr(t)?t:t.contextElement}function Ea(t){const e=f0(t);if(!Or(e))return Sr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=CI(e);let o=(i?Vh(n.width):n.width)/r,a=(i?Vh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const WL=Sr(0);function II(t){const e=_n(t);return!h0()||!e.visualViewport?WL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function HL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==_n(t)?!1:e}function vo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=f0(t);let o=Sr(1);e&&(r?sr(r)&&(o=Ea(r)):o=Ea(t));const a=HL(i,n,r)?II(i):Sr(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const f=_n(i),p=r&&sr(r)?_n(r):r;let S=f,g=iy(S);for(;g&&r&&p!==S;){const E=Ea(g),w=g.getBoundingClientRect(),v=ir(g),T=w.left+(g.clientLeft+parseFloat(v.paddingLeft))*E.x,P=w.top+(g.clientTop+parseFloat(v.paddingTop))*E.y;l*=E.x,c*=E.y,d*=E.x,h*=E.y,l+=T,c+=P,S=_n(g),g=iy(S)}}return jh({width:d,height:h,x:l,y:c})}function $f(t,e){const n=Bf(t).scrollLeft;return e?e.left+n:vo(jr(t)).left+n}function AI(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-$f(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function GL(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=jr(r),a=e?Uf(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Sr(1);const d=Sr(0),h=Or(r);if((h||!h&&!i)&&((cl(r)!=="body"||_u(o))&&(l=Bf(r)),Or(r))){const p=vo(r);c=Ea(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const f=o&&!h&&!i?AI(o,l):Sr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+f.x,y:n.y*c.y-l.scrollTop*c.y+d.y+f.y}}function KL(t){return Array.from(t.getClientRects())}function qL(t){const e=jr(t),n=Bf(t),r=t.ownerDocument.body,s=gn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=gn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+$f(t);const a=-n.scrollTop;return ir(r).direction==="rtl"&&(o+=gn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}const ux=25;function QL(t,e){const n=_n(t),r=jr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const d=h0();(!d||d&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const c=$f(r);if(c<=0){const d=r.ownerDocument,h=d.body,f=getComputedStyle(h),p=d.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,S=Math.abs(r.clientWidth-h.clientWidth-p);S<=ux&&(i-=S)}else c<=ux&&(i+=c);return{width:i,height:o,x:a,y:l}}const YL=new Set(["absolute","fixed"]);function XL(t,e){const n=vo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Or(t)?Ea(t):Sr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function dx(t,e,n){let r;if(e==="viewport")r=QL(t,n);else if(e==="document")r=qL(jr(t));else if(sr(e))r=XL(e,n);else{const s=II(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return jh(r)}function PI(t,e){const n=mi(t);return n===e||!sr(n)||Wa(n)?!1:ir(n).position==="fixed"||PI(n,e)}function JL(t,e){const n=e.get(t);if(n)return n;let r=Hc(t,[],!1).filter(a=>sr(a)&&cl(a)!=="body"),s=null;const i=ir(t).position==="fixed";let o=i?mi(t):t;for(;sr(o)&&!Wa(o);){const a=ir(o),l=d0(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&YL.has(s.position)||_u(o)&&!l&&PI(t,o))?r=r.filter(d=>d!==o):s=a,o=mi(o)}return e.set(t,r),r}function ZL(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Uf(e)?[]:JL(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=dx(e,d,s);return c.top=gn(h.top,c.top),c.right=pi(h.right,c.right),c.bottom=pi(h.bottom,c.bottom),c.left=gn(h.left,c.left),c},dx(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function ej(t){const{width:e,height:n}=CI(t);return{width:e,height:n}}function tj(t,e,n){const r=Or(e),s=jr(e),i=n==="fixed",o=vo(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Sr(0);function c(){l.x=$f(s)}if(r||!r&&!i)if((cl(e)!=="body"||_u(s))&&(a=Bf(e)),r){const p=vo(e,!0,i,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else s&&c();i&&!r&&s&&c();const d=s&&!r&&!i?AI(s,a):Sr(0),h=o.left+a.scrollLeft-l.x-d.x,f=o.top+a.scrollTop-l.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function Em(t){return ir(t).position==="static"}function hx(t,e){if(!Or(t)||ir(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return jr(t)===n&&(n=n.ownerDocument.body),n}function RI(t,e){const n=_n(t);if(Uf(t))return n;if(!Or(t)){let s=mi(t);for(;s&&!Wa(s);){if(sr(s)&&!Em(s))return s;s=mi(s)}return n}let r=hx(t,e);for(;r&&LL(r)&&Em(r);)r=hx(r,e);return r&&Wa(r)&&Em(r)&&!d0(r)?n:r||$L(t)||n}const nj=async function(t){const e=this.getOffsetParent||RI,n=this.getDimensions,r=await n(t.floating);return{reference:tj(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function rj(t){return ir(t).direction==="rtl"}const sj={convertOffsetParentRelativeRectToViewportRelativeRect:GL,getDocumentElement:jr,getClippingRect:ZL,getOffsetParent:RI,getElementRects:nj,getClientRects:KL,getDimensions:ej,getScale:Ea,isElement:sr,isRTL:rj};function kI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function ij(t,e){let n=null,r;const s=jr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=c;if(a||e(),!f||!p)return;const S=gd(h),g=gd(s.clientWidth-(d+f)),E=gd(s.clientHeight-(h+p)),w=gd(d),T={rootMargin:-S+"px "+-g+"px "+-E+"px "+-w+"px",threshold:gn(0,pi(1,l))||1};let P=!0;function k(M){const C=M[0].intersectionRatio;if(C!==l){if(!P)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!kI(c,t.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(k,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(k,T)}n.observe(t)}return o(!0),i}function oj(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=f0(t),d=s||i?[...c?Hc(c):[],...Hc(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const h=c&&a?ij(c,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(w=>{let[v]=w;v&&v.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var T;(T=p)==null||T.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let S,g=l?vo(t):null;l&&E();function E(){const w=vo(t);g&&!kI(g,w)&&n(),g=w,S=requestAnimationFrame(E)}return n(),()=>{var w;d.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),h==null||h(),(w=p)==null||w.disconnect(),p=null,l&&cancelAnimationFrame(S)}}const aj=kL,lj=NL,cj=AL,uj=OL,dj=PL,fx=IL,hj=DL,fj=(t,e,n)=>{const r=new Map,s={platform:sj,...n},i={...s.platform,_c:r};return CL(t,e,{...s,platform:i})};var pj=typeof document<"u",mj=function(){},qd=pj?y.useLayoutEffect:mj;function Fh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Fh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Fh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function NI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function px(t,e){const n=NI(t);return Math.round(e*n)/n}function xm(t){const e=y.useRef(t);return qd(()=>{e.current=t}),e}function gj(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,h]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=y.useState(r);Fh(f,r)||p(r);const[S,g]=y.useState(null),[E,w]=y.useState(null),v=y.useCallback(j=>{j!==M.current&&(M.current=j,g(j))},[]),T=y.useCallback(j=>{j!==C.current&&(C.current=j,w(j))},[]),P=i||S,k=o||E,M=y.useRef(null),C=y.useRef(null),b=y.useRef(d),I=l!=null,R=xm(l),N=xm(s),O=xm(c),D=y.useCallback(()=>{if(!M.current||!C.current)return;const j={placement:e,strategy:n,middleware:f};N.current&&(j.platform=N.current),fj(M.current,C.current,j).then(U=>{const G={...U,isPositioned:O.current!==!1};Y.current&&!Fh(b.current,G)&&(b.current=G,ol.flushSync(()=>{h(G)}))})},[f,e,n,N,O]);qd(()=>{c===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,h(j=>({...j,isPositioned:!1})))},[c]);const Y=y.useRef(!1);qd(()=>(Y.current=!0,()=>{Y.current=!1}),[]),qd(()=>{if(P&&(M.current=P),k&&(C.current=k),P&&k){if(R.current)return R.current(P,k,D);D()}},[P,k,D,R,I]);const ue=y.useMemo(()=>({reference:M,floating:C,setReference:v,setFloating:T}),[v,T]),J=y.useMemo(()=>({reference:P,floating:k}),[P,k]),X=y.useMemo(()=>{const j={position:n,left:0,top:0};if(!J.floating)return j;const U=px(J.floating,d.x),G=px(J.floating,d.y);return a?{...j,transform:"translate("+U+"px, "+G+"px)",...NI(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:G}},[n,a,J.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:D,refs:ue,elements:J,floatingStyles:X}),[d,D,ue,J,X])}const yj=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?fx({element:r.current,padding:s}).fn(n):{}:r?fx({element:r,padding:s}).fn(n):{}}}},vj=(t,e)=>({...aj(t),options:[t,e]}),wj=(t,e)=>({...lj(t),options:[t,e]}),_j=(t,e)=>({...hj(t),options:[t,e]}),Ej=(t,e)=>({...cj(t),options:[t,e]}),xj=(t,e)=>({...uj(t),options:[t,e]}),Tj=(t,e)=>({...dj(t),options:[t,e]}),Sj=(t,e)=>({...yj(t),options:[t,e]});var bj="Arrow",DI=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return _.jsx(Ae.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:_.jsx("polygon",{points:"0,0 30,0 15,10"})})});DI.displayName=bj;var Cj=DI;function Ij(t){const[e,n]=y.useState(void 0);return Ht(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var p0="Popper",[OI,zf]=Po(p0),[Aj,MI]=OI(p0),VI=t=>{const{__scopePopper:e,children:n}=t,[r,s]=y.useState(null);return _.jsx(Aj,{scope:e,anchor:r,onAnchorChange:s,children:n})};VI.displayName=p0;var LI="PopperAnchor",jI=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=MI(LI,n),o=y.useRef(null),a=Ge(e,o),l=y.useRef(null);return y.useEffect(()=>{const c=l.current;l.current=(r==null?void 0:r.current)||o.current,c!==l.current&&i.onAnchorChange(l.current)}),r?null:_.jsx(Ae.div,{...s,ref:a})});jI.displayName=LI;var m0="PopperContent",[Pj,Rj]=OI(m0),FI=y.forwardRef((t,e)=>{var K,be,Le,Ce,ve,xe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:S,...g}=t,E=MI(m0,n),[w,v]=y.useState(null),T=Ge(e,ot=>v(ot)),[P,k]=y.useState(null),M=Ij(P),C=(M==null?void 0:M.width)??0,b=(M==null?void 0:M.height)??0,I=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(c)?c:[c],O=N.length>0,D={padding:R,boundary:N.filter(Nj),altBoundary:O},{refs:Y,floatingStyles:ue,placement:J,isPositioned:X,middlewareData:j}=gj({strategy:"fixed",placement:I,whileElementsMounted:(...ot)=>oj(...ot,{animationFrame:p==="always"}),elements:{reference:E.anchor},middleware:[vj({mainAxis:s+b,alignmentAxis:o}),l&&wj({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?_j():void 0,...D}),l&&Ej({...D}),xj({...D,apply:({elements:ot,rects:qt,availableWidth:Br,availableHeight:In})=>{const{width:Un,height:ms}=qt.reference,Ke=ot.floating.style;Ke.setProperty("--radix-popper-available-width",`${Br}px`),Ke.setProperty("--radix-popper-available-height",`${In}px`),Ke.setProperty("--radix-popper-anchor-width",`${Un}px`),Ke.setProperty("--radix-popper-anchor-height",`${ms}px`)}}),P&&Sj({element:P,padding:a}),Dj({arrowWidth:C,arrowHeight:b}),f&&Tj({strategy:"referenceHidden",...D})]}),[U,G]=$I(J),ie=fi(S);Ht(()=>{X&&(ie==null||ie())},[X,ie]);const ee=(K=j.arrow)==null?void 0:K.x,me=(be=j.arrow)==null?void 0:be.y,le=((Le=j.arrow)==null?void 0:Le.centerOffset)!==0,[ke,Oe]=y.useState();return Ht(()=>{w&&Oe(window.getComputedStyle(w).zIndex)},[w]),_.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...ue,transform:X?ue.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[(Ce=j.transformOrigin)==null?void 0:Ce.x,(ve=j.transformOrigin)==null?void 0:ve.y].join(" "),...((xe=j.hide)==null?void 0:xe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:_.jsx(Pj,{scope:n,placedSide:U,onArrowChange:k,arrowX:ee,arrowY:me,shouldHideArrow:le,children:_.jsx(Ae.div,{"data-side":U,"data-align":G,...g,ref:T,style:{...g.style,animation:X?void 0:"none"}})})})});FI.displayName=m0;var UI="PopperArrow",kj={top:"bottom",right:"left",bottom:"top",left:"right"},BI=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=Rj(UI,r),o=kj[i.placedSide];return _.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:_.jsx(Cj,{...s,ref:n,style:{...s.style,display:"block"}})})});BI.displayName=UI;function Nj(t){return t!==null}var Dj=t=>({name:"transformOrigin",options:t,fn(e){var E,w,v;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=$I(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,p=(((v=s.arrow)==null?void 0:v.y)??0)+l/2;let S="",g="";return c==="bottom"?(S=o?h:`${f}px`,g=`${-l}px`):c==="top"?(S=o?h:`${f}px`,g=`${r.floating.height+l}px`):c==="right"?(S=`${-l}px`,g=o?h:`${p}px`):c==="left"&&(S=`${r.floating.width+l}px`,g=o?h:`${p}px`),{data:{x:S,y:g}}}});function $I(t){const[e,n="center"]=t.split("-");return[e,n]}var Oj=VI,zI=jI,WI=FI,HI=BI,Mj="Portal",g0=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=y.useState(!1);Ht(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?vI.createPortal(_.jsx(Ae.div,{...r,ref:e}),o):null});g0.displayName=Mj;function Vj(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var ul=t=>{const{present:e,children:n}=t,r=Lj(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=Ge(r.ref,jj(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};ul.displayName="Presence";function Lj(t){const[e,n]=y.useState(),r=y.useRef(null),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Vj(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const c=yd(r.current);i.current=a==="mounted"?c:"none"},[a]),Ht(()=>{const c=r.current,d=s.current;if(d!==t){const f=i.current,p=yd(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Ht(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=p=>{const g=yd(r.current).includes(CSS.escape(p.animationName));if(p.target===e&&g&&(l("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},f=p=>{p.target===e&&(i.current=yd(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function yd(t){return(t==null?void 0:t.animationName)||"none"}function jj(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Fj=Symbol("radix.slottable");function Uj(t){const e=({children:n})=>_.jsx(_.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Fj,e}var Bj=xf[" useInsertionEffect ".trim().toString()]||Ht;function Gc({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=$j({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const d=y.useRef(t!==void 0);y.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=y.useCallback(d=>{var h;if(a){const f=zj(d)?d(t):d;f!==t&&((h=o.current)==null||h.call(o,f))}else i(d)},[a,t,i,o]);return[l,c]}function $j({defaultProp:t,onChange:e}){const[n,r]=y.useState(t),s=y.useRef(n),i=y.useRef(e);return Bj(()=>{i.current=e},[e]),y.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function zj(t){return typeof t=="function"}var GI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Wj="VisuallyHidden",KI=y.forwardRef((t,e)=>_.jsx(Ae.span,{...t,ref:e,style:{...GI,...t.style}}));KI.displayName=Wj;var Hj=KI,[Wf]=Po("Tooltip",[zf]),y0=zf(),qI="TooltipProvider",Gj=700,mx="tooltip.open",[Kj,QI]=Wf(qI),YI=t=>{const{__scopeTooltip:e,delayDuration:n=Gj,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=y.useRef(!0),a=y.useRef(!1),l=y.useRef(0);return y.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),_.jsx(Kj,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:y.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};YI.displayName=qI;var XI="Tooltip",[NQ,Hf]=Wf(XI),oy="TooltipTrigger",qj=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Hf(oy,n),i=QI(oy,n),o=y0(n),a=y.useRef(null),l=Ge(e,a,s.onTriggerChange),c=y.useRef(!1),d=y.useRef(!1),h=y.useCallback(()=>c.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),_.jsx(zI,{asChild:!0,...o,children:_.jsx(Ae.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:pe(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:pe(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:pe(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:pe(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:pe(t.onBlur,s.onClose),onClick:pe(t.onClick,s.onClose)})})});qj.displayName=oy;var Qj="TooltipPortal",[DQ,Yj]=Wf(Qj,{forceMount:void 0}),Ha="TooltipContent",JI=y.forwardRef((t,e)=>{const n=Yj(Ha,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Hf(Ha,t.__scopeTooltip);return _.jsx(ul,{present:r||o.open,children:o.disableHoverableContent?_.jsx(ZI,{side:s,...i,ref:e}):_.jsx(Xj,{side:s,...i,ref:e})})}),Xj=y.forwardRef((t,e)=>{const n=Hf(Ha,t.__scopeTooltip),r=QI(Ha,t.__scopeTooltip),s=y.useRef(null),i=Ge(e,s),[o,a]=y.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:h}=r,f=y.useCallback(()=>{a(null),h(!1)},[h]),p=y.useCallback((S,g)=>{const E=S.currentTarget,w={x:S.clientX,y:S.clientY},v=nF(w,E.getBoundingClientRect()),T=rF(w,v),P=sF(g.getBoundingClientRect()),k=oF([...T,...P]);a(k),h(!0)},[h]);return y.useEffect(()=>()=>f(),[f]),y.useEffect(()=>{if(l&&d){const S=E=>p(E,d),g=E=>p(E,l);return l.addEventListener("pointerleave",S),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",S),d.removeEventListener("pointerleave",g)}}},[l,d,p,f]),y.useEffect(()=>{if(o){const S=g=>{const E=g.target,w={x:g.clientX,y:g.clientY},v=(l==null?void 0:l.contains(E))||(d==null?void 0:d.contains(E)),T=!iF(w,o);v?f():T&&(f(),c())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[l,d,o,c,f]),_.jsx(ZI,{...t,ref:i})}),[Jj,Zj]=Wf(XI,{isInside:!1}),eF=Uj("TooltipContent"),ZI=y.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Hf(Ha,n),c=y0(n),{onClose:d}=l;return y.useEffect(()=>(document.addEventListener(mx,d),()=>document.removeEventListener(mx,d)),[d]),y.useEffect(()=>{if(l.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),_.jsx(jf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:_.jsxs(WI,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[_.jsx(eF,{children:r}),_.jsx(Jj,{scope:n,isInside:!0,children:_.jsx(Hj,{id:l.contentId,role:"tooltip",children:s||r})})]})})});JI.displayName=Ha;var eA="TooltipArrow",tF=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=y0(n);return Zj(eA,n).isInside?null:_.jsx(HI,{...s,...r,ref:e})});tF.displayName=eA;function nF(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function rF(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function sF(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function iF(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,d=a.y,h=l.x,f=l.y;d>r!=f>r&&n<(h-c)*(r-d)/(f-d)+c&&(s=!s)}return s}function oF(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),aF(e)}function aF(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var lF=YI,tA=JI;function nA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=nA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function rA(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=nA(t))&&(r&&(r+=" "),r+=e);return r}const v0="-",cF=t=>{const e=dF(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(v0);return a[0]===""&&a.length!==1&&a.shift(),sA(a,e)||uF(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},sA=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?sA(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(v0);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},gx=/^\[(.+)\]$/,uF=t=>{if(gx.test(t)){const e=gx.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},dF=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return fF(Object.entries(t.classGroups),n).forEach(([i,o])=>{ay(o,r,i,e)}),r},ay=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:yx(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(hF(s)){ay(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{ay(o,yx(e,i),n,r)})})},yx=(t,e)=>{let n=t;return e.split(v0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},hF=t=>t.isThemeGetter,fF=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,pF=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},iA="!",mF=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,h;for(let E=0;E<a.length;E++){let w=a[E];if(c===0){if(w===s&&(r||a.slice(E,E+i)===e)){l.push(a.slice(d,E)),d=E+i;continue}if(w==="/"){h=E;continue}}w==="["?c++:w==="]"&&c--}const f=l.length===0?a:a.substring(d),p=f.startsWith(iA),S=p?f.substring(1):f,g=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:S,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},gF=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},yF=t=>({cache:pF(t.cacheSize),parseClassName:mF(t),...cF(t)}),vF=/\s+/,wF=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(vF);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=n(c);let S=!!p,g=r(S?f.substring(0,p):f);if(!g){if(!S){a=c+(a.length>0?" "+a:a);continue}if(g=r(f),!g){a=c+(a.length>0?" "+a:a);continue}S=!1}const E=gF(d).join(":"),w=h?E+iA:E,v=w+g;if(i.includes(v))continue;i.push(v);const T=s(g,S);for(let P=0;P<T.length;++P){const k=T[P];i.push(w+k)}a=c+(a.length>0?" "+a:a)}return a};function _F(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=oA(e))&&(r&&(r+=" "),r+=n);return r}const oA=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=oA(t[r]))&&(n&&(n+=" "),n+=e);return n};function EF(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,h)=>h(d),t());return n=yF(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=wF(l,n);return s(l,d),d}return function(){return i(_F.apply(null,arguments))}}const Fe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},aA=/^\[(?:([a-z-]+):)?(.+)\]$/i,xF=/^\d+\/\d+$/,TF=new Set(["px","full","screen"]),SF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,CF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,IF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,AF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wr=t=>xa(t)||TF.has(t)||xF.test(t),Ss=t=>dl(t,"length",VF),xa=t=>!!t&&!Number.isNaN(Number(t)),Tm=t=>dl(t,"number",xa),Wl=t=>!!t&&Number.isInteger(Number(t)),PF=t=>t.endsWith("%")&&xa(t.slice(0,-1)),he=t=>aA.test(t),bs=t=>SF.test(t),RF=new Set(["length","size","percentage"]),kF=t=>dl(t,RF,lA),NF=t=>dl(t,"position",lA),DF=new Set(["image","url"]),OF=t=>dl(t,DF,jF),MF=t=>dl(t,"",LF),Hl=()=>!0,dl=(t,e,n)=>{const r=aA.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},VF=t=>bF.test(t)&&!CF.test(t),lA=()=>!1,LF=t=>IF.test(t),jF=t=>AF.test(t),FF=()=>{const t=Fe("colors"),e=Fe("spacing"),n=Fe("blur"),r=Fe("brightness"),s=Fe("borderColor"),i=Fe("borderRadius"),o=Fe("borderSpacing"),a=Fe("borderWidth"),l=Fe("contrast"),c=Fe("grayscale"),d=Fe("hueRotate"),h=Fe("invert"),f=Fe("gap"),p=Fe("gradientColorStops"),S=Fe("gradientColorStopPositions"),g=Fe("inset"),E=Fe("margin"),w=Fe("opacity"),v=Fe("padding"),T=Fe("saturate"),P=Fe("scale"),k=Fe("sepia"),M=Fe("skew"),C=Fe("space"),b=Fe("translate"),I=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",he,e],O=()=>[he,e],D=()=>["",Wr,Ss],Y=()=>["auto",xa,he],ue=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",he],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[xa,he];return{cacheSize:500,separator:":",theme:{colors:[Hl],spacing:[Wr,Ss],blur:["none","",bs,he],brightness:ie(),borderColor:[t],borderRadius:["none","","full",bs,he],borderSpacing:O(),borderWidth:D(),contrast:ie(),grayscale:U(),hueRotate:ie(),invert:U(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[PF,Ss],inset:N(),margin:N(),opacity:ie(),padding:O(),saturate:ie(),scale:ie(),sepia:U(),skew:ie(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",he]}],container:["container"],columns:[{columns:[bs]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ue(),he]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wl,he]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",he]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Wl,he]}],"grid-cols":[{"grid-cols":[Hl]}],"col-start-end":[{col:["auto",{span:["full",Wl,he]},he]}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":[Hl]}],"row-start-end":[{row:["auto",{span:[Wl,he]},he]}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",he]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",he]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",he,e]}],"min-w":[{"min-w":[he,e,"min","max","fit"]}],"max-w":[{"max-w":[he,e,"none","full","min","max","fit","prose",{screen:[bs]},bs]}],h:[{h:[he,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[he,e,"auto","min","max","fit"]}],"font-size":[{text:["base",bs,Ss]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Tm]}],"font-family":[{font:[Hl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",he]}],"line-clamp":[{"line-clamp":["none",xa,Tm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wr,he]}],"list-image":[{"list-image":["none",he]}],"list-style-type":[{list:["none","disc","decimal",he]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wr,Ss]}],"underline-offset":[{"underline-offset":["auto",Wr,he]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ue(),NF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",kF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},OF]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:J()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[Wr,he]}],"outline-w":[{outline:[Wr,Ss]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Wr,Ss]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",bs,MF]}],"shadow-color":[{shadow:[Hl]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",bs,he]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[T]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",he]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",he]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",he]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Wl,he]}],"translate-x":[{"translate-x":[b]}],"translate-y":[{"translate-y":[b]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Wr,Ss,Tm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},UF=EF(FF);function ge(...t){return UF(rA(t))}const BF=lF,$F=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>_.jsx(tA,{ref:r,sideOffset:e,className:ge("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));$F.displayName=tA.displayName;var Gf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},zF={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Fs,fv,Yb,WF=(Yb=class{constructor(){Te(this,Fs,zF);Te(this,fv,!1)}setTimeoutProvider(t){ae(this,Fs,t)}setTimeout(t,e){return F(this,Fs).setTimeout(t,e)}clearTimeout(t){F(this,Fs).clearTimeout(t)}setInterval(t,e){return F(this,Fs).setInterval(t,e)}clearInterval(t){F(this,Fs).clearInterval(t)}},Fs=new WeakMap,fv=new WeakMap,Yb),ly=new WF;function HF(t){setTimeout(t,0)}var Kf=typeof window>"u"||"Deno"in globalThis;function qn(){}function GF(t,e){return typeof t=="function"?t(e):t}function KF(t){return typeof t=="number"&&t>=0&&t!==1/0}function qF(t,e){return Math.max(t+(e||0)-Date.now(),0)}function cy(t,e){return typeof t=="function"?t(e):t}function QF(t,e){return typeof t=="function"?t(e):t}function vx(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==w0(o,e.options))return!1}else if(!qc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function wx(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Kc(e.options.mutationKey)!==Kc(i))return!1}else if(!qc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function w0(t,e){return((e==null?void 0:e.queryKeyHashFn)||Kc)(t)}function Kc(t){return JSON.stringify(t,(e,n)=>uy(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function qc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>qc(t[n],e[n])):!1}var YF=Object.prototype.hasOwnProperty;function cA(t,e){if(t===e)return t;const n=_x(t)&&_x(e);if(!n&&!(uy(t)&&uy(e)))return e;const s=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),o=i.length,a=n?new Array(o):{};let l=0;for(let c=0;c<o;c++){const d=n?c:i[c],h=t[d],f=e[d];if(h===f){a[d]=h,(n?c<s:YF.call(t,d))&&l++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){a[d]=f;continue}const p=cA(h,f);a[d]=p,p===h&&l++}return s===o&&l===s?t:a}function _x(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function uy(t){if(!Ex(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Ex(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Ex(t){return Object.prototype.toString.call(t)==="[object Object]"}function XF(t){return new Promise(e=>{ly.setTimeout(e,t)})}function JF(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?cA(t,e):e}function ZF(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function e4(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var _0=Symbol();function uA(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===_0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var eo,Us,Pa,Xb,t4=(Xb=class extends Gf{constructor(){super();Te(this,eo);Te(this,Us);Te(this,Pa);ae(this,Pa,e=>{if(!Kf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){F(this,Us)||this.setEventListener(F(this,Pa))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,Us))==null||e.call(this),ae(this,Us,void 0))}setEventListener(e){var n;ae(this,Pa,e),(n=F(this,Us))==null||n.call(this),ae(this,Us,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){F(this,eo)!==e&&(ae(this,eo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof F(this,eo)=="boolean"?F(this,eo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},eo=new WeakMap,Us=new WeakMap,Pa=new WeakMap,Xb),dA=new t4;function n4(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var r4=HF;function s4(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=r4;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Jt=s4(),Ra,Bs,ka,Jb,i4=(Jb=class extends Gf{constructor(){super();Te(this,Ra,!0);Te(this,Bs);Te(this,ka);ae(this,ka,e=>{if(!Kf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){F(this,Bs)||this.setEventListener(F(this,ka))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,Bs))==null||e.call(this),ae(this,Bs,void 0))}setEventListener(e){var n;ae(this,ka,e),(n=F(this,Bs))==null||n.call(this),ae(this,Bs,e(this.setOnline.bind(this)))}setOnline(e){F(this,Ra)!==e&&(ae(this,Ra,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return F(this,Ra)}},Ra=new WeakMap,Bs=new WeakMap,ka=new WeakMap,Jb),Uh=new i4;function o4(t){return Math.min(1e3*2**t,3e4)}function hA(t){return(t??"online")==="online"?Uh.isOnline():!0}var dy=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function fA(t){let e=!1,n=0,r;const s=n4(),i=()=>s.status!=="pending",o=g=>{var E;if(!i()){const w=new dy(g);f(w),(E=t.onCancel)==null||E.call(t,w)}},a=()=>{e=!0},l=()=>{e=!1},c=()=>dA.isFocused()&&(t.networkMode==="always"||Uh.isOnline())&&t.canRun(),d=()=>hA(t.networkMode)&&t.canRun(),h=g=>{i()||(r==null||r(),s.resolve(g))},f=g=>{i()||(r==null||r(),s.reject(g))},p=()=>new Promise(g=>{var E;r=w=>{(i()||c())&&g(w)},(E=t.onPause)==null||E.call(t)}).then(()=>{var g;r=void 0,i()||(g=t.onContinue)==null||g.call(t)}),S=()=>{if(i())return;let g;const E=n===0?t.initialPromise:void 0;try{g=E??t.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(h).catch(w=>{var M;if(i())return;const v=t.retry??(Kf?0:3),T=t.retryDelay??o4,P=typeof T=="function"?T(n,w):T,k=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,w);if(e||!k){f(w);return}n++,(M=t.onFail)==null||M.call(t,n,w),XF(P).then(()=>c()?void 0:p()).then(()=>{e?f(w):S()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?S():p().then(S),s)}}var to,Zb,pA=(Zb=class{constructor(){Te(this,to)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),KF(this.gcTime)&&ae(this,to,ly.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Kf?1/0:5*60*1e3))}clearGcTimeout(){F(this,to)&&(ly.clearTimeout(F(this,to)),ae(this,to,void 0))}},to=new WeakMap,Zb),no,Na,kn,ro,xt,hu,so,Qn,Hr,e1,a4=(e1=class extends pA{constructor(n){super();Te(this,Qn);Te(this,no);Te(this,Na);Te(this,kn);Te(this,ro);Te(this,xt);Te(this,hu);Te(this,so);ae(this,so,!1),ae(this,hu,n.defaultOptions),this.setOptions(n.options),this.observers=[],ae(this,ro,n.client),ae(this,kn,F(this,ro).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ae(this,no,Tx(this.options)),this.state=n.state??F(this,no),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=F(this,xt))==null?void 0:n.promise}setOptions(n){if(this.options={...F(this,hu),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Tx(this.options);r.data!==void 0&&(this.setState(xx(r.data,r.dataUpdatedAt)),ae(this,no,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,kn).remove(this)}setData(n,r){const s=JF(this.state.data,n,this.options);return Mt(this,Qn,Hr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Mt(this,Qn,Hr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=F(this,xt))==null?void 0:s.promise;return(i=F(this,xt))==null||i.cancel(n),r?r.then(qn).catch(qn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,no))}isActive(){return this.observers.some(n=>QF(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>cy(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!qF(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,xt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,xt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),F(this,kn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(F(this,xt)&&(F(this,so)?F(this,xt).cancel({revert:!0}):F(this,xt).cancelRetry()),this.scheduleGc()),F(this,kn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Mt(this,Qn,Hr).call(this,{type:"invalidate"})}async fetch(n,r){var c,d,h,f,p,S,g,E,w,v,T,P;if(this.state.fetchStatus!=="idle"&&((c=F(this,xt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,xt))return F(this,xt).continueRetry(),F(this,xt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const k=this.observers.find(M=>M.options.queryFn);k&&this.setOptions(k.options)}const s=new AbortController,i=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(ae(this,so,!0),s.signal)})},o=()=>{const k=uA(this.options,r),C=(()=>{const b={client:F(this,ro),queryKey:this.queryKey,meta:this.meta};return i(b),b})();return ae(this,so,!1),this.options.persister?this.options.persister(k,C,this):k(C)},l=(()=>{const k={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:F(this,ro),state:this.state,fetchFn:o};return i(k),k})();(d=this.options.behavior)==null||d.onFetch(l,this),ae(this,Na,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&Mt(this,Qn,Hr).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),ae(this,xt,fA({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:k=>{k instanceof dy&&k.revert&&this.setState({...F(this,Na),fetchStatus:"idle"}),s.abort()},onFail:(k,M)=>{Mt(this,Qn,Hr).call(this,{type:"failed",failureCount:k,error:M})},onPause:()=>{Mt(this,Qn,Hr).call(this,{type:"pause"})},onContinue:()=>{Mt(this,Qn,Hr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const k=await F(this,xt).start();if(k===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(k),(S=(p=F(this,kn).config).onSuccess)==null||S.call(p,k,this),(E=(g=F(this,kn).config).onSettled)==null||E.call(g,k,this.state.error,this),k}catch(k){if(k instanceof dy){if(k.silent)return F(this,xt).promise;if(k.revert){if(this.state.data===void 0)throw k;return this.state.data}}throw Mt(this,Qn,Hr).call(this,{type:"error",error:k}),(v=(w=F(this,kn).config).onError)==null||v.call(w,k,this),(P=(T=F(this,kn).config).onSettled)==null||P.call(T,this.state.data,k,this),k}finally{this.scheduleGc()}}},no=new WeakMap,Na=new WeakMap,kn=new WeakMap,ro=new WeakMap,xt=new WeakMap,hu=new WeakMap,so=new WeakMap,Qn=new WeakSet,Hr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...l4(s.data,this.options),fetchMeta:n.meta??null};case"success":const i={...s,...xx(n.data,n.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ae(this,Na,n.manual?i:void 0),i;case"error":const o=n.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Jt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),F(this,kn).notify({query:this,type:"updated",action:n})})},e1);function l4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:hA(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function xx(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Tx(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function Sx(t){return{onFetch:(e,n)=>{var d,h,f,p,S;const r=e.options,s=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((S=e.state.data)==null?void 0:S.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const E=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},w=uA(e.options,e.fetchOptions),v=async(T,P,k)=>{if(g)return Promise.reject();if(P==null&&T.pages.length)return Promise.resolve(T);const C=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:P,direction:k?"backward":"forward",meta:e.options.meta};return E(N),N})(),b=await w(C),{maxPages:I}=e.options,R=k?e4:ZF;return{pages:R(T.pages,b,I),pageParams:R(T.pageParams,P,I)}};if(s&&i.length){const T=s==="backward",P=T?c4:bx,k={pages:i,pageParams:o},M=P(r,k);a=await v(k,M,T)}else{const T=t??i.length;do{const P=l===0?o[0]??r.initialPageParam:bx(r,a);if(l>0&&P==null)break;a=await v(a,P),l++}while(l<T)}return a};e.options.persister?e.fetchFn=()=>{var g,E;return(E=(g=e.options).persister)==null?void 0:E.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function bx(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function c4(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var fu,gr,Yt,io,yr,Is,t1,u4=(t1=class extends pA{constructor(n){super();Te(this,yr);Te(this,fu);Te(this,gr);Te(this,Yt);Te(this,io);ae(this,fu,n.client),this.mutationId=n.mutationId,ae(this,Yt,n.mutationCache),ae(this,gr,[]),this.state=n.state||d4(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){F(this,gr).includes(n)||(F(this,gr).push(n),this.clearGcTimeout(),F(this,Yt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ae(this,gr,F(this,gr).filter(r=>r!==n)),this.scheduleGc(),F(this,Yt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){F(this,gr).length||(this.state.status==="pending"?this.scheduleGc():F(this,Yt).remove(this))}continue(){var n;return((n=F(this,io))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,l,c,d,h,f,p,S,g,E,w,v,T,P,k,M,C,b,I,R;const r=()=>{Mt(this,yr,Is).call(this,{type:"continue"})},s={client:F(this,fu),meta:this.options.meta,mutationKey:this.options.mutationKey};ae(this,io,fA({fn:()=>this.options.mutationFn?this.options.mutationFn(n,s):Promise.reject(new Error("No mutationFn found")),onFail:(N,O)=>{Mt(this,yr,Is).call(this,{type:"failed",failureCount:N,error:O})},onPause:()=>{Mt(this,yr,Is).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,Yt).canRun(this)}));const i=this.state.status==="pending",o=!F(this,io).canStart();try{if(i)r();else{Mt(this,yr,Is).call(this,{type:"pending",variables:n,isPaused:o}),await((l=(a=F(this,Yt).config).onMutate)==null?void 0:l.call(a,n,this,s));const O=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,n,s));O!==this.state.context&&Mt(this,yr,Is).call(this,{type:"pending",context:O,variables:n,isPaused:o})}const N=await F(this,io).start();return await((f=(h=F(this,Yt).config).onSuccess)==null?void 0:f.call(h,N,n,this.state.context,this,s)),await((S=(p=this.options).onSuccess)==null?void 0:S.call(p,N,n,this.state.context,s)),await((E=(g=F(this,Yt).config).onSettled)==null?void 0:E.call(g,N,null,this.state.variables,this.state.context,this,s)),await((v=(w=this.options).onSettled)==null?void 0:v.call(w,N,null,n,this.state.context,s)),Mt(this,yr,Is).call(this,{type:"success",data:N}),N}catch(N){try{throw await((P=(T=F(this,Yt).config).onError)==null?void 0:P.call(T,N,n,this.state.context,this,s)),await((M=(k=this.options).onError)==null?void 0:M.call(k,N,n,this.state.context,s)),await((b=(C=F(this,Yt).config).onSettled)==null?void 0:b.call(C,void 0,N,this.state.variables,this.state.context,this,s)),await((R=(I=this.options).onSettled)==null?void 0:R.call(I,void 0,N,n,this.state.context,s)),N}finally{Mt(this,yr,Is).call(this,{type:"error",error:N})}}finally{F(this,Yt).runNext(this)}}},fu=new WeakMap,gr=new WeakMap,Yt=new WeakMap,io=new WeakMap,yr=new WeakSet,Is=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Jt.batch(()=>{F(this,gr).forEach(s=>{s.onMutationUpdate(n)}),F(this,Yt).notify({mutation:this,type:"updated",action:n})})},t1);function d4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qr,Yn,pu,n1,h4=(n1=class extends Gf{constructor(e={}){super();Te(this,qr);Te(this,Yn);Te(this,pu);this.config=e,ae(this,qr,new Set),ae(this,Yn,new Map),ae(this,pu,0)}build(e,n,r){const s=new u4({client:e,mutationCache:this,mutationId:++Xu(this,pu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){F(this,qr).add(e);const n=vd(e);if(typeof n=="string"){const r=F(this,Yn).get(n);r?r.push(e):F(this,Yn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(F(this,qr).delete(e)){const n=vd(e);if(typeof n=="string"){const r=F(this,Yn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&F(this,Yn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=vd(e);if(typeof n=="string"){const r=F(this,Yn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=vd(e);if(typeof n=="string"){const s=(r=F(this,Yn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Jt.batch(()=>{F(this,qr).forEach(e=>{this.notify({type:"removed",mutation:e})}),F(this,qr).clear(),F(this,Yn).clear()})}getAll(){return Array.from(F(this,qr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>wx(n,r))}findAll(e={}){return this.getAll().filter(n=>wx(e,n))}notify(e){Jt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Jt.batch(()=>Promise.all(e.map(n=>n.continue().catch(qn))))}},qr=new WeakMap,Yn=new WeakMap,pu=new WeakMap,n1);function vd(t){var e;return(e=t.options.scope)==null?void 0:e.id}var vr,r1,f4=(r1=class extends Gf{constructor(e={}){super();Te(this,vr);this.config=e,ae(this,vr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??w0(s,n);let o=this.get(i);return o||(o=new a4({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){F(this,vr).has(e.queryHash)||(F(this,vr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=F(this,vr).get(e.queryHash);n&&(e.destroy(),n===e&&F(this,vr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Jt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return F(this,vr).get(e)}getAll(){return[...F(this,vr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>vx(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>vx(e,r)):n}notify(e){Jt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Jt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Jt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},vr=new WeakMap,r1),et,$s,zs,Da,Oa,Ws,Ma,Va,s1,p4=(s1=class{constructor(t={}){Te(this,et);Te(this,$s);Te(this,zs);Te(this,Da);Te(this,Oa);Te(this,Ws);Te(this,Ma);Te(this,Va);ae(this,et,t.queryCache||new f4),ae(this,$s,t.mutationCache||new h4),ae(this,zs,t.defaultOptions||{}),ae(this,Da,new Map),ae(this,Oa,new Map),ae(this,Ws,0)}mount(){Xu(this,Ws)._++,F(this,Ws)===1&&(ae(this,Ma,dA.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,et).onFocus())})),ae(this,Va,Uh.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,et).onOnline())})))}unmount(){var t,e;Xu(this,Ws)._--,F(this,Ws)===0&&((t=F(this,Ma))==null||t.call(this),ae(this,Ma,void 0),(e=F(this,Va))==null||e.call(this),ae(this,Va,void 0))}isFetching(t){return F(this,et).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return F(this,$s).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,et).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=F(this,et).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(cy(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return F(this,et).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=F(this,et).get(r.queryHash),i=s==null?void 0:s.state.data,o=GF(e,i);if(o!==void 0)return F(this,et).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Jt.batch(()=>F(this,et).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,et).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=F(this,et);Jt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=F(this,et);return Jt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Jt.batch(()=>F(this,et).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(qn).catch(qn)}invalidateQueries(t,e={}){return Jt.batch(()=>(F(this,et).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Jt.batch(()=>F(this,et).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(qn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(qn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=F(this,et).build(this,e);return n.isStaleByTime(cy(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(qn).catch(qn)}fetchInfiniteQuery(t){return t.behavior=Sx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(qn).catch(qn)}ensureInfiniteQueryData(t){return t.behavior=Sx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Uh.isOnline()?F(this,$s).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,et)}getMutationCache(){return F(this,$s)}getDefaultOptions(){return F(this,zs)}setDefaultOptions(t){ae(this,zs,t)}setQueryDefaults(t,e){F(this,Da).set(Kc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...F(this,Da).values()],n={};return e.forEach(r=>{qc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){F(this,Oa).set(Kc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...F(this,Oa).values()],n={};return e.forEach(r=>{qc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...F(this,zs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=w0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===_0&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...F(this,zs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){F(this,et).clear(),F(this,$s).clear()}},et=new WeakMap,$s=new WeakMap,zs=new WeakMap,Da=new WeakMap,Oa=new WeakMap,Ws=new WeakMap,Ma=new WeakMap,Va=new WeakMap,s1),m4=y.createContext(void 0),g4=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),_.jsx(m4.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qc(){return Qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qc.apply(this,arguments)}var Ks;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ks||(Ks={}));const Cx="popstate";function y4(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return hy("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:mA(s)}return w4(e,n,null,t)}function ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function E0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function v4(){return Math.random().toString(36).substr(2,8)}function Ix(t,e){return{usr:t.state,key:t.key,idx:e}}function hy(t,e,n,r){return n===void 0&&(n=null),Qc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?hl(e):e,{state:n,key:e&&e.key||r||v4()})}function mA(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function hl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function w4(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ks.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Qc({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Ks.Pop;let E=d(),w=E==null?null:E-c;c=E,l&&l({action:a,location:g.location,delta:w})}function f(E,w){a=Ks.Push;let v=hy(g.location,E,w);c=d()+1;let T=Ix(v,c),P=g.createHref(v);try{o.pushState(T,"",P)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(P)}i&&l&&l({action:a,location:g.location,delta:1})}function p(E,w){a=Ks.Replace;let v=hy(g.location,E,w);c=d();let T=Ix(v,c),P=g.createHref(v);o.replaceState(T,"",P),i&&l&&l({action:a,location:g.location,delta:0})}function S(E){let w=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof E=="string"?E:mA(E);return v=v.replace(/ $/,"%20"),ut(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let g={get action(){return a},get location(){return t(s,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Cx,h),l=E,()=>{s.removeEventListener(Cx,h),l=null}},createHref(E){return e(s,E)},createURL:S,encodeLocation(E){let w=S(E);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:p,go(E){return o.go(E)}};return g}var Ax;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ax||(Ax={}));function _4(t,e,n){return n===void 0&&(n="/"),E4(t,e,n)}function E4(t,e,n,r){let s=typeof e=="string"?hl(e):e,i=vA(s.pathname||"/",n);if(i==null)return null;let o=gA(t);x4(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=O4(i);a=k4(o[l],c)}return a}function gA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ut(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=lo([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(ut(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),gA(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:P4(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of yA(i.path))s(i,o,l)}),e}function yA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=yA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function x4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:R4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const T4=/^:[\w-]+$/,S4=3,b4=2,C4=1,I4=10,A4=-2,Px=t=>t==="*";function P4(t,e){let n=t.split("/"),r=n.length;return n.some(Px)&&(r+=A4),e&&(r+=b4),n.filter(s=>!Px(s)).reduce((s,i)=>s+(T4.test(i)?S4:i===""?C4:I4),r)}function R4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function k4(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=N4({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:lo([i,h.pathname]),pathnameBase:F4(lo([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=lo([i,h.pathnameBase]))}return o}function N4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=D4(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let g=a[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const S=a[h];return p&&!S?c[f]=void 0:c[f]=(S||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function D4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),E0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function O4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return E0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vA(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const M4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,V4=t=>M4.test(t);function L4(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?hl(t):t,i;if(n)if(V4(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),E0(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?i=Rx(n.substring(1),"/"):i=Rx(n,e)}else i=e;return{pathname:i,search:U4(r),hash:B4(s)}}function Rx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Sm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function j4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wA(t,e){let n=j4(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function _A(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=hl(t):(s=Qc({},t),ut(!s.pathname||!s.pathname.includes("?"),Sm("?","pathname","search",s)),ut(!s.pathname||!s.pathname.includes("#"),Sm("#","pathname","hash",s)),ut(!s.search||!s.search.includes("#"),Sm("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=L4(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const lo=t=>t.join("/").replace(/\/\/+/g,"/"),F4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),U4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,B4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const EA=["post","put","patch","delete"];new Set(EA);const z4=["get",...EA];new Set(z4);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yc(){return Yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yc.apply(this,arguments)}const x0=y.createContext(null),W4=y.createContext(null),Eu=y.createContext(null),qf=y.createContext(null),Ro=y.createContext({outlet:null,matches:[],isDataRoute:!1}),xA=y.createContext(null);function xu(){return y.useContext(qf)!=null}function Qf(){return xu()||ut(!1),y.useContext(qf).location}function TA(t){y.useContext(Eu).static||y.useLayoutEffect(t)}function Yf(){let{isDataRoute:t}=y.useContext(Ro);return t?rU():H4()}function H4(){xu()||ut(!1);let t=y.useContext(x0),{basename:e,future:n,navigator:r}=y.useContext(Eu),{matches:s}=y.useContext(Ro),{pathname:i}=Qf(),o=JSON.stringify(wA(s,n.v7_relativeSplatPath)),a=y.useRef(!1);return TA(()=>{a.current=!0}),y.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=_A(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:lo([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}function G4(t,e){return K4(t,e)}function K4(t,e,n,r){xu()||ut(!1);let{navigator:s}=y.useContext(Eu),{matches:i}=y.useContext(Ro),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Qf(),d;if(e){var h;let E=typeof e=="string"?hl(e):e;l==="/"||(h=E.pathname)!=null&&h.startsWith(l)||ut(!1),d=E}else d=c;let f=d.pathname||"/",p=f;if(l!=="/"){let E=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=_4(t,{pathname:p}),g=J4(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:lo([l,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:lo([l,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return e&&g?y.createElement(qf.Provider,{value:{location:Yc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ks.Pop}},g):g}function q4(){let t=nU(),e=$4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,null)}const Q4=y.createElement(q4,null);class Y4 extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(Ro.Provider,{value:this.props.routeContext},y.createElement(xA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function X4(t){let{routeContext:e,match:n,children:r}=t,s=y.useContext(x0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Ro.Provider,{value:e},r)}function J4(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||ut(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:p}=n,S=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||S){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,S=!1,g=null,E=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,g=h.route.errorElement||Q4,l&&(c<0&&f===0?(sU("route-fallback"),S=!0,E=null):c===f&&(S=!0,E=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,f+1)),v=()=>{let T;return p?T=g:S?T=E:h.route.Component?T=y.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,y.createElement(X4,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?y.createElement(Y4,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var SA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(SA||{}),bA=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(bA||{});function Z4(t){let e=y.useContext(x0);return e||ut(!1),e}function eU(t){let e=y.useContext(W4);return e||ut(!1),e}function tU(t){let e=y.useContext(Ro);return e||ut(!1),e}function CA(t){let e=tU(),n=e.matches[e.matches.length-1];return n.route.id||ut(!1),n.route.id}function nU(){var t;let e=y.useContext(xA),n=eU(),r=CA();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function rU(){let{router:t}=Z4(SA.UseNavigateStable),e=CA(bA.UseNavigateStable),n=y.useRef(!1);return TA(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Yc({fromRouteId:e},i)))},[t,e])}const kx={};function sU(t,e,n){kx[t]||(kx[t]=!0)}function iU(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function oU(t){let{to:e,replace:n,state:r,relative:s}=t;xu()||ut(!1);let{future:i,static:o}=y.useContext(Eu),{matches:a}=y.useContext(Ro),{pathname:l}=Qf(),c=Yf(),d=_A(e,wA(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return y.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function Jl(t){ut(!1)}function aU(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ks.Pop,navigator:i,static:o=!1,future:a}=t;xu()&&ut(!1);let l=e.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:l,navigator:i,static:o,future:Yc({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=hl(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:S="default"}=r,g=y.useMemo(()=>{let E=vA(d,l);return E==null?null:{location:{pathname:E,search:h,hash:f,state:p,key:S},navigationType:s}},[l,d,h,f,p,S,s]);return g==null?null:y.createElement(Eu.Provider,{value:c},y.createElement(qf.Provider,{children:n,value:g}))}function lU(t){let{children:e,location:n}=t;return G4(fy(e),n)}new Promise(()=>{});function fy(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,fy(r.props.children,i));return}r.type!==Jl&&ut(!1),!r.props.index||!r.props.children||ut(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=fy(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const cU="6";try{window.__reactRouterVersion=cU}catch{}const uU="startTransition",Nx=xf[uU];function dU(t){let{basename:e,children:n,future:r,window:s}=t,i=y.useRef();i.current==null&&(i.current=y4({window:s,v5Compat:!0}));let o=i.current,[a,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=y.useCallback(h=>{c&&Nx?Nx(()=>l(h)):l(h)},[l,c]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.useEffect(()=>iU(r),[r]),y.createElement(aU,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var Dx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Dx||(Dx={}));var Ox;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ox||(Ox={}));const hU=()=>{};var Mx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},fU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},AA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[d],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(IA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new pU;const f=i<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const S=c<<6&192|h;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mU=function(t){const e=IA(t);return AA.encodeByteArray(e,!0)},Bh=function(t){return mU(t).replace(/\./g,"")},PA=function(t){try{return AA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU=()=>gU().__FIREBASE_DEFAULTS__,vU=()=>{if(typeof process>"u"||typeof Mx>"u")return;const t=Mx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&PA(t[1]);return e&&JSON.parse(e)},Xf=()=>{try{return hU()||yU()||vU()||wU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},RA=t=>{var e,n;return(n=(e=Xf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},_U=t=>{const e=RA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},kA=()=>{var t;return(t=Xf())==null?void 0:t.config},NA=t=>{var e;return(e=Xf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function DA(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Bh(JSON.stringify(n)),Bh(JSON.stringify(o)),""].join(".")}const yc={};function TU(){const t={prod:[],emulator:[]};for(const e of Object.keys(yc))yc[e]?t.emulator.push(e):t.prod.push(e);return t}function SU(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Vx=!1;function OA(t,e){if(typeof window>"u"||typeof document>"u"||!fl(window.location.host)||yc[t]===e||yc[t]||Vx)return;yc[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",i=TU().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Vx=!0,o()},f}function d(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=SU(r),p=n("text"),S=document.getElementById(p)||document.createElement("span"),g=n("learnmore"),E=document.getElementById(g)||document.createElement("a"),w=n("preprendIcon"),v=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const T=f.element;a(T),d(E,g);const P=c();l(v,w),T.append(v,S,E,P),document.body.appendChild(T)}i?(S.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function CU(){var e;const t=(e=Xf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RU(){const t=Gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kU(){return!CU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NU(){try{return typeof indexedDB=="object"}catch{return!1}}function DU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU="FirebaseError";class Fr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=OU,Object.setPrototypeOf(this,Fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tu.prototype.create)}}class Tu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?MU(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Fr(s,a,r)}}function MU(t,e){return t.replace(VU,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const VU=/\{\$([^}]+)}/g;function LU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Lx(i)&&Lx(o)){if(!wo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Lx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jU(t,e){const n=new FU(t,e);return n.subscribe.bind(n)}class FU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");UU(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=bm),s.error===void 0&&(s.error=bm),s.complete===void 0&&(s.complete=bm);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function bm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t){return t&&t._delegate?t._delegate:t}class gi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new EU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zU(e))try{this.getOrInitializeService({instanceIdentifier:Wi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wi){return this.instances.has(e)}getOptions(e=Wi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$U(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wi){return this.component?this.component.multipleInstances?e:Wi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $U(t){return t===Wi?void 0:t}function zU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const HU={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},GU=we.INFO,KU={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},qU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=KU[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class T0{constructor(e){this.name=e,this._logLevel=GU,this._logHandler=qU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const QU=(t,e)=>e.some(n=>t instanceof n);let jx,Fx;function YU(){return jx||(jx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XU(){return Fx||(Fx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const MA=new WeakMap,py=new WeakMap,VA=new WeakMap,Cm=new WeakMap,S0=new WeakMap;function JU(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ii(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&MA.set(n,t)}).catch(()=>{}),S0.set(e,t),e}function ZU(t){if(py.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});py.set(t,e)}let my={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return py.get(t);if(e==="objectStoreNames")return t.objectStoreNames||VA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ii(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function e5(t){my=t(my)}function t5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Im(this),e,...n);return VA.set(r,e.sort?e.sort():[e]),ii(r)}:XU().includes(t)?function(...e){return t.apply(Im(this),e),ii(MA.get(this))}:function(...e){return ii(t.apply(Im(this),e))}}function n5(t){return typeof t=="function"?t5(t):(t instanceof IDBTransaction&&ZU(t),QU(t,YU())?new Proxy(t,my):t)}function ii(t){if(t instanceof IDBRequest)return JU(t);if(Cm.has(t))return Cm.get(t);const e=n5(t);return e!==t&&(Cm.set(t,e),S0.set(e,t)),e}const Im=t=>S0.get(t);function r5(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ii(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ii(o.result),l.oldVersion,l.newVersion,ii(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const s5=["get","getKey","getAll","getAllKeys","count"],i5=["put","add","delete","clear"],Am=new Map;function Ux(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Am.get(e))return Am.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=i5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||s5.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Am.set(e,i),i}e5(t=>({...t,get:(e,n,r)=>Ux(e,n)||t.get(e,n,r),has:(e,n)=>!!Ux(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(a5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function a5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gy="@firebase/app",Bx="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new T0("@firebase/app"),l5="@firebase/app-compat",c5="@firebase/analytics-compat",u5="@firebase/analytics",d5="@firebase/app-check-compat",h5="@firebase/app-check",f5="@firebase/auth",p5="@firebase/auth-compat",m5="@firebase/database",g5="@firebase/data-connect",y5="@firebase/database-compat",v5="@firebase/functions",w5="@firebase/functions-compat",_5="@firebase/installations",E5="@firebase/installations-compat",x5="@firebase/messaging",T5="@firebase/messaging-compat",S5="@firebase/performance",b5="@firebase/performance-compat",C5="@firebase/remote-config",I5="@firebase/remote-config-compat",A5="@firebase/storage",P5="@firebase/storage-compat",R5="@firebase/firestore",k5="@firebase/ai",N5="@firebase/firestore-compat",D5="firebase",O5="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="[DEFAULT]",M5={[gy]:"fire-core",[l5]:"fire-core-compat",[u5]:"fire-analytics",[c5]:"fire-analytics-compat",[h5]:"fire-app-check",[d5]:"fire-app-check-compat",[f5]:"fire-auth",[p5]:"fire-auth-compat",[m5]:"fire-rtdb",[g5]:"fire-data-connect",[y5]:"fire-rtdb-compat",[v5]:"fire-fn",[w5]:"fire-fn-compat",[_5]:"fire-iid",[E5]:"fire-iid-compat",[x5]:"fire-fcm",[T5]:"fire-fcm-compat",[S5]:"fire-perf",[b5]:"fire-perf-compat",[C5]:"fire-rc",[I5]:"fire-rc-compat",[A5]:"fire-gcs",[P5]:"fire-gcs-compat",[R5]:"fire-fst",[N5]:"fire-fst-compat",[k5]:"fire-vertex","fire-js":"fire-js",[D5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new Map,V5=new Map,vy=new Map;function $x(t,e){try{t.container.addComponent(e)}catch(n){ls.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _o(t){const e=t.name;if(vy.has(e))return ls.debug(`There were multiple attempts to register component ${e}.`),!1;vy.set(e,t);for(const n of Xc.values())$x(n,t);for(const n of V5.values())$x(n,t);return!0}function b0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function On(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oi=new Tu("app","Firebase",L5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=O5;function LA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:yy,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw oi.create("bad-app-name",{appName:String(s)});if(n||(n=kA()),!n)throw oi.create("no-options");const i=Xc.get(s);if(i){if(wo(n,i.options)&&wo(r,i.config))return i;throw oi.create("duplicate-app",{appName:s})}const o=new WU(s);for(const l of vy.values())o.addComponent(l);const a=new j5(n,r,o);return Xc.set(s,a),a}function jA(t=yy){const e=Xc.get(t);if(!e&&t===yy&&kA())return LA();if(!e)throw oi.create("no-app",{appName:t});return e}function zx(){return Array.from(Xc.values())}function br(t,e,n){let r=M5[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ls.warn(o.join(" "));return}_o(new gi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5="firebase-heartbeat-database",U5=1,Jc="firebase-heartbeat-store";let Pm=null;function FA(){return Pm||(Pm=r5(F5,U5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Jc)}catch(n){console.warn(n)}}}}).catch(t=>{throw oi.create("idb-open",{originalErrorMessage:t.message})})),Pm}async function B5(t){try{const n=(await FA()).transaction(Jc),r=await n.objectStore(Jc).get(UA(t));return await n.done,r}catch(e){if(e instanceof Fr)ls.warn(e.message);else{const n=oi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ls.warn(n.message)}}}async function Wx(t,e){try{const r=(await FA()).transaction(Jc,"readwrite");await r.objectStore(Jc).put(e,UA(t)),await r.done}catch(n){if(n instanceof Fr)ls.warn(n.message);else{const r=oi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ls.warn(r.message)}}}function UA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5=1024,z5=30;class W5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new G5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Hx();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>z5){const o=K5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ls.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Hx(),{heartbeatsToSend:r,unsentEntries:s}=H5(this._heartbeatsCache.heartbeats),i=Bh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ls.warn(n),""}}}function Hx(){return new Date().toISOString().substring(0,10)}function H5(t,e=$5){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Gx(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Gx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class G5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NU()?DU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await B5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Wx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Wx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Gx(t){return Bh(JSON.stringify({version:2,heartbeats:t})).length}function K5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q5(t){_o(new gi("platform-logger",e=>new o5(e),"PRIVATE")),_o(new gi("heartbeat",e=>new W5(e),"PRIVATE")),br(gy,Bx,t),br(gy,Bx,"esm2020"),br("fire-js","")}q5("");var Q5="firebase",Y5="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */br(Q5,Y5,"app");var Kx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ai,BA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,b){function I(){}I.prototype=b.prototype,C.F=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(R,N,O){for(var D=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)D[Y-2]=arguments[Y];return b.prototype[N].apply(R,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,b,I){I||(I=0);const R=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)R[N]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(N=0;N<16;++N)R[N]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],N=C.g[2];let O=C.g[3],D;D=b+(O^I&(N^O))+R[0]+3614090360&4294967295,b=I+(D<<7&4294967295|D>>>25),D=O+(N^b&(I^N))+R[1]+3905402710&4294967295,O=b+(D<<12&4294967295|D>>>20),D=N+(I^O&(b^I))+R[2]+606105819&4294967295,N=O+(D<<17&4294967295|D>>>15),D=I+(b^N&(O^b))+R[3]+3250441966&4294967295,I=N+(D<<22&4294967295|D>>>10),D=b+(O^I&(N^O))+R[4]+4118548399&4294967295,b=I+(D<<7&4294967295|D>>>25),D=O+(N^b&(I^N))+R[5]+1200080426&4294967295,O=b+(D<<12&4294967295|D>>>20),D=N+(I^O&(b^I))+R[6]+2821735955&4294967295,N=O+(D<<17&4294967295|D>>>15),D=I+(b^N&(O^b))+R[7]+4249261313&4294967295,I=N+(D<<22&4294967295|D>>>10),D=b+(O^I&(N^O))+R[8]+1770035416&4294967295,b=I+(D<<7&4294967295|D>>>25),D=O+(N^b&(I^N))+R[9]+2336552879&4294967295,O=b+(D<<12&4294967295|D>>>20),D=N+(I^O&(b^I))+R[10]+4294925233&4294967295,N=O+(D<<17&4294967295|D>>>15),D=I+(b^N&(O^b))+R[11]+2304563134&4294967295,I=N+(D<<22&4294967295|D>>>10),D=b+(O^I&(N^O))+R[12]+1804603682&4294967295,b=I+(D<<7&4294967295|D>>>25),D=O+(N^b&(I^N))+R[13]+4254626195&4294967295,O=b+(D<<12&4294967295|D>>>20),D=N+(I^O&(b^I))+R[14]+2792965006&4294967295,N=O+(D<<17&4294967295|D>>>15),D=I+(b^N&(O^b))+R[15]+1236535329&4294967295,I=N+(D<<22&4294967295|D>>>10),D=b+(N^O&(I^N))+R[1]+4129170786&4294967295,b=I+(D<<5&4294967295|D>>>27),D=O+(I^N&(b^I))+R[6]+3225465664&4294967295,O=b+(D<<9&4294967295|D>>>23),D=N+(b^I&(O^b))+R[11]+643717713&4294967295,N=O+(D<<14&4294967295|D>>>18),D=I+(O^b&(N^O))+R[0]+3921069994&4294967295,I=N+(D<<20&4294967295|D>>>12),D=b+(N^O&(I^N))+R[5]+3593408605&4294967295,b=I+(D<<5&4294967295|D>>>27),D=O+(I^N&(b^I))+R[10]+38016083&4294967295,O=b+(D<<9&4294967295|D>>>23),D=N+(b^I&(O^b))+R[15]+3634488961&4294967295,N=O+(D<<14&4294967295|D>>>18),D=I+(O^b&(N^O))+R[4]+3889429448&4294967295,I=N+(D<<20&4294967295|D>>>12),D=b+(N^O&(I^N))+R[9]+568446438&4294967295,b=I+(D<<5&4294967295|D>>>27),D=O+(I^N&(b^I))+R[14]+3275163606&4294967295,O=b+(D<<9&4294967295|D>>>23),D=N+(b^I&(O^b))+R[3]+4107603335&4294967295,N=O+(D<<14&4294967295|D>>>18),D=I+(O^b&(N^O))+R[8]+1163531501&4294967295,I=N+(D<<20&4294967295|D>>>12),D=b+(N^O&(I^N))+R[13]+2850285829&4294967295,b=I+(D<<5&4294967295|D>>>27),D=O+(I^N&(b^I))+R[2]+4243563512&4294967295,O=b+(D<<9&4294967295|D>>>23),D=N+(b^I&(O^b))+R[7]+1735328473&4294967295,N=O+(D<<14&4294967295|D>>>18),D=I+(O^b&(N^O))+R[12]+2368359562&4294967295,I=N+(D<<20&4294967295|D>>>12),D=b+(I^N^O)+R[5]+4294588738&4294967295,b=I+(D<<4&4294967295|D>>>28),D=O+(b^I^N)+R[8]+2272392833&4294967295,O=b+(D<<11&4294967295|D>>>21),D=N+(O^b^I)+R[11]+1839030562&4294967295,N=O+(D<<16&4294967295|D>>>16),D=I+(N^O^b)+R[14]+4259657740&4294967295,I=N+(D<<23&4294967295|D>>>9),D=b+(I^N^O)+R[1]+2763975236&4294967295,b=I+(D<<4&4294967295|D>>>28),D=O+(b^I^N)+R[4]+1272893353&4294967295,O=b+(D<<11&4294967295|D>>>21),D=N+(O^b^I)+R[7]+4139469664&4294967295,N=O+(D<<16&4294967295|D>>>16),D=I+(N^O^b)+R[10]+3200236656&4294967295,I=N+(D<<23&4294967295|D>>>9),D=b+(I^N^O)+R[13]+681279174&4294967295,b=I+(D<<4&4294967295|D>>>28),D=O+(b^I^N)+R[0]+3936430074&4294967295,O=b+(D<<11&4294967295|D>>>21),D=N+(O^b^I)+R[3]+3572445317&4294967295,N=O+(D<<16&4294967295|D>>>16),D=I+(N^O^b)+R[6]+76029189&4294967295,I=N+(D<<23&4294967295|D>>>9),D=b+(I^N^O)+R[9]+3654602809&4294967295,b=I+(D<<4&4294967295|D>>>28),D=O+(b^I^N)+R[12]+3873151461&4294967295,O=b+(D<<11&4294967295|D>>>21),D=N+(O^b^I)+R[15]+530742520&4294967295,N=O+(D<<16&4294967295|D>>>16),D=I+(N^O^b)+R[2]+3299628645&4294967295,I=N+(D<<23&4294967295|D>>>9),D=b+(N^(I|~O))+R[0]+4096336452&4294967295,b=I+(D<<6&4294967295|D>>>26),D=O+(I^(b|~N))+R[7]+1126891415&4294967295,O=b+(D<<10&4294967295|D>>>22),D=N+(b^(O|~I))+R[14]+2878612391&4294967295,N=O+(D<<15&4294967295|D>>>17),D=I+(O^(N|~b))+R[5]+4237533241&4294967295,I=N+(D<<21&4294967295|D>>>11),D=b+(N^(I|~O))+R[12]+1700485571&4294967295,b=I+(D<<6&4294967295|D>>>26),D=O+(I^(b|~N))+R[3]+2399980690&4294967295,O=b+(D<<10&4294967295|D>>>22),D=N+(b^(O|~I))+R[10]+4293915773&4294967295,N=O+(D<<15&4294967295|D>>>17),D=I+(O^(N|~b))+R[1]+2240044497&4294967295,I=N+(D<<21&4294967295|D>>>11),D=b+(N^(I|~O))+R[8]+1873313359&4294967295,b=I+(D<<6&4294967295|D>>>26),D=O+(I^(b|~N))+R[15]+4264355552&4294967295,O=b+(D<<10&4294967295|D>>>22),D=N+(b^(O|~I))+R[6]+2734768916&4294967295,N=O+(D<<15&4294967295|D>>>17),D=I+(O^(N|~b))+R[13]+1309151649&4294967295,I=N+(D<<21&4294967295|D>>>11),D=b+(N^(I|~O))+R[4]+4149444226&4294967295,b=I+(D<<6&4294967295|D>>>26),D=O+(I^(b|~N))+R[11]+3174756917&4294967295,O=b+(D<<10&4294967295|D>>>22),D=N+(b^(O|~I))+R[2]+718787259&4294967295,N=O+(D<<15&4294967295|D>>>17),D=I+(O^(N|~b))+R[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+O&4294967295}r.prototype.v=function(C,b){b===void 0&&(b=C.length);const I=b-this.blockSize,R=this.C;let N=this.h,O=0;for(;O<b;){if(N==0)for(;O<=I;)s(this,C,O),O+=this.blockSize;if(typeof C=="string"){for(;O<b;)if(R[N++]=C.charCodeAt(O++),N==this.blockSize){s(this,R),N=0;break}}else for(;O<b;)if(R[N++]=C[O++],N==this.blockSize){s(this,R),N=0;break}}this.h=N,this.o+=b},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,I=0;I<4;++I)for(let R=0;R<32;R+=8)C[b++]=this.g[I]>>>R&255;return C};function i(C,b){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function o(C,b){this.h=b;const I=[];let R=!0;for(let N=C.length-1;N>=0;N--){const O=C[N]|0;R&&O==b||(I[N]=O,R=!1)}this.g=I}var a={};function l(C){return-128<=C&&C<128?i(C,function(b){return new o([b|0],b<0?-1:0)}):new o([C|0],C<0?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return h;if(C<0)return E(c(-C));const b=[];let I=1;for(let R=0;C>=I;R++)b[R]=C/I|0,I*=4294967296;return new o(b,0)}function d(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return E(d(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=c(Math.pow(b,8));let R=h;for(let O=0;O<C.length;O+=8){var N=Math.min(8,C.length-O);const D=parseInt(C.substring(O,O+N),b);N<8?(N=c(Math.pow(b,N)),R=R.j(N).add(c(D))):(R=R.j(I),R=R.add(c(D)))}return R}var h=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-E(this).m();let C=0,b=1;for(let I=0;I<this.g.length;I++){const R=this.i(I);C+=(R>=0?R:4294967296+R)*b,b*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(S(this))return"0";if(g(this))return"-"+E(this).toString(C);const b=c(Math.pow(C,6));var I=this;let R="";for(;;){const N=P(I,b).g;I=w(I,N.j(b));let O=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,S(I))return O+R;for(;O.length<6;)O="0"+O;R=O+R}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function S(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function g(C){return C.h==-1}t.l=function(C){return C=w(this,C),g(C)?-1:S(C)?0:1};function E(C){const b=C.g.length,I=[];for(let R=0;R<b;R++)I[R]=~C.g[R];return new o(I,~C.h).add(f)}t.abs=function(){return g(this)?E(this):this},t.add=function(C){const b=Math.max(this.g.length,C.g.length),I=[];let R=0;for(let N=0;N<=b;N++){let O=R+(this.i(N)&65535)+(C.i(N)&65535),D=(O>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);R=D>>>16,O&=65535,D&=65535,I[N]=D<<16|O}return new o(I,I[I.length-1]&-2147483648?-1:0)};function w(C,b){return C.add(E(b))}t.j=function(C){if(S(this)||S(C))return h;if(g(this))return g(C)?E(this).j(E(C)):E(E(this).j(C));if(g(C))return E(this.j(E(C)));if(this.l(p)<0&&C.l(p)<0)return c(this.m()*C.m());const b=this.g.length+C.g.length,I=[];for(var R=0;R<2*b;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(let N=0;N<C.g.length;N++){const O=this.i(R)>>>16,D=this.i(R)&65535,Y=C.i(N)>>>16,ue=C.i(N)&65535;I[2*R+2*N]+=D*ue,v(I,2*R+2*N),I[2*R+2*N+1]+=O*ue,v(I,2*R+2*N+1),I[2*R+2*N+1]+=D*Y,v(I,2*R+2*N+1),I[2*R+2*N+2]+=O*Y,v(I,2*R+2*N+2)}for(C=0;C<b;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=b;C<2*b;C++)I[C]=0;return new o(I,0)};function v(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function T(C,b){this.g=C,this.h=b}function P(C,b){if(S(b))throw Error("division by zero");if(S(C))return new T(h,h);if(g(C))return b=P(E(C),b),new T(E(b.g),E(b.h));if(g(b))return b=P(C,E(b)),new T(E(b.g),b.h);if(C.g.length>30){if(g(C)||g(b))throw Error("slowDivide_ only works with positive integers.");for(var I=f,R=b;R.l(C)<=0;)I=k(I),R=k(R);var N=M(I,1),O=M(R,1);for(R=M(R,2),I=M(I,2);!S(R);){var D=O.add(R);D.l(C)<=0&&(N=N.add(I),O=D),R=M(R,1),I=M(I,1)}return b=w(C,N.j(b)),new T(N,b)}for(N=h;C.l(b)>=0;){for(I=Math.max(1,Math.floor(C.m()/b.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),O=c(I),D=O.j(b);g(D)||D.l(C)>0;)I-=R,O=c(I),D=O.j(b);S(O)&&(O=f),N=N.add(O),C=w(C,D)}return new T(N,C)}t.B=function(C){return P(this,C).h},t.and=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let R=0;R<b;R++)I[R]=this.i(R)&C.i(R);return new o(I,this.h&C.h)},t.or=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let R=0;R<b;R++)I[R]=this.i(R)|C.i(R);return new o(I,this.h|C.h)},t.xor=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let R=0;R<b;R++)I[R]=this.i(R)^C.i(R);return new o(I,this.h^C.h)};function k(C){const b=C.g.length+1,I=[];for(let R=0;R<b;R++)I[R]=C.i(R)<<1|C.i(R-1)>>>31;return new o(I,C.h)}function M(C,b){const I=b>>5;b%=32;const R=C.g.length-I,N=[];for(let O=0;O<R;O++)N[O]=b>0?C.i(O+I)>>>b|C.i(O+I+1)<<32-b:C.i(O+I);return new o(N,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,BA=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,ai=o}).apply(typeof Kx<"u"?Kx:typeof self<"u"?self:typeof window<"u"?window:{});var wd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $A,Zl,zA,Qd,wy,WA,HA,GA;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wd=="object"&&wd];for(var m=0;m<u.length;++m){var x=u[m];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function s(u,m){if(m)e:{var x=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var V=u[A];if(!(V in x))break e;x=x[V]}u=u[u.length-1],A=x[u],m=m(A),m!=A&&m!=null&&e(x,u,{configurable:!0,writable:!0,value:m})}}s("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(u){return u||function(m){var x=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&x.push([A,m[A]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function l(u,m,x){return u.call.apply(u.bind,arguments)}function c(u,m,x){return c=l,c.apply(null,arguments)}function d(u,m){var x=Array.prototype.slice.call(arguments,1);return function(){var A=x.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function h(u,m){function x(){}x.prototype=m.prototype,u.Z=m.prototype,u.prototype=new x,u.prototype.constructor=u,u.Ob=function(A,V,L){for(var H=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)H[fe-2]=arguments[fe];return m.prototype[V].apply(A,H)}}var f=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function p(u){const m=u.length;if(m>0){const x=Array(m);for(let A=0;A<m;A++)x[A]=u[A];return x}return[]}function S(u,m){for(let A=1;A<arguments.length;A++){const V=arguments[A];var x=typeof V;if(x=x!="object"?x:V?Array.isArray(V)?"array":x:"null",x=="array"||x=="object"&&typeof V.length=="number"){x=u.length||0;const L=V.length||0;u.length=x+L;for(let H=0;H<L;H++)u[x+H]=V[H]}else u.push(V)}}class g{constructor(m,x){this.i=m,this.j=x,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function E(u){o.setTimeout(()=>{throw u},0)}function w(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class v{constructor(){this.h=this.g=null}add(m,x){const A=T.get();A.set(m,x),this.h?this.h.next=A:this.g=A,this.h=A}}var T=new g(()=>new P,u=>u.reset());class P{constructor(){this.next=this.g=this.h=null}set(m,x){this.h=m,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let k,M=!1,C=new v,b=()=>{const u=Promise.resolve(void 0);k=()=>{u.then(I)}};function I(){for(var u;u=w();){try{u.h.call(u.g)}catch(x){E(x)}var m=T;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}M=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const x=()=>{};o.addEventListener("test",x,m),o.removeEventListener("test",x,m)}catch{}return u}();function D(u){return/^[\s\xa0]*$/.test(u)}function Y(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}h(Y,N),Y.prototype.init=function(u,m){const x=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(x=="mouseover"?m=u.fromElement:x=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Y.Z.h.call(this)},Y.prototype.h=function(){Y.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ue="closure_listenable_"+(Math.random()*1e6|0),J=0;function X(u,m,x,A,V){this.listener=u,this.proxy=null,this.src=m,this.type=x,this.capture=!!A,this.ha=V,this.key=++J,this.da=this.fa=!1}function j(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function U(u,m,x){for(const A in u)m.call(x,u[A],A,u)}function G(u,m){for(const x in u)m.call(void 0,u[x],x,u)}function ie(u){const m={};for(const x in u)m[x]=u[x];return m}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(u,m){let x,A;for(let V=1;V<arguments.length;V++){A=arguments[V];for(x in A)u[x]=A[x];for(let L=0;L<ee.length;L++)x=ee[L],Object.prototype.hasOwnProperty.call(A,x)&&(u[x]=A[x])}}function le(u){this.src=u,this.g={},this.h=0}le.prototype.add=function(u,m,x,A,V){const L=u.toString();u=this.g[L],u||(u=this.g[L]=[],this.h++);const H=Oe(u,m,A,V);return H>-1?(m=u[H],x||(m.fa=!1)):(m=new X(m,this.src,L,!!A,V),m.fa=x,u.push(m)),m};function ke(u,m){const x=m.type;if(x in u.g){var A=u.g[x],V=Array.prototype.indexOf.call(A,m,void 0),L;(L=V>=0)&&Array.prototype.splice.call(A,V,1),L&&(j(m),u.g[x].length==0&&(delete u.g[x],u.h--))}}function Oe(u,m,x,A){for(let V=0;V<u.length;++V){const L=u[V];if(!L.da&&L.listener==m&&L.capture==!!x&&L.ha==A)return V}return-1}var K="closure_lm_"+(Math.random()*1e6|0),be={};function Le(u,m,x,A,V){if(Array.isArray(m)){for(let L=0;L<m.length;L++)Le(u,m[L],x,A,V);return null}return x=ms(x),u&&u[ue]?u.J(m,x,a(A)?!!A.capture:!1,V):Ce(u,m,x,!1,A,V)}function Ce(u,m,x,A,V,L){if(!m)throw Error("Invalid event type");const H=a(V)?!!V.capture:!!V;let fe=In(u);if(fe||(u[K]=fe=new le(u)),x=fe.add(m,x,A,H,L),x.proxy)return x;if(A=ve(),x.proxy=A,A.src=u,A.listener=x,u.addEventListener)O||(V=H),V===void 0&&(V=!1),u.addEventListener(m.toString(),A,V);else if(u.attachEvent)u.attachEvent(qt(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return x}function ve(){function u(x){return m.call(u.src,u.listener,x)}const m=Br;return u}function xe(u,m,x,A,V){if(Array.isArray(m))for(var L=0;L<m.length;L++)xe(u,m[L],x,A,V);else A=a(A)?!!A.capture:!!A,x=ms(x),u&&u[ue]?(u=u.i,L=String(m).toString(),L in u.g&&(m=u.g[L],x=Oe(m,x,A,V),x>-1&&(j(m[x]),Array.prototype.splice.call(m,x,1),m.length==0&&(delete u.g[L],u.h--)))):u&&(u=In(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Oe(m,x,A,V)),(x=u>-1?m[u]:null)&&ot(x))}function ot(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ue])ke(m.i,u);else{var x=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(x,A,u.capture):m.detachEvent?m.detachEvent(qt(x),A):m.addListener&&m.removeListener&&m.removeListener(A),(x=In(m))?(ke(x,u),x.h==0&&(x.src=null,m[K]=null)):j(u)}}}function qt(u){return u in be?be[u]:be[u]="on"+u}function Br(u,m){if(u.da)u=!0;else{m=new Y(m,this);const x=u.listener,A=u.ha||u.src;u.fa&&ot(u),u=x.call(A,m)}return u}function In(u){return u=u[K],u instanceof le?u:null}var Un="__closure_events_fn_"+(Math.random()*1e9>>>0);function ms(u){return typeof u=="function"?u:(u[Un]||(u[Un]=function(m){return u.handleEvent(m)}),u[Un])}function Ke(){R.call(this),this.i=new le(this),this.M=this,this.G=null}h(Ke,R),Ke.prototype[ue]=!0,Ke.prototype.removeEventListener=function(u,m,x,A){xe(this,u,m,x,A)};function wt(u,m){var x,A=u.G;if(A)for(x=[];A;A=A.G)x.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var V=m;m=new N(A,u),me(m,V)}V=!0;let L,H;if(x)for(H=x.length-1;H>=0;H--)L=m.g=x[H],V=ar(L,A,!0,m)&&V;if(L=m.g=u,V=ar(L,A,!0,m)&&V,V=ar(L,A,!1,m)&&V,x)for(H=0;H<x.length;H++)L=m.g=x[H],V=ar(L,A,!1,m)&&V}Ke.prototype.N=function(){if(Ke.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const x=u.g[m];for(let A=0;A<x.length;A++)j(x[A]);delete u.g[m],u.h--}}this.G=null},Ke.prototype.J=function(u,m,x,A){return this.i.add(String(u),m,!1,x,A)},Ke.prototype.K=function(u,m,x,A){return this.i.add(String(u),m,!0,x,A)};function ar(u,m,x,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let V=!0;for(let L=0;L<m.length;++L){const H=m[L];if(H&&!H.da&&H.capture==x){const fe=H.listener,ft=H.ha||H.src;H.fa&&ke(u.i,H),V=fe.call(ft,A)!==!1&&V}}return V&&!A.defaultPrevented}function ju(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=c(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:o.setTimeout(u,m||0)}function lr(u){u.g=ju(()=>{u.g=null,u.i&&(u.i=!1,lr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Np extends R{constructor(m,x){super(),this.m=m,this.l=x,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:lr(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oi(u){R.call(this),this.h=u,this.g={}}h(Oi,R);var Qt=[];function $r(u){U(u.g,function(m,x){this.g.hasOwnProperty(x)&&ot(m)},u),u.g={}}Oi.prototype.N=function(){Oi.Z.N.call(this),$r(this)},Oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xl=o.JSON.stringify,Dp=o.JSON.parse,Mo=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function Fu(){}function Tl(){}var zr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function cr(){N.call(this,"d")}h(cr,N);function Vo(){N.call(this,"c")}h(Vo,N);var nn={},Uu=null;function Lo(){return Uu=Uu||new Ke}nn.Ia="serverreachability";function Sl(u){N.call(this,nn.Ia,u)}h(Sl,N);function gs(u){const m=Lo();wt(m,new Sl(m))}nn.STAT_EVENT="statevent";function Bu(u,m){N.call(this,nn.STAT_EVENT,u),this.stat=m}h(Bu,N);function ht(u){const m=Lo();wt(m,new Bu(m,u))}nn.Ja="timingevent";function Bn(u,m){N.call(this,nn.Ja,u),this.size=m}h(Bn,N);function Mi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},m)}function re(){this.g=!0}re.prototype.ua=function(){this.g=!1};function Pe(u,m,x,A,V,L){u.info(function(){if(u.g)if(L){var H="",fe=L.split("&");for(let De=0;De<fe.length;De++){var ft=fe[De].split("=");if(ft.length>1){const Et=ft[0];ft=ft[1];const hr=Et.split("_");H=hr.length>=2&&hr[1]=="type"?H+(Et+"="+ft+"&"):H+(Et+"=redacted&")}}}else H=null;else H=L;return"XMLHTTP REQ ("+A+") [attempt "+V+"]: "+m+`
`+x+`
`+H})}function Me(u,m,x,A,V,L,H){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+V+"]: "+m+`
`+x+`
`+L+" "+H})}function _t(u,m,x,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+ur(u,x)+(A?" "+A:"")})}function fn(u,m){u.info(function(){return"TIMEOUT: "+m})}re.prototype.info=function(){};function ur(u,m){if(!u.g)return m;if(!m)return null;try{const L=JSON.parse(m);if(L){for(u=0;u<L.length;u++)if(Array.isArray(L[u])){var x=L[u];if(!(x.length<2)){var A=x[1];if(Array.isArray(A)&&!(A.length<1)){var V=A[0];if(V!="noop"&&V!="stop"&&V!="close")for(let H=1;H<A.length;H++)A[H]=""}}}}return xl(L)}catch{return m}}var An={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},rn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$n;function Op(){}h(Op,Fu),Op.prototype.g=function(){return new XMLHttpRequest},$n=new Op;function bl(u){return encodeURIComponent(String(u))}function I2(u){var m=1;u=u.split(":");const x=[];for(;m>0&&u.length;)x.push(u.shift()),m--;return u.length&&x.push(u.join(":")),x}function ys(u,m,x,A){this.j=u,this.i=m,this.l=x,this.S=A||1,this.V=new Oi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new o_}function o_(){this.i=null,this.g="",this.h=!1}var a_={},Mp={};function Vp(u,m,x){u.M=1,u.A=zu(dr(m)),u.u=x,u.R=!0,l_(u,null)}function l_(u,m){u.F=Date.now(),$u(u),u.B=dr(u.A);var x=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),E_(x.i,"t",A),u.C=0,x=u.j.L,u.h=new o_,u.g=F_(u.j,x?m:null,!u.u),u.P>0&&(u.O=new Np(c(u.Y,u,u.g),u.P)),m=u.V,x=u.g,A=u.ba;var V="readystatechange";Array.isArray(V)||(V&&(Qt[0]=V.toString()),V=Qt);for(let L=0;L<V.length;L++){const H=Le(x,V[L],A||m.handleEvent,!1,m.h||m);if(!H)break;m.g[H.key]=H}m=u.J?ie(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),gs(),Pe(u.i,u.v,u.B,u.l,u.S,u.u)}ys.prototype.ba=function(u){u=u.target;const m=this.O;m&&_s(u)==3?m.j():this.Y(u)},ys.prototype.Y=function(u){try{if(u==this.g)e:{const fe=_s(this.g),ft=this.g.ya(),De=this.g.ca();if(!(fe<3)&&(fe!=3||this.g&&(this.h.h||this.g.la()||A_(this.g)))){this.K||fe!=4||ft==7||(ft==8||De<=0?gs(3):gs(2)),Lp(this);var m=this.g.ca();this.X=m;var x=A2(this);if(this.o=m==200,Me(this.i,this.v,this.B,this.l,this.S,fe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,V=this.g;if((A=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(A)){var L=A;break t}}L=null}if(u=L)_t(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,jp(this,u);else{this.o=!1,this.m=3,ht(12),Vi(this),Cl(this);break e}}if(this.R){u=!0;let Et;for(;!this.K&&this.C<x.length;)if(Et=P2(this,x),Et==Mp){fe==4&&(this.m=4,ht(14),u=!1),_t(this.i,this.l,null,"[Incomplete Response]");break}else if(Et==a_){this.m=4,ht(15),_t(this.i,this.l,x,"[Invalid Chunk]"),u=!1;break}else _t(this.i,this.l,Et,null),jp(this,Et);if(c_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fe!=4||x.length!=0||this.h.h||(this.m=1,ht(16),u=!1),this.o=this.o&&u,!u)_t(this.i,this.l,x,"[Invalid Chunked Response]"),Vi(this),Cl(this);else if(x.length>0&&!this.W){this.W=!0;var H=this.j;H.g==this&&H.aa&&!H.P&&(H.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Gp(H),H.P=!0,ht(11))}}else _t(this.i,this.l,x,null),jp(this,x);fe==4&&Vi(this),this.o&&!this.K&&(fe==4?M_(this.j,this):(this.o=!1,$u(this)))}else z2(this.g),m==400&&x.indexOf("Unknown SID")>0?(this.m=3,ht(12)):(this.m=0,ht(13)),Vi(this),Cl(this)}}}catch{}finally{}};function A2(u){if(!c_(u))return u.g.la();const m=A_(u.g);if(m==="")return"";let x="";const A=m.length,V=_s(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Vi(u),Cl(u),"";u.h.i=new o.TextDecoder}for(let L=0;L<A;L++)u.h.h=!0,x+=u.h.i.decode(m[L],{stream:!(V&&L==A-1)});return m.length=0,u.h.g+=x,u.C=0,u.h.g}function c_(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function P2(u,m){var x=u.C,A=m.indexOf(`
`,x);return A==-1?Mp:(x=Number(m.substring(x,A)),isNaN(x)?a_:(A+=1,A+x>m.length?Mp:(m=m.slice(A,A+x),u.C=A+x,m)))}ys.prototype.cancel=function(){this.K=!0,Vi(this)};function $u(u){u.T=Date.now()+u.H,u_(u,u.H)}function u_(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Mi(c(u.aa,u),m)}function Lp(u){u.D&&(o.clearTimeout(u.D),u.D=null)}ys.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(fn(this.i,this.B),this.M!=2&&(gs(),ht(17)),Vi(this),this.m=2,Cl(this)):u_(this,this.T-u)};function Cl(u){u.j.I==0||u.K||M_(u.j,u)}function Vi(u){Lp(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,$r(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function jp(u,m){try{var x=u.j;if(x.I!=0&&(x.g==u||Fp(x.h,u))){if(!u.L&&Fp(x.h,u)&&x.I==3){try{var A=x.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var V=A;if(V[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<u.F)qu(x),Gu(x);else break e;Hp(x),ht(18)}}else x.xa=V[1],0<x.xa-x.K&&V[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=Mi(c(x.Va,x),6e3));f_(x.h)<=1&&x.ta&&(x.ta=void 0)}else ji(x,11)}else if((u.L||x.g==u)&&qu(x),!D(m))for(V=x.Ba.g.parse(m),m=0;m<V.length;m++){let De=V[m];const Et=De[0];if(!(Et<=x.K))if(x.K=Et,De=De[1],x.I==2)if(De[0]=="c"){x.M=De[1],x.ba=De[2];const hr=De[3];hr!=null&&(x.ka=hr,x.j.info("VER="+x.ka));const Fi=De[4];Fi!=null&&(x.za=Fi,x.j.info("SVER="+x.za));const Es=De[5];Es!=null&&typeof Es=="number"&&Es>0&&(A=1.5*Es,x.O=A,x.j.info("backChannelRequestTimeoutMs_="+A)),A=x;const xs=u.g;if(xs){const Yu=xs.g?xs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yu){var L=A.h;L.g||Yu.indexOf("spdy")==-1&&Yu.indexOf("quic")==-1&&Yu.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Up(L,L.h),L.h=null))}if(A.G){const Kp=xs.g?xs.g.getResponseHeader("X-HTTP-Session-Id"):null;Kp&&(A.wa=Kp,je(A.J,A.G,Kp))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-u.F,x.j.info("Handshake RTT: "+x.T+"ms")),A=x;var H=u;if(A.na=j_(A,A.L?A.ba:null,A.W),H.L){p_(A.h,H);var fe=H,ft=A.O;ft&&(fe.H=ft),fe.D&&(Lp(fe),$u(fe)),A.g=H}else D_(A);x.i.length>0&&Ku(x)}else De[0]!="stop"&&De[0]!="close"||ji(x,7);else x.I==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?ji(x,7):Wp(x):De[0]!="noop"&&x.l&&x.l.qa(De),x.A=0)}}gs(4)}catch{}}var R2=class{constructor(u,m){this.g=u,this.map=m}};function d_(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function h_(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function f_(u){return u.h?1:u.g?u.g.size:0}function Fp(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Up(u,m){u.g?u.g.add(m):u.h=m}function p_(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}d_.prototype.cancel=function(){if(this.i=m_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function m_(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const x of u.g.values())m=m.concat(x.G);return m}return p(u.i)}var g_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function k2(u,m){if(u){u=u.split("&");for(let x=0;x<u.length;x++){const A=u[x].indexOf("=");let V,L=null;A>=0?(V=u[x].substring(0,A),L=u[x].substring(A+1)):V=u[x],m(V,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function vs(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof vs?(this.l=u.l,Il(this,u.j),this.o=u.o,this.g=u.g,Al(this,u.u),this.h=u.h,Bp(this,x_(u.i)),this.m=u.m):u&&(m=String(u).match(g_))?(this.l=!1,Il(this,m[1]||"",!0),this.o=Pl(m[2]||""),this.g=Pl(m[3]||"",!0),Al(this,m[4]),this.h=Pl(m[5]||"",!0),Bp(this,m[6]||"",!0),this.m=Pl(m[7]||"")):(this.l=!1,this.i=new kl(null,this.l))}vs.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Rl(m,y_,!0),":");var x=this.g;return(x||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Rl(m,y_,!0),"@"),u.push(bl(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&u.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&u.push("/"),u.push(Rl(x,x.charAt(0)=="/"?O2:D2,!0))),(x=this.i.toString())&&u.push("?",x),(x=this.m)&&u.push("#",Rl(x,V2)),u.join("")},vs.prototype.resolve=function(u){const m=dr(this);let x=!!u.j;x?Il(m,u.j):x=!!u.o,x?m.o=u.o:x=!!u.g,x?m.g=u.g:x=u.u!=null;var A=u.h;if(x)Al(m,u.u);else if(x=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var V=m.h.lastIndexOf("/");V!=-1&&(A=m.h.slice(0,V+1)+A)}if(V=A,V==".."||V==".")A="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){A=V.lastIndexOf("/",0)==0,V=V.split("/");const L=[];for(let H=0;H<V.length;){const fe=V[H++];fe=="."?A&&H==V.length&&L.push(""):fe==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),A&&H==V.length&&L.push("")):(L.push(fe),A=!0)}A=L.join("/")}else A=V}return x?m.h=A:x=u.i.toString()!=="",x?Bp(m,x_(u.i)):x=!!u.m,x&&(m.m=u.m),m};function dr(u){return new vs(u)}function Il(u,m,x){u.j=x?Pl(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Al(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Bp(u,m,x){m instanceof kl?(u.i=m,L2(u.i,u.l)):(x||(m=Rl(m,M2)),u.i=new kl(m,u.l))}function je(u,m,x){u.i.set(m,x)}function zu(u){return je(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Pl(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Rl(u,m,x){return typeof u=="string"?(u=encodeURI(u).replace(m,N2),x&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function N2(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var y_=/[#\/\?@]/g,D2=/[#\?:]/g,O2=/[#\?]/g,M2=/[#\?@]/g,V2=/#/g;function kl(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Li(u){u.g||(u.g=new Map,u.h=0,u.i&&k2(u.i,function(m,x){u.add(decodeURIComponent(m.replace(/\+/g," ")),x)}))}t=kl.prototype,t.add=function(u,m){Li(this),this.i=null,u=jo(this,u);let x=this.g.get(u);return x||this.g.set(u,x=[]),x.push(m),this.h+=1,this};function v_(u,m){Li(u),m=jo(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function w_(u,m){return Li(u),m=jo(u,m),u.g.has(m)}t.forEach=function(u,m){Li(this),this.g.forEach(function(x,A){x.forEach(function(V){u.call(m,V,A,this)},this)},this)};function __(u,m){Li(u);let x=[];if(typeof m=="string")w_(u,m)&&(x=x.concat(u.g.get(jo(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)x=x.concat(u[m]);return x}t.set=function(u,m){return Li(this),this.i=null,u=jo(this,u),w_(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=__(this,u),u.length>0?String(u[0]):m):m};function E_(u,m,x){v_(u,m),x.length>0&&(u.i=null,u.g.set(jo(u,m),p(x)),u.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var x=m[A];const V=bl(x);x=__(this,x);for(let L=0;L<x.length;L++){let H=V;x[L]!==""&&(H+="="+bl(x[L])),u.push(H)}}return this.i=u.join("&")};function x_(u){const m=new kl;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function jo(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function L2(u,m){m&&!u.j&&(Li(u),u.i=null,u.g.forEach(function(x,A){const V=A.toLowerCase();A!=V&&(v_(this,A),E_(this,V,x))},u)),u.j=m}function j2(u,m){const x=new re;if(o.Image){const A=new Image;A.onload=d(ws,x,"TestLoadImage: loaded",!0,m,A),A.onerror=d(ws,x,"TestLoadImage: error",!1,m,A),A.onabort=d(ws,x,"TestLoadImage: abort",!1,m,A),A.ontimeout=d(ws,x,"TestLoadImage: timeout",!1,m,A),o.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function F2(u,m){const x=new re,A=new AbortController,V=setTimeout(()=>{A.abort(),ws(x,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(L=>{clearTimeout(V),L.ok?ws(x,"TestPingServer: ok",!0,m):ws(x,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(V),ws(x,"TestPingServer: error",!1,m)})}function ws(u,m,x,A,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),A(x)}catch{}}function U2(){this.g=new Mo}function $p(u){this.i=u.Sb||null,this.h=u.ab||!1}h($p,Fu),$p.prototype.g=function(){return new Wu(this.i,this.h)};function Wu(u,m){Ke.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Wu,Ke),t=Wu.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Dl(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||o).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Nl(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Dl(this)),this.g&&(this.readyState=3,Dl(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;T_(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function T_(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Nl(this):Dl(this),this.readyState==3&&T_(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,Nl(this))},t.Na=function(u){this.g&&(this.response=u,Nl(this))},t.ga=function(){this.g&&Nl(this)};function Nl(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Dl(u)}t.setRequestHeader=function(u,m){this.A.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var x=m.next();!x.done;)x=x.value,u.push(x[0]+": "+x[1]),x=m.next();return u.join(`\r
`)};function Dl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Wu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function S_(u){let m="";return U(u,function(x,A){m+=A,m+=":",m+=x,m+=`\r
`}),m}function zp(u,m,x){e:{for(A in x){var A=!1;break e}A=!0}A||(x=S_(x),typeof u=="string"?x!=null&&bl(x):je(u,m,x))}function Ze(u){Ke.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Ze,Ke);var B2=/^https?$/i,$2=["POST","PUT"];t=Ze.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,m,x,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$n.g(),this.g.onreadystatechange=f(c(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(L){b_(this,L);return}if(u=x||"",x=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var V in A)x.set(V,A[V]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const L of A.keys())x.set(L,A.get(L));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(x.keys()).find(L=>L.toLowerCase()=="content-type"),V=o.FormData&&u instanceof o.FormData,!(Array.prototype.indexOf.call($2,m,void 0)>=0)||A||V||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,H]of x)this.g.setRequestHeader(L,H);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(L){b_(this,L)}};function b_(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,C_(u),Hu(u)}function C_(u){u.A||(u.A=!0,wt(u,"complete"),wt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,wt(this,"complete"),wt(this,"abort"),Hu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hu(this,!0)),Ze.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?I_(this):this.Xa())},t.Xa=function(){I_(this)};function I_(u){if(u.h&&typeof i<"u"){if(u.v&&_s(u)==4)setTimeout(u.Ca.bind(u),0);else if(wt(u,"readystatechange"),_s(u)==4){u.h=!1;try{const L=u.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var x;if(!(x=m)){var A;if(A=L===0){let H=String(u.D).match(g_)[1]||null;!H&&o.self&&o.self.location&&(H=o.self.location.protocol.slice(0,-1)),A=!B2.test(H?H.toLowerCase():"")}x=A}if(x)wt(u,"complete"),wt(u,"success");else{u.o=6;try{var V=_s(u)>2?u.g.statusText:""}catch{V=""}u.l=V+" ["+u.ca()+"]",C_(u)}}finally{Hu(u)}}}}function Hu(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const x=u.g;u.g=null,m||wt(u,"ready");try{x.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function _s(u){return u.g?u.g.readyState:0}t.ca=function(){try{return _s(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Dp(m)}};function A_(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function z2(u){const m={};u=(u.g&&_s(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(D(u[A]))continue;var x=I2(u[A]);const V=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const L=m[V]||[];m[V]=L,L.push(x)}G(m,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ol(u,m,x){return x&&x.internalChannelParams&&x.internalChannelParams[u]||m}function P_(u){this.za=0,this.i=[],this.j=new re,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ol("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ol("baseRetryDelayMs",5e3,u),this.Za=Ol("retryDelaySeedMs",1e4,u),this.Ta=Ol("forwardChannelMaxRetries",2,u),this.va=Ol("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new d_(u&&u.concurrentRequestLimit),this.Ba=new U2,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=P_.prototype,t.ka=8,t.I=1,t.connect=function(u,m,x,A){ht(0),this.W=u,this.H=m||{},x&&A!==void 0&&(this.H.OSID=x,this.H.OAID=A),this.F=this.X,this.J=j_(this,null,this.W),Ku(this)};function Wp(u){if(R_(u),u.I==3){var m=u.V++,x=dr(u.J);if(je(x,"SID",u.M),je(x,"RID",m),je(x,"TYPE","terminate"),Ml(u,x),m=new ys(u,u.j,m),m.M=2,m.A=zu(dr(x)),x=!1,o.navigator&&o.navigator.sendBeacon)try{x=o.navigator.sendBeacon(m.A.toString(),"")}catch{}!x&&o.Image&&(new Image().src=m.A,x=!0),x||(m.g=F_(m.j,null),m.g.ea(m.A)),m.F=Date.now(),$u(m)}L_(u)}function Gu(u){u.g&&(Gp(u),u.g.cancel(),u.g=null)}function R_(u){Gu(u),u.v&&(o.clearTimeout(u.v),u.v=null),qu(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&o.clearTimeout(u.m),u.m=null)}function Ku(u){if(!h_(u.h)&&!u.m){u.m=!0;var m=u.Ea;k||b(),M||(k(),M=!0),C.add(m,u),u.D=0}}function W2(u,m){return f_(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Mi(c(u.Ea,u,m),V_(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const V=new ys(this,this.j,u);let L=this.o;if(this.U&&(L?(L=ie(L),me(L,this.U)):L=this.U),this.u!==null||this.R||(V.J=L,L=null),this.S)e:{for(var m=0,x=0;x<this.i.length;x++){t:{var A=this.i[x];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=x;break e}if(m===4096||x===this.i.length-1){m=x+1;break e}}m=1e3}else m=1e3;m=N_(this,V,m),x=dr(this.J),je(x,"RID",u),je(x,"CVER",22),this.G&&je(x,"X-HTTP-Session-Id",this.G),Ml(this,x),L&&(this.R?m="headers="+bl(S_(L))+"&"+m:this.u&&zp(x,this.u,L)),Up(this.h,V),this.Ra&&je(x,"TYPE","init"),this.S?(je(x,"$req",m),je(x,"SID","null"),V.U=!0,Vp(V,x,null)):Vp(V,x,m),this.I=2}}else this.I==3&&(u?k_(this,u):this.i.length==0||h_(this.h)||k_(this))};function k_(u,m){var x;m?x=m.l:x=u.V++;const A=dr(u.J);je(A,"SID",u.M),je(A,"RID",x),je(A,"AID",u.K),Ml(u,A),u.u&&u.o&&zp(A,u.u,u.o),x=new ys(u,u.j,x,u.D+1),u.u===null&&(x.J=u.o),m&&(u.i=m.G.concat(u.i)),m=N_(u,x,1e3),x.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Up(u.h,x),Vp(x,A,m)}function Ml(u,m){u.H&&U(u.H,function(x,A){je(m,A,x)}),u.l&&U({},function(x,A){je(m,A,x)})}function N_(u,m,x){x=Math.min(u.i.length,x);const A=u.l?c(u.l.Ka,u.l,u):null;e:{var V=u.i;let fe=-1;for(;;){const ft=["count="+x];fe==-1?x>0?(fe=V[0].g,ft.push("ofs="+fe)):fe=0:ft.push("ofs="+fe);let De=!0;for(let Et=0;Et<x;Et++){var L=V[Et].g;const hr=V[Et].map;if(L-=fe,L<0)fe=Math.max(0,V[Et].g-100),De=!1;else try{L="req"+L+"_"||"";try{var H=hr instanceof Map?hr:Object.entries(hr);for(const[Fi,Es]of H){let xs=Es;a(Es)&&(xs=xl(Es)),ft.push(L+Fi+"="+encodeURIComponent(xs))}}catch(Fi){throw ft.push(L+"type="+encodeURIComponent("_badmap")),Fi}}catch{A&&A(hr)}}if(De){H=ft.join("&");break e}}H=void 0}return u=u.i.splice(0,x),m.G=u,H}function D_(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;k||b(),M||(k(),M=!0),C.add(m,u),u.A=0}}function Hp(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Mi(c(u.Da,u),V_(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,O_(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Mi(c(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ht(10),Gu(this),O_(this))};function Gp(u){u.B!=null&&(o.clearTimeout(u.B),u.B=null)}function O_(u){u.g=new ys(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=dr(u.na);je(m,"RID","rpc"),je(m,"SID",u.M),je(m,"AID",u.K),je(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&je(m,"TO",u.ia),je(m,"TYPE","xmlhttp"),Ml(u,m),u.u&&u.o&&zp(m,u.u,u.o),u.O&&(u.g.H=u.O);var x=u.g;u=u.ba,x.M=1,x.A=zu(dr(m)),x.u=null,x.R=!0,l_(x,u)}t.Va=function(){this.C!=null&&(this.C=null,Gu(this),Hp(this),ht(19))};function qu(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function M_(u,m){var x=null;if(u.g==m){qu(u),Gp(u),u.g=null;var A=2}else if(Fp(u.h,m))x=m.G,p_(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){x=m.u?m.u.length:0,m=Date.now()-m.F;var V=u.D;A=Lo(),wt(A,new Bn(A,x)),Ku(u)}else D_(u);else if(V=m.m,V==3||V==0&&m.X>0||!(A==1&&W2(u,m)||A==2&&Hp(u)))switch(x&&x.length>0&&(m=u.h,m.i=m.i.concat(x)),V){case 1:ji(u,5);break;case 4:ji(u,10);break;case 3:ji(u,6);break;default:ji(u,2)}}}function V_(u,m){let x=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(x*=2),x*m}function ji(u,m){if(u.j.info("Error code "+m),m==2){var x=c(u.bb,u),A=u.Ua;const V=!A;A=new vs(A||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Il(A,"https"),zu(A),V?j2(A.toString(),x):F2(A.toString(),x)}else ht(2);u.I=0,u.l&&u.l.pa(m),L_(u),R_(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function L_(u){if(u.I=0,u.ja=[],u.l){const m=m_(u.h);(m.length!=0||u.i.length!=0)&&(S(u.ja,m),S(u.ja,u.i),u.h.i.length=0,p(u.i),u.i.length=0),u.l.oa()}}function j_(u,m,x){var A=x instanceof vs?dr(x):new vs(x);if(A.g!="")m&&(A.g=m+"."+A.g),Al(A,A.u);else{var V=o.location;A=V.protocol,m=m?m+"."+V.hostname:V.hostname,V=+V.port;const L=new vs(null);A&&Il(L,A),m&&(L.g=m),V&&Al(L,V),x&&(L.h=x),A=L}return x=u.G,m=u.wa,x&&m&&je(A,x,m),je(A,"VER",u.ka),Ml(u,A),A}function F_(u,m,x){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Ze(new $p({ab:x})):new Ze(u.ma),m.Fa(u.L),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function U_(){}t=U_.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Qu(){}Qu.prototype.g=function(u,m){return new pn(u,m)};function pn(u,m){Ke.call(this),this.g=new P_(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!D(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!D(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Fo(this)}h(pn,Ke),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Wp(this.g)},pn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var x={};x.__data__=u,u=x}else this.v&&(x={},x.__data__=xl(u),u=x);m.i.push(new R2(m.Ya++,u)),m.I==3&&Ku(m)},pn.prototype.N=function(){this.g.l=null,delete this.j,Wp(this.g),delete this.g,pn.Z.N.call(this)};function B_(u){cr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const x in m){u=x;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}h(B_,cr);function $_(){Vo.call(this),this.status=1}h($_,Vo);function Fo(u){this.g=u}h(Fo,U_),Fo.prototype.ra=function(){wt(this.g,"a")},Fo.prototype.qa=function(u){wt(this.g,new B_(u))},Fo.prototype.pa=function(u){wt(this.g,new $_)},Fo.prototype.oa=function(){wt(this.g,"b")},Qu.prototype.createWebChannel=Qu.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,GA=function(){return new Qu},HA=function(){return Lo()},WA=nn,wy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},An.NO_ERROR=0,An.TIMEOUT=8,An.HTTP_ERROR=6,Qd=An,rn.COMPLETE="complete",zA=rn,Tl.EventType=zr,zr.OPEN="a",zr.CLOSE="b",zr.ERROR="c",zr.MESSAGE="d",Ke.prototype.listen=Ke.prototype.J,Zl=Tl,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,$A=Ze}).apply(typeof wd<"u"?wd:typeof self<"u"?self:typeof window<"u"?window:{});const qx="@firebase/firestore",Qx="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new T0("@firebase/firestore");function Wo(){return Eo.logLevel}function q(t,...e){if(Eo.logLevel<=we.DEBUG){const n=e.map(C0);Eo.debug(`Firestore (${pl}): ${t}`,...n)}}function cs(t,...e){if(Eo.logLevel<=we.ERROR){const n=e.map(C0);Eo.error(`Firestore (${pl}): ${t}`,...n)}}function Ga(t,...e){if(Eo.logLevel<=we.WARN){const n=e.map(C0);Eo.warn(`Firestore (${pl}): ${t}`,...n)}}function C0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,KA(t,r,n)}function KA(t,e,n){let r=`FIRESTORE (${pl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw cs(r),new Error(r)}function Re(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||KA(e,s,r)}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends Fr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class X5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ut.UNAUTHENTICATED))}shutdown(){}}class J5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Z5{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new co;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new co,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new co)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string",31837,{l:r}),new qA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string",2055,{h:e}),new Ut(e)}}class e3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class t3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new e3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Yx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,On(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Re(this.o===void 0,3512);const r=i=>{i.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Yx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Yx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=r3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function _e(t,e){return t<e?-1:t>e?1:0}function _y(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Rm(s)===Rm(i)?_e(s,i):Rm(s)?1:-1}return _e(t.length,e.length)}const s3=55296,i3=57343;function Rm(t){const e=t.charCodeAt(0);return e>=s3&&e<=i3}function Ka(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="__name__";class mr{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return mr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=mr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return _e(e.length,n.length)}static compareSegments(e,n){const r=mr.isNumericId(e),s=mr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?mr.extractNumericId(e).compare(mr.extractNumericId(n)):_y(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ai.fromString(e.substring(4,e.length-2))}}class Be extends mr{construct(e,n,r){return new Be(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Be(n)}static emptyPath(){return new Be([])}}const o3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends mr{construct(e,n,r){return new kt(e,n,r)}static isValidIdentifier(e){return o3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xx}static keyField(){return new kt([Xx])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Z($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Z($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Z($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Z($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(n)}static emptyPath(){return new kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Be.fromString(e))}static fromName(e){return new te(Be.fromString(e).popFirst(5))}static empty(){return new te(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Be(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(t,e,n){if(!n)throw new Z($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function a3(t,e,n,r){if(e===!0&&r===!0)throw new Z($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Jx(t){if(!te.isDocumentKey(t))throw new Z($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Zx(t){if(te.isDocumentKey(t))throw new Z($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function YA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function A0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se(12329,{type:typeof t})}function li(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=A0(t);throw new Z($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t,e){const n={typeString:t};return e&&(n.value=e),n}function bu(t,e){if(!YA(t))throw new Z($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Z($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=-62135596800,tT=1e6;class $e{static now(){return $e.fromMillis(Date.now())}static fromDate(e){return $e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*tT);return new $e(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<eT)throw new Z($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tT}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bu(e,$e._jsonSchema))return new $e(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-eT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$e._jsonSchemaVersion="firestore/timestamp/1.0",$e._jsonSchema={type:ct("string",$e._jsonSchemaVersion),seconds:ct("number"),nanoseconds:ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{static fromTimestamp(e){return new ce(e)}static min(){return new ce(new $e(0,0))}static max(){return new ce(new $e(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=-1;function l3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ce.fromTimestamp(r===1e9?new $e(n+1,0):new $e(n,r));return new yi(s,te.empty(),e)}function c3(t){return new yi(t.readTime,t.key,Zc)}class yi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new yi(ce.min(),te.empty(),Zc)}static max(){return new yi(ce.max(),te.empty(),Zc)}}function u3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==d3)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function f3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Jf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=-1;function Zf(t){return t==null}function $h(t){return t===0&&1/t==-1/0}function p3(t){return typeof t=="number"&&Number.isInteger(t)&&!$h(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="";function m3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=nT(e)),e=g3(t.get(n),e);return nT(e)}function g3(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case XA:n+="";break;default:n+=i}}return n}function nT(t){return t+XA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Pi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function JA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _d(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _d(this.root,e,this.comparator,!1)}getReverseIterator(){return new _d(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _d(this.root,e,this.comparator,!0)}}class _d{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Rt.RED,this.left=s??Rt.EMPTY,this.right=i??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Rt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Rt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw se(27949);return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sT(this.data.getIterator())}getIteratorFrom(e){return new sT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vt(this.comparator);return n.data=e,n}}class sT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new vn([])}unionWith(e){let n=new vt(kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ka(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new ZA("Invalid base64 string: "+i):i}}(e);return new Ot(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ot.EMPTY_BYTE_STRING=new Ot("");const y3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vi(t){if(Re(!!t,39018),typeof t=="string"){let e=0;const n=y3.exec(t);if(Re(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function wi(t){return typeof t=="string"?Ot.fromBase64String(t):Ot.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP="server_timestamp",tP="__type__",nP="__previous_value__",rP="__local_write_time__";function R0(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[tP])==null?void 0:r.stringValue)===eP}function ep(t){const e=t.mapValue.fields[nP];return R0(e)?ep(e):e}function eu(t){const e=vi(t.mapValue.fields[rP].timestampValue);return new $e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e,n,r,s,i,o,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const zh="(default)";class tu{constructor(e,n){this.projectId=e,this.database=n||zh}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===zh}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP="__type__",w3="__max__",Ed={mapValue:{}},iP="__vector__",Wh="value";function _i(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?R0(t)?4:E3(t)?9007199254740991:_3(t)?10:11:se(28295,{value:t})}function Mr(t,e){if(t===e)return!0;const n=_i(t);if(n!==_i(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eu(t).isEqual(eu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=vi(s.timestampValue),a=vi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return wi(s.bytesValue).isEqual(wi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return st(s.geoPointValue.latitude)===st(i.geoPointValue.latitude)&&st(s.geoPointValue.longitude)===st(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return st(s.integerValue)===st(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=st(s.doubleValue),a=st(i.doubleValue);return o===a?$h(o)===$h(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ka(t.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(rT(o)!==rT(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Mr(o[l],a[l])))return!1;return!0}(t,e);default:return se(52216,{left:t})}}function nu(t,e){return(t.values||[]).find(n=>Mr(n,e))!==void 0}function qa(t,e){if(t===e)return 0;const n=_i(t),r=_i(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=st(i.integerValue||i.doubleValue),l=st(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return iT(t.timestampValue,e.timestampValue);case 4:return iT(eu(t),eu(e));case 5:return _y(t.stringValue,e.stringValue);case 6:return function(i,o){const a=wi(i),l=wi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=_e(a[c],l[c]);if(d!==0)return d}return _e(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=_e(st(i.latitude),st(o.latitude));return a!==0?a:_e(st(i.longitude),st(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return oT(t.arrayValue,e.arrayValue);case 10:return function(i,o){var f,p,S,g;const a=i.fields||{},l=o.fields||{},c=(f=a[Wh])==null?void 0:f.arrayValue,d=(p=l[Wh])==null?void 0:p.arrayValue,h=_e(((S=c==null?void 0:c.values)==null?void 0:S.length)||0,((g=d==null?void 0:d.values)==null?void 0:g.length)||0);return h!==0?h:oT(c,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Ed.mapValue&&o===Ed.mapValue)return 0;if(i===Ed.mapValue)return 1;if(o===Ed.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=_y(l[h],d[h]);if(f!==0)return f;const p=qa(a[l[h]],c[d[h]]);if(p!==0)return p}return _e(l.length,d.length)}(t.mapValue,e.mapValue);default:throw se(23264,{he:n})}}function iT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);const n=vi(t),r=vi(e),s=_e(n.seconds,r.seconds);return s!==0?s:_e(n.nanos,r.nanos)}function oT(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=qa(n[s],r[s]);if(i)return i}return _e(n.length,r.length)}function Qa(t){return Ey(t)}function Ey(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=vi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return wi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Ey(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Ey(n.fields[o])}`;return s+"}"}(t.mapValue):se(61005,{value:t})}function Yd(t){switch(_i(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ep(t);return e?16+Yd(e):16;case 5:return 2*t.stringValue.length;case 6:return wi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Yd(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Pi(r.fields,(i,o)=>{s+=i.length+Yd(o)}),s}(t.mapValue);default:throw se(13486,{value:t})}}function xy(t){return!!t&&"integerValue"in t}function k0(t){return!!t&&"arrayValue"in t}function aT(t){return!!t&&"nullValue"in t}function lT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xd(t){return!!t&&"mapValue"in t}function _3(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[sP])==null?void 0:r.stringValue)===iP}function vc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Pi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vc(t.arrayValue.values[n]);return e}return{...t}}function E3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===w3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vc(n)}setAll(e){let n=kt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=vc(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Xd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Xd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Pi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new ln(vc(this.value))}}function oP(t){const e=[];return Pi(t.fields,(n,r)=>{const s=new kt([n]);if(Xd(r)){const i=oP(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new $t(e,0,ce.min(),ce.min(),ce.min(),ln.empty(),0)}static newFoundDocument(e,n,r,s){return new $t(e,1,n,ce.min(),r,s,0)}static newNoDocument(e,n){return new $t(e,2,n,ce.min(),ce.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new $t(e,3,n,ce.min(),ce.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n){this.position=e,this.inclusive=n}}function cT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=qa(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function uT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n="asc"){this.field=e,this.dir=n}}function x3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{}class mt extends aP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new S3(e,n,r):n==="array-contains"?new I3(e,r):n==="in"?new A3(e,r):n==="not-in"?new P3(e,r):n==="array-contains-any"?new R3(e,r):new mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new b3(e,r):new C3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(qa(n,this.value)):n!==null&&_i(this.value)===_i(n)&&this.matchesComparison(qa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vr extends aP{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Vr(e,n)}matches(e){return lP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lP(t){return t.op==="and"}function cP(t){return T3(t)&&lP(t)}function T3(t){for(const e of t.filters)if(e instanceof Vr)return!1;return!0}function Ty(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+Qa(t.value);if(cP(t))return t.filters.map(e=>Ty(e)).join(",");{const e=t.filters.map(n=>Ty(n)).join(",");return`${t.op}(${e})`}}function uP(t,e){return t instanceof mt?function(r,s){return s instanceof mt&&r.op===s.op&&r.field.isEqual(s.field)&&Mr(r.value,s.value)}(t,e):t instanceof Vr?function(r,s){return s instanceof Vr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&uP(o,s.filters[a]),!0):!1}(t,e):void se(19439)}function dP(t){return t instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${Qa(n.value)}`}(t):t instanceof Vr?function(n){return n.op.toString()+" {"+n.getFilters().map(dP).join(" ,")+"}"}(t):"Filter"}class S3 extends mt{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class b3 extends mt{constructor(e,n){super(e,"in",n),this.keys=hP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class C3 extends mt{constructor(e,n){super(e,"not-in",n),this.keys=hP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hP(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class I3 extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return k0(n)&&nu(n.arrayValue,this.value)}}class A3 extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class P3 extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}}class R3 extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!k0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function dT(t,e=null,n=[],r=[],s=null,i=null,o=null){return new k3(t,e,n,r,s,i,o)}function N0(t){const e=de(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ty(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Zf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qa(r)).join(",")),e.Te=n}return e.Te}function D0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!x3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!uP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uT(t.startAt,e.startAt)&&uT(t.endAt,e.endAt)}function Sy(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function N3(t,e,n,r,s,i,o,a){return new tp(t,e,n,r,s,i,o,a)}function O0(t){return new tp(t)}function hT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function D3(t){return t.collectionGroup!==null}function wc(t){const e=de(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new vt(kt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Gh(i,r))}),n.has(kt.keyField().canonicalString())||e.Ie.push(new Gh(kt.keyField(),r))}return e.Ie}function Cr(t){const e=de(t);return e.Ee||(e.Ee=O3(e,wc(t))),e.Ee}function O3(t,e){if(t.limitType==="F")return dT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Gh(s.field,i)});const n=t.endAt?new Hh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hh(t.startAt.position,t.startAt.inclusive):null;return dT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function by(t,e,n){return new tp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function np(t,e){return D0(Cr(t),Cr(e))&&t.limitType===e.limitType}function fP(t){return`${N0(Cr(t))}|lt:${t.limitType}`}function Ho(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>dP(s)).join(", ")}]`),Zf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Qa(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Qa(s)).join(",")),`Target(${r})`}(Cr(t))}; limitType=${t.limitType})`}function rp(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):te.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of wc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=cT(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,wc(r),s)||r.endAt&&!function(o,a,l){const c=cT(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,wc(r),s))}(t,e)}function M3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pP(t){return(e,n)=>{let r=!1;for(const s of wc(t)){const i=V3(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function V3(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?qa(l,c):se(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Pi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return JA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3=new Je(te.comparator);function us(){return L3}const mP=new Je(te.comparator);function ec(...t){let e=mP;for(const n of t)e=e.insert(n.key,n);return e}function gP(t){let e=mP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ji(){return _c()}function yP(){return _c()}function _c(){return new No(t=>t.toString(),(t,e)=>t.isEqual(e))}const j3=new Je(te.comparator),F3=new vt(te.comparator);function Ee(...t){let e=F3;for(const n of t)e=e.add(n);return e}const U3=new vt(_e);function B3(){return U3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$h(e)?"-0":e}}function vP(t){return{integerValue:""+t}}function $3(t,e){return p3(e)?vP(e):M0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(){this._=void 0}}function z3(t,e,n){return t instanceof Kh?function(s,i){const o={fields:{[tP]:{stringValue:eP},[rP]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&R0(i)&&(i=ep(i)),i&&(o.fields[nP]=i),{mapValue:o}}(n,e):t instanceof ru?_P(t,e):t instanceof su?EP(t,e):function(s,i){const o=wP(s,i),a=fT(o)+fT(s.Ae);return xy(o)&&xy(s.Ae)?vP(a):M0(s.serializer,a)}(t,e)}function W3(t,e,n){return t instanceof ru?_P(t,e):t instanceof su?EP(t,e):n}function wP(t,e){return t instanceof qh?function(r){return xy(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Kh extends sp{}class ru extends sp{constructor(e){super(),this.elements=e}}function _P(t,e){const n=xP(e);for(const r of t.elements)n.some(s=>Mr(s,r))||n.push(r);return{arrayValue:{values:n}}}class su extends sp{constructor(e){super(),this.elements=e}}function EP(t,e){let n=xP(e);for(const r of t.elements)n=n.filter(s=>!Mr(s,r));return{arrayValue:{values:n}}}class qh extends sp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function fT(t){return st(t.integerValue||t.doubleValue)}function xP(t){return k0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function H3(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof ru&&s instanceof ru||r instanceof su&&s instanceof su?Ka(r.elements,s.elements,Mr):r instanceof qh&&s instanceof qh?Mr(r.Ae,s.Ae):r instanceof Kh&&s instanceof Kh}(t.transform,e.transform)}class G3{constructor(e,n){this.version=e,this.transformResults=n}}class En{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new En}static exists(e){return new En(void 0,e)}static updateTime(e){return new En(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ip{}function TP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new op(t.key,En.none()):new Cu(t.key,t.data,En.none());{const n=t.data,r=ln.empty();let s=new vt(kt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ri(t.key,r,new vn(s.toArray()),En.none())}}function K3(t,e,n){t instanceof Cu?function(s,i,o){const a=s.value.clone(),l=mT(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ri?function(s,i,o){if(!Jd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=mT(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(SP(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ec(t,e,n,r){return t instanceof Cu?function(i,o,a,l){if(!Jd(i.precondition,o))return a;const c=i.value.clone(),d=gT(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ri?function(i,o,a,l){if(!Jd(i.precondition,o))return a;const c=gT(i.fieldTransforms,l,o),d=o.data;return d.setAll(SP(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Jd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function q3(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=wP(r.transform,s||null);i!=null&&(n===null&&(n=ln.empty()),n.set(r.field,i))}return n||null}function pT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ka(r,s,(i,o)=>H3(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cu extends ip{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ri extends ip{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function SP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function mT(t,e,n){const r=new Map;Re(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,W3(o,a,n[s]))}return r}function gT(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,z3(i,o,e))}return r}class op extends ip{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Q3 extends ip{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&K3(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ec(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ec(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=yP();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=TP(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&Ka(this.mutations,e.mutations,(n,r)=>pT(n,r))&&Ka(this.baseMutations,e.baseMutations,(n,r)=>pT(n,r))}}class V0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Re(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return j3}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new V0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X3=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,Se;function Z3(t){switch(t){case $.OK:return se(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return se(15467,{code:t})}}function bP(t){if(t===void 0)return cs("GRPC error has no .code"),$.UNKNOWN;switch(t){case at.OK:return $.OK;case at.CANCELLED:return $.CANCELLED;case at.UNKNOWN:return $.UNKNOWN;case at.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case at.INTERNAL:return $.INTERNAL;case at.UNAVAILABLE:return $.UNAVAILABLE;case at.UNAUTHENTICATED:return $.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case at.NOT_FOUND:return $.NOT_FOUND;case at.ALREADY_EXISTS:return $.ALREADY_EXISTS;case at.PERMISSION_DENIED:return $.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case at.ABORTED:return $.ABORTED;case at.OUT_OF_RANGE:return $.OUT_OF_RANGE;case at.UNIMPLEMENTED:return $.UNIMPLEMENTED;case at.DATA_LOSS:return $.DATA_LOSS;default:return se(39323,{code:t})}}(Se=at||(at={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6=new ai([4294967295,4294967295],0);function yT(t){const e=e6().encode(t),n=new BA;return n.update(e),new Uint8Array(n.digest())}function vT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ai([n,r],0),new ai([s,i],0)]}class L0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new tc(`Invalid padding: ${n}`);if(r<0)throw new tc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new tc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new tc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ai.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(ai.fromNumber(r)));return s.compare(t6)===1&&(s=new ai([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=yT(e),[r,s]=vT(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new L0(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=yT(e),[r,s]=vT(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class tc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ap(ce.min(),s,new Je(_e),us(),Ee())}}class Iu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Iu(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class CP{constructor(e,n){this.targetId=e,this.Ce=n}}class IP{constructor(e,n,r=Ot.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class wT{constructor(){this.ve=0,this.Fe=_T(),this.Me=Ot.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ee(),n=Ee(),r=Ee();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:se(38017,{changeType:i})}}),new Iu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=_T()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Re(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class n6{constructor(e){this.Ge=e,this.ze=new Map,this.je=us(),this.Je=xd(),this.He=xd(),this.Ye=new Je(_e)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Sy(i))if(r===0){const o=new te(i.path);this.et(n,o,$t.newNoDocument(o,ce.min()))}else Re(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=wi(r).toUint8Array()}catch(l){if(l instanceof ZA)return Ga("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new L0(o,s,i)}catch(l){return Ga(l instanceof tc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Sy(a.target)){const l=new te(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,$t.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=Ee();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new ap(e,n,this.Ye,this.je,r);return this.je=us(),this.Je=xd(),this.He=xd(),this.Ye=new Je(_e),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new wT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new vt(_e),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new vt(_e),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new wT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function xd(){return new Je(te.comparator)}function _T(){return new Je(te.comparator)}const r6={asc:"ASCENDING",desc:"DESCENDING"},s6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},i6={and:"AND",or:"OR"};class o6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cy(t,e){return t.useProto3Json||Zf(e)?e:{value:e}}function Qh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function a6(t,e){return Qh(t,e.toTimestamp())}function Ir(t){return Re(!!t,49232),ce.fromTimestamp(function(n){const r=vi(n);return new $e(r.seconds,r.nanos)}(t))}function j0(t,e){return Iy(t,e).canonicalString()}function Iy(t,e){const n=function(s){return new Be(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function PP(t){const e=Be.fromString(t);return Re(OP(e),10190,{key:e.toString()}),e}function Ay(t,e){return j0(t.databaseId,e.path)}function km(t,e){const n=PP(e);if(n.get(1)!==t.databaseId.projectId)throw new Z($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(kP(n))}function RP(t,e){return j0(t.databaseId,e)}function l6(t){const e=PP(t);return e.length===4?Be.emptyPath():kP(e)}function Py(t){return new Be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function kP(t){return Re(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ET(t,e,n){return{name:Ay(t,e),fields:n.value.mapValue.fields}}function c6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:se(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(Re(d===void 0||typeof d=="string",58123),Ot.fromBase64String(d||"")):(Re(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Ot.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?$.UNKNOWN:bP(c.code);return new Z(d,c.message||"")}(o);n=new IP(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=km(t,r.document.name),i=Ir(r.document.updateTime),o=r.document.createTime?Ir(r.document.createTime):ce.min(),a=new ln({mapValue:{fields:r.document.fields}}),l=$t.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Zd(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=km(t,r.document),i=r.readTime?Ir(r.readTime):ce.min(),o=$t.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Zd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=km(t,r.document),i=r.removedTargetIds||[];n=new Zd([],i,s,null)}else{if(!("filter"in e))return se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new J3(s,i),a=r.targetId;n=new CP(a,o)}}return n}function u6(t,e){let n;if(e instanceof Cu)n={update:ET(t,e.key,e.value)};else if(e instanceof op)n={delete:Ay(t,e.key)};else if(e instanceof Ri)n={update:ET(t,e.key,e.data),updateMask:w6(e.fieldMask)};else{if(!(e instanceof Q3))return se(16599,{Vt:e.type});n={verify:Ay(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Kh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ru)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof su)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof qh)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw se(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:a6(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:se(27497)}(t,e.precondition)),n}function d6(t,e){return t&&t.length>0?(Re(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Ir(s.updateTime):Ir(i);return o.isEqual(ce.min())&&(o=Ir(i)),new G3(o,s.transformResults||[])}(n,e))):[]}function h6(t,e){return{documents:[RP(t,e.path)]}}function f6(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=RP(t,s);const i=function(c){if(c.length!==0)return DP(Vr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(f){return{field:Go(f.field),direction:g6(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Cy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function p6(t){let e=l6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Re(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const f=NP(h);return f instanceof Vr&&cP(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(S){return new Gh(Ko(S.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Zf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new Hh(p,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,p=h.values||[];return new Hh(p,f)}(n.endAt)),N3(e,s,o,i,a,"F",l,c)}function m6(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function NP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ko(n.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ko(n.unaryFilter.field);return mt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ko(n.unaryFilter.field);return mt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ko(n.unaryFilter.field);return mt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}}(t):t.fieldFilter!==void 0?function(n){return mt.create(Ko(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Vr.create(n.compositeFilter.filters.map(r=>NP(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return se(1026)}}(n.compositeFilter.op))}(t):se(30097,{filter:t})}function g6(t){return r6[t]}function y6(t){return s6[t]}function v6(t){return i6[t]}function Go(t){return{fieldPath:t.canonicalString()}}function Ko(t){return kt.fromServerFormat(t.fieldPath)}function DP(t){return t instanceof mt?function(n){if(n.op==="=="){if(lT(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NAN"}};if(aT(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(lT(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NOT_NAN"}};if(aT(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Go(n.field),op:y6(n.op),value:n.value}}}(t):t instanceof Vr?function(n){const r=n.getFilters().map(s=>DP(s));return r.length===1?r[0]:{compositeFilter:{op:v6(n.op),filters:r}}}(t):se(54877,{filter:t})}function w6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function OP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n,r,s,i=ce.min(),o=ce.min(),a=Ot.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e){this.yt=e}}function E6(t){const e=p6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?by(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(){this.Cn=new T6}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(yi.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(yi.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class T6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new vt(Be.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new vt(Be.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},MP=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(MP,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ya(0)}static cr(){return new Ya(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="LruGarbageCollector",S6=1048576;function ST([t,e],[n,r]){const s=_e(t,n);return s===0?_e(e,r):s}class b6{constructor(e){this.Ir=e,this.buffer=new vt(ST),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ST(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class C6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){q(TT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){gl(n)?q(TT,"Ignoring IndexedDB error during garbage collection: ",n):await ml(n)}await this.Vr(3e5)})}}class I6{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(Jf.ce);const r=new b6(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(xT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Wo()<=we.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function A6(t,e){return new I6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(){this.changes=new No(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ec(r.mutation,s,vn.empty(),$e.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const s=Ji();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ec();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ji();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=us();const o=_c(),a=function(){return _c()}();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof Ri)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Ec(d.mutation,c,d.mutation.getFieldMask(),$e.now())):o.set(c.key,vn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>a.set(c,new R6(d,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=_c();let s=new Je((o,a)=>o-a),i=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||vn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(s.get(a.batchId)||Ee()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=yP();d.forEach(f=>{if(!i.has(f)){const p=TP(n.get(f),r.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):D3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(Ji());let a=Zc,l=i;return o.next(c=>B.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Ee())).next(d=>({batchId:a,changes:gP(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let s=ec();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ec();return this.indexManager.getCollectionParents(e,i).next(a=>B.forEach(a,l=>{const c=function(h,f){return new tp(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,$t.newInvalidDocument(d)))});let a=ec();return o.forEach((l,c)=>{const d=i.get(l);d!==void 0&&Ec(d.mutation,c,vn.empty(),$e.now()),rp(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ir(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:E6(s.bundledQuery),readTime:Ir(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(){this.overlays=new Je(te.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ji();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=Ji(),i=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Je((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Ji(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Ji(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return B.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new X3(n,r));let i=this.qr.get(n);i===void 0&&(i=Ee(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(){this.sessionToken=Ot.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(){this.Qr=new vt(Tt.$r),this.Ur=new vt(Tt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Tt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Tt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new te(new Be([])),r=new Tt(n,e),s=new Tt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new te(new Be([])),r=new Tt(n,e),s=new Tt(n,e+1);let i=Ee();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Tt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Tt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return te.comparator(e.key,n.key)||_e(e.Yr,n.Yr)}static Kr(e,n){return _e(e.Yr,n.Yr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new vt(Tt.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Y3(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new Tt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?P0:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tt(n,0),s=new Tt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vt(_e);return n.forEach(s=>{const i=new Tt(s,0),o=new Tt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;te.isDocumentKey(i)||(i=i.child(""));const o=new Tt(new te(i),0);let a=new vt(_e);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Yr)),!0)},o),B.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Re(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,s=>{const i=new Tt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Tt(n,0),s=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e){this.ri=e,this.docs=function(){return new Je(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(e,n){let r=us();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():$t.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=us();const o=n.path,a=new te(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||u3(c3(d),r)<=0||(s.has(d.key)||rp(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){se(9500)}ii(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new L6(this)}getSize(e){return B.resolve(this.size)}}class L6 extends P6{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e){this.persistence=e,this.si=new No(n=>N0(n),D0),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.oi=0,this._i=new F0,this.targetCount=0,this.ai=Ya.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ya(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e,n){this.ui={},this.overlays={},this.ci=new Jf(0),this.li=!1,this.li=!0,this.hi=new O6,this.referenceDelegate=e(this),this.Pi=new j6(this),this.indexManager=new x6,this.remoteDocumentCache=function(s){return new V6(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new _6(n),this.Ii=new N6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new D6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new M6(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const s=new F6(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return B.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class F6 extends h3{constructor(e){super(),this.currentSequenceNumber=e}}class U0{constructor(e){this.persistence=e,this.Ri=new F0,this.Vi=null}static mi(e){return new U0(e)}get fi(){if(this.Vi)return this.Vi;throw se(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,r=>{const s=te.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ce.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Yh{constructor(e,n){this.persistence=e,this.pi=new No(r=>m3(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=A6(this,n)}static mi(e,n){return new Yh(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return B.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?B.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ce.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yd(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return B.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ee(),s=Ee();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new B0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return kU()?8:f3(Gt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new U6;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Wo()<=we.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(Wo()<=we.DEBUG&&q("QueryEngine","Query:",Ho(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Wo()<=we.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cr(n))):B.resolve())}ys(e,n){if(hT(n))return B.resolve(null);let r=Cr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=by(n,null,"F"),r=Cr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ee(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(e,by(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,s){return hT(n)||s.isEqual(ce.min())?B.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?B.resolve(null):(Wo()<=we.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ho(n)),this.vs(e,o,n,l3(s,Zc)).next(a=>a))})}Ds(e,n){let r=new vt(pP(e));return n.forEach((s,i)=>{rp(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Wo()<=we.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Ho(n)),this.ps.getDocumentsMatchingQuery(e,n,yi.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="LocalStore",$6=3e8;class z6{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Je(_e),this.xs=new No(i=>N0(i),D0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new k6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function W6(t,e,n,r){return new z6(t,e,n,r)}async function LP(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ee();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function H6(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,f=h.keys();let p=B.resolve();return f.forEach(S=>{p=p.next(()=>d.getEntry(l,S)).next(g=>{const E=c.docVersions.get(S);Re(E!==null,48541),g.version.compareTo(E)<0&&(h.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),d.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ee();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function jP(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function G6(t,e){const n=de(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,h)=>{const f=s.get(h);if(!f)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Ot.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),s=s.insert(h,p),function(g,E,w){return g.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=$6?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,p,d)&&a.push(n.Pi.updateTargetData(i,p))});let l=us(),c=Ee();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(K6(i,o,e.documentUpdates).next(d=>{l=d.ks,c=d.qs})),!r.isEqual(ce.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(h=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return B.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ms=s,i))}function K6(t,e,n){let r=Ee(),s=Ee();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=us();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ce.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):q($0,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:s}})}function q6(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=P0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Q6(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new qs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Ry(t,e,n){const r=de(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!gl(o))throw o;q($0,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function bT(t,e,n){const r=de(t);let s=ce.min(),i=Ee();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=de(l),f=h.xs.get(d);return f!==void 0?B.resolve(h.Ms.get(f)):h.Pi.getTargetData(c,d)}(r,o,Cr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ce.min(),n?i:Ee())).next(a=>(Y6(r,M3(e),a),{documents:a,Qs:i})))}function Y6(t,e,n){let r=t.Os.get(e)||ce.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class CT{constructor(){this.activeTargetIds=B3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class X6{constructor(){this.Mo=new CT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new CT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="ConnectivityMonitor";class AT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){q(IT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){q(IT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Td=null;function ky(){return Td===null?Td=function(){return 268435456+Math.round(2147483648*Math.random())}():Td++,"0x"+Td.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="RestConnection",Z6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eB{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===zh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=ky(),a=this.zo(e,n.toUriEncodedString());q(Nm,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:c}=new URL(a),d=fl(c);return this.Jo(e,a,l,r,d).then(h=>(q(Nm,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Ga(Nm,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=Z6[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt="WebChannelConnection";class nB extends eB{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=ky();return new Promise((a,l)=>{const c=new $A;c.setWithCredentials(!0),c.listenOnce(zA.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Qd.NO_ERROR:const h=c.getResponseJson();q(jt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case Qd.TIMEOUT:q(jt,`RPC '${e}' ${o} timed out`),l(new Z($.DEADLINE_EXCEEDED,"Request time out"));break;case Qd.HTTP_ERROR:const f=c.getStatus();if(q(jt,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const S=p==null?void 0:p.error;if(S&&S.status&&S.message){const g=function(w){const v=w.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(v)>=0?v:$.UNKNOWN}(S.status);l(new Z(g,S.message))}else l(new Z($.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Z($.UNAVAILABLE,"Connection failed."));break;default:se(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{q(jt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);q(jt,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",d,r,15)})}T_(e,n,r){const s=ky(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=GA(),a=HA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");q(jt,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);this.I_(h);let f=!1,p=!1;const S=new tB({Yo:E=>{p?q(jt,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(f||(q(jt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),q(jt,`RPC '${e}' stream ${s} sending:`,E),h.send(E))},Zo:()=>h.close()}),g=(E,w,v)=>{E.listen(w,T=>{try{v(T)}catch(P){setTimeout(()=>{throw P},0)}})};return g(h,Zl.EventType.OPEN,()=>{p||(q(jt,`RPC '${e}' stream ${s} transport opened.`),S.o_())}),g(h,Zl.EventType.CLOSE,()=>{p||(p=!0,q(jt,`RPC '${e}' stream ${s} transport closed`),S.a_(),this.E_(h))}),g(h,Zl.EventType.ERROR,E=>{p||(p=!0,Ga(jt,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),S.a_(new Z($.UNAVAILABLE,"The operation could not be completed")))}),g(h,Zl.EventType.MESSAGE,E=>{var w;if(!p){const v=E.data[0];Re(!!v,16349);const T=v,P=(T==null?void 0:T.error)||((w=T[0])==null?void 0:w.error);if(P){q(jt,`RPC '${e}' stream ${s} received error:`,P);const k=P.status;let M=function(I){const R=at[I];if(R!==void 0)return bP(R)}(k),C=P.message;M===void 0&&(M=$.INTERNAL,C="Unknown error status: "+k+" with message "+P.message),p=!0,S.a_(new Z(M,C)),h.close()}else q(jt,`RPC '${e}' stream ${s} received:`,v),S.u_(v)}}),g(a,WA.STAT_EVENT,E=>{E.stat===wy.PROXY?q(jt,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===wy.NOPROXY&&q(jt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Dm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(t){return new o6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="PersistentStream";class UP{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new FP(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(cs(n.toString()),cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Z($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return q(PT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(q(PT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rB extends UP{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=c6(this.serializer,e),r=function(i){if(!("targetChange"in i))return ce.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?Ir(o.readTime):ce.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Py(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Sy(l)?{documents:h6(i,l)}:{query:f6(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=AP(i,o.resumeToken);const c=Cy(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ce.min())>0){a.readTime=Qh(i,o.snapshotVersion.toTimestamp());const c=Cy(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=m6(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Py(this.serializer),n.removeTarget=e,this.q_(n)}}class sB extends UP{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Re(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Re(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=d6(e.writeResults,e.commitTime),r=Ir(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Py(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>u6(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{}class oB extends iB{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Z($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Iy(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Z($.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Iy(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z($.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class aB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cs(n),this.aa=!1):q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo="RemoteStore";class lB{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Do(this)&&(q(xo,"Restarting streams for network reachability change."),await async function(l){const c=de(l);c.Ea.add(4),await Au(c),c.Ra.set("Unknown"),c.Ea.delete(4),await cp(c)}(this))})}),this.Ra=new aB(r,s)}}async function cp(t){if(Do(t))for(const e of t.da)await e(!0)}async function Au(t){for(const e of t.da)await e(!1)}function BP(t,e){const n=de(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),G0(n)?H0(n):yl(n).O_()&&W0(n,e))}function z0(t,e){const n=de(t),r=yl(n);n.Ia.delete(e),r.O_()&&$P(n,e),n.Ia.size===0&&(r.O_()?r.L_():Do(n)&&n.Ra.set("Unknown"))}function W0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yl(t).Y_(e)}function $P(t,e){t.Va.Ue(e),yl(t).Z_(e)}function H0(t){t.Va=new n6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),yl(t).start(),t.Ra.ua()}function G0(t){return Do(t)&&!yl(t).x_()&&t.Ia.size>0}function Do(t){return de(t).Ea.size===0}function zP(t){t.Va=void 0}async function cB(t){t.Ra.set("Online")}async function uB(t){t.Ia.forEach((e,n)=>{W0(t,e)})}async function dB(t,e){zP(t),G0(t)?(t.Ra.ha(e),H0(t)):t.Ra.set("Unknown")}async function hB(t,e,n){if(t.Ra.set("Online"),e instanceof IP&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){q(xo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xh(t,r)}else if(e instanceof Zd?t.Va.Ze(e):e instanceof CP?t.Va.st(e):t.Va.tt(e),!n.isEqual(ce.min()))try{const r=await jP(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ia.get(c);d&&i.Ia.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i.Ia.get(l);if(!d)return;i.Ia.set(l,d.withResumeToken(Ot.EMPTY_BYTE_STRING,d.snapshotVersion)),$P(i,l);const h=new qs(d.target,l,c,d.sequenceNumber);W0(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){q(xo,"Failed to raise snapshot:",r),await Xh(t,r)}}async function Xh(t,e,n){if(!gl(e))throw e;t.Ea.add(1),await Au(t),t.Ra.set("Offline"),n||(n=()=>jP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q(xo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await cp(t)})}function WP(t,e){return e().catch(n=>Xh(t,n,e))}async function up(t){const e=de(t),n=Ei(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:P0;for(;fB(e);)try{const s=await q6(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,pB(e,s)}catch(s){await Xh(e,s)}HP(e)&&GP(e)}function fB(t){return Do(t)&&t.Ta.length<10}function pB(t,e){t.Ta.push(e);const n=Ei(t);n.O_()&&n.X_&&n.ea(e.mutations)}function HP(t){return Do(t)&&!Ei(t).x_()&&t.Ta.length>0}function GP(t){Ei(t).start()}async function mB(t){Ei(t).ra()}async function gB(t){const e=Ei(t);for(const n of t.Ta)e.ea(n.mutations)}async function yB(t,e,n){const r=t.Ta.shift(),s=V0.from(r,e,n);await WP(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await up(t)}async function vB(t,e){e&&Ei(t).X_&&await async function(r,s){if(function(o){return Z3(o)&&o!==$.ABORTED}(s.code)){const i=r.Ta.shift();Ei(r).B_(),await WP(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await up(r)}}(t,e),HP(t)&&GP(t)}async function RT(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),q(xo,"RemoteStore received new credentials");const r=Do(n);n.Ea.add(3),await Au(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await cp(n)}async function wB(t,e){const n=de(t);e?(n.Ea.delete(2),await cp(n)):e||(n.Ea.add(2),await Au(n),n.Ra.set("Unknown"))}function yl(t){return t.ma||(t.ma=function(n,r,s){const i=de(n);return i.sa(),new rB(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:cB.bind(null,t),t_:uB.bind(null,t),r_:dB.bind(null,t),H_:hB.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),G0(t)?H0(t):t.Ra.set("Unknown")):(await t.ma.stop(),zP(t))})),t.ma}function Ei(t){return t.fa||(t.fa=function(n,r,s){const i=de(n);return i.sa(),new sB(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:mB.bind(null,t),r_:vB.bind(null,t),ta:gB.bind(null,t),na:yB.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await up(t)):(await t.fa.stop(),t.Ta.length>0&&(q(xo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new co,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new K0(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function q0(t,e){if(cs("AsyncQueue",`${e}: ${t}`),gl(t))return new Z($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{static emptySet(e){return new Ta(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=ec(),this.sortedSet=new Je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ta)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ta;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(){this.ga=new Je(te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xa{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Xa(e,n,Ta.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&np(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class EB{constructor(){this.queries=NT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=de(n),i=s.queries;s.queries=NT(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Z($.ABORTED,"Firestore shutting down"))}}function NT(){return new No(t=>fP(t),np)}async function xB(t,e){const n=de(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new _B,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=q0(o,`Initialization of query '${Ho(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Q0(n)}async function TB(t,e){const n=de(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function SB(t,e){const n=de(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Q0(n)}function bB(t,e,n){const r=de(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Q0(t){t.Ca.forEach(e=>{e.next()})}var Ny,DT;(DT=Ny||(Ny={})).Ma="default",DT.Cache="cache";class CB{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Xa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Xa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ny.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e){this.key=e}}class qP{constructor(e){this.key=e}}class IB{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ee(),this.mutatedKeys=Ee(),this.eu=pP(e),this.tu=new Ta(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new kT,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const f=s.get(d),p=rp(this.query,h)?h:null,S=!!f&&this.mutatedKeys.has(f.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;f&&p?f.data.isEqual(p.data)?S!==g&&(r.track({type:3,doc:p}),E=!0):this.su(f,p)||(r.track({type:2,doc:p}),E=!0,(l&&this.eu(p,l)>0||c&&this.eu(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),E=!0):f&&!p&&(r.track({type:1,doc:f}),E=!0,(l||c)&&(a=!0)),E&&(p?(o=o.add(p),i=g?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(p,S){const g=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{Rt:E})}};return g(p)-g(S)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new Xa(this.query,e.tu,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new kT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ee(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new qP(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new KP(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ee();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Xa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Y0="SyncEngine";class AB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class PB{constructor(e){this.key=e,this.hu=!1}}class RB{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new No(a=>fP(a),np),this.Iu=new Map,this.Eu=new Set,this.du=new Je(te.comparator),this.Au=new Map,this.Ru=new F0,this.Vu={},this.mu=new Map,this.fu=Ya.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function kB(t,e,n=!0){const r=eR(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await QP(r,e,n,!0),s}async function NB(t,e){const n=eR(t);await QP(n,e,!0,!1)}async function QP(t,e,n,r){const s=await Q6(t.localStore,Cr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await DB(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&BP(t.remoteStore,s),a}async function DB(t,e,n,r,s){t.pu=(h,f,p)=>async function(g,E,w,v){let T=E.view.ru(w);T.Cs&&(T=await bT(g.localStore,E.query,!1).then(({documents:C})=>E.view.ru(C,T)));const P=v&&v.targetChanges.get(E.targetId),k=v&&v.targetMismatches.get(E.targetId)!=null,M=E.view.applyChanges(T,g.isPrimaryClient,P,k);return MT(g,E.targetId,M.au),M.snapshot}(t,h,f,p);const i=await bT(t.localStore,e,!0),o=new IB(e,i.Qs),a=o.ru(i.documents),l=Iu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);MT(t,n,c.au);const d=new AB(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function OB(t,e,n){const r=de(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!np(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ry(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&z0(r.remoteStore,s.targetId),Dy(r,s.targetId)}).catch(ml)):(Dy(r,s.targetId),await Ry(r.localStore,s.targetId,!0))}async function MB(t,e){const n=de(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),z0(n.remoteStore,r.targetId))}async function VB(t,e,n){const r=zB(t);try{const s=await function(o,a){const l=de(o),c=$e.now(),d=a.reduce((p,S)=>p.add(S.key),Ee());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let S=us(),g=Ee();return l.Ns.getEntries(p,d).next(E=>{S=E,S.forEach((w,v)=>{v.isValidDocument()||(g=g.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,S)).next(E=>{h=E;const w=[];for(const v of a){const T=q3(v,h.get(v.key).overlayedDocument);T!=null&&w.push(new Ri(v.key,T,oP(T.value.mapValue),En.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,w,a)}).next(E=>{f=E;const w=E.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(p,E.batchId,w)})}).then(()=>({batchId:f.batchId,changes:gP(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new Je(_e)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c}(r,s.batchId,n),await Pu(r,s.changes),await up(r.remoteStore)}catch(s){const i=q0(s,"Failed to persist write");n.reject(i)}}async function YP(t,e){const n=de(t);try{const r=await G6(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Re(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Re(o.hu,14607):s.removedDocuments.size>0&&(Re(o.hu,42227),o.hu=!1))}),await Pu(n,r,e)}catch(r){await ml(r)}}function OT(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=de(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const f of h.Sa)f.va(a)&&(c=!0)}),c&&Q0(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function LB(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Je(te.comparator);o=o.insert(i,$t.newNoDocument(i,ce.min()));const a=Ee().add(i),l=new ap(ce.min(),new Map,new Je(_e),o,a);await YP(r,l),r.du=r.du.remove(i),r.Au.delete(e),X0(r)}else await Ry(r.localStore,e,!1).then(()=>Dy(r,e,n)).catch(ml)}async function jB(t,e){const n=de(t),r=e.batch.batchId;try{const s=await H6(n.localStore,e);JP(n,r,null),XP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pu(n,s)}catch(s){await ml(s)}}async function FB(t,e,n){const r=de(t);try{const s=await function(o,a){const l=de(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Re(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);JP(r,e,n),XP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Pu(r,s)}catch(s){await ml(s)}}function XP(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function JP(t,e,n){const r=de(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Dy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||ZP(t,r)})}function ZP(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(z0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),X0(t))}function MT(t,e,n){for(const r of n)r instanceof KP?(t.Ru.addReference(r.key,e),UB(t,r)):r instanceof qP?(q(Y0,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||ZP(t,r.key)):se(19791,{wu:r})}function UB(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(q(Y0,"New document in limbo: "+n),t.Eu.add(r),X0(t))}function X0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new te(Be.fromString(e)),r=t.fu.next();t.Au.set(r,new PB(n)),t.du=t.du.insert(n,r),BP(t.remoteStore,new qs(Cr(O0(n.path)),r,"TargetPurposeLimboResolution",Jf.ce))}}async function Pu(t,e,n){const r=de(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){s.push(c);const h=B0.As(l.targetId,c);i.push(h)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,c){const d=de(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>B.forEach(c,f=>B.forEach(f.Es,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>B.forEach(f.ds,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!gl(h))throw h;q($0,"Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const p=d.Ms.get(f),S=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(S);d.Ms=d.Ms.insert(f,g)}}}(r.localStore,i))}async function BB(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){q(Y0,"User change. New user:",e.toKey());const r=await LP(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new Z($.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Pu(n,r.Ls)}}function $B(t,e){const n=de(t),r=n.Au.get(e);if(r&&r.hu)return Ee().add(r.key);{let s=Ee();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function eR(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=YP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$B.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LB.bind(null,e),e.Pu.H_=SB.bind(null,e.eventManager),e.Pu.yu=bB.bind(null,e.eventManager),e}function zB(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FB.bind(null,e),e}class Jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return W6(this.persistence,new B6,e.initialUser,this.serializer)}Cu(e){return new VP(U0.mi,this.serializer)}Du(e){return new X6}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jh.provider={build:()=>new Jh};class WB extends Jh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Re(this.persistence.referenceDelegate instanceof Yh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new C6(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new VP(r=>Yh.mi(r,n),this.serializer)}}class Oy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>OT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BB.bind(null,this.syncEngine),await wB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new EB}()}createDatastore(e){const n=lp(e.databaseInfo.databaseId),r=function(i){return new nB(i)}(e.databaseInfo);return function(i,o,a,l){return new oB(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new lB(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>OT(this.syncEngine,n,0),function(){return AT.v()?new AT:new J6}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,d){const h=new RB(s,i,o,a,l,c);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=de(s);q(xo,"RemoteStore shutting down."),i.Ea.add(5),await Au(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Oy.provider={build:()=>new Oy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):cs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="FirestoreClient";class GB{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ut.UNAUTHENTICATED,this.clientId=I0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{q(xi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(q(xi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new co;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=q0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Om(t,e){t.asyncQueue.verifyOperationInProgress(),q(xi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await LP(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function VT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await KB(t);q(xi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>RT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>RT(e.remoteStore,s)),t._onlineComponents=e}async function KB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q(xi,"Using user provided OfflineComponentProvider");try{await Om(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ga("Error using user provided cache. Falling back to memory cache: "+n),await Om(t,new Jh)}}else q(xi,"Using default OfflineComponentProvider"),await Om(t,new WB(void 0));return t._offlineComponents}async function tR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q(xi,"Using user provided OnlineComponentProvider"),await VT(t,t._uninitializedComponentsProvider._online)):(q(xi,"Using default OnlineComponentProvider"),await VT(t,new Oy))),t._onlineComponents}function qB(t){return tR(t).then(e=>e.syncEngine)}async function LT(t){const e=await tR(t),n=e.eventManager;return n.onListen=kB.bind(null,e.syncEngine),n.onUnlisten=OB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=MB.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="firestore.googleapis.com",FT=!0;class UT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Z($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rR,this.ssl=FT}else this.host=e.host,this.ssl=e.ssl??FT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=MP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<S6)throw new Z($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}a3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nR(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Z($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Z($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Z($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dp{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new X5;switch(r.type){case"firstParty":return new t3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=jT.get(n);r&&(q("ComponentProvider","Removing Datastore"),jT.delete(n),r.terminate())}(this),Promise.resolve()}}function QB(t,e,n,r={}){var c;t=li(t,dp);const s=fl(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(DA(`https://${a}`),OA("Firestore",!0)),i.host!==rR&&i.host!==a&&Ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!wo(l,o)&&(t._setSettings(l),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Ut.MOCK_USER;else{d=xU(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Z($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ut(f)}t._authCredentials=new J5(new qA(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hp(this.firestore,e,this._query)}}class yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(bu(n,yt._jsonSchema))return new yt(e,r||null,new te(Be.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:ct("string",yt._jsonSchemaVersion),referencePath:ct("string")};class ci extends hp{constructor(e,n,r){super(e,n,O0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new te(e))}withConverter(e){return new ci(this.firestore,e,this._path)}}function YB(t,e,...n){if(t=Kt(t),QA("collection","path",e),t instanceof dp){const r=Be.fromString(e,...n);return Zx(r),new ci(t,null,r)}{if(!(t instanceof yt||t instanceof ci))throw new Z($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return Zx(r),new ci(t.firestore,null,r)}}function Gl(t,e,...n){if(t=Kt(t),arguments.length===1&&(e=I0.newId()),QA("doc","path",e),t instanceof dp){const r=Be.fromString(e,...n);return Jx(r),new yt(t,null,new te(r))}{if(!(t instanceof yt||t instanceof ci))throw new Z($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return Jx(r),new yt(t.firestore,t instanceof ci?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="AsyncQueue";class $T{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new FP(this,"async_queue_retry"),this._c=()=>{const r=Dm();r&&q(BT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Dm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new co;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!gl(e))throw e;q(BT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,cs("INTERNAL UNHANDLED ERROR: ",zT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=K0.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&se(47125,{Pc:zT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function zT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Ja extends dp{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new $T,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $T(e),this._firestoreClient=void 0,await e}}}function XB(t,e){const n=typeof t=="object"?t:jA(),r=typeof t=="string"?t:zh,s=b0(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=_U("firestore");i&&QB(s,...i)}return s}function J0(t){if(t._terminated)throw new Z($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||JB(t),t._firestoreClient}function JB(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,c,d){return new v3(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,nR(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new GB(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(Ot.fromBase64String(e))}catch(n){throw new Z($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mn(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bu(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:ct("string",Mn._jsonSchemaVersion),bytes:ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ar._jsonSchemaVersion}}static fromJSON(e){if(bu(e,Ar._jsonSchema))return new Ar(e.latitude,e.longitude)}}Ar._jsonSchemaVersion="firestore/geoPoint/1.0",Ar._jsonSchema={type:ct("string",Ar._jsonSchemaVersion),latitude:ct("number"),longitude:ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Pr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bu(e,Pr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Pr(e.vectorValues);throw new Z($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pr._jsonSchemaVersion="firestore/vectorValue/1.0",Pr._jsonSchema={type:ct("string",Pr._jsonSchemaVersion),vectorValues:ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB=/^__.*__$/;class e9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ri(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cu(e,this.data,n,this.fieldTransforms)}}class sR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ri(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function iR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{Ac:t})}}class ew{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ew({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Zh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(iR(this.Ac)&&ZB.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class t9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||lp(e)}Cc(e,n,r,s=!1){return new ew({Ac:e,methodName:n,Dc:r,path:kt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oR(t){const e=t._freezeSettings(),n=lp(t._databaseId);return new t9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function aR(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);tw("Data must be an object, but it was:",o,r);const a=lR(r,o);let l,c;if(i.merge)l=new vn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const f=My(e,h,n);if(!o.contains(f))throw new Z($.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);uR(d,f)||d.push(f)}l=new vn(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new e9(new ln(a),l,c)}class pp extends Z0{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pp}}function n9(t,e,n,r){const s=t.Cc(1,e,n);tw("Data must be an object, but it was:",s,r);const i=[],o=ln.empty();Pi(r,(l,c)=>{const d=nw(e,l,n);c=Kt(c);const h=s.yc(d);if(c instanceof pp)i.push(d);else{const f=mp(c,h);f!=null&&(i.push(d),o.set(d,f))}});const a=new vn(i);return new sR(o,a,s.fieldTransforms)}function r9(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[My(e,r,n)],l=[s];if(i.length%2!=0)throw new Z($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(My(e,i[f])),l.push(i[f+1]);const c=[],d=ln.empty();for(let f=a.length-1;f>=0;--f)if(!uR(c,a[f])){const p=a[f];let S=l[f];S=Kt(S);const g=o.yc(p);if(S instanceof pp)c.push(p);else{const E=mp(S,g);E!=null&&(c.push(p),d.set(p,E))}}const h=new vn(c);return new sR(d,h,o.fieldTransforms)}function mp(t,e){if(cR(t=Kt(t)))return tw("Unsupported field value:",e,t),lR(t,e);if(t instanceof Z0)return function(r,s){if(!iR(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=mp(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $3(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=$e.fromDate(r);return{timestampValue:Qh(s.serializer,i)}}if(r instanceof $e){const i=new $e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qh(s.serializer,i)}}if(r instanceof Ar)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mn)return{bytesValue:AP(s.serializer,r._byteString)};if(r instanceof yt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:j0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Pr)return function(o,a){return{mapValue:{fields:{[sP]:{stringValue:iP},[Wh]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return M0(a.serializer,c)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${A0(r)}`)}(t,e)}function lR(t,e){const n={};return JA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pi(t,(r,s)=>{const i=mp(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function cR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $e||t instanceof Ar||t instanceof Mn||t instanceof yt||t instanceof Z0||t instanceof Pr)}function tw(t,e,n){if(!cR(n)||!YA(n)){const r=A0(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function My(t,e,n){if((e=Kt(e))instanceof fp)return e._internalPath;if(typeof e=="string")return nw(t,e);throw Zh("Field path arguments must be of type string or ",t,!1,void 0,n)}const s9=new RegExp("[~\\*/\\[\\]]");function nw(t,e,n){if(e.search(s9)>=0)throw Zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new fp(...e.split("."))._internalPath}catch{throw Zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Z($.INVALID_ARGUMENT,a+t+l)}function uR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new i9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class i9 extends dR{data(){return super.data()}}function hR(t,e){return typeof e=="string"?nw(t,e):e instanceof fp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class a9{convertValue(e,n="none"){switch(_i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Pi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Wh].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>st(o.doubleValue));return new Pr(n)}convertGeoPoint(e){return new Ar(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ep(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=vi(e);return new $e(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Be.fromString(e);Re(OP(r),9688,{name:e});const s=new tu(r.get(1),r.get(3)),i=new te(r.popFirst(5));return s.isEqual(n)||cs(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class nc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uo extends dR{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(hR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Z($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=uo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}uo._jsonSchemaVersion="firestore/documentSnapshot/1.0",uo._jsonSchema={type:ct("string",uo._jsonSchemaVersion),bundleSource:ct("string","DocumentSnapshot"),bundleName:ct("string"),bundle:ct("string")};class eh extends uo{data(e={}){return super.data(e)}}class Sa{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new nc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new eh(this._firestore,this._userDataWriter,r.key,r,new nc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new eh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new nc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new eh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new nc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:l9(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Z($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Sa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=I0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function l9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:t})}}Sa._jsonSchemaVersion="firestore/querySnapshot/1.0",Sa._jsonSchema={type:ct("string",Sa._jsonSchemaVersion),bundleSource:ct("string","QuerySnapshot"),bundleName:ct("string"),bundle:ct("string")};class pR extends a9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function c9(t,e,n){t=li(t,yt);const r=li(t.firestore,Ja),s=fR(t.converter,e,n);return rw(r,[aR(oR(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,En.none())])}function u9(t){return rw(li(t.firestore,Ja),[new op(t._key,En.none())])}function HT(t,...e){var l,c,d;t=Kt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||WT(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(WT(e[r])){const h=e[r];e[r]=(l=h.next)==null?void 0:l.bind(h),e[r+1]=(c=h.error)==null?void 0:c.bind(h),e[r+2]=(d=h.complete)==null?void 0:d.bind(h)}let i,o,a;if(t instanceof yt)o=li(t.firestore,Ja),a=O0(t._key.path),i={next:h=>{e[r]&&e[r](d9(o,t,h))},error:e[r+1],complete:e[r+2]};else{const h=li(t,hp);o=li(h.firestore,Ja),a=h._query;const f=new pR(o);i={next:p=>{e[r]&&e[r](new Sa(o,f,h,p))},error:e[r+1],complete:e[r+2]},o9(t._query)}return function(f,p,S,g){const E=new HB(g),w=new CB(p,E,S);return f.asyncQueue.enqueueAndForget(async()=>xB(await LT(f),w)),()=>{E.Nu(),f.asyncQueue.enqueueAndForget(async()=>TB(await LT(f),w))}}(J0(o),a,s,i)}function rw(t,e){return function(r,s){const i=new co;return r.asyncQueue.enqueueAndForget(async()=>VB(await qB(r),s,i)),i.promise}(J0(t),e)}function d9(t,e,n){const r=n.docs.get(e._key),s=new pR(t);return new uo(t,s,e._key,r,new nc(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=oR(e)}set(e,n,r){this._verifyNotCommitted();const s=Mm(e,this._firestore),i=fR(s.converter,n,r),o=aR(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,En.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=Mm(e,this._firestore);let o;return o=typeof(n=Kt(n))=="string"||n instanceof fp?r9(this._dataReader,"WriteBatch.update",i._key,n,r,s):n9(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,En.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Mm(e,this._firestore);return this._mutations=this._mutations.concat(new op(n._key,En.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Z($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Mm(t,e){if((t=Kt(t)).firestore!==e)throw new Z($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(t){return J0(t=li(t,Ja)),new h9(t,e=>rw(t,e))}(function(e,n=!0){(function(s){pl=s})(ko),_o(new gi("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Ja(new Z5(r.getProvider("auth-internal")),new n3(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Z($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(c.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),br(qx,Qx,e),br(qx,Qx,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="firebasestorage.googleapis.com",f9="storageBucket",p9=2*60*1e3,m9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Fr{constructor(e,n,r=0){super(Vm(e),`Firebase Storage: ${n} (${Vm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ur.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Lr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Lr||(Lr={}));function Vm(t){return"storage/"+t}function g9(){const t="An unknown error occurred, please check the error payload for server response.";return new Ur(Lr.UNKNOWN,t)}function y9(){return new Ur(Lr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function v9(){return new Ur(Lr.CANCELED,"User canceled the upload/download.")}function w9(t){return new Ur(Lr.INVALID_URL,"Invalid URL '"+t+"'.")}function _9(t){return new Ur(Lr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function KT(t){return new Ur(Lr.INVALID_ARGUMENT,t)}function gR(){return new Ur(Lr.APP_DELETED,"The Firebase app was deleted.")}function E9(t){return new Ur(Lr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Zn.makeFromUrl(e,n)}catch{return new Zn(e,"")}if(r.path==="")return r;throw _9(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(P){P.path_=decodeURIComponent(P.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${d}/b/${s}/o${f}`,"i"),S={bucket:1,path:3},g=n===mR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",w=new RegExp(`^https?://${g}/${s}/${E}`,"i"),T=[{regex:a,indices:l,postModify:i},{regex:p,indices:S,postModify:c},{regex:w,indices:{bucket:1,path:2},postModify:c}];for(let P=0;P<T.length;P++){const k=T[P],M=k.regex.exec(e);if(M){const C=M[k.indices.bucket];let b=M[k.indices.path];b||(b=""),r=new Zn(C,b),k.postModify(r);break}}if(r==null)throw w9(e);return r}}class x9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...E){c||(c=!0,e.apply(null,E))}function h(E){s=setTimeout(()=>{s=null,t(p,l())},E)}function f(){i&&clearTimeout(i)}function p(E,...w){if(c){f();return}if(E){f(),d.call(null,E,...w);return}if(l()||o){f(),d.call(null,E,...w);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,h(T)}let S=!1;function g(E){S||(S=!0,f(),!c&&(s!==null?(E||(a=2),clearTimeout(s),h(0)):E||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,g(!0)},n),g}function S9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(t){return t!==void 0}function qT(t,e,n,r){if(r<e)throw KT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw KT(`Invalid value for '${t}'. Expected ${n} or less.`)}function C9(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var ef;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ef||(ef={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e,n,r,s,i,o,a,l,c,d,h,f=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,g)=>{this.resolve_=S,this.reject_=g,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Sd(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===ef.NO_ERROR,l=i.getStatus();if(!a||I9(l,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===ef.ABORT;r(!1,new Sd(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Sd(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());b9(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=g9();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?gR():v9();o(l)}else{const l=y9();o(l)}};this.canceled_?n(!1,new Sd(!1,null,!0)):this.backoffId_=T9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&S9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function P9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function R9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function k9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function N9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function D9(t,e,n,r,s,i,o=!0,a=!1){const l=C9(t.urlParams),c=t.url+l,d=Object.assign({},t.headers);return k9(d,e),P9(d,n),R9(d,i),N9(d,r),new A9(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function M9(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n){this._service=e,n instanceof Zn?this._location=n:this._location=Zn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new tf(e,n)}get root(){const e=new Zn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return M9(this._location.path)}get storage(){return this._service}get parent(){const e=O9(this._location.path);if(e===null)return null;const n=new Zn(this._location.bucket,e);return new tf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw E9(e)}}function QT(t,e){const n=e==null?void 0:e[f9];return n==null?null:Zn.makeFromBucketSpec(n,t)}class V9{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=mR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=p9,this._maxUploadRetryTime=m9,this._requests=new Set,s!=null?this._bucket=Zn.makeFromBucketSpec(s,this._host):this._bucket=QT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zn.makeFromBucketSpec(this._url,e):this._bucket=QT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){qT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){qT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new tf(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new x9(gR());{const o=D9(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const YT="@firebase/storage",XT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9="storage";function j9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new V9(n,r,s,e,ko)}function F9(){_o(new gi(L9,j9,"PUBLIC").setMultipleInstances(!0)),br(YT,XT,""),br(YT,XT,"esm2020")}F9();function yR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const U9=yR,vR=new Tu("auth","Firebase",yR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf=new T0("@firebase/auth");function B9(t,...e){nf.logLevel<=we.WARN&&nf.warn(`Auth (${ko}): ${t}`,...e)}function th(t,...e){nf.logLevel<=we.ERROR&&nf.error(`Auth (${ko}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t,...e){throw sw(t,...e)}function Rr(t,...e){return sw(t,...e)}function wR(t,e,n){const r={...U9(),[e]:n};return new Tu("auth","Firebase",r).create(e,{appName:t.name})}function ui(t){return wR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return vR.create(t,...e)}function oe(t,e,...n){if(!t)throw sw(e,...n)}function Xr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw th(e),new Error(e)}function hs(t,e){t||Xr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function $9(){return JT()==="http:"||JT()==="https:"}function JT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($9()||AU()||"connection"in navigator)?navigator.onLine:!0}function W9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,hs(n>e,"Short delay should be less than long delay!"),this.isMobile=bU()||PU()}get(){return z9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(t,e){hs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],K9=new Ru(3e4,6e4);function gp(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function vl(t,e,n,r,s={}){return ER(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Su({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...i};return IU()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&fl(t.emulatorConfig.host)&&(c.credentials="include"),_R.fetch()(await TR(t,t.config.apiHost,n,a),c)})}async function ER(t,e,n){t._canInitEmulator=!1;const r={...H9,...e};try{const s=new q9(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw bd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw bd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw bd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw bd(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw wR(t,d,c);ds(t,d)}}catch(s){if(s instanceof Fr)throw s;ds(t,"network-request-failed",{message:String(s)})}}async function xR(t,e,n,r,s={}){const i=await vl(t,e,n,r,s);return"mfaPendingCredential"in i&&ds(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function TR(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?iw(t.config,s):`${t.config.apiScheme}://${s}`;return G9.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class q9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rr(this.auth,"network-request-failed")),K9.get())})}}function bd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Rr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q9(t,e){return vl(t,"POST","/v1/accounts:delete",e)}async function rf(t,e){return vl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Y9(t,e=!1){const n=Kt(t),r=await n.getIdToken(e),s=ow(r);oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:xc(Lm(s.auth_time)),issuedAtTime:xc(Lm(s.iat)),expirationTime:xc(Lm(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Lm(t){return Number(t)*1e3}function ow(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return th("JWT malformed, contained fewer than 3 sections"),null;try{const s=PA(n);return s?JSON.parse(s):(th("Failed to decode base64 JWT payload"),null)}catch(s){return th("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function ZT(t){const e=ow(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Fr&&X9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function X9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xc(this.lastLoginAt),this.creationTime=xc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sf(t){var h;const e=t.auth,n=await t.getIdToken(),r=await iu(t,rf(e,{idToken:n}));oe(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(h=s.providerUserInfo)!=null&&h.length?SR(s.providerUserInfo):[],o=e$(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Ly(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function Z9(t){const e=Kt(t);await sf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function e$(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function SR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t$(t,e){const n=await ER(t,{},async()=>{const r=Su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await TR(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&fl(t.emulatorConfig.host)&&(l.credentials="include"),_R.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function n$(t,e){return vl(t,"POST","/v2/accounts:revokeToken",gp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=ZT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await t$(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ba;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(oe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(oe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ba,this.toJSON())}_performRefresh(){return Xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class er{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new J9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ly(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await iu(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Y9(this,e)}reload(){return Z9(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new er({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(ui(this.auth));const e=await this.getIdToken();return await iu(this,Q9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:f,isAnonymous:p,providerData:S,stsTokenManager:g}=n;oe(h&&g,e,"internal-error");const E=ba.fromJSON(this.name,g);oe(typeof h=="string",e,"internal-error"),Cs(r,e.name),Cs(s,e.name),oe(typeof f=="boolean",e,"internal-error"),oe(typeof p=="boolean",e,"internal-error"),Cs(i,e.name),Cs(o,e.name),Cs(a,e.name),Cs(l,e.name),Cs(c,e.name),Cs(d,e.name);const w=new er({uid:h,auth:e,email:s,emailVerified:f,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:E,createdAt:c,lastLoginAt:d});return S&&Array.isArray(S)&&(w.providerData=S.map(v=>({...v}))),l&&(w._redirectEventId=l),w}static async _fromIdTokenResponse(e,n,r=!1){const s=new ba;s.updateFromServerResponse(n);const i=new er({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await sf(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];oe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?SR(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new ba;a.updateFromIdToken(r);const l=new er({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Ly(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=new Map;function Jr(t){hs(t instanceof Function,"Expected a class definition");let e=eS.get(t);return e?(hs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bR.type="NONE";const tS=bR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(t,e,n){return`firebase:${t}:${e}:${n}`}class Ca{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=nh(this.userKey,s.apiKey,i),this.fullPersistenceKey=nh("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await rf(this.auth,{idToken:e}).catch(()=>{});return n?er._fromGetAccountInfoResponse(this.auth,n,e):null}return er._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ca(Jr(tS),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Jr(tS);const o=nh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let h;if(typeof d=="string"){const f=await rf(e,{idToken:d}).catch(()=>{});if(!f)break;h=await er._fromGetAccountInfoResponse(e,f,d)}else h=er._fromJSON(e,d);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Ca(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Ca(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kR(e))return"Blackberry";if(NR(e))return"Webos";if(IR(e))return"Safari";if((e.includes("chrome/")||AR(e))&&!e.includes("edge/"))return"Chrome";if(RR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function CR(t=Gt()){return/firefox\//i.test(t)}function IR(t=Gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AR(t=Gt()){return/crios\//i.test(t)}function PR(t=Gt()){return/iemobile/i.test(t)}function RR(t=Gt()){return/android/i.test(t)}function kR(t=Gt()){return/blackberry/i.test(t)}function NR(t=Gt()){return/webos/i.test(t)}function aw(t=Gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function r$(t=Gt()){var e;return aw(t)&&!!((e=window.navigator)!=null&&e.standalone)}function s$(){return RU()&&document.documentMode===10}function DR(t=Gt()){return aw(t)||RR(t)||NR(t)||kR(t)||/windows phone/i.test(t)||PR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(t,e=[]){let n;switch(t){case"Browser":n=nS(Gt());break;case"Worker":n=`${nS(Gt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ko}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o$(t,e={}){return vl(t,"GET","/v2/passwordPolicy",gp(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$=6;class l${constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??a$,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rS(this),this.idTokenSubscription=new rS(this),this.beforeStateQueue=new i$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Jr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Ca.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rf(this,{idToken:e}),r=await er._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(On(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=W9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(On(this.app))return Promise.reject(ui(this));const n=e?Kt(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return On(this.app)?Promise.reject(ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return On(this.app)?Promise.reject(ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Jr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await o$(this),n=new l$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await n$(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Jr(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Ca.create(this,[Jr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&B9(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function yp(t){return Kt(t)}class rS{constructor(e){this.auth=e,this.observer=null,this.addObserver=jU(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function u$(t){lw=t}function d$(t){return lw.loadJS(t)}function h$(){return lw.gapiScript}function f$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p$(t,e){const n=b0(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(wo(i,e??{}))return s;ds(s,"already-initialized")}return n.initialize({options:e})}function m$(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Jr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function g$(t,e,n){const r=yp(t);oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=MR(e),{host:o,port:a}=y$(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),oe(wo(c,r.config.emulator)&&wo(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,fl(o)?(DA(`${i}//${o}${l}`),OA("Auth",!0)):v$()}function MR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function y$(t){const e=MR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:sS(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:sS(o)}}}function sS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function v$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xr("not implemented")}_getIdTokenResponse(e){return Xr("not implemented")}_linkToIdToken(e,n){return Xr("not implemented")}_getReauthenticationResolver(e){return Xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(t,e){return xR(t,"POST","/v1/accounts:signInWithIdp",gp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w$="http://localhost";class To extends VR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new To(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ds("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new To(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ia(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ia(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ia(e,n)}buildRequest(){const e={requestUri:w$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Su(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends LR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends ku{constructor(){super("facebook.com")}static credential(e){return To._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return To._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Vs.credential(n,r)}catch{return null}}}Vs.GOOGLE_SIGN_IN_METHOD="google.com";Vs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends ku{constructor(){super("github.com")}static credential(e){return To._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ls.credential(e.oauthAccessToken)}catch{return null}}}Ls.GITHUB_SIGN_IN_METHOD="github.com";Ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends ku{constructor(){super("twitter.com")}static credential(e,n){return To._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return js.credential(n,r)}catch{return null}}}js.TWITTER_SIGN_IN_METHOD="twitter.com";js.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _$(t,e){return xR(t,"POST","/v1/accounts:signUp",gp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await er._fromIdTokenResponse(e,r,s),o=iS(r);return new Ti({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=iS(r);return new Ti({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function iS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E$(t){var s;if(On(t.app))return Promise.reject(ui(t));const e=yp(t);if(await e._initializationPromise,(s=e.currentUser)!=null&&s.isAnonymous)return new Ti({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await _$(e,{returnSecureToken:!0}),r=await Ti._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of extends Fr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,of.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new of(e,n,r,s)}}function jR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?of._fromErrorAndOperation(t,i,e,r):i})}async function x$(t,e,n=!1){const r=await iu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ti._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T$(t,e,n=!1){const{auth:r}=t;if(On(r.app))return Promise.reject(ui(r));const s="reauthenticate";try{const i=await iu(t,jR(r,s,e,t),n);oe(i.idToken,r,"internal-error");const o=ow(i.idToken);oe(o,r,"internal-error");const{sub:a}=o;return oe(t.uid===a,r,"user-mismatch"),Ti._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ds(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S$(t,e,n=!1){if(On(t.app))return Promise.reject(ui(t));const r="signIn",s=await jR(t,r,e),i=await Ti._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function b$(t,e,n,r){return Kt(t).onIdTokenChanged(e,n,r)}function C$(t,e,n){return Kt(t).beforeAuthStateChanged(e,n)}const af="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(af,"1"),this.storage.removeItem(af),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$=1e3,A$=10;class UR extends FR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);s$()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,A$):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},I$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}UR.type="LOCAL";const P$=UR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR extends FR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BR.type="SESSION";const $R=BR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new vp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await R$(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=cw("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return window}function N$(t){kr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(){return typeof kr().WorkerGlobalScope<"u"&&typeof kr().importScripts=="function"}async function D$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function O$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function M$(){return zR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="firebaseLocalStorageDb",V$=1,lf="firebaseLocalStorage",HR="fbase_key";class Nu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wp(t,e){return t.transaction([lf],e?"readwrite":"readonly").objectStore(lf)}function L$(){const t=indexedDB.deleteDatabase(WR);return new Nu(t).toPromise()}function jy(){const t=indexedDB.open(WR,V$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(lf,{keyPath:HR})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(lf)?e(r):(r.close(),await L$(),e(await jy()))})})}async function oS(t,e,n){const r=wp(t,!0).put({[HR]:e,value:n});return new Nu(r).toPromise()}async function j$(t,e){const n=wp(t,!1).get(e),r=await new Nu(n).toPromise();return r===void 0?null:r.value}function aS(t,e){const n=wp(t,!0).delete(e);return new Nu(n).toPromise()}const F$=800,U$=3;class GR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>U$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vp._getInstance(M$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await D$(),!this.activeServiceWorker)return;this.sender=new k$(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||O$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jy();return await oS(e,af,"1"),await aS(e,af),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>oS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>j$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>aS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=wp(s,!1).getAll();return new Nu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),F$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GR.type="LOCAL";const B$=GR;new Ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $$(t,e){return e?Jr(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw extends VR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ia(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ia(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function z$(t){return S$(t.auth,new uw(t),t.bypassAuthState)}function W$(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),T$(n,new uw(t),t.bypassAuthState)}async function H$(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),x$(n,new uw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return z$;case"linkViaPopup":case"linkViaRedirect":return H$;case"reauthViaPopup":case"reauthViaRedirect":return W$;default:ds(this.auth,"internal-error")}}resolve(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G$=new Ru(2e3,1e4);class aa extends KR{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,aa.currentPopupAction&&aa.currentPopupAction.cancel(),aa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){hs(this.filter.length===1,"Popup operations only handle one event");const e=cw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,aa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,G$.get())};e()}}aa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$="pendingRedirect",rh=new Map;class q$ extends KR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=rh.get(this.auth._key());if(!e){try{const r=await Q$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}rh.set(this.auth._key(),e)}return this.bypassAuthState||rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Q$(t,e){const n=J$(e),r=X$(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Y$(t,e){rh.set(t._key(),e)}function X$(t){return Jr(t._redirectPersistence)}function J$(t){return nh(K$,t.config.apiKey,t.name)}async function Z$(t,e,n=!1){if(On(t.app))return Promise.reject(ui(t));const r=yp(t),s=$$(r,e),o=await new q$(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez=10*60*1e3;class tz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!qR(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Rr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ez&&this.cachedEventUids.clear(),this.cachedEventUids.has(lS(e))}saveEventToCache(e){this.cachedEventUids.add(lS(e)),this.lastProcessedEventTime=Date.now()}}function lS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rz(t,e={}){return vl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iz=/^https?/;async function oz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await rz(t);for(const n of e)try{if(az(n))return}catch{}ds(t,"unauthorized-domain")}function az(t){const e=Vy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!iz.test(n))return!1;if(sz.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lz=new Ru(3e4,6e4);function cS(){const t=kr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function cz(t){return new Promise((e,n)=>{var s,i,o;function r(){cS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cS(),n(Rr(t,"network-request-failed"))},timeout:lz.get()})}if((i=(s=kr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=kr().gapi)!=null&&o.load)r();else{const a=f$("iframefcb");return kr()[a]=()=>{gapi.load?r():n(Rr(t,"network-request-failed"))},d$(`${h$()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw sh=null,e})}let sh=null;function uz(t){return sh=sh||cz(t),sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dz=new Ru(5e3,15e3),hz="__/auth/iframe",fz="emulator/auth/iframe",pz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gz(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?iw(e,fz):`https://${t.config.authDomain}/${hz}`,r={apiKey:e.apiKey,appName:t.name,v:ko},s=mz.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Su(r).slice(1)}`}async function yz(t){const e=await uz(t),n=kr().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:gz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pz,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Rr(t,"network-request-failed"),a=kr().setTimeout(()=>{i(o)},dz.get());function l(){kr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wz=500,_z=600,Ez="_blank",xz="http://localhost";class uS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Tz(t,e,n,r=wz,s=_z){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...vz,width:r.toString(),height:s.toString(),top:i,left:o},c=Gt().toLowerCase();n&&(a=AR(c)?Ez:n),CR(c)&&(e=e||xz,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[p,S])=>`${f}${p}=${S},`,"");if(r$(c)&&a!=="_self")return Sz(e||"",a),new uS(null);const h=window.open(e||"",a,d);oe(h,t,"popup-blocked");try{h.focus()}catch{}return new uS(h)}function Sz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bz="__/auth/handler",Cz="emulator/auth/handler",Iz=encodeURIComponent("fac");async function dS(t,e,n,r,s,i){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ko,eventId:s};if(e instanceof LR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",LU(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof ku){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${Iz}=${encodeURIComponent(l)}`:"";return`${Az(t)}?${Su(a).slice(1)}${c}`}function Az({config:t}){return t.emulator?iw(t,Cz):`https://${t.authDomain}/${bz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="webStorageSupport";class Pz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$R,this._completeRedirectFn=Z$,this._overrideRedirectResult=Y$}async _openPopup(e,n,r,s){var o;hs((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await dS(e,n,r,Vy(),s);return Tz(e,i,cw())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await dS(e,n,r,Vy(),s);return N$(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(hs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await yz(e),r=new tz(e);return n.register("authEvent",s=>(oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jm,{type:jm},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[jm];i!==void 0&&n(!!i),ds(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return DR()||IR()||aw()}}const Rz=Pz;var hS="@firebase/auth",fS="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Dz(t){_o(new gi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OR(t)},c=new c$(r,s,i,l);return m$(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_o(new gi("auth-internal",e=>{const n=yp(e.getProvider("auth").getImmediate());return(r=>new kz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),br(hS,fS,Nz(t)),br(hS,fS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oz=5*60,Mz=NA("authIdTokenMaxAge")||Oz;let pS=null;const Vz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Mz)return;const s=n==null?void 0:n.token;pS!==s&&(pS=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Lz(t=jA()){const e=b0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=p$(t,{popupRedirectResolver:Rz,persistence:[B$,P$,$R]}),r=NA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=Vz(i.toString());C$(n,o,()=>o(n.currentUser)),b$(n,a=>o(a))}}const s=RA("auth");return s&&g$(n,`http://${s}`),n}function jz(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}u$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Rr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",jz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Dz("Browser");function QR(){const t={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},e=Object.values(t).every(Boolean),n=(typeof window<"u"&&window.__FIREBASE_CONFIG__)??null,r=n?Object.values(n).every(Boolean):!1,s=e?t:r?n:null;return s?zx().length?zx()[0]:LA(s):null}function Cd(){const t=QR();return t?XB(t):null}async function Fz(){const t=QR();if(!t)return!1;const e=Lz(t);if(e.currentUser)return!0;try{return await E$(e),!0}catch{return!1}}const Fm="taekwondo-sbeitla-data";function YR(){const[t,e]=y.useState([]),[n,r]=y.useState("connecting"),[s,i]=y.useState(null),o=y.useRef(!1);y.useEffect(()=>{const g=Cd();if(!g){const v=localStorage.getItem(Fm),T=v?(()=>{try{return JSON.parse(v)}catch{return[]}})():[];e(T),r("offline");return}const E=async()=>{if(!await Fz())return r("error"),()=>{};const T=HT(YB(g,"students"),async k=>{const M=k.docs.map(C=>C.data()).sort((C,b)=>C.order-b.order);if(e(M),r("online"),!o.current&&M.length===0){const C=localStorage.getItem(Fm);if(C)try{const b=JSON.parse(C);if(b.length>0){const I=GT(g);b.forEach(R=>I.set(Gl(g,"students",R.id),R)),await I.commit()}}catch{}o.current=!0}},()=>r("error")),P=HT(Gl(g,"presentation","current"),k=>{const M=k.data();i((M==null?void 0:M.id)??null)},()=>i(null));return()=>{T(),P()}};let w;return E().then(v=>{w=v}),()=>{w&&w()}},[]);const a=async g=>{e(g);const E=Cd();if(!E){localStorage.setItem(Fm,JSON.stringify(g)),r("offline"),Xi.success("Donnes enregistres en local (mode hors-ligne)");return}const w=GT(E);g.forEach(v=>{w.set(Gl(E,"students",v.id),v)}),await w.commit(),r("online")},l=async g=>{const E=t.length>0?Math.max(...t.map(T=>T.order))+1:1,w={...g,order:E},v=[...t,w];await a(v),Xi.success("lve ajout avec succs")},c=async g=>{const E=t.length>0?Math.max(...t.map(T=>T.order)):0,w=g.map((T,P)=>({...T,order:E+P+1})),v=[...t,...w];await a(v)},d=async(g,E)=>{const w=t.map(v=>v.id===g?{...v,...E}:v);await a(w),Xi.success("lve mis  jour")},h=async g=>{t.find(v=>v.id===g);const E=t.filter(v=>v.id!==g);await a(E);const w=Cd();w&&await u9(Gl(w,"students",g)),Xi.success("lve supprim")},f=async g=>{const E=g.map((w,v)=>({...w,order:v+1}));await a(E)},p=(g,E)=>{d(g,{status:E})},S=async g=>{const E=Cd();E&&(await c9(Gl(E,"presentation","current"),{id:g,ts:Date.now()}),i(g))};return{students:t.slice().sort((g,E)=>g.order-E.order),syncStatus:n,currentId:s,addStudent:l,addMultipleStudents:c,updateStudent:d,deleteStudent:h,reorderStudents:f,setStatus:p,setCurrent:S}}var Um="focusScope.autoFocusOnMount",Bm="focusScope.autoFocusOnUnmount",mS={bubbles:!1,cancelable:!0},Uz="FocusScope",dw=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=y.useState(null),c=fi(s),d=fi(i),h=y.useRef(null),f=Ge(e,g=>l(g)),p=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let g=function(T){if(p.paused||!a)return;const P=T.target;a.contains(P)?h.current=P:As(h.current,{select:!0})},E=function(T){if(p.paused||!a)return;const P=T.relatedTarget;P!==null&&(a.contains(P)||As(h.current,{select:!0}))},w=function(T){if(document.activeElement===document.body)for(const k of T)k.removedNodes.length>0&&As(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",E);const v=new MutationObserver(w);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",E),v.disconnect()}}},[r,a,p.paused]),y.useEffect(()=>{if(a){yS.add(p);const g=document.activeElement;if(!a.contains(g)){const w=new CustomEvent(Um,mS);a.addEventListener(Um,c),a.dispatchEvent(w),w.defaultPrevented||(Bz(Gz(XR(a)),{select:!0}),document.activeElement===g&&As(a))}return()=>{a.removeEventListener(Um,c),setTimeout(()=>{const w=new CustomEvent(Bm,mS);a.addEventListener(Bm,d),a.dispatchEvent(w),w.defaultPrevented||As(g??document.body,{select:!0}),a.removeEventListener(Bm,d),yS.remove(p)},0)}}},[a,c,d,p]);const S=y.useCallback(g=>{if(!n&&!r||p.paused)return;const E=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(E&&w){const v=g.currentTarget,[T,P]=$z(v);T&&P?!g.shiftKey&&w===P?(g.preventDefault(),n&&As(T,{select:!0})):g.shiftKey&&w===T&&(g.preventDefault(),n&&As(P,{select:!0})):w===v&&g.preventDefault()}},[n,r,p.paused]);return _.jsx(Ae.div,{tabIndex:-1,...o,ref:f,onKeyDown:S})});dw.displayName=Uz;function Bz(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(As(r,{select:e}),document.activeElement!==n)return}function $z(t){const e=XR(t),n=gS(e,t),r=gS(e.reverse(),t);return[n,r]}function XR(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function gS(t,e){for(const n of t)if(!zz(n,{upTo:e}))return n}function zz(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Wz(t){return t instanceof HTMLInputElement&&"select"in t}function As(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Wz(t)&&e&&t.select()}}var yS=Hz();function Hz(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=vS(t,e),t.unshift(e)},remove(e){var n;t=vS(t,e),(n=t[0])==null||n.resume()}}}function vS(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Gz(t){return t.filter(e=>e.tagName!=="A")}var $m=0;function JR(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??wS()),document.body.insertAdjacentElement("beforeend",t[1]??wS()),$m++,()=>{$m===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),$m--}},[])}function wS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var _r=function(){return _r=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_r.apply(this,arguments)};function ZR(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Kz(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var ih="right-scroll-bar-position",oh="width-before-scroll-bar",qz="with-scroll-bars-hidden",Qz="--removed-body-scroll-bar-size";function zm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Yz(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Xz=typeof window<"u"?y.useLayoutEffect:y.useEffect,_S=new WeakMap;function Jz(t,e){var n=Yz(null,function(r){return t.forEach(function(s){return zm(s,r)})});return Xz(function(){var r=_S.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||zm(a,null)}),i.forEach(function(a){s.has(a)||zm(a,o)})}_S.set(n,t)},[t]),n}function Zz(t){return t}function e8(t,e){e===void 0&&(e=Zz);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function t8(t){t===void 0&&(t={});var e=e8(null);return e.options=_r({async:!0,ssr:!1},t),e}var ek=function(t){var e=t.sideCar,n=ZR(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,_r({},n))};ek.isSideCarExport=!0;function n8(t,e){return t.useMedium(e),ek}var tk=t8(),Wm=function(){},_p=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:Wm,onWheelCapture:Wm,onTouchMoveCapture:Wm}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,p=t.noRelative,S=t.noIsolation,g=t.inert,E=t.allowPinchZoom,w=t.as,v=w===void 0?"div":w,T=t.gapMode,P=ZR(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=f,M=Jz([n,e]),C=_r(_r({},P),s);return y.createElement(y.Fragment,null,d&&y.createElement(k,{sideCar:tk,removeScrollBar:c,shards:h,noRelative:p,noIsolation:S,inert:g,setCallbacks:i,allowPinchZoom:!!E,lockRef:n,gapMode:T}),o?y.cloneElement(y.Children.only(a),_r(_r({},C),{ref:M})):y.createElement(v,_r({},C,{className:l,ref:M}),a))});_p.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_p.classNames={fullWidth:oh,zeroRight:ih};var r8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function s8(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=r8();return e&&t.setAttribute("nonce",e),t}function i8(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function o8(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var a8=function(){var t=0,e=null;return{add:function(n){t==0&&(e=s8())&&(i8(e,n),o8(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},l8=function(){var t=a8();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},nk=function(){var t=l8(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},c8={left:0,top:0,right:0,gap:0},Hm=function(t){return parseInt(t||"",10)||0},u8=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Hm(n),Hm(r),Hm(s)]},d8=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return c8;var e=u8(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},h8=nk(),Aa="data-scroll-locked",f8=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(qz,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Aa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ih,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(oh,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ih," .").concat(ih,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(oh," .").concat(oh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Aa,`] {
    `).concat(Qz,": ").concat(a,`px;
  }
`)},ES=function(){var t=parseInt(document.body.getAttribute(Aa)||"0",10);return isFinite(t)?t:0},p8=function(){y.useEffect(function(){return document.body.setAttribute(Aa,(ES()+1).toString()),function(){var t=ES()-1;t<=0?document.body.removeAttribute(Aa):document.body.setAttribute(Aa,t.toString())}},[])},m8=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;p8();var i=y.useMemo(function(){return d8(s)},[s]);return y.createElement(h8,{styles:f8(i,!e,s,n?"":"!important")})},Fy=!1;if(typeof window<"u")try{var Id=Object.defineProperty({},"passive",{get:function(){return Fy=!0,!0}});window.addEventListener("test",Id,Id),window.removeEventListener("test",Id,Id)}catch{Fy=!1}var Bo=Fy?{passive:!1}:!1,g8=function(t){return t.tagName==="TEXTAREA"},rk=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!g8(t)&&n[e]==="visible")},y8=function(t){return rk(t,"overflowY")},v8=function(t){return rk(t,"overflowX")},xS=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=sk(t,r);if(s){var i=ik(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},w8=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},_8=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},sk=function(t,e){return t==="v"?y8(e):v8(e)},ik=function(t,e){return t==="v"?w8(e):_8(e)},E8=function(t,e){return t==="h"&&e==="rtl"?-1:1},x8=function(t,e,n,r,s){var i=E8(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,h=0,f=0;do{if(!a)break;var p=ik(t,a),S=p[0],g=p[1],E=p[2],w=g-E-i*S;(S||w)&&sk(t,a)&&(h+=w,f+=S);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(c=!0),c},Ad=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},TS=function(t){return[t.deltaX,t.deltaY]},SS=function(t){return t&&"current"in t?t.current:t},T8=function(t,e){return t[0]===e[0]&&t[1]===e[1]},S8=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},b8=0,$o=[];function C8(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(b8++)[0],i=y.useState(nk)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=Kz([t.lockRef.current],(t.shards||[]).map(SS),!0).filter(Boolean);return g.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(g,E){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var w=Ad(g),v=n.current,T="deltaX"in g?g.deltaX:v[0]-w[0],P="deltaY"in g?g.deltaY:v[1]-w[1],k,M=g.target,C=Math.abs(T)>Math.abs(P)?"h":"v";if("touches"in g&&C==="h"&&M.type==="range")return!1;var b=window.getSelection(),I=b&&b.anchorNode,R=I?I===M||I.contains(M):!1;if(R)return!1;var N=xS(C,M);if(!N)return!0;if(N?k=C:(k=C==="v"?"h":"v",N=xS(C,M)),!N)return!1;if(!r.current&&"changedTouches"in g&&(T||P)&&(r.current=k),!k)return!0;var O=r.current||k;return x8(O,E,g,O==="h"?T:P)},[]),l=y.useCallback(function(g){var E=g;if(!(!$o.length||$o[$o.length-1]!==i)){var w="deltaY"in E?TS(E):Ad(E),v=e.current.filter(function(k){return k.name===E.type&&(k.target===E.target||E.target===k.shadowParent)&&T8(k.delta,w)})[0];if(v&&v.should){E.cancelable&&E.preventDefault();return}if(!v){var T=(o.current.shards||[]).map(SS).filter(Boolean).filter(function(k){return k.contains(E.target)}),P=T.length>0?a(E,T[0]):!o.current.noIsolation;P&&E.cancelable&&E.preventDefault()}}},[]),c=y.useCallback(function(g,E,w,v){var T={name:g,delta:E,target:w,should:v,shadowParent:I8(w)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(P){return P!==T})},1)},[]),d=y.useCallback(function(g){n.current=Ad(g),r.current=void 0},[]),h=y.useCallback(function(g){c(g.type,TS(g),g.target,a(g,t.lockRef.current))},[]),f=y.useCallback(function(g){c(g.type,Ad(g),g.target,a(g,t.lockRef.current))},[]);y.useEffect(function(){return $o.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Bo),document.addEventListener("touchmove",l,Bo),document.addEventListener("touchstart",d,Bo),function(){$o=$o.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,Bo),document.removeEventListener("touchmove",l,Bo),document.removeEventListener("touchstart",d,Bo)}},[]);var p=t.removeScrollBar,S=t.inert;return y.createElement(y.Fragment,null,S?y.createElement(i,{styles:S8(s)}):null,p?y.createElement(m8,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function I8(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const A8=n8(tk,C8);var hw=y.forwardRef(function(t,e){return y.createElement(_p,_r({},t,{ref:e,sideCar:A8}))});hw.classNames=_p.classNames;var P8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},zo=new WeakMap,Pd=new WeakMap,Rd={},Gm=0,ok=function(t){return t&&(t.host||ok(t.parentNode))},R8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=ok(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},k8=function(t,e,n,r){var s=R8(e,Array.isArray(t)?t:[t]);Rd[n]||(Rd[n]=new WeakMap);var i=Rd[n],o=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var p=f.getAttribute(r),S=p!==null&&p!=="false",g=(zo.get(f)||0)+1,E=(i.get(f)||0)+1;zo.set(f,g),i.set(f,E),o.push(f),g===1&&S&&Pd.set(f,!0),E===1&&f.setAttribute(n,"true"),S||f.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",f,w)}})};return d(e),a.clear(),Gm++,function(){o.forEach(function(h){var f=zo.get(h)-1,p=i.get(h)-1;zo.set(h,f),i.set(h,p),f||(Pd.has(h)||h.removeAttribute(r),Pd.delete(h)),p||h.removeAttribute(n)}),Gm--,Gm||(zo=new WeakMap,zo=new WeakMap,Pd=new WeakMap,Rd={})}},ak=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=P8(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),k8(r,s,n,"aria-hidden")):function(){return null}};function N8(t){const e=D8(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(M8);if(l){const c=l.props.children,d=a.map(h=>h===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:h);return _.jsx(e,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,d):null})}return _.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function D8(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=L8(s),a=V8(i,s.props);return s.type!==y.Fragment&&(a.ref=r?al(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var O8=Symbol("radix.slottable");function M8(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===O8}function V8(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function L8(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Ep="Dialog",[lk]=Po(Ep),[j8,or]=lk(Ep),ck=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=y.useRef(null),l=y.useRef(null),[c,d]=Gc({prop:r,defaultProp:s??!1,onChange:i,caller:Ep});return _.jsx(j8,{scope:e,triggerRef:a,contentRef:l,contentId:si(),titleId:si(),descriptionId:si(),open:c,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};ck.displayName=Ep;var uk="DialogTrigger",dk=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=or(uk,n),i=Ge(e,s.triggerRef);return _.jsx(Ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":mw(s.open),...r,ref:i,onClick:pe(t.onClick,s.onOpenToggle)})});dk.displayName=uk;var fw="DialogPortal",[F8,hk]=lk(fw,{forceMount:void 0}),fk=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=or(fw,e);return _.jsx(F8,{scope:e,forceMount:n,children:y.Children.map(r,o=>_.jsx(ul,{present:n||i.open,children:_.jsx(g0,{asChild:!0,container:s,children:o})}))})};fk.displayName=fw;var cf="DialogOverlay",pk=y.forwardRef((t,e)=>{const n=hk(cf,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=or(cf,t.__scopeDialog);return i.modal?_.jsx(ul,{present:r||i.open,children:_.jsx(B8,{...s,ref:e})}):null});pk.displayName=cf;var U8=N8("DialogOverlay.RemoveScroll"),B8=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=or(cf,n);return _.jsx(hw,{as:U8,allowPinchZoom:!0,shards:[s.contentRef],children:_.jsx(Ae.div,{"data-state":mw(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),So="DialogContent",mk=y.forwardRef((t,e)=>{const n=hk(So,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=or(So,t.__scopeDialog);return _.jsx(ul,{present:r||i.open,children:i.modal?_.jsx($8,{...s,ref:e}):_.jsx(z8,{...s,ref:e})})});mk.displayName=So;var $8=y.forwardRef((t,e)=>{const n=or(So,t.__scopeDialog),r=y.useRef(null),s=Ge(e,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return ak(i)},[]),_.jsx(gk,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:pe(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:pe(t.onFocusOutside,i=>i.preventDefault())})}),z8=y.forwardRef((t,e)=>{const n=or(So,t.__scopeDialog),r=y.useRef(!1),s=y.useRef(!1);return _.jsx(gk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),gk=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=or(So,n),l=y.useRef(null),c=Ge(e,l);return JR(),_.jsxs(_.Fragment,{children:[_.jsx(dw,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:_.jsx(jf,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":mw(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),_.jsxs(_.Fragment,{children:[_.jsx(W8,{titleId:a.titleId}),_.jsx(G8,{contentRef:l,descriptionId:a.descriptionId})]})]})}),pw="DialogTitle",yk=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=or(pw,n);return _.jsx(Ae.h2,{id:s.titleId,...r,ref:e})});yk.displayName=pw;var vk="DialogDescription",wk=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=or(vk,n);return _.jsx(Ae.p,{id:s.descriptionId,...r,ref:e})});wk.displayName=vk;var _k="DialogClose",Ek=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=or(_k,n);return _.jsx(Ae.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,()=>s.onOpenChange(!1))})});Ek.displayName=_k;function mw(t){return t?"open":"closed"}var xk="DialogTitleWarning",[jQ,Tk]=QV(xk,{contentName:So,titleName:pw,docsSlug:"dialog"}),W8=({titleId:t})=>{const e=Tk(xk),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},H8="DialogDescriptionWarning",G8=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Tk(H8).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},K8=ck,q8=dk,Q8=fk,Sk=pk,bk=mk,Ck=yk,Ik=wk,Y8=Ek;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ak=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var J8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...J8,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Ak("lucide",s),...a},[...o.map(([c,d])=>y.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(Z8,{ref:i,iconNode:e,className:Ak(`lucide-${X8(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=dt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=dt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=dt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=dt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=dt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=dt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=dt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=dt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=dt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=dt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=dt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=dt("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=dt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=dt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=dt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=dt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=dt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=dt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=dt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=dt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Nk=K8,Dk=q8,m7=Q8,Ok=y.forwardRef(({className:t,...e},n)=>_.jsx(Sk,{ref:n,className:ge("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Ok.displayName=Sk.displayName;const gw=y.forwardRef(({className:t,children:e,...n},r)=>_.jsxs(m7,{children:[_.jsx(Ok,{}),_.jsxs(bk,{ref:r,className:ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,_.jsxs(Y8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[_.jsx(kk,{className:"h-4 w-4"}),_.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));gw.displayName=bk.displayName;const yw=({className:t,...e})=>_.jsx("div",{className:ge("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});yw.displayName="DialogHeader";const Mk=({className:t,...e})=>_.jsx("div",{className:ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Mk.displayName="DialogFooter";const vw=y.forwardRef(({className:t,...e},n)=>_.jsx(Ck,{ref:n,className:ge("text-lg font-semibold leading-none tracking-tight",t),...e}));vw.displayName=Ck.displayName;const Vk=y.forwardRef(({className:t,...e},n)=>_.jsx(Ik,{ref:n,className:ge("text-sm text-muted-foreground",t),...e}));Vk.displayName=Ik.displayName;var g7=Symbol.for("react.lazy"),uf=xf[" use ".trim().toString()];function y7(t){return typeof t=="object"&&t!==null&&"then"in t}function Lk(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===g7&&"_payload"in t&&y7(t._payload)}function jk(t){const e=w7(t),n=y.forwardRef((r,s)=>{let{children:i,...o}=r;Lk(i)&&typeof uf=="function"&&(i=uf(i._payload));const a=y.Children.toArray(i),l=a.find(E7);if(l){const c=l.props.children,d=a.map(h=>h===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:h);return _.jsx(e,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,d):null})}return _.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var v7=jk("Slot");function w7(t){const e=y.forwardRef((n,r)=>{let{children:s,...i}=n;if(Lk(s)&&typeof uf=="function"&&(s=uf(s._payload)),y.isValidElement(s)){const o=T7(s),a=x7(i,s.props);return s.type!==y.Fragment&&(a.ref=r?al(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var _7=Symbol("radix.slottable");function E7(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===_7}function x7(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function T7(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const bS=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,CS=rA,Fk=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return CS(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],h=i==null?void 0:i[c];if(d===null)return null;const f=bS(d)||bS(h);return s[c][f]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,f]=d;return f===void 0||(c[h]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(S=>{let[g,E]=S;return Array.isArray(E)?E.includes({...i,...a}[g]):{...i,...a}[g]===E})?[...c,h,f]:c},[]);return CS(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},S7=Fk("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),St=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?v7:"button";return _.jsx(o,{className:ge(S7({variant:e,size:n,className:t})),ref:i,...s})});St.displayName="Button";const ou=y.forwardRef(({className:t,type:e,...n},r)=>_.jsx("input",{type:e,className:ge("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));ou.displayName="Input";var b7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],C7=b7.reduce((t,e)=>{const n=jk(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),_.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),I7="Label",Uk=y.forwardRef((t,e)=>_.jsx(C7.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Uk.displayName=I7;var Bk=Uk;const A7=Fk("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),qo=y.forwardRef(({className:t,...e},n)=>_.jsx(Bk,{ref:n,className:ge(A7(),t),...e}));qo.displayName=Bk.displayName;function IS(t,[e,n]){return Math.min(n,Math.max(e,t))}function AS(t){const e=P7(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(k7);if(l){const c=l.props.children,d=a.map(h=>h===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:h);return _.jsx(e,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,d):null})}return _.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function P7(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=D7(s),a=N7(i,s.props);return s.type!==y.Fragment&&(a.ref=r?al(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var R7=Symbol("radix.slottable");function k7(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===R7}function N7(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function D7(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function $k(t){const e=t+"CollectionProvider",[n,r]=Po(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:E,children:w}=g,v=W.useRef(null),T=W.useRef(new Map).current;return _.jsx(s,{scope:E,itemMap:T,collectionRef:v,children:w})};o.displayName=e;const a=t+"CollectionSlot",l=AS(a),c=W.forwardRef((g,E)=>{const{scope:w,children:v}=g,T=i(a,w),P=Ge(E,T.collectionRef);return _.jsx(l,{ref:P,children:v})});c.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",f=AS(d),p=W.forwardRef((g,E)=>{const{scope:w,children:v,...T}=g,P=W.useRef(null),k=Ge(E,P),M=i(d,w);return W.useEffect(()=>(M.itemMap.set(P,{ref:P,...T}),()=>void M.itemMap.delete(P))),_.jsx(f,{[h]:"",ref:k,children:v})});p.displayName=d;function S(g){const E=i(t+"CollectionConsumer",g);return W.useCallback(()=>{const v=E.collectionRef.current;if(!v)return[];const T=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(E.itemMap.values()).sort((M,C)=>T.indexOf(M.ref.current)-T.indexOf(C.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},S,r]}var O7=y.createContext(void 0);function ww(t){const e=y.useContext(O7);return t||e||"ltr"}function M7(t){const e=V7(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(j7);if(l){const c=l.props.children,d=a.map(h=>h===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:h);return _.jsx(e,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,d):null})}return _.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function V7(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=U7(s),a=F7(i,s.props);return s.type!==y.Fragment&&(a.ref=r?al(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var L7=Symbol("radix.slottable");function j7(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===L7}function F7(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function U7(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function B7(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var $7=[" ","Enter","ArrowUp","ArrowDown"],z7=[" ","Enter"],bo="Select",[xp,Tp,W7]=$k(bo),[wl]=Po(bo,[W7,zf]),Sp=zf(),[H7,ki]=wl(bo),[G7,K7]=wl(bo),zk=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:h,disabled:f,required:p,form:S}=t,g=Sp(e),[E,w]=y.useState(null),[v,T]=y.useState(null),[P,k]=y.useState(!1),M=ww(c),[C,b]=Gc({prop:r,defaultProp:s??!1,onChange:i,caller:bo}),[I,R]=Gc({prop:o,defaultProp:a,onChange:l,caller:bo}),N=y.useRef(null),O=E?S||!!E.closest("form"):!0,[D,Y]=y.useState(new Set),ue=Array.from(D).map(J=>J.props.value).join(";");return _.jsx(Oj,{...g,children:_.jsxs(H7,{required:p,scope:e,trigger:E,onTriggerChange:w,valueNode:v,onValueNodeChange:T,valueNodeHasChildren:P,onValueNodeHasChildrenChange:k,contentId:si(),value:I,onValueChange:R,open:C,onOpenChange:b,dir:M,triggerPointerDownPosRef:N,disabled:f,children:[_.jsx(xp.Provider,{scope:e,children:_.jsx(G7,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(J=>{Y(X=>new Set(X).add(J))},[]),onNativeOptionRemove:y.useCallback(J=>{Y(X=>{const j=new Set(X);return j.delete(J),j})},[]),children:n})}),O?_.jsxs(fN,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:h,value:I,onChange:J=>R(J.target.value),disabled:f,form:S,children:[I===void 0?_.jsx("option",{value:""}):null,Array.from(D)]},ue):null]})})};zk.displayName=bo;var Wk="SelectTrigger",Hk=y.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Sp(n),o=ki(Wk,n),a=o.disabled||r,l=Ge(e,o.onTriggerChange),c=Tp(n),d=y.useRef("touch"),[h,f,p]=mN(g=>{const E=c().filter(T=>!T.disabled),w=E.find(T=>T.value===o.value),v=gN(E,g,w);v!==void 0&&o.onValueChange(v.value)}),S=g=>{a||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return _.jsx(zI,{asChild:!0,...i,children:_.jsx(Ae.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":pN(o.value)?"":void 0,...s,ref:l,onClick:pe(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&S(g)}),onPointerDown:pe(s.onPointerDown,g=>{d.current=g.pointerType;const E=g.target;E.hasPointerCapture(g.pointerId)&&E.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(S(g),g.preventDefault())}),onKeyDown:pe(s.onKeyDown,g=>{const E=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(E&&g.key===" ")&&$7.includes(g.key)&&(S(),g.preventDefault())})})})});Hk.displayName=Wk;var Gk="SelectValue",Kk=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=ki(Gk,n),{onValueNodeHasChildrenChange:c}=l,d=i!==void 0,h=Ge(e,l.onValueNodeChange);return Ht(()=>{c(d)},[c,d]),_.jsx(Ae.span,{...a,ref:h,style:{pointerEvents:"none"},children:pN(l.value)?_.jsx(_.Fragment,{children:o}):i})});Kk.displayName=Gk;var q7="SelectIcon",qk=y.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return _.jsx(Ae.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});qk.displayName=q7;var Q7="SelectPortal",Qk=t=>_.jsx(g0,{asChild:!0,...t});Qk.displayName=Q7;var Co="SelectContent",Yk=y.forwardRef((t,e)=>{const n=ki(Co,t.__scopeSelect),[r,s]=y.useState();if(Ht(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?ol.createPortal(_.jsx(Xk,{scope:t.__scopeSelect,children:_.jsx(xp.Slot,{scope:t.__scopeSelect,children:_.jsx("div",{children:t.children})})}),i):null}return _.jsx(Jk,{...t,ref:e})});Yk.displayName=Co;var Hn=10,[Xk,Ni]=wl(Co),Y7="SelectContentImpl",X7=M7("SelectContent.RemoveScroll"),Jk=y.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:S,hideWhenDetached:g,avoidCollisions:E,...w}=t,v=ki(Co,n),[T,P]=y.useState(null),[k,M]=y.useState(null),C=Ge(e,K=>P(K)),[b,I]=y.useState(null),[R,N]=y.useState(null),O=Tp(n),[D,Y]=y.useState(!1),ue=y.useRef(!1);y.useEffect(()=>{if(T)return ak(T)},[T]),JR();const J=y.useCallback(K=>{const[be,...Le]=O().map(xe=>xe.ref.current),[Ce]=Le.slice(-1),ve=document.activeElement;for(const xe of K)if(xe===ve||(xe==null||xe.scrollIntoView({block:"nearest"}),xe===be&&k&&(k.scrollTop=0),xe===Ce&&k&&(k.scrollTop=k.scrollHeight),xe==null||xe.focus(),document.activeElement!==ve))return},[O,k]),X=y.useCallback(()=>J([b,T]),[J,b,T]);y.useEffect(()=>{D&&X()},[D,X]);const{onOpenChange:j,triggerPointerDownPosRef:U}=v;y.useEffect(()=>{if(T){let K={x:0,y:0};const be=Ce=>{var ve,xe;K={x:Math.abs(Math.round(Ce.pageX)-(((ve=U.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(Ce.pageY)-(((xe=U.current)==null?void 0:xe.y)??0))}},Le=Ce=>{K.x<=10&&K.y<=10?Ce.preventDefault():T.contains(Ce.target)||j(!1),document.removeEventListener("pointermove",be),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",Le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",Le,{capture:!0})}}},[T,j,U]),y.useEffect(()=>{const K=()=>j(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[j]);const[G,ie]=mN(K=>{const be=O().filter(ve=>!ve.disabled),Le=be.find(ve=>ve.ref.current===document.activeElement),Ce=gN(be,K,Le);Ce&&setTimeout(()=>Ce.ref.current.focus())}),ee=y.useCallback((K,be,Le)=>{const Ce=!ue.current&&!Le;(v.value!==void 0&&v.value===be||Ce)&&(I(K),Ce&&(ue.current=!0))},[v.value]),me=y.useCallback(()=>T==null?void 0:T.focus(),[T]),le=y.useCallback((K,be,Le)=>{const Ce=!ue.current&&!Le;(v.value!==void 0&&v.value===be||Ce)&&N(K)},[v.value]),ke=r==="popper"?Uy:Zk,Oe=ke===Uy?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:S,hideWhenDetached:g,avoidCollisions:E}:{};return _.jsx(Xk,{scope:n,content:T,viewport:k,onViewportChange:M,itemRefCallback:ee,selectedItem:b,onItemLeave:me,itemTextRefCallback:le,focusSelectedItem:X,selectedItemText:R,position:r,isPositioned:D,searchRef:G,children:_.jsx(hw,{as:X7,allowPinchZoom:!0,children:_.jsx(dw,{asChild:!0,trapped:v.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:pe(s,K=>{var be;(be=v.trigger)==null||be.focus({preventScroll:!0}),K.preventDefault()}),children:_.jsx(jf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:_.jsx(ke,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:K=>K.preventDefault(),...w,...Oe,onPlaced:()=>Y(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:pe(w.onKeyDown,K=>{const be=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!be&&K.key.length===1&&ie(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let Ce=O().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(K.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const ve=K.target,xe=Ce.indexOf(ve);Ce=Ce.slice(xe+1)}setTimeout(()=>J(Ce)),K.preventDefault()}})})})})})})});Jk.displayName=Y7;var J7="SelectItemAlignedPosition",Zk=y.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=ki(Co,n),o=Ni(Co,n),[a,l]=y.useState(null),[c,d]=y.useState(null),h=Ge(e,C=>d(C)),f=Tp(n),p=y.useRef(!1),S=y.useRef(!0),{viewport:g,selectedItem:E,selectedItemText:w,focusSelectedItem:v}=o,T=y.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&g&&E&&w){const C=i.trigger.getBoundingClientRect(),b=c.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),R=w.getBoundingClientRect();if(i.dir!=="rtl"){const ve=R.left-b.left,xe=I.left-ve,ot=C.left-xe,qt=C.width+ot,Br=Math.max(qt,b.width),In=window.innerWidth-Hn,Un=IS(xe,[Hn,Math.max(Hn,In-Br)]);a.style.minWidth=qt+"px",a.style.left=Un+"px"}else{const ve=b.right-R.right,xe=window.innerWidth-I.right-ve,ot=window.innerWidth-C.right-xe,qt=C.width+ot,Br=Math.max(qt,b.width),In=window.innerWidth-Hn,Un=IS(xe,[Hn,Math.max(Hn,In-Br)]);a.style.minWidth=qt+"px",a.style.right=Un+"px"}const N=f(),O=window.innerHeight-Hn*2,D=g.scrollHeight,Y=window.getComputedStyle(c),ue=parseInt(Y.borderTopWidth,10),J=parseInt(Y.paddingTop,10),X=parseInt(Y.borderBottomWidth,10),j=parseInt(Y.paddingBottom,10),U=ue+J+D+j+X,G=Math.min(E.offsetHeight*5,U),ie=window.getComputedStyle(g),ee=parseInt(ie.paddingTop,10),me=parseInt(ie.paddingBottom,10),le=C.top+C.height/2-Hn,ke=O-le,Oe=E.offsetHeight/2,K=E.offsetTop+Oe,be=ue+J+K,Le=U-be;if(be<=le){const ve=N.length>0&&E===N[N.length-1].ref.current;a.style.bottom="0px";const xe=c.clientHeight-g.offsetTop-g.offsetHeight,ot=Math.max(ke,Oe+(ve?me:0)+xe+X),qt=be+ot;a.style.height=qt+"px"}else{const ve=N.length>0&&E===N[0].ref.current;a.style.top="0px";const ot=Math.max(le,ue+g.offsetTop+(ve?ee:0)+Oe)+Le;a.style.height=ot+"px",g.scrollTop=be-le+g.offsetTop}a.style.margin=`${Hn}px 0`,a.style.minHeight=G+"px",a.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[f,i.trigger,i.valueNode,a,c,g,E,w,i.dir,r]);Ht(()=>T(),[T]);const[P,k]=y.useState();Ht(()=>{c&&k(window.getComputedStyle(c).zIndex)},[c]);const M=y.useCallback(C=>{C&&S.current===!0&&(T(),v==null||v(),S.current=!1)},[T,v]);return _.jsx(eW,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:M,children:_.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:_.jsx(Ae.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Zk.displayName=J7;var Z7="SelectPopperPosition",Uy=y.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Hn,...i}=t,o=Sp(n);return _.jsx(WI,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Uy.displayName=Z7;var[eW,_w]=wl(Co,{}),By="SelectViewport",eN=y.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Ni(By,n),o=_w(By,n),a=Ge(e,i.onViewportChange),l=y.useRef(0);return _.jsxs(_.Fragment,{children:[_.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),_.jsx(xp.Slot,{scope:n,children:_.jsx(Ae.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:pe(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const p=Math.abs(l.current-d.scrollTop);if(p>0){const S=window.innerHeight-Hn*2,g=parseFloat(h.style.minHeight),E=parseFloat(h.style.height),w=Math.max(g,E);if(w<S){const v=w+p,T=Math.min(S,v),P=v-T;h.style.height=T+"px",h.style.bottom==="0px"&&(d.scrollTop=P>0?P:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});eN.displayName=By;var tN="SelectGroup",[tW,nW]=wl(tN),rW=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=si();return _.jsx(tW,{scope:n,id:s,children:_.jsx(Ae.div,{role:"group","aria-labelledby":s,...r,ref:e})})});rW.displayName=tN;var nN="SelectLabel",rN=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=nW(nN,n);return _.jsx(Ae.div,{id:s.id,...r,ref:e})});rN.displayName=nN;var df="SelectItem",[sW,sN]=wl(df),iN=y.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=ki(df,n),l=Ni(df,n),c=a.value===r,[d,h]=y.useState(i??""),[f,p]=y.useState(!1),S=Ge(e,v=>{var T;return(T=l.itemRefCallback)==null?void 0:T.call(l,v,r,s)}),g=si(),E=y.useRef("touch"),w=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return _.jsx(sW,{scope:n,value:r,disabled:s,textId:g,isSelected:c,onItemTextChange:y.useCallback(v=>{h(T=>T||((v==null?void 0:v.textContent)??"").trim())},[]),children:_.jsx(xp.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:_.jsx(Ae.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:S,onFocus:pe(o.onFocus,()=>p(!0)),onBlur:pe(o.onBlur,()=>p(!1)),onClick:pe(o.onClick,()=>{E.current!=="mouse"&&w()}),onPointerUp:pe(o.onPointerUp,()=>{E.current==="mouse"&&w()}),onPointerDown:pe(o.onPointerDown,v=>{E.current=v.pointerType}),onPointerMove:pe(o.onPointerMove,v=>{var T;E.current=v.pointerType,s?(T=l.onItemLeave)==null||T.call(l):E.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pe(o.onPointerLeave,v=>{var T;v.currentTarget===document.activeElement&&((T=l.onItemLeave)==null||T.call(l))}),onKeyDown:pe(o.onKeyDown,v=>{var P;((P=l.searchRef)==null?void 0:P.current)!==""&&v.key===" "||(z7.includes(v.key)&&w(),v.key===" "&&v.preventDefault())})})})})});iN.displayName=df;var rc="SelectItemText",oN=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=ki(rc,n),a=Ni(rc,n),l=sN(rc,n),c=K7(rc,n),[d,h]=y.useState(null),f=Ge(e,w=>h(w),l.onItemTextChange,w=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,w,l.value,l.disabled)}),p=d==null?void 0:d.textContent,S=y.useMemo(()=>_.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:E}=c;return Ht(()=>(g(S),()=>E(S)),[g,E,S]),_.jsxs(_.Fragment,{children:[_.jsx(Ae.span,{id:l.textId,...i,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ol.createPortal(i.children,o.valueNode):null]})});oN.displayName=rc;var aN="SelectItemIndicator",lN=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return sN(aN,n).isSelected?_.jsx(Ae.span,{"aria-hidden":!0,...r,ref:e}):null});lN.displayName=aN;var $y="SelectScrollUpButton",cN=y.forwardRef((t,e)=>{const n=Ni($y,t.__scopeSelect),r=_w($y,t.__scopeSelect),[s,i]=y.useState(!1),o=Ge(e,r.onScrollButtonChange);return Ht(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?_.jsx(dN,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});cN.displayName=$y;var zy="SelectScrollDownButton",uN=y.forwardRef((t,e)=>{const n=Ni(zy,t.__scopeSelect),r=_w(zy,t.__scopeSelect),[s,i]=y.useState(!1),o=Ge(e,r.onScrollButtonChange);return Ht(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?_.jsx(dN,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});uN.displayName=zy;var dN=y.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Ni("SelectScrollButton",n),o=y.useRef(null),a=Tp(n),l=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>l(),[l]),Ht(()=>{var d;const c=a().find(h=>h.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),_.jsx(Ae.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:pe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:pe(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:pe(s.onPointerLeave,()=>{l()})})}),iW="SelectSeparator",hN=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return _.jsx(Ae.div,{"aria-hidden":!0,...r,ref:e})});hN.displayName=iW;var Wy="SelectArrow",oW=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Sp(n),i=ki(Wy,n),o=Ni(Wy,n);return i.open&&o.position==="popper"?_.jsx(HI,{...s,...r,ref:e}):null});oW.displayName=Wy;var aW="SelectBubbleInput",fN=y.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=y.useRef(null),i=Ge(r,s),o=B7(e);return y.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const h=new Event("change",{bubbles:!0});d.call(a,e),a.dispatchEvent(h)}},[o,e]),_.jsx(Ae.select,{...n,style:{...GI,...n.style},ref:i,defaultValue:e})});fN.displayName=aW;function pN(t){return t===""||t===void 0}function mN(t){const e=fi(t),n=y.useRef(""),r=y.useRef(0),s=y.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function gN(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=lW(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function lW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var cW=zk,yN=Hk,uW=Kk,dW=qk,hW=Qk,vN=Yk,fW=eN,wN=rN,_N=iN,pW=oN,mW=lN,EN=cN,xN=uN,TN=hN;const PS=cW,RS=uW,Hy=y.forwardRef(({className:t,children:e,...n},r)=>_.jsxs(yN,{ref:r,className:ge("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,_.jsx(dW,{asChild:!0,children:_.jsx(Pk,{className:"h-4 w-4 opacity-50"})})]}));Hy.displayName=yN.displayName;const SN=y.forwardRef(({className:t,...e},n)=>_.jsx(EN,{ref:n,className:ge("flex cursor-default items-center justify-center py-1",t),...e,children:_.jsx(n7,{className:"h-4 w-4"})}));SN.displayName=EN.displayName;const bN=y.forwardRef(({className:t,...e},n)=>_.jsx(xN,{ref:n,className:ge("flex cursor-default items-center justify-center py-1",t),...e,children:_.jsx(Pk,{className:"h-4 w-4"})}));bN.displayName=xN.displayName;const Gy=y.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>_.jsx(hW,{children:_.jsxs(vN,{ref:s,className:ge("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[_.jsx(SN,{}),_.jsx(fW,{className:ge("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),_.jsx(bN,{})]})}));Gy.displayName=vN.displayName;const gW=y.forwardRef(({className:t,...e},n)=>_.jsx(wN,{ref:n,className:ge("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));gW.displayName=wN.displayName;const Ky=y.forwardRef(({className:t,children:e,...n},r)=>_.jsxs(_N,{ref:r,className:ge("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[_.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:_.jsx(mW,{children:_.jsx(ah,{className:"h-4 w-4"})})}),_.jsx(pW,{children:e})]}));Ky.displayName=_N.displayName;const yW=y.forwardRef(({className:t,...e},n)=>_.jsx(TN,{ref:n,className:ge("-mx-1 my-1 h-px bg-muted",t),...e}));yW.displayName=TN.displayName;const hf=["BLANC","DEMI-JAUNE","JAUNE","DEMI-VERT","VERT","DEMI-BLEU","BLEU","ROUGE 3","ROUGE 2","ROUGE 1","1ER DAN","2EME DAN","3EME DAN"],kS={BLANC:{bg:"bg-white",text:"text-gray-900",border:"border-gray-200"},"DEMI-JAUNE":{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-300"},JAUNE:{bg:"bg-yellow-400",text:"text-yellow-900",border:"border-yellow-500"},"DEMI-VERT":{bg:"bg-green-100",text:"text-green-800",border:"border-green-300"},VERT:{bg:"bg-green-500",text:"text-white",border:"border-green-600"},"DEMI-BLEU":{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-300"},BLEU:{bg:"bg-blue-500",text:"text-white",border:"border-blue-600"},"ROUGE 3":{bg:"bg-red-500",text:"text-white",border:"border-red-600"},"ROUGE 2":{bg:"bg-red-600",text:"text-white",border:"border-red-700"},"ROUGE 1":{bg:"bg-red-700",text:"text-white",border:"border-red-800"},"1ER DAN":{bg:"bg-black",text:"text-white",border:"border-gray-800"},"2EME DAN":{bg:"bg-black",text:"text-white",border:"border-gray-800"},"3EME DAN":{bg:"bg-black",text:"text-white",border:"border-gray-800"}},Ui="/passagedegrade/",Qs=[`${Ui}assets/logos/TAEKWONDO_SBEITLA_-removebg-preview.png`,`${Ui}assets/logos/kukkiwon.png`,`${Ui}assets/logos/Elite Sportive - 1.png`,`${Ui}assets/logos/img_4026_nobg_new.png`,`${Ui}assets/logos/WAADTI.png`,`${Ui}assets/logos/diamond-gym.png`,`${Ui}assets/logos/federation-tunisienne-de-taekwondo.png`];var It=[];for(var qm=0;qm<256;++qm)It.push((qm+256).toString(16).slice(1));function vW(t,e=0){return(It[t[e+0]]+It[t[e+1]]+It[t[e+2]]+It[t[e+3]]+"-"+It[t[e+4]]+It[t[e+5]]+"-"+It[t[e+6]]+It[t[e+7]]+"-"+It[t[e+8]]+It[t[e+9]]+"-"+It[t[e+10]]+It[t[e+11]]+It[t[e+12]]+It[t[e+13]]+It[t[e+14]]+It[t[e+15]]).toLowerCase()}var kd,wW=new Uint8Array(16);function _W(){if(!kd&&(kd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!kd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return kd(wW)}var EW=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const NS={randomUUID:EW};function xW(t,e,n){if(NS.randomUUID&&!t)return NS.randomUUID();t=t||{};var r=t.random||(t.rng||_W)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,vW(r)}const TW="taekwondo-sbeitla",Za="images";function CN(){return new Promise((t,e)=>{const n=indexedDB.open(TW,1);n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains(Za)||r.createObjectStore(Za)},n.onsuccess=()=>t(n.result),n.onerror=()=>e(n.error)})}async function SW(t){const e=await CN();return new Promise((n,r)=>{const o=e.transaction(Za,"readonly").objectStore(Za).get(t);o.onsuccess=()=>n(o.result),o.onerror=()=>r(o.error)})}async function bW(t){const e=await CN();return new Promise((n,r)=>{const o=e.transaction(Za,"readwrite").objectStore(Za).delete(t);o.onsuccess=()=>n(),o.onerror=()=>r(o.error)})}async function CW(t){if(!t.startsWith("idb:"))return t;const e=t.slice(4),n=await SW(e);return n?URL.createObjectURL(n):""}async function IW(t){if(!t.startsWith("idb:"))return;const e=t.slice(4);await bW(e)}function Ew({src:t,...e}){const[n,r]=W.useState(""),s="/passagedegrade/assets/default-avatar_variant_2.png";return W.useEffect(()=>{let i=null,o=!1;return(async()=>{const l=t&&t.trim().length>0?t:s;if(/^https?:\/\//.test(l)){r(l);return}const c=await CW(l);if(o)return;const d=l.startsWith("idb:");r(c||(d?s:l)),c&&c.startsWith("blob:")&&(i=c)})(),()=>{o=!0,i&&URL.revokeObjectURL(i)}},[t]),_.jsx("img",{src:n||t||s,onError:i=>{const o=i.currentTarget;o.src!==s&&(o.src=s)},...e})}function DS({onSubmit:t,trigger:e,initialData:n}){const[r,s]=y.useState(!1),[i,o]=y.useState((n==null?void 0:n.fullName)||""),[a,l]=y.useState((n==null?void 0:n.currentBelt)||"BLANC"),[c,d]=y.useState((n==null?void 0:n.nextBelt)||"DEMI-JAUNE"),[h,f]=y.useState((n==null?void 0:n.photoUrl)||"/passagedegrade/assets/default-avatar_variant_2.png"),p=async g=>{g.preventDefault();const E=(n==null?void 0:n.id)||xW(),w=h;w.startsWith("data:");const v={id:E,fullName:i,currentBelt:a,nextBelt:c,photoUrl:w,order:(n==null?void 0:n.order)||999,status:(n==null?void 0:n.status)||"PENDING"};t(v),s(!1),n||(o(""),f("/passagedegrade/assets/default-avatar_variant_3.png"))},S=async g=>{var v;const E=(v=g.target.files)==null?void 0:v[0];if(!E)return;const w=(T,P=512,k=.8)=>new Promise((M,C)=>{const b=new FileReader;b.onload=()=>{const I=new Image;I.onload=()=>{const R=document.createElement("canvas"),N=Math.min(P/I.width,P/I.height,1);R.width=Math.round(I.width*N),R.height=Math.round(I.height*N);const O=R.getContext("2d");if(!O){C(new Error("Canvas context not available"));return}O.drawImage(I,0,0,R.width,R.height);const D=R.toDataURL("image/jpeg",k);M(D)},I.onerror=C,I.src=b.result},b.onerror=C,b.readAsDataURL(T)});try{const T=await w(E);f(T)}catch{const P=new FileReader;P.onloadend=()=>f(P.result),P.readAsDataURL(E)}};return _.jsxs(Nk,{open:r,onOpenChange:s,children:[_.jsx(Dk,{asChild:!0,children:e||_.jsxs(St,{className:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:[_.jsx(u7,{className:"mr-2 h-4 w-4"})," Ajouter un lve"]})}),_.jsxs(gw,{className:"sm:max-w-[500px] border-t-4 border-red-600",children:[_.jsx(yw,{children:_.jsx(vw,{className:"text-2xl font-bold text-gray-900",children:n?"Modifier l'lve":"Ajouter un Nouvel lve"})}),_.jsxs("form",{onSubmit:p,className:"space-y-6 mt-4",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx(qo,{htmlFor:"name",className:"text-gray-700 font-medium",children:"Nom et Prnom"}),_.jsx(ou,{id:"name",value:i,onChange:g=>o(g.target.value),required:!0,className:"border-gray-300 focus:border-red-500 focus:ring-red-500",placeholder:"Ex: Ahmed Ben Ali"})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx(qo,{className:"text-gray-700 font-medium",children:"Ceinture Actuelle"}),_.jsxs(PS,{value:a,onValueChange:g=>l(g),children:[_.jsx(Hy,{className:"border-gray-300",children:_.jsx(RS,{})}),_.jsx(Gy,{children:hf.map(g=>_.jsx(Ky,{value:g,children:g},g))})]})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx(qo,{className:"text-gray-700 font-medium",children:"Test Pour"}),_.jsxs(PS,{value:c,onValueChange:g=>d(g),children:[_.jsx(Hy,{className:"border-gray-300",children:_.jsx(RS,{})}),_.jsx(Gy,{children:hf.map(g=>_.jsx(Ky,{value:g,children:g},g))})]})]})]}),_.jsxs("div",{className:"space-y-3",children:[_.jsx(qo,{className:"text-gray-700 font-medium",children:"Photo de Profil"}),_.jsxs("div",{className:"flex items-center gap-6 p-4 border-2 border-dashed border-gray-200 rounded-xl bg-gray-50",children:[_.jsx(Ew,{src:h,alt:"Aperu",className:"w-16 h-16 rounded-full object-cover border-2 border-white shadow-md"}),_.jsxs("div",{className:"flex-1",children:[_.jsx(qo,{htmlFor:"photo-upload",className:"cursor-pointer",children:_.jsxs("div",{className:"flex items-center justify-center w-full px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium text-gray-700 shadow-sm",children:[_.jsx(Rk,{className:"w-4 h-4 mr-2"}),"Choisir une image"]})}),_.jsx(ou,{id:"photo-upload",type:"file",accept:"image/*",onChange:S,className:"hidden"})]})]})]}),_.jsxs(St,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-6 text-lg shadow-md transition-all",children:[_.jsx(d7,{className:"mr-2 h-5 w-5"})," ",n?"Enregistrer les Modifications":"Enregistrer l'lve"]})]})]})]})}const IN=y.forwardRef(({className:t,...e},n)=>_.jsx("textarea",{className:ge("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));IN.displayName="Textarea";function AW({onImport:t}){const[e,n]=y.useState(!1),[r,s]=y.useState(""),i=a=>{var h;const l=a.trim().split(`
`),c=[],d=l[0].toLowerCase().includes("nom")||l[0].toLowerCase().includes("name")?1:0;for(let f=d;f<l.length;f++){const p=l[f].trim();if(!p)continue;const S=p.split(/,|\t/);if(S.length<3)continue;const g=S[0].trim(),E=S[1].trim(),w=S[2].trim(),v=((h=S[3])==null?void 0:h.trim())||"/passagedegrade/assets/default-avatar.png";if(!hf.includes(E)||!hf.includes(w)){console.warn(`Invalid belt for student ${g}: ${E} -> ${w}`);continue}c.push({id:crypto.randomUUID(),fullName:g,currentBelt:E,nextBelt:w,photoUrl:v,status:"PENDING",order:0})}return c},o=()=>{try{const a=i(r);if(a.length===0){Xi.error("Aucun lve valide trouv. Vrifiez le format.");return}t(a),n(!1),s(""),Xi.success(`${a.length} lves imports avec succs !`)}catch(a){console.error(a),Xi.error("Erreur lors de l'importation.")}};return _.jsxs(Nk,{open:e,onOpenChange:n,children:[_.jsx(Dk,{asChild:!0,children:_.jsxs(St,{variant:"outline",className:"gap-2 border-green-200 hover:bg-green-50 hover:text-green-700",children:[_.jsx(c7,{size:18})," Importer (CSV)"]})}),_.jsxs(gw,{className:"sm:max-w-[600px]",children:[_.jsxs(yw,{children:[_.jsx(vw,{children:"Importer depuis Google Sheets"}),_.jsxs(Vk,{children:["Copiez et collez vos donnes ici. Le format doit tre : ",_.jsx("br",{}),_.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded text-xs",children:"Nom Complet, Ceinture Actuelle, Ceinture Suivante, URL Photo (Optionnel)"})]})]}),_.jsxs("div",{className:"grid gap-4 py-4",children:[_.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg flex gap-3 text-sm text-blue-700",children:[_.jsx(r7,{className:"w-5 h-5 flex-shrink-0"}),_.jsxs("div",{children:[_.jsx("p",{className:"font-bold mb-1",children:"Instructions :"}),_.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[_.jsx("li",{children:"Ouvrez votre Google Sheet"}),_.jsx("li",{children:"Slectionnez les colonnes (Nom, Grade Actuel, Grade Suivant, Photo)"}),_.jsx("li",{children:"Copiez (Ctrl+C) et collez (Ctrl+V) ci-dessous"})]})]})]}),_.jsx(IN,{placeholder:`Jean Dupont, Blanc, Jaune
Marie Martin, Jaune, Orange, https://example.com/photo.jpg`,className:"h-[200px] font-mono text-sm",value:r,onChange:a=>s(a.target.value)})]}),_.jsxs(Mk,{children:[_.jsx(St,{variant:"outline",onClick:()=>n(!1),children:"Annuler"}),_.jsxs(St,{onClick:o,className:"bg-green-600 hover:bg-green-700",children:[_.jsx(Rk,{className:"w-4 h-4 mr-2"})," Importer"]})]})]})]})}function ff({belt:t,className:e,size:n="md"}){const r=kS[t]||kS.BLANC,s={sm:"px-2 py-0.5 text-xs",md:"px-3 py-1 text-sm",lg:"px-4 py-2 text-base font-bold"};return _.jsx("span",{className:ge("inline-flex items-center justify-center rounded-full border shadow-sm transition-all",r.bg,r.text,r.border,s[n],e),children:t})}const la=y.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:ge("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));la.displayName="Card";const xw=y.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:ge("flex flex-col space-y-1.5 p-6",t),...e}));xw.displayName="CardHeader";const Tw=y.forwardRef(({className:t,...e},n)=>_.jsx("h3",{ref:n,className:ge("text-2xl font-semibold leading-none tracking-tight",t),...e}));Tw.displayName="CardTitle";const PW=y.forwardRef(({className:t,...e},n)=>_.jsx("p",{ref:n,className:ge("text-sm text-muted-foreground",t),...e}));PW.displayName="CardDescription";const ca=y.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:ge("p-6 pt-0",t),...e}));ca.displayName="CardContent";const RW=y.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:ge("flex items-center p-6 pt-0",t),...e}));RW.displayName="CardFooter";const AN=y.forwardRef(({className:t,...e},n)=>_.jsx("div",{className:"relative w-full overflow-auto",children:_.jsx("table",{ref:n,className:ge("w-full caption-bottom text-sm",t),...e})}));AN.displayName="Table";const PN=y.forwardRef(({className:t,...e},n)=>_.jsx("thead",{ref:n,className:ge("[&_tr]:border-b",t),...e}));PN.displayName="TableHeader";const RN=y.forwardRef(({className:t,...e},n)=>_.jsx("tbody",{ref:n,className:ge("[&_tr:last-child]:border-0",t),...e}));RN.displayName="TableBody";const kW=y.forwardRef(({className:t,...e},n)=>_.jsx("tfoot",{ref:n,className:ge("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));kW.displayName="TableFooter";const lh=y.forwardRef(({className:t,...e},n)=>_.jsx("tr",{ref:n,className:ge("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));lh.displayName="TableRow";const Hi=y.forwardRef(({className:t,...e},n)=>_.jsx("th",{ref:n,className:ge("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Hi.displayName="TableHead";const Ps=y.forwardRef(({className:t,...e},n)=>_.jsx("td",{ref:n,className:ge("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Ps.displayName="TableCell";const NW=y.forwardRef(({className:t,...e},n)=>_.jsx("caption",{ref:n,className:ge("mt-4 text-sm text-muted-foreground",t),...e}));NW.displayName="TableCaption";const Sw="auth_page";function DW(t,e,n){return t==="dashboard"&&e==="master"&&n==="aziz2004"||t==="projection"&&e==="parent"&&n==="diamondgym"?(localStorage.setItem(Sw,t),!0):!1}function OW(t){return localStorage.getItem(Sw)!=null}function kN(){localStorage.removeItem(Sw)}function MW(){const t=Yf(),{students:e,addStudent:n,addMultipleStudents:r,updateStudent:s,deleteStudent:i,reorderStudents:o,setStatus:a,syncStatus:l,setCurrent:c}=YR(),d=(h,f)=>{if(f==="up"&&h===0||f==="down"&&h===e.length-1)return;const p=[...e],S=f==="up"?h-1:h+1;[p[h],p[S]]=[p[S],p[h]],o(p)};return _.jsx("div",{className:"min-h-screen bg-gray-100 p-8 font-sans",children:_.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[_.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 bg-white p-6 rounded-2xl shadow-sm border border-gray-200",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("img",{src:"/passagedegrade/assets/logos/kukkiwon.png",alt:"Logo",className:"w-12 h-12 rounded-xl shadow-lg object-contain bg-white"}),_.jsxs("div",{children:[_.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Taekwondo Sbeitla"}),_.jsx("p",{className:"text-gray-500 font-medium",children:"Tableau de Bord des Examens de Passage"}),_.jsxs("span",{className:`mt-1 inline-block text-xs px-2 py-0.5 rounded-full ${l==="online"?"bg-green-100 text-green-700":l==="connecting"||l==="offline"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:["Cloud Sync: ",l]})]})]}),_.jsxs("div",{className:"flex flex-wrap gap-3 w-full md:w-auto",children:[_.jsx(St,{asChild:!0,variant:"outline",className:"flex-1 md:flex-none w-full gap-2 border-gray-300 hover:bg-gray-50 hover:text-red-600 transition-colors",children:_.jsxs("a",{href:`${typeof window<"u"?window.location.origin:""}/passagedegrade/projection`,target:"_blank",rel:"noopener noreferrer",children:[_.jsx(a7,{size:18})," Projection"]})}),_.jsx(AW,{onImport:r}),_.jsx("div",{className:"flex-1 md:flex-none",children:_.jsx(DS,{onSubmit:n})}),_.jsx(St,{variant:"destructive",className:"md:flex-none",onClick:()=>{kN(),t("/")},children:"Dconnexion"})]})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[_.jsx(la,{className:"border-none shadow-sm bg-white",children:_.jsxs(ca,{className:"p-6 flex items-center gap-4",children:[_.jsx("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-full",children:_.jsx(Km,{size:24})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Total Candidats"}),_.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),_.jsx(la,{className:"border-none shadow-sm bg-white",children:_.jsxs(ca,{className:"p-6 flex items-center gap-4",children:[_.jsx("div",{className:"p-3 bg-green-100 text-green-600 rounded-full",children:_.jsx(ah,{size:24})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Admis"}),_.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(h=>h.status==="APPROVED").length})]})]})}),_.jsx(la,{className:"border-none shadow-sm bg-white",children:_.jsxs(ca,{className:"p-6 flex items-center gap-4",children:[_.jsx("div",{className:"p-3 bg-yellow-100 text-yellow-600 rounded-full",children:_.jsx(p7,{size:24})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"En Attente"}),_.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(h=>h.status==="PENDING").length})]})]})})]}),_.jsxs(la,{className:"border-none shadow-md overflow-hidden",children:[_.jsx(xw,{className:"bg-gray-50 border-b border-gray-100 py-6",children:_.jsxs(Tw,{className:"flex items-center gap-2 text-xl",children:[_.jsx(Km,{className:"w-5 h-5 text-gray-400"}),"Liste des Candidats"]})}),_.jsx(ca,{className:"p-0",children:_.jsxs(AN,{children:[_.jsx(PN,{children:_.jsxs(lh,{className:"bg-gray-50/50 hover:bg-gray-50/50",children:[_.jsx(Hi,{className:"w-[80px] text-center font-bold text-gray-600",children:"Ordre"}),_.jsx(Hi,{className:"font-bold text-gray-600",children:"Candidat"}),_.jsx(Hi,{className:"font-bold text-gray-600",children:"Ceinture Actuelle"}),_.jsx(Hi,{className:"font-bold text-gray-600",children:"Test Pour"}),_.jsx(Hi,{className:"font-bold text-gray-600 text-center",children:"Rsultat"}),_.jsx(Hi,{className:"text-right font-bold text-gray-600 pr-6",children:"Actions"})]})}),_.jsx(RN,{children:e.length===0?_.jsx(lh,{children:_.jsx(Ps,{colSpan:6,className:"text-center py-16",children:_.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-400",children:[_.jsx(Km,{className:"w-16 h-16 mb-4 opacity-20"}),_.jsx("p",{className:"text-lg font-medium text-gray-500",children:"Aucun lve ajout pour le moment"}),_.jsx("p",{className:"text-sm",children:'Cliquez sur "Ajouter un lve" ou "Importer" pour commencer'})]})})}):e.map((h,f)=>_.jsxs(lh,{className:"hover:bg-gray-50/80 transition-colors group",children:[_.jsxs(Ps,{className:"text-center font-bold text-gray-500 text-lg",children:["#",f+1]}),_.jsx(Ps,{children:_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs("div",{className:"relative",children:[_.jsx(Ew,{src:h.photoUrl,alt:h.fullName,className:"w-12 h-12 rounded-full object-cover border-2 border-white shadow-sm group-hover:scale-110 transition-transform duration-300"}),h.status==="APPROVED"&&_.jsx("div",{className:"absolute -bottom-1 -right-1 bg-green-500 text-white rounded-full p-0.5 border-2 border-white",children:_.jsx(ah,{size:10,strokeWidth:4})})]}),_.jsx("span",{className:"font-bold text-gray-900 text-base",children:h.fullName})]})}),_.jsx(Ps,{children:_.jsx(ff,{belt:h.currentBelt,size:"sm"})}),_.jsx(Ps,{children:_.jsx(ff,{belt:h.nextBelt,size:"sm"})}),_.jsx(Ps,{children:_.jsxs("div",{className:"flex justify-center gap-2",children:[_.jsxs(St,{size:"sm",variant:h.status==="APPROVED"?"default":"outline",className:`rounded-full px-4 transition-all duration-300 ${h.status==="APPROVED"?"bg-green-600 hover:bg-green-700 text-white shadow-md scale-105":"text-gray-400 hover:text-green-600 hover:border-green-200"}`,onClick:()=>a(h.id,"APPROVED"),title:"Admis",children:[_.jsx(ah,{size:16,className:"mr-1"})," ",h.status==="APPROVED"?"Admis":"Admettre"]}),_.jsxs(St,{size:"sm",variant:h.status==="REFUSED"?"destructive":"outline",className:`rounded-full px-4 transition-all duration-300 ${h.status==="REFUSED"?"bg-red-600 hover:bg-red-700 text-white shadow-md scale-105":"text-gray-400 hover:text-red-600 hover:border-red-200"}`,onClick:()=>a(h.id,"REFUSED"),title:"Refus",children:[_.jsx(kk,{size:16,className:"mr-1"})," ",h.status==="REFUSED"?"Refus":"Refuser"]})]})}),_.jsx(Ps,{className:"text-right pr-6",children:_.jsxs("div",{className:"flex justify-end gap-1 opacity-60 group-hover:opacity-100 transition-opacity",children:[_.jsx(St,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-gray-200 rounded-full",onClick:()=>d(f,"up"),disabled:f===0,children:_.jsx(t7,{size:16})}),_.jsx(St,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-gray-200 rounded-full",onClick:()=>d(f,"down"),disabled:f===e.length-1,children:_.jsx(e7,{size:16})}),_.jsx(St,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-green-50 hover:text-green-600 rounded-full",onClick:()=>c(h.id),title:"Afficher en projection",children:_.jsx(l7,{size:16})}),_.jsx(DS,{initialData:h,onSubmit:p=>s(h.id,p),trigger:_.jsx(St,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-blue-50 hover:text-blue-600 rounded-full",children:_.jsx(h7,{size:16})})}),_.jsx(St,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-full",onClick:async()=>{await IW(h.photoUrl),i(h.id)},children:_.jsx(f7,{size:16})})]})})]},h.id))})]})})]})]})})}var Qm="rovingFocusGroup.onEntryFocus",VW={bubbles:!1,cancelable:!0},Du="RovingFocusGroup",[qy,NN,LW]=$k(Du),[jW,DN]=Po(Du,[LW]),[FW,UW]=jW(Du),ON=y.forwardRef((t,e)=>_.jsx(qy.Provider,{scope:t.__scopeRovingFocusGroup,children:_.jsx(qy.Slot,{scope:t.__scopeRovingFocusGroup,children:_.jsx(BW,{...t,ref:e})})}));ON.displayName=Du;var BW=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=t,f=y.useRef(null),p=Ge(e,f),S=ww(i),[g,E]=Gc({prop:o,defaultProp:a??null,onChange:l,caller:Du}),[w,v]=y.useState(!1),T=fi(c),P=NN(n),k=y.useRef(!1),[M,C]=y.useState(0);return y.useEffect(()=>{const b=f.current;if(b)return b.addEventListener(Qm,T),()=>b.removeEventListener(Qm,T)},[T]),_.jsx(FW,{scope:n,orientation:r,dir:S,loop:s,currentTabStopId:g,onItemFocus:y.useCallback(b=>E(b),[E]),onItemShiftTab:y.useCallback(()=>v(!0),[]),onFocusableItemAdd:y.useCallback(()=>C(b=>b+1),[]),onFocusableItemRemove:y.useCallback(()=>C(b=>b-1),[]),children:_.jsx(Ae.div,{tabIndex:w||M===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...t.style},onMouseDown:pe(t.onMouseDown,()=>{k.current=!0}),onFocus:pe(t.onFocus,b=>{const I=!k.current;if(b.target===b.currentTarget&&I&&!w){const R=new CustomEvent(Qm,VW);if(b.currentTarget.dispatchEvent(R),!R.defaultPrevented){const N=P().filter(J=>J.focusable),O=N.find(J=>J.active),D=N.find(J=>J.id===g),ue=[O,D,...N].filter(Boolean).map(J=>J.ref.current);LN(ue,d)}}k.current=!1}),onBlur:pe(t.onBlur,()=>v(!1))})})}),MN="RovingFocusGroupItem",VN=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=si(),c=i||l,d=UW(MN,n),h=d.currentTabStopId===c,f=NN(n),{onFocusableItemAdd:p,onFocusableItemRemove:S,currentTabStopId:g}=d;return y.useEffect(()=>{if(r)return p(),()=>S()},[r,p,S]),_.jsx(qy.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:_.jsx(Ae.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:pe(t.onMouseDown,E=>{r?d.onItemFocus(c):E.preventDefault()}),onFocus:pe(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:pe(t.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){d.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const w=WW(E,d.orientation,d.dir);if(w!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let T=f().filter(P=>P.focusable).map(P=>P.ref.current);if(w==="last")T.reverse();else if(w==="prev"||w==="next"){w==="prev"&&T.reverse();const P=T.indexOf(E.currentTarget);T=d.loop?HW(T,P+1):T.slice(P+1)}setTimeout(()=>LN(T))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});VN.displayName=MN;var $W={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function zW(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function WW(t,e,n){const r=zW(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return $W[r]}function LN(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function HW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var GW=ON,KW=VN,bp="Tabs",[qW]=Po(bp,[DN]),jN=DN(),[QW,bw]=qW(bp),FN=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,d=ww(a),[h,f]=Gc({prop:r,onChange:s,defaultProp:i??"",caller:bp});return _.jsx(QW,{scope:n,baseId:si(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:l,children:_.jsx(Ae.div,{dir:d,"data-orientation":o,...c,ref:e})})});FN.displayName=bp;var UN="TabsList",BN=y.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=bw(UN,n),o=jN(n);return _.jsx(GW,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:_.jsx(Ae.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});BN.displayName=UN;var $N="TabsTrigger",zN=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=bw($N,n),a=jN(n),l=GN(o.baseId,r),c=KN(o.baseId,r),d=r===o.value;return _.jsx(KW,{asChild:!0,...a,focusable:!s,active:d,children:_.jsx(Ae.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:pe(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:pe(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:pe(t.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(r)})})})});zN.displayName=$N;var WN="TabsContent",HN=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=bw(WN,n),l=GN(a.baseId,r),c=KN(a.baseId,r),d=r===a.value,h=y.useRef(d);return y.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),_.jsx(ul,{present:s||d,children:({present:f})=>_.jsx(Ae.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});HN.displayName=WN;function GN(t,e){return`${t}-trigger-${e}`}function KN(t,e){return`${t}-content-${e}`}var YW=FN,qN=BN,QN=zN,YN=HN;const XW=YW,XN=y.forwardRef(({className:t,...e},n)=>_.jsx(qN,{ref:n,className:ge("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));XN.displayName=qN.displayName;const Qy=y.forwardRef(({className:t,...e},n)=>_.jsx(QN,{ref:n,className:ge("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Qy.displayName=QN.displayName;const Yy=y.forwardRef(({className:t,...e},n)=>_.jsx(YN,{ref:n,className:ge("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Yy.displayName=YN.displayName;const Cw=y.createContext({});function Iw(t){const e=y.useRef(null);return e.current===null&&(e.current=t()),e.current}const Cp=y.createContext(null),Aw=y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class JW extends y.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function ZW({children:t,isPresent:e}){const n=y.useId(),r=y.useRef(null),s=y.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=y.useContext(Aw);return y.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=s.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),_.jsx(JW,{isPresent:e,childRef:r,sizeRef:s,children:y.cloneElement(t,{ref:r})})}const eH=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=Iw(tH),l=y.useId(),c=y.useCallback(h=>{a.set(h,!0);for(const f of a.values())if(!f)return;r&&r()},[a,r]),d=y.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:c,register:h=>(a.set(h,!1),()=>a.delete(h))}),i?[Math.random(),c]:[n,c]);return y.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[n]),y.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=_.jsx(ZW,{isPresent:n,children:t})),_.jsx(Cp.Provider,{value:d,children:t})};function tH(){return new Map}function JN(t=!0){const e=y.useContext(Cp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=y.useId();y.useEffect(()=>{t&&s(i)},[t]);const o=y.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const Nd=t=>t.key||"";function OS(t){const e=[];return y.Children.forEach(t,n=>{y.isValidElement(n)&&e.push(n)}),e}const Pw=typeof window<"u",ZN=Pw?y.useLayoutEffect:y.useEffect,nH=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[a,l]=JN(o),c=y.useMemo(()=>OS(t),[t]),d=o&&!a?[]:c.map(Nd),h=y.useRef(!0),f=y.useRef(c),p=Iw(()=>new Map),[S,g]=y.useState(c),[E,w]=y.useState(c);ZN(()=>{h.current=!1,f.current=c;for(let P=0;P<E.length;P++){const k=Nd(E[P]);d.includes(k)?p.delete(k):p.get(k)!==!0&&p.set(k,!1)}},[E,d.length,d.join("-")]);const v=[];if(c!==S){let P=[...c];for(let k=0;k<E.length;k++){const M=E[k],C=Nd(M);d.includes(C)||(P.splice(k,0,M),v.push(M))}i==="wait"&&v.length&&(P=v),w(OS(P)),g(c);return}const{forceRender:T}=y.useContext(Cw);return _.jsx(_.Fragment,{children:E.map(P=>{const k=Nd(P),M=o&&!a?!1:c===E||d.includes(k),C=()=>{if(p.has(k))p.set(k,!0);else return;let b=!0;p.forEach(I=>{I||(b=!1)}),b&&(T==null||T(),w(f.current),o&&(l==null||l()),r&&r())};return _.jsx(eH,{isPresent:M,initial:!h.current||n?void 0:!1,custom:M?void 0:e,presenceAffectsLayout:s,mode:i,onExitComplete:M?void 0:C,children:P},k)})})},xn=t=>t;let eD=xn;function Rw(t){let e;return()=>(e===void 0&&(e=t()),e)}const el=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},es=t=>t*1e3,ts=t=>t/1e3,rH={useManualTiming:!1};function sH(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){i.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,d=!1,h=!1)=>{const p=h&&r?e:n;return d&&i.add(c),p.has(c)||p.add(c),c},cancel:c=>{n.delete(c),i.delete(c)},process:c=>{if(o=c,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,s&&(s=!1,l.process(c))}};return l}const Dd=["read","resolveKeyframes","update","preRender","render","postRender"],iH=40;function tD(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Dd.reduce((w,v)=>(w[v]=sH(i),w),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:h,postRender:f}=o,p=()=>{const w=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(w-s.timestamp,iH),1),s.timestamp=w,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(p))},S=()=>{n=!0,r=!0,s.isProcessing||t(p)};return{schedule:Dd.reduce((w,v)=>{const T=o[v];return w[v]=(P,k=!1,M=!1)=>(n||S(),T.schedule(P,k,M)),w},{}),cancel:w=>{for(let v=0;v<Dd.length;v++)o[Dd[v]].cancel(w)},state:s,steps:o}}const{schedule:We,cancel:Si,state:Pt,steps:Ym}=tD(typeof requestAnimationFrame<"u"?requestAnimationFrame:xn,!0),nD=y.createContext({strict:!1}),MS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},tl={};for(const t in MS)tl[t]={isEnabled:e=>MS[t].some(n=>!!e[n])};function oH(t){for(const e in t)tl[e]={...tl[e],...t[e]}}const aH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function pf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||aH.has(t)}let rD=t=>!pf(t);function lH(t){t&&(rD=e=>e.startsWith("on")?!pf(e):t(e))}try{lH(require("@emotion/is-prop-valid").default)}catch{}function cH(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(rD(s)||n===!0&&pf(s)||!e&&!pf(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function uH(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Ip=y.createContext({});function au(t){return typeof t=="string"||Array.isArray(t)}function Ap(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const kw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Nw=["initial",...kw];function Pp(t){return Ap(t.animate)||Nw.some(e=>au(t[e]))}function sD(t){return!!(Pp(t)||t.variants)}function dH(t,e){if(Pp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||au(n)?n:void 0,animate:au(r)?r:void 0}}return t.inherit!==!1?e:{}}function hH(t){const{initial:e,animate:n}=dH(t,y.useContext(Ip));return y.useMemo(()=>({initial:e,animate:n}),[VS(e),VS(n)])}function VS(t){return Array.isArray(t)?t.join(" "):t}const fH=Symbol.for("motionComponentSymbol");function ua(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function pH(t,e,n){return y.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ua(n)&&(n.current=r))},[e])}const Dw=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),mH="framerAppearId",iD="data-"+Dw(mH),{schedule:Ow}=tD(queueMicrotask,!1),oD=y.createContext({});function gH(t,e,n,r,s){var i,o;const{visualElement:a}=y.useContext(Ip),l=y.useContext(nD),c=y.useContext(Cp),d=y.useContext(Aw).reducedMotion,h=y.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,p=y.useContext(oD);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&yH(h.current,n,s,p);const S=y.useRef(!1);y.useInsertionEffect(()=>{f&&S.current&&f.update(n,c)});const g=n[iD],E=y.useRef(!!g&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return ZN(()=>{f&&(S.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Ow.render(f.render),E.current&&f.animationState&&f.animationState.animateChanges())}),y.useEffect(()=>{f&&(!E.current&&f.animationState&&f.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,g)}),E.current=!1))}),f}function yH(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:aD(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&ua(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function aD(t){if(t)return t.options.allowProjection!==!1?t.projection:aD(t.parent)}function vH({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,o;t&&oH(t);function a(c,d){let h;const f={...y.useContext(Aw),...c,layoutId:wH(c)},{isStatic:p}=f,S=hH(c),g=r(c,p);if(!p&&Pw){_H();const E=EH(f);h=E.MeasureLayout,S.visualElement=gH(s,g,f,e,E.ProjectionNode)}return _.jsxs(Ip.Provider,{value:S,children:[h&&S.visualElement?_.jsx(h,{visualElement:S.visualElement,...f}):null,n(s,c,pH(g,S.visualElement,d),g,p,S.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const l=y.forwardRef(a);return l[fH]=s,l}function wH({layoutId:t}){const e=y.useContext(Cw).id;return e&&t!==void 0?e+"-"+t:t}function _H(t,e){y.useContext(nD).strict}function EH(t){const{drag:e,layout:n}=tl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const xH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Mw(t){return typeof t!="string"||t.includes("-")?!1:!!(xH.indexOf(t)>-1||/[A-Z]/u.test(t))}function LS(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Vw(t,e,n,r){if(typeof e=="function"){const[s,i]=LS(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=LS(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const Xy=t=>Array.isArray(t),TH=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),SH=t=>Xy(t)?t[t.length-1]||0:t,zt=t=>!!(t&&t.getVelocity);function ch(t){const e=zt(t)?t.get():t;return TH(e)?e.toValue():e}function bH({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const o={latestValues:CH(r,s,i,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const lD=t=>(e,n)=>{const r=y.useContext(Ip),s=y.useContext(Cp),i=()=>bH(t,e,r,s);return n?i():Iw(i)};function CH(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=ch(i[f]);let{initial:o,animate:a}=t;const l=Pp(t),c=sD(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!Ap(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const S=Vw(t,f[p]);if(S){const{transitionEnd:g,transition:E,...w}=S;for(const v in w){let T=w[v];if(Array.isArray(T)){const P=d?T.length-1:0;T=T[P]}T!==null&&(s[v]=T)}for(const v in g)s[v]=g[v]}}}return s}const _l=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Oo=new Set(_l),cD=t=>e=>typeof e=="string"&&e.startsWith(t),uD=cD("--"),IH=cD("var(--"),Lw=t=>IH(t)?AH.test(t.split("/*")[0].trim()):!1,AH=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,dD=(t,e)=>e&&typeof t=="number"?e.transform(t):t,fs=(t,e,n)=>n>e?e:n<t?t:n,El={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},lu={...El,transform:t=>fs(0,1,t)},Od={...El,default:1},Ou=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Rs=Ou("deg"),Nr=Ou("%"),ne=Ou("px"),PH=Ou("vh"),RH=Ou("vw"),jS={...Nr,parse:t=>Nr.parse(t)/100,transform:t=>Nr.transform(t*100)},kH={borderWidth:ne,borderTopWidth:ne,borderRightWidth:ne,borderBottomWidth:ne,borderLeftWidth:ne,borderRadius:ne,radius:ne,borderTopLeftRadius:ne,borderTopRightRadius:ne,borderBottomRightRadius:ne,borderBottomLeftRadius:ne,width:ne,maxWidth:ne,height:ne,maxHeight:ne,top:ne,right:ne,bottom:ne,left:ne,padding:ne,paddingTop:ne,paddingRight:ne,paddingBottom:ne,paddingLeft:ne,margin:ne,marginTop:ne,marginRight:ne,marginBottom:ne,marginLeft:ne,backgroundPositionX:ne,backgroundPositionY:ne},NH={rotate:Rs,rotateX:Rs,rotateY:Rs,rotateZ:Rs,scale:Od,scaleX:Od,scaleY:Od,scaleZ:Od,skew:Rs,skewX:Rs,skewY:Rs,distance:ne,translateX:ne,translateY:ne,translateZ:ne,x:ne,y:ne,z:ne,perspective:ne,transformPerspective:ne,opacity:lu,originX:jS,originY:jS,originZ:ne},FS={...El,transform:Math.round},jw={...kH,...NH,zIndex:FS,size:ne,fillOpacity:lu,strokeOpacity:lu,numOctaves:FS},DH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},OH=_l.length;function MH(t,e,n){let r="",s=!0;for(let i=0;i<OH;i++){const o=_l[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=dD(a,jw[o]);if(!l){s=!1;const d=DH[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Fw(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Oo.has(l)){o=!0;continue}else if(uD(l)){s[l]=c;continue}else{const d=dD(c,jw[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=MH(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${c} ${d}`}}const VH={offset:"stroke-dashoffset",array:"stroke-dasharray"},LH={offset:"strokeDashoffset",array:"strokeDasharray"};function jH(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?VH:LH;t[i.offset]=ne.transform(-r);const o=ne.transform(e),a=ne.transform(n);t[i.array]=`${o} ${a}`}function US(t,e,n){return typeof t=="string"?t:ne.transform(e+n*t)}function FH(t,e,n){const r=US(e,t.x,t.width),s=US(n,t.y,t.height);return`${r} ${s}`}function Uw(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,h){if(Fw(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p,dimensions:S}=t;f.transform&&(S&&(p.transform=f.transform),delete f.transform),S&&(s!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=FH(S,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&jH(f,o,a,l,!1)}const Bw=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),hD=()=>({...Bw(),attrs:{}}),$w=t=>typeof t=="string"&&t.toLowerCase()==="svg";function fD(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const pD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mD(t,e,n,r){fD(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(pD.has(s)?s:Dw(s),e.attrs[s])}const mf={};function UH(t){Object.assign(mf,t)}function gD(t,{layout:e,layoutId:n}){return Oo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!mf[t]||t==="opacity")}function zw(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(zt(s[o])||e.style&&zt(e.style[o])||gD(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function yD(t,e,n){const r=zw(t,e,n);for(const s in t)if(zt(t[s])||zt(e[s])){const i=_l.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function BH(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const BS=["x","y","width","height","cx","cy","r"],$H={useVisualState:lD({scrapeMotionValuesFromProps:yD,createRenderState:hD,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const a in s)if(Oo.has(a)){i=!0;break}}if(!i)return;let o=!e;if(e)for(let a=0;a<BS.length;a++){const l=BS[a];t[l]!==e[l]&&(o=!0)}o&&We.read(()=>{BH(n,r),We.render(()=>{Uw(r,s,$w(n.tagName),t.transformTemplate),mD(n,r)})})}})},zH={useVisualState:lD({scrapeMotionValuesFromProps:zw,createRenderState:Bw})};function vD(t,e,n){for(const r in e)!zt(e[r])&&!gD(r,n)&&(t[r]=e[r])}function WH({transformTemplate:t},e){return y.useMemo(()=>{const n=Bw();return Fw(n,e,t),Object.assign({},n.vars,n.style)},[e])}function HH(t,e){const n=t.style||{},r={};return vD(r,n,t),Object.assign(r,WH(t,e)),r}function GH(t,e){const n={},r=HH(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function KH(t,e,n,r){const s=y.useMemo(()=>{const i=hD();return Uw(i,e,$w(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};vD(i,t.style,t),s.style={...i,...s.style}}return s}function qH(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(Mw(n)?KH:GH)(r,i,o,n),c=cH(r,typeof n=="string",t),d=n!==y.Fragment?{...c,...l,ref:s}:{},{children:h}=r,f=y.useMemo(()=>zt(h)?h.get():h,[h]);return y.createElement(n,{...d,children:f})}}function QH(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...Mw(r)?$H:zH,preloadedFeatures:t,useRender:qH(s),createVisualElement:e,Component:r};return vH(o)}}function wD(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Rp(t,e,n){const r=t.getProps();return Vw(r,e,n!==void 0?n:r.custom,t)}const YH=Rw(()=>window.ScrollTimeline!==void 0);class XH{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(YH()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class JH extends XH{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Ww(t,e){return t?t[e]||t.default||t:void 0}const Jy=2e4;function _D(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Jy;)e+=n,r=t.next(e);return e>=Jy?1/0:e}function Hw(t){return typeof t=="function"}function $S(t,e){t.timeline=e,t.onfinish=null}const Gw=t=>Array.isArray(t)&&typeof t[0]=="number",ZH={linearEasing:void 0};function eG(t,e){const n=Rw(t);return()=>{var r;return(r=ZH[e])!==null&&r!==void 0?r:n()}}const gf=eG(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ED=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(el(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function xD(t){return!!(typeof t=="function"&&gf()||!t||typeof t=="string"&&(t in Zy||gf())||Gw(t)||Array.isArray(t)&&t.every(xD))}const sc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Zy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sc([0,.65,.55,1]),circOut:sc([.55,0,1,.45]),backIn:sc([.31,.01,.66,-.59]),backOut:sc([.33,1.53,.69,.99])};function TD(t,e){if(t)return typeof t=="function"&&gf()?ED(t,e):Gw(t)?sc(t):Array.isArray(t)?t.map(n=>TD(n,e)||Zy.easeOut):Zy[t]}const Gn={x:!1,y:!1};function SD(){return Gn.x||Gn.y}function tG(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function bD(t,e){const n=tG(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function zS(t){return e=>{e.pointerType==="touch"||SD()||t(e)}}function nG(t,e,n={}){const[r,s,i]=bD(t,n),o=zS(a=>{const{target:l}=a,c=e(a);if(typeof c!="function"||!l)return;const d=zS(h=>{c(h),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,s)});return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const CD=(t,e)=>e?t===e?!0:CD(t,e.parentElement):!1,Kw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,rG=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function sG(t){return rG.has(t.tagName)||t.tabIndex!==-1}const ic=new WeakSet;function WS(t){return e=>{e.key==="Enter"&&t(e)}}function Xm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const iG=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=WS(()=>{if(ic.has(n))return;Xm(n,"down");const s=WS(()=>{Xm(n,"up")}),i=()=>Xm(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function HS(t){return Kw(t)&&!SD()}function oG(t,e,n={}){const[r,s,i]=bD(t,n),o=a=>{const l=a.currentTarget;if(!HS(a)||ic.has(l))return;ic.add(l);const c=e(a),d=(p,S)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!HS(p)||!ic.has(l))&&(ic.delete(l),typeof c=="function"&&c(p,{success:S}))},h=p=>{d(p,n.useGlobalTarget||CD(l,p.target))},f=p=>{d(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{!sG(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),a.addEventListener("focus",c=>iG(c,s),s)}),i}function aG(t){return t==="x"||t==="y"?Gn[t]?null:(Gn[t]=!0,()=>{Gn[t]=!1}):Gn.x||Gn.y?null:(Gn.x=Gn.y=!0,()=>{Gn.x=Gn.y=!1})}const ID=new Set(["width","height","top","left","right","bottom",..._l]);let uh;function lG(){uh=void 0}const Dr={now:()=>(uh===void 0&&Dr.set(Pt.isProcessing||rH.useManualTiming?Pt.timestamp:performance.now()),uh),set:t=>{uh=t,queueMicrotask(lG)}};function qw(t,e){t.indexOf(e)===-1&&t.push(e)}function Qw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Yw{constructor(){this.subscriptions=[]}add(e){return qw(this.subscriptions,e),()=>Qw(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function AD(t,e){return e?t*(1e3/e):0}const GS=30,cG=t=>!isNaN(parseFloat(t));class uG{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Dr.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Dr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=cG(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Yw);const r=this.events[e].add(n);return e==="change"?()=>{r(),We.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Dr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>GS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,GS);return AD(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function cu(t,e){return new uG(t,e)}function dG(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,cu(n))}function hG(t,e){const n=Rp(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=SH(i[o]);dG(t,o,a)}}function fG(t){return!!(zt(t)&&t.add)}function ev(t,e){const n=t.getValue("willChange");if(fG(n))return n.add(e)}function PD(t){return t.props[iD]}const RD=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,pG=1e-7,mG=12;function gG(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=RD(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>pG&&++a<mG);return o}function Mu(t,e,n,r){if(t===e&&n===r)return xn;const s=i=>gG(i,0,1,t,n);return i=>i===0||i===1?i:RD(s(i),e,r)}const kD=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ND=t=>e=>1-t(1-e),DD=Mu(.33,1.53,.69,.99),Xw=ND(DD),OD=kD(Xw),MD=t=>(t*=2)<1?.5*Xw(t):.5*(2-Math.pow(2,-10*(t-1))),Jw=t=>1-Math.sin(Math.acos(t)),VD=ND(Jw),LD=kD(Jw),jD=t=>/^0[^.\s]+$/u.test(t);function yG(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||jD(t):!0}const Tc=t=>Math.round(t*1e5)/1e5,Zw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function vG(t){return t==null}const wG=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,e_=(t,e)=>n=>!!(typeof n=="string"&&wG.test(n)&&n.startsWith(t)||e&&!vG(n)&&Object.prototype.hasOwnProperty.call(n,e)),FD=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(Zw);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},_G=t=>fs(0,255,t),Jm={...El,transform:t=>Math.round(_G(t))},Zi={test:e_("rgb","red"),parse:FD("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Jm.transform(t)+", "+Jm.transform(e)+", "+Jm.transform(n)+", "+Tc(lu.transform(r))+")"};function EG(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const tv={test:e_("#"),parse:EG,transform:Zi.transform},da={test:e_("hsl","hue"),parse:FD("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Nr.transform(Tc(e))+", "+Nr.transform(Tc(n))+", "+Tc(lu.transform(r))+")"},Ft={test:t=>Zi.test(t)||tv.test(t)||da.test(t),parse:t=>Zi.test(t)?Zi.parse(t):da.test(t)?da.parse(t):tv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Zi.transform(t):da.transform(t)},xG=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function TG(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Zw))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(xG))===null||n===void 0?void 0:n.length)||0)>0}const UD="number",BD="color",SG="var",bG="var(",KS="${}",CG=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function uu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(CG,l=>(Ft.test(l)?(r.color.push(i),s.push(BD),n.push(Ft.parse(l))):l.startsWith(bG)?(r.var.push(i),s.push(SG),n.push(l)):(r.number.push(i),s.push(UD),n.push(parseFloat(l))),++i,KS)).split(KS);return{values:n,split:a,indexes:r,types:s}}function $D(t){return uu(t).values}function zD(t){const{split:e,types:n}=uu(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===UD?i+=Tc(s[o]):a===BD?i+=Ft.transform(s[o]):i+=s[o]}return i}}const IG=t=>typeof t=="number"?0:t;function AG(t){const e=$D(t);return zD(t)(e.map(IG))}const bi={test:TG,parse:$D,createTransformer:zD,getAnimatableNone:AG},PG=new Set(["brightness","contrast","saturate","opacity"]);function RG(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Zw)||[];if(!r)return t;const s=n.replace(r,"");let i=PG.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const kG=/\b([a-z-]*)\(.*?\)/gu,nv={...bi,getAnimatableNone:t=>{const e=t.match(kG);return e?e.map(RG).join(" "):t}},NG={...jw,color:Ft,backgroundColor:Ft,outlineColor:Ft,fill:Ft,stroke:Ft,borderColor:Ft,borderTopColor:Ft,borderRightColor:Ft,borderBottomColor:Ft,borderLeftColor:Ft,filter:nv,WebkitFilter:nv},t_=t=>NG[t];function WD(t,e){let n=t_(t);return n!==nv&&(n=bi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const DG=new Set(["auto","none","0"]);function OG(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!DG.has(i)&&uu(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=WD(n,s)}const qS=t=>t===El||t===ne,QS=(t,e)=>parseFloat(t.split(", ")[e]),YS=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return QS(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?QS(i[1],t):0}},MG=new Set(["x","y","z"]),VG=_l.filter(t=>!MG.has(t));function LG(t){const e=[];return VG.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const nl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:YS(4,13),y:YS(5,14)};nl.translateX=nl.x;nl.translateY=nl.y;const ho=new Set;let rv=!1,sv=!1;function HD(){if(sv){const t=Array.from(ho).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=LG(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}sv=!1,rv=!1,ho.forEach(t=>t.complete()),ho.clear()}function GD(){ho.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(sv=!0)})}function jG(){GD(),HD()}class n_{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ho.add(this),rv||(rv=!0,We.read(GD),We.resolveKeyframes(HD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ho.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ho.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const KD=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),FG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function UG(t){const e=FG.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function qD(t,e,n=1){const[r,s]=UG(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return KD(o)?parseFloat(o):o}return Lw(s)?qD(s,e,n+1):s}const QD=t=>e=>e.test(t),BG={test:t=>t==="auto",parse:t=>t},YD=[El,ne,Nr,Rs,RH,PH,BG],XS=t=>YD.find(QD(t));class XD extends n_{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Lw(c))){const d=qD(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!ID.has(r)||e.length!==2)return;const[s,i]=e,o=XS(s),a=XS(i);if(o!==a)if(qS(o)&&qS(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)yG(e[s])&&r.push(s);r.length&&OG(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=nl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=nl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const JS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(bi.test(t)||t==="0")&&!t.startsWith("url("));function $G(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function zG(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=JS(s,e),a=JS(i,e);return!o||!a?!1:$G(t)||(n==="spring"||Hw(n))&&r}const WG=t=>t!==null;function kp(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(WG),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const HG=40;class JD{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Dr.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>HG?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&jG(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Dr.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!zG(e,r,s,i))if(o)this.options.duration=0;else{l&&l(kp(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Qe=(t,e,n)=>t+(e-t)*n;function Zm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function GG({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Zm(l,a,t+1/3),i=Zm(l,a,t),o=Zm(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function yf(t,e){return n=>n>0?e:t}const eg=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},KG=[tv,Zi,da],qG=t=>KG.find(e=>e.test(t));function ZS(t){const e=qG(t);if(!e)return!1;let n=e.parse(t);return e===da&&(n=GG(n)),n}const eb=(t,e)=>{const n=ZS(t),r=ZS(e);if(!n||!r)return yf(t,e);const s={...n};return i=>(s.red=eg(n.red,r.red,i),s.green=eg(n.green,r.green,i),s.blue=eg(n.blue,r.blue,i),s.alpha=Qe(n.alpha,r.alpha,i),Zi.transform(s))},QG=(t,e)=>n=>e(t(n)),Vu=(...t)=>t.reduce(QG),iv=new Set(["none","hidden"]);function YG(t,e){return iv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function XG(t,e){return n=>Qe(t,e,n)}function r_(t){return typeof t=="number"?XG:typeof t=="string"?Lw(t)?yf:Ft.test(t)?eb:eK:Array.isArray(t)?ZD:typeof t=="object"?Ft.test(t)?eb:JG:yf}function ZD(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>r_(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function JG(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=r_(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function ZG(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][s[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const eK=(t,e)=>{const n=bi.createTransformer(e),r=uu(t),s=uu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?iv.has(t)&&!s.values.length||iv.has(e)&&!r.values.length?YG(t,e):Vu(ZD(ZG(r,s),s.values),n):yf(t,e)};function e2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Qe(t,e,n):r_(t)(t,e)}const tK=5;function t2(t,e,n){const r=Math.max(e-tK,0);return AD(n-t(r),e-r)}const tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},tg=.001;function nK({duration:t=tt.duration,bounce:e=tt.bounce,velocity:n=tt.velocity,mass:r=tt.mass}){let s,i,o=1-e;o=fs(tt.minDamping,tt.maxDamping,o),t=fs(tt.minDuration,tt.maxDuration,ts(t)),o<1?(s=c=>{const d=c*o,h=d*t,f=d-n,p=ov(c,o),S=Math.exp(-h);return tg-f/p*S},i=c=>{const h=c*o*t,f=h*n+n,p=Math.pow(o,2)*Math.pow(c,2)*t,S=Math.exp(-h),g=ov(Math.pow(c,2),o);return(-s(c)+tg>0?-1:1)*((f-p)*S)/g}):(s=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-tg+d*h},i=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=sK(s,i,a);if(t=es(t),isNaN(l))return{stiffness:tt.stiffness,damping:tt.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const rK=12;function sK(t,e,n){let r=n;for(let s=1;s<rK;s++)r=r-t(r)/e(r);return r}function ov(t,e){return t*Math.sqrt(1-e*e)}const iK=["duration","bounce"],oK=["stiffness","damping","mass"];function tb(t,e){return e.some(n=>t[n]!==void 0)}function aK(t){let e={velocity:tt.velocity,stiffness:tt.stiffness,damping:tt.damping,mass:tt.mass,isResolvedFromDuration:!1,...t};if(!tb(t,oK)&&tb(t,iK))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*fs(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:tt.mass,stiffness:s,damping:i}}else{const n=nK(t);e={...e,...n,mass:tt.mass},e.isResolvedFromDuration=!0}return e}function n2(t=tt.visualDuration,e=tt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=aK({...n,velocity:-ts(n.velocity||0)}),S=f||0,g=c/(2*Math.sqrt(l*d)),E=o-i,w=ts(Math.sqrt(l/d)),v=Math.abs(E)<5;r||(r=v?tt.restSpeed.granular:tt.restSpeed.default),s||(s=v?tt.restDelta.granular:tt.restDelta.default);let T;if(g<1){const k=ov(w,g);T=M=>{const C=Math.exp(-g*w*M);return o-C*((S+g*w*E)/k*Math.sin(k*M)+E*Math.cos(k*M))}}else if(g===1)T=k=>o-Math.exp(-w*k)*(E+(S+w*E)*k);else{const k=w*Math.sqrt(g*g-1);T=M=>{const C=Math.exp(-g*w*M),b=Math.min(k*M,300);return o-C*((S+g*w*E)*Math.sinh(b)+k*E*Math.cosh(b))/k}}const P={calculatedDuration:p&&h||null,next:k=>{const M=T(k);if(p)a.done=k>=h;else{let C=0;g<1&&(C=k===0?es(S):t2(T,k,M));const b=Math.abs(C)<=r,I=Math.abs(o-M)<=s;a.done=b&&I}return a.value=a.done?o:M,a},toString:()=>{const k=Math.min(_D(P),Jy),M=ED(C=>P.next(k*C).value,k,30);return k+"ms "+M}};return P}function nb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},p=b=>a!==void 0&&b<a||l!==void 0&&b>l,S=b=>a===void 0?l:l===void 0||Math.abs(a-b)<Math.abs(l-b)?a:l;let g=n*e;const E=h+g,w=o===void 0?E:o(E);w!==E&&(g=w-h);const v=b=>-g*Math.exp(-b/r),T=b=>w+v(b),P=b=>{const I=v(b),R=T(b);f.done=Math.abs(I)<=c,f.value=f.done?w:R};let k,M;const C=b=>{p(f.value)&&(k=b,M=n2({keyframes:[f.value,S(f.value)],velocity:t2(T,b,f.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return C(0),{calculatedDuration:null,next:b=>{let I=!1;return!M&&k===void 0&&(I=!0,P(b),C(b)),k!==void 0&&b>=k?M.next(b-k):(!I&&P(b),f)}}}const lK=Mu(.42,0,1,1),cK=Mu(0,0,.58,1),r2=Mu(.42,0,.58,1),uK=t=>Array.isArray(t)&&typeof t[0]!="number",dK={linear:xn,easeIn:lK,easeInOut:r2,easeOut:cK,circIn:Jw,circInOut:LD,circOut:VD,backIn:Xw,backInOut:OD,backOut:DD,anticipate:MD},rb=t=>{if(Gw(t)){eD(t.length===4);const[e,n,r,s]=t;return Mu(e,n,r,s)}else if(typeof t=="string")return dK[t];return t};function hK(t,e,n){const r=[],s=n||e2,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||xn:e;a=Vu(l,a)}r.push(a)}return r}function fK(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(eD(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=hK(e,r,s),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=el(t[h],t[h+1],d);return a[h](f)};return n?d=>c(fs(t[0],t[i-1],d)):c}function pK(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=el(0,e,r);t.push(Qe(n,1,s))}}function mK(t){const e=[0];return pK(e,t.length-1),e}function gK(t,e){return t.map(n=>n*e)}function yK(t,e){return t.map(()=>e||r2).splice(0,t.length-1)}function vf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=uK(r)?r.map(rb):rb(r),i={done:!1,value:e[0]},o=gK(n&&n.length===e.length?n:mK(e),t),a=fK(o,e,{ease:Array.isArray(s)?s:yK(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const vK=t=>{const e=({timestamp:n})=>t(n);return{start:()=>We.update(e,!0),stop:()=>Si(e),now:()=>Pt.isProcessing?Pt.timestamp:Dr.now()}},wK={decay:nb,inertia:nb,tween:vf,keyframes:vf,spring:n2},_K=t=>t/100;class s_ extends JD{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||n_,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=Hw(n)?n:wK[n]||vf;let l,c;a!==vf&&typeof e[0]!="number"&&(l=Vu(_K,e2(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});i==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=_D(d));const{calculatedDuration:h}=d,f=h+s,p=f*(r+1)-s;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:b}=this.options;return{done:!0,value:b[b.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:p,repeatType:S,repeatDelay:g,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const w=this.currentTime-f*(this.speed>=0?1:-1),v=this.speed>=0?w<0:w>d;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let T=this.currentTime,P=i;if(p){const b=Math.min(this.currentTime,d)/h;let I=Math.floor(b),R=b%1;!R&&b>=1&&(R=1),R===1&&I--,I=Math.min(I,p+1),!!(I%2)&&(S==="reverse"?(R=1-R,g&&(R-=g/h)):S==="mirror"&&(P=o)),T=fs(0,1,R)*h}const k=v?{done:!1,value:l[0]}:P.next(T);a&&(k.value=a(k.value));let{done:M}=k;!v&&c!==null&&(M=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return C&&s!==void 0&&(k.value=kp(l,this.options,s)),E&&E(k.value),C&&this.finish(),k}get duration(){const{resolved:e}=this;return e?ts(e.calculatedDuration):0}get time(){return ts(this.currentTime)}set time(e){e=es(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ts(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=vK,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const EK=new Set(["opacity","clipPath","filter","transform"]);function xK(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=TD(a,s);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const TK=Rw(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),wf=10,SK=2e4;function bK(t){return Hw(t.type)||t.type==="spring"||!xD(t.ease)}function CK(t,e){const n=new s_({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<SK;)r=n.sample(i),s.push(r.value),i+=wf;return{times:void 0,keyframes:s,duration:i-wf,ease:"linear"}}const s2={anticipate:MD,backInOut:OD,circInOut:LD};function IK(t){return t in s2}class sb extends JD{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new XD(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof i=="string"&&gf()&&IK(i)&&(i=s2[i]),bK(this.options)){const{onComplete:h,onUpdate:f,motionValue:p,element:S,...g}=this.options,E=CK(e,g);e=E.keyframes,e.length===1&&(e[1]=e[0]),r=E.duration,s=E.times,i=E.ease,o="keyframes"}const d=xK(a.owner.current,l,e,{...this.options,duration:r,times:s,ease:i});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?($S(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;a.set(kp(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:o,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ts(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ts(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=es(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return xn;const{animation:r}=n;$S(r,e)}return xn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:h,element:f,...p}=this.options,S=new s_({...p,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),g=es(this.time);c.setWithVelocity(S.sample(g-wf).value,S.sample(g).value,wf)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return TK()&&r&&EK.has(r)&&!l&&!c&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}const AK={type:"spring",stiffness:500,damping:25,restSpeed:10},PK=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),RK={type:"keyframes",duration:.8},kK={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},NK=(t,{keyframes:e})=>e.length>2?RK:Oo.has(t)?t.startsWith("scale")?PK(e[1]):AK:kK;function DK({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const i_=(t,e,n,r={},s,i)=>o=>{const a=Ww(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-es(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};DK(a)||(d={...d,...NK(t,d)}),d.duration&&(d.duration=es(d.duration)),d.repeatDelay&&(d.repeatDelay=es(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&e.get()!==void 0){const f=kp(d.keyframes,a);if(f!==void 0)return We.update(()=>{d.onUpdate(f),d.onComplete()}),new JH([])}return!i&&sb.supports(d)?new sb(d):new s_(d)};function OK({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function i2(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const h in l){const f=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),p=l[h];if(p===void 0||d&&OK(d,h))continue;const S={delay:n,...Ww(o||{},h)};let g=!1;if(window.MotionHandoffAnimation){const w=PD(t);if(w){const v=window.MotionHandoffAnimation(w,h,We);v!==null&&(S.startTime=v,g=!0)}}ev(t,h),f.start(i_(h,f,p,t.shouldReduceMotion&&ID.has(h)?{type:!1}:S,t,g));const E=f.animation;E&&c.push(E)}return a&&Promise.all(c).then(()=>{We.update(()=>{a&&hG(t,a)})}),c}function av(t,e,n={}){var r;const s=Rp(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(i2(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return MK(t,e,d+c,h,f,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function MK(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(VK).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(av(c,e,{...i,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function VK(t,e){return t.sortNodePosition(e)}function LK(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>av(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=av(t,e,n);else{const s=typeof e=="function"?Rp(t,e,n.custom):e;r=Promise.all(i2(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const jK=Nw.length;function o2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?o2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<jK;n++){const r=Nw[n],s=t.props[r];(au(s)||s===!1)&&(e[r]=s)}return e}const FK=[...kw].reverse(),UK=kw.length;function BK(t){return e=>Promise.all(e.map(({animation:n,options:r})=>LK(t,n,r)))}function $K(t){let e=BK(t),n=ib(),r=!0;const s=l=>(c,d)=>{var h;const f=Rp(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:S,...g}=f;c={...c,...g,...S}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,d=o2(t.parent)||{},h=[],f=new Set;let p={},S=1/0;for(let E=0;E<UK;E++){const w=FK[E],v=n[w],T=c[w]!==void 0?c[w]:d[w],P=au(T),k=w===l?v.isActive:null;k===!1&&(S=E);let M=T===d[w]&&T!==c[w]&&P;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),v.protectedKeys={...p},!v.isActive&&k===null||!T&&!v.prevProp||Ap(T)||typeof T=="boolean")continue;const C=zK(v.prevProp,T);let b=C||w===l&&v.isActive&&!M&&P||E>S&&P,I=!1;const R=Array.isArray(T)?T:[T];let N=R.reduce(s(w),{});k===!1&&(N={});const{prevResolvedValues:O={}}=v,D={...O,...N},Y=X=>{b=!0,f.has(X)&&(I=!0,f.delete(X)),v.needsAnimating[X]=!0;const j=t.getValue(X);j&&(j.liveStyle=!1)};for(const X in D){const j=N[X],U=O[X];if(p.hasOwnProperty(X))continue;let G=!1;Xy(j)&&Xy(U)?G=!wD(j,U):G=j!==U,G?j!=null?Y(X):f.add(X):j!==void 0&&f.has(X)?Y(X):v.protectedKeys[X]=!0}v.prevProp=T,v.prevResolvedValues=N,v.isActive&&(p={...p,...N}),r&&t.blockInitialAnimation&&(b=!1),b&&(!(M&&C)||I)&&h.push(...R.map(X=>({animation:X,options:{type:w}})))}if(f.size){const E={};f.forEach(w=>{const v=t.getBaseTarget(w),T=t.getValue(w);T&&(T.liveStyle=!0),E[w]=v??null}),h.push({animation:E})}let g=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(g=!1),r=!1,g?e(h):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=ib(),r=!0}}}function zK(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!wD(e,t):!1}function Bi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ib(){return{animate:Bi(!0),whileInView:Bi(),whileHover:Bi(),whileTap:Bi(),whileDrag:Bi(),whileFocus:Bi(),exit:Bi()}}class Di{constructor(e){this.isMounted=!1,this.node=e}update(){}}class WK extends Di{constructor(e){super(e),e.animationState||(e.animationState=$K(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ap(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let HK=0;class GK extends Di{constructor(){super(...arguments),this.id=HK++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const KK={animation:{Feature:WK},exit:{Feature:GK}};function du(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Lu(t){return{point:{x:t.pageX,y:t.pageY}}}const qK=t=>e=>Kw(e)&&t(e,Lu(e));function Sc(t,e,n,r){return du(t,e,qK(n),r)}const ob=(t,e)=>Math.abs(t-e);function QK(t,e){const n=ob(t.x,e.x),r=ob(t.y,e.y);return Math.sqrt(n**2+r**2)}class a2{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=rg(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=QK(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:S}=h,{timestamp:g}=Pt;this.history.push({...S,timestamp:g});const{onStart:E,onMove:w}=this.handlers;f||(E&&E(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=ng(f,this.transformPagePoint),We.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:S,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=rg(h.type==="pointercancel"?this.lastMoveEventInfo:ng(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,E),S&&S(h,E)},!Kw(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Lu(e),a=ng(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Pt;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,rg(a,this.history)),this.removeListeners=Vu(Sc(this.contextWindow,"pointermove",this.handlePointerMove),Sc(this.contextWindow,"pointerup",this.handlePointerUp),Sc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Si(this.updatePoint)}}function ng(t,e){return e?{point:e(t.point)}:t}function ab(t,e){return{x:t.x-e.x,y:t.y-e.y}}function rg({point:t},e){return{point:t,delta:ab(t,l2(e)),offset:ab(t,YK(e)),velocity:XK(e,.1)}}function YK(t){return t[0]}function l2(t){return t[t.length-1]}function XK(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=l2(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>es(e)));)n--;if(!r)return{x:0,y:0};const i=ts(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const c2=1e-4,JK=1-c2,ZK=1+c2,u2=.01,eq=0-u2,tq=0+u2;function Sn(t){return t.max-t.min}function nq(t,e,n){return Math.abs(t-e)<=n}function lb(t,e,n,r=.5){t.origin=r,t.originPoint=Qe(e.min,e.max,t.origin),t.scale=Sn(n)/Sn(e),t.translate=Qe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=JK&&t.scale<=ZK||isNaN(t.scale))&&(t.scale=1),(t.translate>=eq&&t.translate<=tq||isNaN(t.translate))&&(t.translate=0)}function bc(t,e,n,r){lb(t.x,e.x,n.x,r?r.originX:void 0),lb(t.y,e.y,n.y,r?r.originY:void 0)}function cb(t,e,n){t.min=n.min+e.min,t.max=t.min+Sn(e)}function rq(t,e,n){cb(t.x,e.x,n.x),cb(t.y,e.y,n.y)}function ub(t,e,n){t.min=e.min-n.min,t.max=t.min+Sn(e)}function Cc(t,e,n){ub(t.x,e.x,n.x),ub(t.y,e.y,n.y)}function sq(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Qe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Qe(n,t,r.max):Math.min(t,n)),t}function db(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function iq(t,{top:e,left:n,bottom:r,right:s}){return{x:db(t.x,n,s),y:db(t.y,e,r)}}function hb(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function oq(t,e){return{x:hb(t.x,e.x),y:hb(t.y,e.y)}}function aq(t,e){let n=.5;const r=Sn(t),s=Sn(e);return s>r?n=el(e.min,e.max-r,t.min):r>s&&(n=el(t.min,t.max-s,e.min)),fs(0,1,n)}function lq(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const lv=.35;function cq(t=lv){return t===!1?t=0:t===!0&&(t=lv),{x:fb(t,"left","right"),y:fb(t,"top","bottom")}}function fb(t,e,n){return{min:pb(t,e),max:pb(t,n)}}function pb(t,e){return typeof t=="number"?t:t[e]||0}const mb=()=>({translate:0,scale:1,origin:0,originPoint:0}),ha=()=>({x:mb(),y:mb()}),gb=()=>({min:0,max:0}),rt=()=>({x:gb(),y:gb()});function Rn(t){return[t("x"),t("y")]}function d2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function uq({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function dq(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function sg(t){return t===void 0||t===1}function cv({scale:t,scaleX:e,scaleY:n}){return!sg(t)||!sg(e)||!sg(n)}function Gi(t){return cv(t)||h2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function h2(t){return yb(t.x)||yb(t.y)}function yb(t){return t&&t!=="0%"}function _f(t,e,n){const r=t-n,s=e*r;return n+s}function vb(t,e,n,r,s){return s!==void 0&&(t=_f(t,s,r)),_f(t,n,r)+e}function uv(t,e=0,n=1,r,s){t.min=vb(t.min,e,n,r,s),t.max=vb(t.max,e,n,r,s)}function f2(t,{x:e,y:n}){uv(t.x,e.translate,e.scale,e.originPoint),uv(t.y,n.translate,n.scale,n.originPoint)}const wb=.999999999999,_b=1.0000000000001;function hq(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&pa(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,f2(t,o)),r&&Gi(i.latestValues)&&pa(t,i.latestValues))}e.x<_b&&e.x>wb&&(e.x=1),e.y<_b&&e.y>wb&&(e.y=1)}function fa(t,e){t.min=t.min+e,t.max=t.max+e}function Eb(t,e,n,r,s=.5){const i=Qe(t.min,t.max,s);uv(t,e,n,i,r)}function pa(t,e){Eb(t.x,e.x,e.scaleX,e.scale,e.originX),Eb(t.y,e.y,e.scaleY,e.scale,e.originY)}function p2(t,e){return d2(dq(t.getBoundingClientRect(),e))}function fq(t,e,n){const r=p2(t,n),{scroll:s}=e;return s&&(fa(r.x,s.offset.x),fa(r.y,s.offset.y)),r}const m2=({current:t})=>t?t.ownerDocument.defaultView:null,pq=new WeakMap;class mq{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Lu(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:S}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=aG(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rn(E=>{let w=this.getAxisMotionValue(E).get()||0;if(Nr.test(w)){const{projection:v}=this.visualElement;if(v&&v.layout){const T=v.layout.layoutBox[E];T&&(w=Sn(T)*(parseFloat(w)/100))}}this.originPoint[E]=w}),S&&We.postRender(()=>S(d,h)),ev(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:S,onDrag:g}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:E}=h;if(p&&this.currentDirection===null){this.currentDirection=gq(E),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",h.point,E),this.updateAxis("y",h.point,E),this.visualElement.render(),g&&g(d,h)},a=(d,h)=>this.stop(d,h),l=()=>Rn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new a2(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:m2(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&We.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Md(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=sq(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&ua(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=iq(s.layoutBox,n):this.constraints=!1,this.elastic=cq(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Rn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=lq(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ua(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=fq(r,s.root,this.visualElement.getTransformPagePoint());let o=oq(s.layout.layoutBox,i);if(n){const a=n(uq(o));this.hasMutatedConstraints=!!a,a&&(o=d2(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Rn(d=>{if(!Md(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,S={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,S)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return ev(this.visualElement,e),r.start(i_(e,r,0,n,this.visualElement,!1))}stopAnimation(){Rn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Rn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Rn(n=>{const{drag:r}=this.getProps();if(!Md(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Qe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ua(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Rn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=aq({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Rn(o=>{if(!Md(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Qe(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;pq.set(this.visualElement,this);const e=this.visualElement.current,n=Sc(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ua(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),We.read(r);const o=du(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Rn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=lv,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Md(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function gq(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class yq extends Di{constructor(e){super(e),this.removeGroupControls=xn,this.removeListeners=xn,this.controls=new mq(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xn}unmount(){this.removeGroupControls(),this.removeListeners()}}const xb=t=>(e,n)=>{t&&We.postRender(()=>t(e,n))};class vq extends Di{constructor(){super(...arguments),this.removePointerDownListener=xn}onPointerDown(e){this.session=new a2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:m2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:xb(e),onStart:xb(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&We.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Sc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const dh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Tb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Kl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ne.test(t))t=parseFloat(t);else return t;const n=Tb(t,e.target.x),r=Tb(t,e.target.y);return`${n}% ${r}%`}},wq={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=bi.parse(t);if(s.length>5)return r;const i=bi.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=Qe(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class _q extends y.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;UH(Eq),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),dh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||We.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ow.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function g2(t){const[e,n]=JN(),r=y.useContext(Cw);return _.jsx(_q,{...t,layoutGroup:r,switchLayoutGroup:y.useContext(oD),isPresent:e,safeToRemove:n})}const Eq={borderRadius:{...Kl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Kl,borderTopRightRadius:Kl,borderBottomLeftRadius:Kl,borderBottomRightRadius:Kl,boxShadow:wq};function xq(t,e,n){const r=zt(t)?t:cu(t);return r.start(i_("",r,e,n)),r.animation}function Tq(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Sq=(t,e)=>t.depth-e.depth;class bq{constructor(){this.children=[],this.isDirty=!1}add(e){qw(this.children,e),this.isDirty=!0}remove(e){Qw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Sq),this.isDirty=!1,this.children.forEach(e)}}function Cq(t,e){const n=Dr.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Si(r),t(i-e))};return We.read(r,!0),()=>Si(r)}const y2=["TopLeft","TopRight","BottomLeft","BottomRight"],Iq=y2.length,Sb=t=>typeof t=="string"?parseFloat(t):t,bb=t=>typeof t=="number"||ne.test(t);function Aq(t,e,n,r,s,i){s?(t.opacity=Qe(0,n.opacity!==void 0?n.opacity:1,Pq(r)),t.opacityExit=Qe(e.opacity!==void 0?e.opacity:1,0,Rq(r))):i&&(t.opacity=Qe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Iq;o++){const a=`border${y2[o]}Radius`;let l=Cb(e,a),c=Cb(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||bb(l)===bb(c)?(t[a]=Math.max(Qe(Sb(l),Sb(c),r),0),(Nr.test(c)||Nr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Qe(e.rotate||0,n.rotate||0,r))}function Cb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Pq=v2(0,.5,VD),Rq=v2(.5,.95,xn);function v2(t,e,n){return r=>r<t?0:r>e?1:n(el(t,e,r))}function Ib(t,e){t.min=e.min,t.max=e.max}function Pn(t,e){Ib(t.x,e.x),Ib(t.y,e.y)}function Ab(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Pb(t,e,n,r,s){return t-=e,t=_f(t,1/n,r),s!==void 0&&(t=_f(t,1/s,r)),t}function kq(t,e=0,n=1,r=.5,s,i=t,o=t){if(Nr.test(e)&&(e=parseFloat(e),e=Qe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Qe(i.min,i.max,r);t===i&&(a-=e),t.min=Pb(t.min,e,n,a,s),t.max=Pb(t.max,e,n,a,s)}function Rb(t,e,[n,r,s],i,o){kq(t,e[n],e[r],e[s],e.scale,i,o)}const Nq=["x","scaleX","originX"],Dq=["y","scaleY","originY"];function kb(t,e,n,r){Rb(t.x,e,Nq,n?n.x:void 0,r?r.x:void 0),Rb(t.y,e,Dq,n?n.y:void 0,r?r.y:void 0)}function Nb(t){return t.translate===0&&t.scale===1}function w2(t){return Nb(t.x)&&Nb(t.y)}function Db(t,e){return t.min===e.min&&t.max===e.max}function Oq(t,e){return Db(t.x,e.x)&&Db(t.y,e.y)}function Ob(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function _2(t,e){return Ob(t.x,e.x)&&Ob(t.y,e.y)}function Mb(t){return Sn(t.x)/Sn(t.y)}function Vb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Mq{constructor(){this.members=[]}add(e){qw(this.members,e),e.scheduleRender()}remove(e){if(Qw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Vq(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:S}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),S&&(r+=`skewY(${S}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Ki={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},oc=typeof window<"u"&&window.MotionDebug!==void 0,ig=["","X","Y","Z"],Lq={visibility:"hidden"},Lb=1e3;let jq=0;function og(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function E2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=PD(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",We,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&E2(r)}function x2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=jq++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,oc&&(Ki.totalNodes=Ki.resolvedTargetDeltas=Ki.recalculatedProjection=0),this.nodes.forEach(Bq),this.nodes.forEach(Gq),this.nodes.forEach(Kq),this.nodes.forEach($q),oc&&window.MotionDebug.record(Ki)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new bq)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Yw),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Tq(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Cq(f,250),dh.hasAnimatedSinceResize&&(dh.hasAnimatedSinceResize=!1,this.nodes.forEach(Fb))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||Jq,{onLayoutAnimationStart:E,onLayoutAnimationComplete:w}=d.getProps(),v=!this.targetLayout||!_2(this.targetLayout,S)||p,T=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,T);const P={...Ww(g,"layout"),onPlay:E,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else f||Fb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Si(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qq),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&E2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(jb);return}this.isUpdating||this.nodes.forEach(Wq),this.isUpdating=!1,this.nodes.forEach(Hq),this.nodes.forEach(Fq),this.nodes.forEach(Uq),this.clearAllSnapshots();const a=Dr.now();Pt.delta=fs(0,1e3/60,a-Pt.timestamp),Pt.timestamp=a,Pt.isProcessing=!0,Ym.update.process(Pt),Ym.preRender.process(Pt),Ym.render.process(Pt),Pt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ow.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(zq),this.sharedNodes.forEach(Qq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,We.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){We.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!w2(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||Gi(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Zq(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return rt();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(eQ))){const{scroll:d}=this.root;d&&(fa(l.x,d.offset.x),fa(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=rt();if(Pn(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Pn(l,o),fa(l.x,h.offset.x),fa(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=rt();Pn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&pa(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Gi(d.latestValues)&&pa(l,d.latestValues)}return Gi(this.latestValues)&&pa(l,this.latestValues),l}removeTransform(o){const a=rt();Pn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Gi(c.latestValues))continue;cv(c.latestValues)&&c.updateSnapshot();const d=rt(),h=c.measurePageBox();Pn(d,h),kb(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Gi(this.latestValues)&&kb(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Pt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),Cc(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Pn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=rt(),this.targetWithTransforms=rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),rq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pn(this.target,this.layout.layoutBox),f2(this.target,this.targetDelta)):Pn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),Cc(this.relativeTargetOrigin,this.target,p.target),Pn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}oc&&Ki.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||cv(this.parent.latestValues)||h2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Pt.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Pn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;hq(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=rt());const{target:S}=a;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ab(this.prevProjectionDelta.x,this.projectionDelta.x),Ab(this.prevProjectionDelta.y,this.projectionDelta.y)),bc(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!Vb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Vb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),oc&&Ki.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ha(),this.projectionDelta=ha(),this.projectionDeltaWithTransform=ha()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=ha();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=rt(),p=l?l.source:void 0,S=this.layout?this.layout.source:void 0,g=p!==S,E=this.getStack(),w=!E||E.members.length<=1,v=!!(g&&!w&&this.options.crossfade===!0&&!this.path.some(Xq));this.animationProgress=0;let T;this.mixTargetDelta=P=>{const k=P/1e3;Ub(h.x,o.x,k),Ub(h.y,o.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Cc(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Yq(this.relativeTarget,this.relativeTargetOrigin,f,k),T&&Oq(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=rt()),Pn(T,this.relativeTarget)),g&&(this.animationValues=d,Aq(d,c,this.latestValues,k,v,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Si(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=We.update(()=>{dh.hasAnimatedSinceResize=!0,this.currentAnimation=xq(0,Lb,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Lb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&T2(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||rt();const h=Sn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Sn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Pn(a,l),pa(a,d),bc(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Mq),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&og("z",o,c,this.animationValues);for(let d=0;d<ig.length;d++)og(`rotate${ig[d]}`,o,c,this.animationValues),og(`skew${ig[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Lq;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=ch(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=ch(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Gi(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=Vq(this.projectionDeltaWithTransform,this.treeScale,f),d&&(c.transform=d(f,c.transform));const{x:p,y:S}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${S.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in mf){if(f[g]===void 0)continue;const{correct:E,applyTo:w}=mf[g],v=c.transform==="none"?f[g]:E(f[g],h);if(w){const T=w.length;for(let P=0;P<T;P++)c[w[P]]=v}else c[g]=v}return this.options.layoutId&&(c.pointerEvents=h===this?ch(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(jb),this.root.sharedNodes.clear()}}}function Fq(t){t.updateLayout()}function Uq(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?Rn(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=Sn(f);f.min=r[h].min,f.max=f.min+p}):T2(i,n.layoutBox,r)&&Rn(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=Sn(r[h]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=ha();bc(a,r,n.layoutBox);const l=ha();o?bc(l,t.applyTransform(s,!0),n.measuredBox):bc(l,r,n.layoutBox);const c=!w2(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const S=rt();Cc(S,n.layoutBox,f.layoutBox);const g=rt();Cc(g,r,p.layoutBox),_2(S,g)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=S,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Bq(t){oc&&Ki.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function $q(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function zq(t){t.clearSnapshot()}function jb(t){t.clearMeasurements()}function Wq(t){t.isLayoutDirty=!1}function Hq(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Fb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Gq(t){t.resolveTargetDelta()}function Kq(t){t.calcProjection()}function qq(t){t.resetSkewAndRotation()}function Qq(t){t.removeLeadSnapshot()}function Ub(t,e,n){t.translate=Qe(e.translate,0,n),t.scale=Qe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Bb(t,e,n,r){t.min=Qe(e.min,n.min,r),t.max=Qe(e.max,n.max,r)}function Yq(t,e,n,r){Bb(t.x,e.x,n.x,r),Bb(t.y,e.y,n.y,r)}function Xq(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Jq={duration:.45,ease:[.4,0,.1,1]},$b=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),zb=$b("applewebkit/")&&!$b("chrome/")?Math.round:xn;function Wb(t){t.min=zb(t.min),t.max=zb(t.max)}function Zq(t){Wb(t.x),Wb(t.y)}function T2(t,e,n){return t==="position"||t==="preserve-aspect"&&!nq(Mb(e),Mb(n),.2)}function eQ(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const tQ=x2({attachResizeListener:(t,e)=>du(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ag={current:void 0},S2=x2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ag.current){const t=new tQ({});t.mount(window),t.setOptions({layoutScroll:!0}),ag.current=t}return ag.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),nQ={pan:{Feature:vq},drag:{Feature:yq,ProjectionNode:S2,MeasureLayout:g2}};function Hb(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&We.postRender(()=>i(e,Lu(e)))}class rQ extends Di{mount(){const{current:e}=this.node;e&&(this.unmount=nG(e,n=>(Hb(this.node,n,"Start"),r=>Hb(this.node,r,"End"))))}unmount(){}}class sQ extends Di{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vu(du(this.node.current,"focus",()=>this.onFocus()),du(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Gb(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&We.postRender(()=>i(e,Lu(e)))}class iQ extends Di{mount(){const{current:e}=this.node;e&&(this.unmount=oG(e,n=>(Gb(this.node,n,"Start"),(r,{success:s})=>Gb(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const dv=new WeakMap,lg=new WeakMap,oQ=t=>{const e=dv.get(t.target);e&&e(t)},aQ=t=>{t.forEach(oQ)};function lQ({root:t,...e}){const n=t||document;lg.has(n)||lg.set(n,{});const r=lg.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(aQ,{root:t,...e})),r[s]}function cQ(t,e,n){const r=lQ(e);return dv.set(t,n),r.observe(t),()=>{dv.delete(t),r.unobserve(t)}}const uQ={some:0,all:1};class dQ extends Di{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:uQ[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return cQ(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(hQ(e,n))&&this.startObserver()}unmount(){}}function hQ({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const fQ={inView:{Feature:dQ},tap:{Feature:iQ},focus:{Feature:sQ},hover:{Feature:rQ}},pQ={layout:{ProjectionNode:S2,MeasureLayout:g2}},hv={current:null},b2={current:!1};function mQ(){if(b2.current=!0,!!Pw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>hv.current=t.matches;t.addListener(e),e()}else hv.current=!1}const gQ=[...YD,Ft,bi],yQ=t=>gQ.find(QD(t)),Kb=new WeakMap;function vQ(t,e,n){for(const r in e){const s=e[r],i=n[r];if(zt(s))t.addValue(r,s);else if(zt(i))t.addValue(r,cu(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,cu(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const qb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class wQ{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=n_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Dr.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,We.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=o;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Pp(n),this.isVariantNode=sD(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const S=f[p];l[p]!==void 0&&zt(S)&&S.set(l[p],!1)}}mount(e){this.current=e,Kb.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),b2.current||mQ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Kb.delete(this.current),this.projection&&this.projection.unmount(),Si(this.notifyUpdate),Si(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Oo.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&We.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in tl){const n=tl[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<qb.length;r++){const s=qb[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=vQ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=cu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(KD(s)||jD(s))?s=parseFloat(s):!yQ(s)&&bi.test(n)&&(s=WD(e,n)),this.setBaseTarget(e,zt(s)?s.get():s)),zt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=Vw(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!zt(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Yw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class C2 extends wQ{constructor(){super(...arguments),this.KeyframeResolver=XD}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;zt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function _Q(t){return window.getComputedStyle(t)}class EQ extends C2{constructor(){super(...arguments),this.type="html",this.renderInstance=fD}readValueFromInstance(e,n){if(Oo.has(n)){const r=t_(n);return r&&r.default||0}else{const r=_Q(e),s=(uD(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return p2(e,n)}build(e,n,r){Fw(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return zw(e,n,r)}}class xQ extends C2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Oo.has(n)){const r=t_(n);return r&&r.default||0}return n=pD.has(n)?n:Dw(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return yD(e,n,r)}build(e,n,r){Uw(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){mD(e,n,r,s)}mount(e){this.isSVGTag=$w(e.tagName),super.mount(e)}}const TQ=(t,e)=>Mw(t)?new xQ(e):new EQ(e,{allowProjection:t!==y.Fragment}),SQ=QH({...KK,...fQ,...nQ,...pQ},TQ),ac=uH(SQ);function bQ(){const t=Yf(),[e,n]=y.useState("dashboard"),[r,s]=y.useState(""),[i,o]=y.useState(""),[a,l]=y.useState(""),c=()=>{if(!DW(e,r.trim(),i.trim())){l("Identifiants invalides");return}l(""),t(e==="dashboard"?"/dashboard":"/projection")},d=[...Qs,...Qs,...Qs,...Qs];return _.jsxs("div",{className:"relative h-screen w-screen overflow-hidden bg-black text-white font-sans selection:bg-red-500 selection:text-white flex flex-col",children:[_.jsx("div",{className:"absolute inset-0 z-0 opacity-40",style:{backgroundImage:"url(/passagedegrade/assets/bg-taekwondo.jpg)",backgroundSize:"cover",backgroundPosition:"center",filter:"grayscale(100%) contrast(120%) brightness(60%)"}}),_.jsx("div",{className:"absolute inset-0 z-0 bg-gradient-to-br from-black via-transparent to-black opacity-90"}),_.jsx("div",{className:"absolute inset-0 z-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-gray-800/20 via-black/60 to-black"}),_.jsxs("div",{className:"relative z-10 flex-1 flex flex-col items-center justify-center p-4 pb-40 md:pb-48",children:[_.jsxs("div",{className:"w-full text-center mb-8 md:mb-12",children:[_.jsx("h1",{className:"text-4xl md:text-7xl font-black tracking-tighter uppercase bg-gradient-to-b from-white to-gray-500 bg-clip-text text-transparent drop-shadow-2xl",children:"Taekwondo Sbeitla"}),_.jsx("div",{className:"h-1 w-24 md:w-32 mx-auto mt-4 bg-red-600 rounded-full shadow-[0_0_20px_rgba(220,38,38,0.8)]"}),_.jsx("p",{className:"mt-4 text-lg md:text-xl text-gray-400 tracking-[0.3em] uppercase font-light",children:"Connexion"})]}),_.jsxs(la,{className:"bg-black/40 backdrop-blur-md border border-white/10 shadow-2xl max-w-md w-full",children:[_.jsx(xw,{children:_.jsx(Tw,{className:"text-2xl",children:"Choisir la page"})}),_.jsxs(ca,{className:"space-y-6",children:[_.jsxs(XW,{value:e,onValueChange:h=>n(h),children:[_.jsxs(XN,{className:"w-full bg-black/30 backdrop-blur-sm text-gray-300 border border-white/10",children:[_.jsx(Qy,{value:"dashboard",className:"flex-1 data-[state=active]:text-white data-[state=active]:bg-black/40 border-b-2 border-transparent data-[state=active]:border-white pb-1",children:"Dashboard"}),_.jsx(Qy,{value:"projection",className:"flex-1 data-[state=active]:text-white data-[state=active]:bg-black/40 border-b-2 border-transparent data-[state=active]:border-white pb-1",children:"Projection"})]}),_.jsx(Yy,{value:"dashboard"}),_.jsx(Yy,{value:"projection"})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Nom d'utilisateur"}),_.jsx(ou,{value:r,onChange:h=>s(h.target.value),placeholder:"Entrez le nom",className:"bg-transparent border-white/20 text-white placeholder:text-neutral-400 focus-visible:ring-red-600"})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Mot de passe"}),_.jsx(ou,{type:"password",value:i,onChange:h=>o(h.target.value),placeholder:"Entrez le mot de passe",className:"bg-transparent border-white/20 text-white placeholder:text-neutral-400 focus-visible:ring-red-600"})]})]}),a&&_.jsx("p",{className:"text-sm text-red-500",children:a}),_.jsx(St,{className:"w-full bg-red-600 hover:bg-red-700",onClick:c,children:"Se connecter"})]})]})]}),_.jsx("div",{className:"absolute bottom-0 left-0 right-0 z-50 bg-black/90 backdrop-blur-xl border-t border-white/10 shadow-[0_-10px_40px_rgba(0,0,0,0.8)]",children:_.jsxs("div",{className:"w-full overflow-hidden py-3 md:py-4 relative",children:[_.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-20 bg-gradient-to-r from-black to-transparent z-10"}),_.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-20 bg-gradient-to-l from-black to-transparent z-10"}),_.jsx(ac.div,{className:"flex items-center gap-8 md:gap-10 w-max",animate:{x:[0,-1e3]},transition:{repeat:1/0,duration:25,ease:"linear"},children:d.map((h,f)=>{const p=h.split("/").pop()||h,E=p==="WAADTI.png"||p==="federation-tunisienne-de-taekwondo.png"||p.toLowerCase().includes("sufetula")?"h-14 w-32 md:h-16 md:w-40":p==="diamond-gym.png"?"h-8 w-16 md:h-10 md:w-20":"h-10 w-20 md:h-12 md:w-24";return _.jsx("div",{className:`${E} flex-shrink-0 grayscale hover:grayscale-0 transition-all duration-300 opacity-80 hover:opacity-100`,children:_.jsx("img",{src:h,alt:"Partner Logo",className:"h-full w-full object-contain"})},f)})})]})})]})}function Qb({page:t,children:e}){const n=Qf();return OW()?_.jsx(_.Fragment,{children:e}):_.jsx(oU,{to:"/",replace:!0,state:{from:n}})}function CQ(){const t=Yf(),{students:e,syncStatus:n,currentId:r}=YR(),s=e.slice().sort((h,f)=>h.order-f.order),o=(r?e.find(h=>h.id===r):void 0)||s.find(h=>h.status==="PENDING")||s[s.length-1],a=o?s.find(h=>h.status==="PENDING"&&h.order>o.order):void 0,l=o?s.findIndex(h=>h.id===o.id):-1,c=l>=0?`${l+1} / ${s.length}`:"--",d=[...Qs,...Qs,...Qs,...Qs];return!o&&e.length===0?_.jsx("div",{className:"h-screen w-screen bg-black text-white flex items-center justify-center",children:_.jsx("h1",{className:"text-4xl font-bold tracking-widest uppercase animate-pulse",children:"En attente des candidats..."})}):_.jsxs("div",{className:"relative h-screen w-screen overflow-hidden bg-black text-white font-sans selection:bg-red-500 selection:text-white flex flex-col",children:[_.jsx("div",{className:"absolute inset-0 z-0 opacity-40",style:{backgroundImage:"url(/passagedegrade/assets/bg-taekwondo.jpg)",backgroundSize:"cover",backgroundPosition:"center",filter:"grayscale(100%) contrast(120%) brightness(60%)"}}),_.jsx("div",{className:"absolute inset-0 z-0 bg-gradient-to-br from-black via-transparent to-black opacity-90"}),_.jsx("div",{className:"absolute inset-0 z-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-gray-800/20 via-black/60 to-black"}),_.jsxs("div",{className:"relative z-10 flex-1 flex flex-col items-center justify-center p-4 pb-40 md:pb-48",children:[_.jsxs(ac.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},className:"w-full text-center mb-8 md:mb-12",children:[_.jsx("h1",{className:"text-4xl md:text-7xl font-black tracking-tighter uppercase bg-gradient-to-b from-white to-gray-500 bg-clip-text text-transparent drop-shadow-2xl",children:"Taekwondo Sbeitla"}),_.jsx("div",{className:"h-1 w-24 md:w-32 mx-auto mt-4 bg-red-600 rounded-full shadow-[0_0_20px_rgba(220,38,38,0.8)]"}),_.jsx("p",{className:"mt-4 text-lg md:text-xl text-gray-400 tracking-[0.3em] uppercase font-light",children:"EXAMEN DE PASSAGE DE GRADE OFFICIEL"})]}),_.jsx(nH,{mode:"wait",children:o&&_.jsxs(ac.div,{initial:{opacity:0,scale:.9,filter:"blur(10px)"},animate:{opacity:1,scale:1,filter:"blur(0px)"},exit:{opacity:0,scale:1.1,filter:"blur(10px)"},transition:{duration:.5,ease:"circOut"},className:"flex flex-col md:flex-row items-center gap-8 md:gap-24 max-w-7xl w-full px-4",children:[_.jsxs("div",{className:"relative group flex-shrink-0",children:[_.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-red-600 to-red-900 rounded-full opacity-30 blur-2xl group-hover:opacity-50 transition duration-1000 animate-pulse"}),_.jsx("div",{className:"relative w-48 h-48 md:w-80 md:h-80 rounded-full border-4 md:border-8 border-neutral-800 shadow-2xl overflow-hidden bg-neutral-900 ring-4 ring-white/10",children:_.jsx(Ew,{src:o.photoUrl,alt:o.fullName,className:`${o.status==="APPROVED"?"":"grayscale hover:grayscale-0"} w-full h-full object-cover transition-all duration-700 transform group-hover:scale-105`})}),_.jsxs(ac.div,{initial:{scale:0,rotate:-45},animate:{scale:1,rotate:0},className:`absolute -bottom-4 -right-4 md:bottom-4 md:right-4 px-4 py-2 md:px-6 md:py-3 rounded-xl border-4 shadow-2xl flex items-center gap-2 md:gap-3 backdrop-blur-md
                    ${o.status==="APPROVED"?"bg-green-900/90 border-green-500 text-green-100 shadow-green-900/50":o.status==="REFUSED"?"bg-red-900/90 border-red-500 text-red-100 shadow-red-900/50":"bg-yellow-900/90 border-yellow-500 text-yellow-100 shadow-yellow-900/50"}`,children:[o.status==="APPROVED"?_.jsx(s7,{size:24,className:"md:w-8 md:h-8"}):o.status==="REFUSED"?_.jsx(i7,{size:24,className:"md:w-8 md:h-8"}):_.jsx(o7,{size:24,className:"md:w-8 md:h-8"}),_.jsx("span",{className:"text-xl md:text-2xl font-black uppercase tracking-wider",children:o.status==="APPROVED"?"ADMIS":o.status==="REFUSED"?"REFUS":"EN TEST"})]})]}),_.jsxs("div",{className:"flex-1 text-center md:text-left space-y-4 md:space-y-6 w-full",children:[_.jsxs("div",{children:[_.jsxs("h2",{className:"text-lg md:text-xl text-red-500 font-bold tracking-widest uppercase mb-2 flex items-center justify-center md:justify-start gap-3",children:[_.jsx("span",{className:"h-px w-8 bg-red-500"}),"Candidat",_.jsx("span",{className:"h-px w-8 bg-red-500 md:hidden"})]}),_.jsx("h3",{className:"text-3xl md:text-6xl font-black text-white tracking-tight leading-none drop-shadow-lg",children:o.fullName})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[_.jsxs("div",{className:"bg-neutral-900/50 border border-neutral-800 p-4 md:p-5 rounded-2xl backdrop-blur-sm hover:bg-neutral-900/70 transition-colors",children:[_.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wider mb-2 font-bold",children:"Grade Actuel"}),_.jsx(ff,{belt:o.currentBelt,size:"lg",className:"text-lg md:text-xl py-3 px-4 w-full shadow-lg"})]}),_.jsxs("div",{className:"relative bg-gradient-to-br from-neutral-900/80 to-red-900/20 border border-red-900/30 p-4 md:p-5 rounded-2xl backdrop-blur-sm overflow-hidden hover:border-red-500/50 transition-colors",children:[_.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-20",children:_.jsx("svg",{width:"60",height:"60",viewBox:"0 0 24 24",fill:"none",stroke:"red",strokeWidth:"1",className:"md:w-20 md:h-20",children:_.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),_.jsx("p",{className:"text-red-400 text-xs uppercase tracking-wider mb-2 font-black",children:"Test Pour Le Grade"}),_.jsx(ff,{belt:o.nextBelt,size:"lg",className:"text-xl md:text-2xl py-3 px-4 w-full scale-105 origin-left shadow-xl ring-2 ring-red-500/20"})]})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6 mt-3",children:[_.jsxs("div",{className:"bg-neutral-900/60 border border-neutral-800 rounded-2xl p-4",children:[_.jsx("p",{className:"text-[11px] uppercase tracking-wider text-gray-400",children:"Ordre"}),_.jsxs("div",{className:"mt-1 text-xs text-gray-300",children:[_.jsxs("p",{children:["Position: ",_.jsx("span",{className:"font-bold text-white",children:c})]}),_.jsxs("p",{children:["Identifiant: ",_.jsxs("span",{className:"font-bold text-white",children:["#",o?String(o.order).padStart(3,"0"):"--"]})]})]})]}),_.jsxs("div",{className:"bg-neutral-900/60 border border-neutral-800 rounded-2xl p-4",children:[_.jsx("p",{className:"text-[11px] uppercase tracking-wider text-gray-400",children:"Rsultat"}),_.jsx("p",{className:"mt-1 text-sm md:text-base font-black uppercase text-white",children:o?o.status==="APPROVED"?"ADMIS":o.status==="REFUSED"?"REFUS":"EN ATTENTE":"--"})]}),_.jsxs("div",{className:"bg-neutral-900/60 border border-neutral-800 rounded-2xl p-4",children:[_.jsx("p",{className:"text-[11px] uppercase tracking-wider text-gray-400",children:"Prochain"}),_.jsx("p",{className:"mt-1 text-sm font-bold text-white",children:a?a.fullName:"Aucun"})]})]})]})]},o.id)})]}),_.jsxs("div",{className:"absolute bottom-0 left-0 right-0 z-50 bg-black/90 backdrop-blur-xl border-t border-white/10 shadow-[0_-10px_40px_rgba(0,0,0,0.8)]",children:[_.jsxs("div",{className:"w-full overflow-hidden py-3 md:py-4 relative",children:[_.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-20 bg-gradient-to-r from-black to-transparent z-10"}),_.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-20 bg-gradient-to-l from-black to-transparent z-10"}),_.jsx(ac.div,{className:"flex items-center gap-8 md:gap-10 w-max",animate:{x:[0,-1e3]},transition:{repeat:1/0,duration:25,ease:"linear"},children:d.map((h,f)=>{const p=h.split("/").pop()||h,E=p==="WAADTI.png"||p==="federation-tunisienne-de-taekwondo.png"||p.toLowerCase().includes("sufetula")?"h-14 w-32 md:h-16 md:w-40":p==="diamond-gym.png"?"h-8 w-16 md:h-10 md:w-20":"h-10 w-20 md:h-12 md:w-24";return _.jsx("div",{className:`${E} flex-shrink-0 grayscale hover:grayscale-0 transition-all duration-300 opacity-80 hover:opacity-100`,children:_.jsx("img",{src:h,alt:"Partner Logo",className:"h-full w-full object-contain"})},f)})})]}),_.jsxs("div",{className:"flex justify-between items-center px-4 md:px-8 py-2 border-t border-white/5 text-[10px] md:text-xs text-gray-500 font-mono bg-black",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("span",{className:"text-red-900/50",children:["ID: ",o==null?void 0:o.order.toString().padStart(3,"0")]}),_.jsx("div",{className:"flex gap-1",children:e.map(h=>_.jsx("div",{className:`h-1 rounded-full transition-all duration-500 ${h.id===(o==null?void 0:o.id)?"w-4 bg-red-800":"w-1 bg-gray-900"}`},h.id))})]}),_.jsxs("div",{className:"flex items-center gap-4 tracking-widest uppercase text-gray-400 font-bold",children:[_.jsxs("span",{children:["Cr par Matre ",_.jsx("span",{className:"text-red-600",children:"Ali ZAYANI"})]}),_.jsxs("span",{className:`inline-block text-[10px] md:text-xs px-2 py-0.5 rounded-full ${n==="online"?"bg-green-900 text-green-100":n==="connecting"?"bg-yellow-900 text-yellow-100":"bg-red-900 text-red-100"}`,children:["Cloud Sync: ",n]}),_.jsx("button",{className:"text-white/90 hover:text-white text-[10px] md:text-xs",onClick:()=>{kN(),t("/")},children:"Dconnexion"})]})]})]})]})}function IQ(){return _.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-gray-50 to-blue-50 p-6 text-center",children:_.jsxs("div",{className:"space-y-6 max-w-md",children:[_.jsxs("div",{className:"space-y-3",children:[_.jsx("h1",{className:"text-8xl font-bold text-blue-600",children:"404"}),_.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Page Not Found"}),_.jsx("p",{className:"text-muted-foreground",children:"The page you're looking for doesn't exist or may have been moved."})]}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[_.jsx(St,{asChild:!0,children:_.jsx("a",{href:"/passagedegrade/",children:"Return Home"})}),_.jsx(St,{variant:"outline",onClick:()=>window.history.back(),children:"Go Back"})]})]})})}const AQ=new p4,PQ=()=>_.jsx(g4,{client:AQ,children:_.jsxs(BF,{children:[_.jsx(qV,{}),_.jsx(dU,{basename:"/passagedegrade/",children:_.jsxs(lU,{children:[_.jsx(Jl,{path:"/",element:_.jsx(bQ,{})}),_.jsx(Jl,{path:"/dashboard",element:_.jsx(Qb,{page:"dashboard",children:_.jsx(MW,{})})}),_.jsx(Jl,{path:"/projection",element:_.jsx(Qb,{page:"projection",children:_.jsx(CQ,{})})}),_.jsx(Jl,{path:"*",element:_.jsx(IQ,{})})]})})]})});wI(document.getElementById("root")).render(_.jsx(PQ,{}));
