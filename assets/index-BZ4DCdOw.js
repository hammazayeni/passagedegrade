var Q_=t=>{throw TypeError(t)};var Qp=(t,e,n)=>e.has(t)||Q_("Cannot "+n);var F=(t,e,n)=>(Qp(t,e,"read from private field"),n?n.call(t):e.get(t)),Te=(t,e,n)=>e.has(t)?Q_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ae=(t,e,n,r)=>(Qp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Mt=(t,e,n)=>(Qp(t,e,"access private method"),n);var Zu=(t,e,n,r)=>({set _(s){ae(t,e,s,n)},get _(){return F(t,e,r)}});function K2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function d1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var h1={exports:{}},Sf={},f1={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vu=Symbol.for("react.element"),q2=Symbol.for("react.portal"),Q2=Symbol.for("react.fragment"),Y2=Symbol.for("react.strict_mode"),X2=Symbol.for("react.profiler"),J2=Symbol.for("react.provider"),Z2=Symbol.for("react.context"),eO=Symbol.for("react.forward_ref"),tO=Symbol.for("react.suspense"),nO=Symbol.for("react.memo"),rO=Symbol.for("react.lazy"),Y_=Symbol.iterator;function sO(t){return t===null||typeof t!="object"?null:(t=Y_&&t[Y_]||t["@@iterator"],typeof t=="function"?t:null)}var p1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m1=Object.assign,g1={};function sl(t,e,n){this.props=t,this.context=e,this.refs=g1,this.updater=n||p1}sl.prototype.isReactComponent={};sl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};sl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function y1(){}y1.prototype=sl.prototype;function gv(t,e,n){this.props=t,this.context=e,this.refs=g1,this.updater=n||p1}var yv=gv.prototype=new y1;yv.constructor=gv;m1(yv,sl.prototype);yv.isPureReactComponent=!0;var X_=Array.isArray,v1=Object.prototype.hasOwnProperty,vv={current:null},w1={key:!0,ref:!0,__self:!0,__source:!0};function _1(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)v1.call(e,r)&&!w1.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:vu,type:t,key:i,ref:o,props:s,_owner:vv.current}}function iO(t,e){return{$$typeof:vu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wv(t){return typeof t=="object"&&t!==null&&t.$$typeof===vu}function oO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var J_=/\/+/g;function Yp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oO(""+t.key):e.toString(36)}function jd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case vu:case q2:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Yp(o,0):r,X_(s)?(n="",t!=null&&(n=t.replace(J_,"$&/")+"/"),jd(s,e,n,"",function(c){return c})):s!=null&&(wv(s)&&(s=iO(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(J_,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",X_(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Yp(i,a);o+=jd(i,e,n,l,s)}else if(l=sO(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Yp(i,a++),o+=jd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ed(t,e,n){if(t==null)return t;var r=[],s=0;return jd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function aO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var en={current:null},Fd={transition:null},lO={ReactCurrentDispatcher:en,ReactCurrentBatchConfig:Fd,ReactCurrentOwner:vv};function E1(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:ed,forEach:function(t,e,n){ed(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ed(t,function(){e++}),e},toArray:function(t){return ed(t,function(e){return e})||[]},only:function(t){if(!wv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=sl;ye.Fragment=Q2;ye.Profiler=X2;ye.PureComponent=gv;ye.StrictMode=Y2;ye.Suspense=tO;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lO;ye.act=E1;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=m1({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=vv.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)v1.call(e,l)&&!w1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:vu,type:t.type,key:s,ref:i,props:r,_owner:o}};ye.createContext=function(t){return t={$$typeof:Z2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:J2,_context:t},t.Consumer=t};ye.createElement=_1;ye.createFactory=function(t){var e=_1.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:eO,render:t}};ye.isValidElement=wv;ye.lazy=function(t){return{$$typeof:rO,_payload:{_status:-1,_result:t},_init:aO}};ye.memo=function(t,e){return{$$typeof:nO,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=Fd.transition;Fd.transition={};try{t()}finally{Fd.transition=e}};ye.unstable_act=E1;ye.useCallback=function(t,e){return en.current.useCallback(t,e)};ye.useContext=function(t){return en.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return en.current.useDeferredValue(t)};ye.useEffect=function(t,e){return en.current.useEffect(t,e)};ye.useId=function(){return en.current.useId()};ye.useImperativeHandle=function(t,e,n){return en.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return en.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return en.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return en.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return en.current.useReducer(t,e,n)};ye.useRef=function(t){return en.current.useRef(t)};ye.useState=function(t){return en.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return en.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return en.current.useTransition()};ye.version="18.3.1";f1.exports=ye;var y=f1.exports;const W=d1(y),bf=K2({__proto__:null,default:W},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cO=y,uO=Symbol.for("react.element"),dO=Symbol.for("react.fragment"),hO=Object.prototype.hasOwnProperty,fO=cO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pO={key:!0,ref:!0,__self:!0,__source:!0};function x1(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)hO.call(e,r)&&!pO.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:uO,type:t,key:i,ref:o,props:s,_owner:fO.current}}Sf.Fragment=dO;Sf.jsx=x1;Sf.jsxs=x1;h1.exports=Sf;var _=h1.exports,T1={exports:{}},bn={},S1={exports:{}},b1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,U){var G=j.length;j.push(U);e:for(;0<G;){var ie=G-1>>>1,ee=j[ie];if(0<s(ee,U))j[ie]=U,j[G]=ee,G=ie;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var U=j[0],G=j.pop();if(G!==U){j[0]=G;e:for(var ie=0,ee=j.length,me=ee>>>1;ie<me;){var le=2*(ie+1)-1,ke=j[le],Oe=le+1,K=j[Oe];if(0>s(ke,G))Oe<ee&&0>s(K,ke)?(j[ie]=K,j[Oe]=G,ie=Oe):(j[ie]=ke,j[le]=G,ie=le);else if(Oe<ee&&0>s(K,G))j[ie]=K,j[Oe]=G,ie=Oe;else break e}}return U}function s(j,U){var G=j.sortIndex-U.sortIndex;return G!==0?G:j.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,p=!1,S=!1,g=!1,E=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(j){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=j)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function A(j){if(g=!1,T(j),!S)if(n(l)!==null)S=!0,J(R);else{var U=n(c);U!==null&&X(A,U.startTime-j)}}function R(j,U){S=!1,g&&(g=!1,v(b),b=-1),p=!0;var G=f;try{for(T(U),h=n(l);h!==null&&(!(h.expirationTime>U)||j&&!N());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,f=h.priorityLevel;var ee=ie(h.expirationTime<=U);U=t.unstable_now(),typeof ee=="function"?h.callback=ee:h===n(l)&&r(l),T(U)}else r(l);h=n(l)}if(h!==null)var me=!0;else{var le=n(c);le!==null&&X(A,le.startTime-U),me=!1}return me}finally{h=null,f=G,p=!1}}var M=!1,C=null,b=-1,I=5,k=-1;function N(){return!(t.unstable_now()-k<I)}function O(){if(C!==null){var j=t.unstable_now();k=j;var U=!0;try{U=C(!0,j)}finally{U?D():(M=!1,C=null)}}else M=!1}var D;if(typeof w=="function")D=function(){w(O)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ue=Y.port2;Y.port1.onmessage=O,D=function(){ue.postMessage(null)}}else D=function(){E(O,0)};function J(j){C=j,M||(M=!0,D())}function X(j,U){b=E(function(){j(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){S||p||(S=!0,J(R))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var G=f;f=U;try{return j()}finally{f=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,U){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var G=f;f=j;try{return U()}finally{f=G}},t.unstable_scheduleCallback=function(j,U,G){var ie=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ie+G:ie):G=ie,j){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=G+ee,j={id:d++,callback:U,priorityLevel:j,startTime:G,expirationTime:ee,sortIndex:-1},G>ie?(j.sortIndex=G,e(c,j),n(l)===null&&j===n(c)&&(g?(v(b),b=-1):g=!0,X(A,G-ie))):(j.sortIndex=ee,e(l,j),S||p||(S=!0,J(R))),j},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(j){var U=f;return function(){var G=f;f=U;try{return j.apply(this,arguments)}finally{f=G}}}})(b1);S1.exports=b1;var mO=S1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gO=y,Tn=mO;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var C1=new Set,Rc={};function Ro(t,e){Fa(t,e),Fa(t+"Capture",e)}function Fa(t,e){for(Rc[t]=e,t=0;t<e.length;t++)C1.add(e[t])}var ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ug=Object.prototype.hasOwnProperty,yO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Z_={},eE={};function vO(t){return ug.call(eE,t)?!0:ug.call(Z_,t)?!1:yO.test(t)?eE[t]=!0:(Z_[t]=!0,!1)}function wO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _O(t,e,n,r){if(e===null||typeof e>"u"||wO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dt[t]=new tn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dt[e]=new tn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dt[t]=new tn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dt[t]=new tn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dt[t]=new tn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dt[t]=new tn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dt[t]=new tn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dt[t]=new tn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dt[t]=new tn(t,5,!1,t.toLowerCase(),null,!1,!1)});var _v=/[\-:]([a-z])/g;function Ev(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_v,Ev);Dt[e]=new tn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_v,Ev);Dt[e]=new tn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_v,Ev);Dt[e]=new tn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dt[t]=new tn(t,1,!1,t.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dt[t]=new tn(t,1,!1,t.toLowerCase(),null,!0,!0)});function xv(t,e,n,r){var s=Dt.hasOwnProperty(e)?Dt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_O(e,n,s,r)&&(n=null),r||s===null?vO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ps=gO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,td=Symbol.for("react.element"),Xo=Symbol.for("react.portal"),Jo=Symbol.for("react.fragment"),Tv=Symbol.for("react.strict_mode"),dg=Symbol.for("react.profiler"),I1=Symbol.for("react.provider"),A1=Symbol.for("react.context"),Sv=Symbol.for("react.forward_ref"),hg=Symbol.for("react.suspense"),fg=Symbol.for("react.suspense_list"),bv=Symbol.for("react.memo"),ks=Symbol.for("react.lazy"),P1=Symbol.for("react.offscreen"),tE=Symbol.iterator;function Fl(t){return t===null||typeof t!="object"?null:(t=tE&&t[tE]||t["@@iterator"],typeof t=="function"?t:null)}var Xe=Object.assign,Xp;function Xl(t){if(Xp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Xp=e&&e[1]||""}return`
`+Xp+t}var Jp=!1;function Zp(t,e){if(!t||Jp)return"";Jp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Jp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xl(t):""}function EO(t){switch(t.tag){case 5:return Xl(t.type);case 16:return Xl("Lazy");case 13:return Xl("Suspense");case 19:return Xl("SuspenseList");case 0:case 2:case 15:return t=Zp(t.type,!1),t;case 11:return t=Zp(t.type.render,!1),t;case 1:return t=Zp(t.type,!0),t;default:return""}}function pg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Jo:return"Fragment";case Xo:return"Portal";case dg:return"Profiler";case Tv:return"StrictMode";case hg:return"Suspense";case fg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case A1:return(t.displayName||"Context")+".Consumer";case I1:return(t._context.displayName||"Context")+".Provider";case Sv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case bv:return e=t.displayName||null,e!==null?e:pg(t.type)||"Memo";case ks:e=t._payload,t=t._init;try{return pg(t(e))}catch{}}return null}function xO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pg(e);case 8:return e===Tv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function R1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TO(t){var e=R1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function nd(t){t._valueTracker||(t._valueTracker=TO(t))}function k1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=R1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ph(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function mg(t,e){var n=e.checked;return Xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function nE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=hi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function N1(t,e){e=e.checked,e!=null&&xv(t,"checked",e,!1)}function gg(t,e){N1(t,e);var n=hi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yg(t,e.type,n):e.hasOwnProperty("defaultValue")&&yg(t,e.type,hi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function rE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yg(t,e,n){(e!=="number"||ph(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jl=Array.isArray;function ya(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+hi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function vg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function sE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Jl(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:hi(n)}}function D1(t,e){var n=hi(e.value),r=hi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function iE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function O1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?O1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rd,M1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(rd=rd||document.createElement("div"),rd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=rd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var dc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SO=["Webkit","ms","Moz","O"];Object.keys(dc).forEach(function(t){SO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dc[e]=dc[t]})});function V1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||dc.hasOwnProperty(t)&&dc[t]?(""+e).trim():e+"px"}function L1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=V1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var bO=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _g(t,e){if(e){if(bO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Eg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xg=null;function Cv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tg=null,va=null,wa=null;function oE(t){if(t=Eu(t)){if(typeof Tg!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Rf(e),Tg(t.stateNode,t.type,e))}}function j1(t){va?wa?wa.push(t):wa=[t]:va=t}function F1(){if(va){var t=va,e=wa;if(wa=va=null,oE(t),e)for(t=0;t<e.length;t++)oE(e[t])}}function U1(t,e){return t(e)}function B1(){}var em=!1;function $1(t,e,n){if(em)return t(e,n);em=!0;try{return U1(t,e,n)}finally{em=!1,(va!==null||wa!==null)&&(B1(),F1())}}function Nc(t,e){var n=t.stateNode;if(n===null)return null;var r=Rf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Sg=!1;if(ns)try{var Ul={};Object.defineProperty(Ul,"passive",{get:function(){Sg=!0}}),window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{Sg=!1}function CO(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var hc=!1,mh=null,gh=!1,bg=null,IO={onError:function(t){hc=!0,mh=t}};function AO(t,e,n,r,s,i,o,a,l){hc=!1,mh=null,CO.apply(IO,arguments)}function PO(t,e,n,r,s,i,o,a,l){if(AO.apply(this,arguments),hc){if(hc){var c=mh;hc=!1,mh=null}else throw Error(z(198));gh||(gh=!0,bg=c)}}function ko(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function z1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function aE(t){if(ko(t)!==t)throw Error(z(188))}function RO(t){var e=t.alternate;if(!e){if(e=ko(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return aE(s),t;if(i===r)return aE(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function W1(t){return t=RO(t),t!==null?H1(t):null}function H1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=H1(t);if(e!==null)return e;t=t.sibling}return null}var G1=Tn.unstable_scheduleCallback,lE=Tn.unstable_cancelCallback,kO=Tn.unstable_shouldYield,NO=Tn.unstable_requestPaint,it=Tn.unstable_now,DO=Tn.unstable_getCurrentPriorityLevel,Iv=Tn.unstable_ImmediatePriority,K1=Tn.unstable_UserBlockingPriority,yh=Tn.unstable_NormalPriority,OO=Tn.unstable_LowPriority,q1=Tn.unstable_IdlePriority,Cf=null,xr=null;function MO(t){if(xr&&typeof xr.onCommitFiberRoot=="function")try{xr.onCommitFiberRoot(Cf,t,void 0,(t.current.flags&128)===128)}catch{}}var tr=Math.clz32?Math.clz32:jO,VO=Math.log,LO=Math.LN2;function jO(t){return t>>>=0,t===0?32:31-(VO(t)/LO|0)|0}var sd=64,id=4194304;function Zl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Zl(a):(i&=o,i!==0&&(r=Zl(i)))}else o=n&~s,o!==0?r=Zl(o):i!==0&&(r=Zl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tr(e),s=1<<n,r|=t[n],e&=~s;return r}function FO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-tr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=FO(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Cg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Q1(){var t=sd;return sd<<=1,!(sd&4194240)&&(sd=64),t}function tm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tr(e),t[e]=n}function BO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-tr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Av(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ne=0;function Y1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var X1,Pv,J1,Z1,eC,Ig=!1,od=[],Ys=null,Xs=null,Js=null,Dc=new Map,Oc=new Map,Ds=[],$O="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cE(t,e){switch(t){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":Dc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oc.delete(e.pointerId)}}function Bl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Eu(e),e!==null&&Pv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function zO(t,e,n,r,s){switch(e){case"focusin":return Ys=Bl(Ys,t,e,n,r,s),!0;case"dragenter":return Xs=Bl(Xs,t,e,n,r,s),!0;case"mouseover":return Js=Bl(Js,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Dc.set(i,Bl(Dc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Oc.set(i,Bl(Oc.get(i)||null,t,e,n,r,s)),!0}return!1}function tC(t){var e=Ji(t.target);if(e!==null){var n=ko(e);if(n!==null){if(e=n.tag,e===13){if(e=z1(n),e!==null){t.blockedOn=e,eC(t.priority,function(){J1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ud(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ag(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);xg=r,n.target.dispatchEvent(r),xg=null}else return e=Eu(n),e!==null&&Pv(e),t.blockedOn=n,!1;e.shift()}return!0}function uE(t,e,n){Ud(t)&&n.delete(e)}function WO(){Ig=!1,Ys!==null&&Ud(Ys)&&(Ys=null),Xs!==null&&Ud(Xs)&&(Xs=null),Js!==null&&Ud(Js)&&(Js=null),Dc.forEach(uE),Oc.forEach(uE)}function $l(t,e){t.blockedOn===e&&(t.blockedOn=null,Ig||(Ig=!0,Tn.unstable_scheduleCallback(Tn.unstable_NormalPriority,WO)))}function Mc(t){function e(s){return $l(s,t)}if(0<od.length){$l(od[0],t);for(var n=1;n<od.length;n++){var r=od[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ys!==null&&$l(Ys,t),Xs!==null&&$l(Xs,t),Js!==null&&$l(Js,t),Dc.forEach(e),Oc.forEach(e),n=0;n<Ds.length;n++)r=Ds[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ds.length&&(n=Ds[0],n.blockedOn===null);)tC(n),n.blockedOn===null&&Ds.shift()}var _a=ps.ReactCurrentBatchConfig,wh=!0;function HO(t,e,n,r){var s=Ne,i=_a.transition;_a.transition=null;try{Ne=1,Rv(t,e,n,r)}finally{Ne=s,_a.transition=i}}function GO(t,e,n,r){var s=Ne,i=_a.transition;_a.transition=null;try{Ne=4,Rv(t,e,n,r)}finally{Ne=s,_a.transition=i}}function Rv(t,e,n,r){if(wh){var s=Ag(t,e,n,r);if(s===null)dm(t,e,r,_h,n),cE(t,r);else if(zO(s,t,e,n,r))r.stopPropagation();else if(cE(t,r),e&4&&-1<$O.indexOf(t)){for(;s!==null;){var i=Eu(s);if(i!==null&&X1(i),i=Ag(t,e,n,r),i===null&&dm(t,e,r,_h,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else dm(t,e,r,null,n)}}var _h=null;function Ag(t,e,n,r){if(_h=null,t=Cv(r),t=Ji(t),t!==null)if(e=ko(t),e===null)t=null;else if(n=e.tag,n===13){if(t=z1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _h=t,null}function nC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DO()){case Iv:return 1;case K1:return 4;case yh:case OO:return 16;case q1:return 536870912;default:return 16}default:return 16}}var Hs=null,kv=null,Bd=null;function rC(){if(Bd)return Bd;var t,e=kv,n=e.length,r,s="value"in Hs?Hs.value:Hs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Bd=s.slice(t,1<r?1-r:void 0)}function $d(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ad(){return!0}function dE(){return!1}function Cn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ad:dE,this.isPropagationStopped=dE,this}return Xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ad)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ad)},persist:function(){},isPersistent:ad}),e}var il={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nv=Cn(il),_u=Xe({},il,{view:0,detail:0}),KO=Cn(_u),nm,rm,zl,If=Xe({},_u,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zl&&(zl&&t.type==="mousemove"?(nm=t.screenX-zl.screenX,rm=t.screenY-zl.screenY):rm=nm=0,zl=t),nm)},movementY:function(t){return"movementY"in t?t.movementY:rm}}),hE=Cn(If),qO=Xe({},If,{dataTransfer:0}),QO=Cn(qO),YO=Xe({},_u,{relatedTarget:0}),sm=Cn(YO),XO=Xe({},il,{animationName:0,elapsedTime:0,pseudoElement:0}),JO=Cn(XO),ZO=Xe({},il,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eM=Cn(ZO),tM=Xe({},il,{data:0}),fE=Cn(tM),nM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sM[t])?!!e[t]:!1}function Dv(){return iM}var oM=Xe({},_u,{key:function(t){if(t.key){var e=nM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$d(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dv,charCode:function(t){return t.type==="keypress"?$d(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$d(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aM=Cn(oM),lM=Xe({},If,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pE=Cn(lM),cM=Xe({},_u,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dv}),uM=Cn(cM),dM=Xe({},il,{propertyName:0,elapsedTime:0,pseudoElement:0}),hM=Cn(dM),fM=Xe({},If,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pM=Cn(fM),mM=[9,13,27,32],Ov=ns&&"CompositionEvent"in window,fc=null;ns&&"documentMode"in document&&(fc=document.documentMode);var gM=ns&&"TextEvent"in window&&!fc,sC=ns&&(!Ov||fc&&8<fc&&11>=fc),mE=" ",gE=!1;function iC(t,e){switch(t){case"keyup":return mM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zo=!1;function yM(t,e){switch(t){case"compositionend":return oC(e);case"keypress":return e.which!==32?null:(gE=!0,mE);case"textInput":return t=e.data,t===mE&&gE?null:t;default:return null}}function vM(t,e){if(Zo)return t==="compositionend"||!Ov&&iC(t,e)?(t=rC(),Bd=kv=Hs=null,Zo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sC&&e.locale!=="ko"?null:e.data;default:return null}}var wM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wM[t.type]:e==="textarea"}function aC(t,e,n,r){j1(r),e=Eh(e,"onChange"),0<e.length&&(n=new Nv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var pc=null,Vc=null;function _M(t){vC(t,0)}function Af(t){var e=na(t);if(k1(e))return t}function EM(t,e){if(t==="change")return e}var lC=!1;if(ns){var im;if(ns){var om="oninput"in document;if(!om){var vE=document.createElement("div");vE.setAttribute("oninput","return;"),om=typeof vE.oninput=="function"}im=om}else im=!1;lC=im&&(!document.documentMode||9<document.documentMode)}function wE(){pc&&(pc.detachEvent("onpropertychange",cC),Vc=pc=null)}function cC(t){if(t.propertyName==="value"&&Af(Vc)){var e=[];aC(e,Vc,t,Cv(t)),$1(_M,e)}}function xM(t,e,n){t==="focusin"?(wE(),pc=e,Vc=n,pc.attachEvent("onpropertychange",cC)):t==="focusout"&&wE()}function TM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Af(Vc)}function SM(t,e){if(t==="click")return Af(e)}function bM(t,e){if(t==="input"||t==="change")return Af(e)}function CM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rr=typeof Object.is=="function"?Object.is:CM;function Lc(t,e){if(rr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ug.call(e,s)||!rr(t[s],e[s]))return!1}return!0}function _E(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function EE(t,e){var n=_E(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_E(n)}}function uC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?uC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function dC(){for(var t=window,e=ph();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ph(t.document)}return e}function Mv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function IM(t){var e=dC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&uC(n.ownerDocument.documentElement,n)){if(r!==null&&Mv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=EE(n,i);var o=EE(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var AM=ns&&"documentMode"in document&&11>=document.documentMode,ea=null,Pg=null,mc=null,Rg=!1;function xE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rg||ea==null||ea!==ph(r)||(r=ea,"selectionStart"in r&&Mv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mc&&Lc(mc,r)||(mc=r,r=Eh(Pg,"onSelect"),0<r.length&&(e=new Nv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ea)))}function ld(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ta={animationend:ld("Animation","AnimationEnd"),animationiteration:ld("Animation","AnimationIteration"),animationstart:ld("Animation","AnimationStart"),transitionend:ld("Transition","TransitionEnd")},am={},hC={};ns&&(hC=document.createElement("div").style,"AnimationEvent"in window||(delete ta.animationend.animation,delete ta.animationiteration.animation,delete ta.animationstart.animation),"TransitionEvent"in window||delete ta.transitionend.transition);function Pf(t){if(am[t])return am[t];if(!ta[t])return t;var e=ta[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in hC)return am[t]=e[n];return t}var fC=Pf("animationend"),pC=Pf("animationiteration"),mC=Pf("animationstart"),gC=Pf("transitionend"),yC=new Map,TE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ai(t,e){yC.set(t,e),Ro(e,[t])}for(var lm=0;lm<TE.length;lm++){var cm=TE[lm],PM=cm.toLowerCase(),RM=cm[0].toUpperCase()+cm.slice(1);Ai(PM,"on"+RM)}Ai(fC,"onAnimationEnd");Ai(pC,"onAnimationIteration");Ai(mC,"onAnimationStart");Ai("dblclick","onDoubleClick");Ai("focusin","onFocus");Ai("focusout","onBlur");Ai(gC,"onTransitionEnd");Fa("onMouseEnter",["mouseout","mouseover"]);Fa("onMouseLeave",["mouseout","mouseover"]);Fa("onPointerEnter",["pointerout","pointerover"]);Fa("onPointerLeave",["pointerout","pointerover"]);Ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ro("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kM=new Set("cancel close invalid load scroll toggle".split(" ").concat(ec));function SE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,PO(r,e,void 0,t),t.currentTarget=null}function vC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;SE(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;SE(s,a,c),i=l}}}if(gh)throw t=bg,gh=!1,bg=null,t}function Ue(t,e){var n=e[Mg];n===void 0&&(n=e[Mg]=new Set);var r=t+"__bubble";n.has(r)||(wC(e,t,2,!1),n.add(r))}function um(t,e,n){var r=0;e&&(r|=4),wC(n,t,r,e)}var cd="_reactListening"+Math.random().toString(36).slice(2);function jc(t){if(!t[cd]){t[cd]=!0,C1.forEach(function(n){n!=="selectionchange"&&(kM.has(n)||um(n,!1,t),um(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[cd]||(e[cd]=!0,um("selectionchange",!1,e))}}function wC(t,e,n,r){switch(nC(e)){case 1:var s=HO;break;case 4:s=GO;break;default:s=Rv}n=s.bind(null,e,n,t),s=void 0,!Sg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function dm(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ji(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}$1(function(){var c=i,d=Cv(n),h=[];e:{var f=yC.get(t);if(f!==void 0){var p=Nv,S=t;switch(t){case"keypress":if($d(n)===0)break e;case"keydown":case"keyup":p=aM;break;case"focusin":S="focus",p=sm;break;case"focusout":S="blur",p=sm;break;case"beforeblur":case"afterblur":p=sm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=hE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=QO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=uM;break;case fC:case pC:case mC:p=JO;break;case gC:p=hM;break;case"scroll":p=KO;break;case"wheel":p=pM;break;case"copy":case"cut":case"paste":p=eM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=pE}var g=(e&4)!==0,E=!g&&t==="scroll",v=g?f!==null?f+"Capture":null:f;g=[];for(var w=c,T;w!==null;){T=w;var A=T.stateNode;if(T.tag===5&&A!==null&&(T=A,v!==null&&(A=Nc(w,v),A!=null&&g.push(Fc(w,A,T)))),E)break;w=w.return}0<g.length&&(f=new p(f,S,null,n,d),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==xg&&(S=n.relatedTarget||n.fromElement)&&(Ji(S)||S[rs]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(S=n.relatedTarget||n.toElement,p=c,S=S?Ji(S):null,S!==null&&(E=ko(S),S!==E||S.tag!==5&&S.tag!==6)&&(S=null)):(p=null,S=c),p!==S)){if(g=hE,A="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=pE,A="onPointerLeave",v="onPointerEnter",w="pointer"),E=p==null?f:na(p),T=S==null?f:na(S),f=new g(A,w+"leave",p,n,d),f.target=E,f.relatedTarget=T,A=null,Ji(d)===c&&(g=new g(v,w+"enter",S,n,d),g.target=T,g.relatedTarget=E,A=g),E=A,p&&S)t:{for(g=p,v=S,w=0,T=g;T;T=$o(T))w++;for(T=0,A=v;A;A=$o(A))T++;for(;0<w-T;)g=$o(g),w--;for(;0<T-w;)v=$o(v),T--;for(;w--;){if(g===v||v!==null&&g===v.alternate)break t;g=$o(g),v=$o(v)}g=null}else g=null;p!==null&&bE(h,f,p,g,!1),S!==null&&E!==null&&bE(h,E,S,g,!0)}}e:{if(f=c?na(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var R=EM;else if(yE(f))if(lC)R=bM;else{R=TM;var M=xM}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(R=SM);if(R&&(R=R(t,c))){aC(h,R,n,d);break e}M&&M(t,f,c),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&yg(f,"number",f.value)}switch(M=c?na(c):window,t){case"focusin":(yE(M)||M.contentEditable==="true")&&(ea=M,Pg=c,mc=null);break;case"focusout":mc=Pg=ea=null;break;case"mousedown":Rg=!0;break;case"contextmenu":case"mouseup":case"dragend":Rg=!1,xE(h,n,d);break;case"selectionchange":if(AM)break;case"keydown":case"keyup":xE(h,n,d)}var C;if(Ov)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Zo?iC(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(sC&&n.locale!=="ko"&&(Zo||b!=="onCompositionStart"?b==="onCompositionEnd"&&Zo&&(C=rC()):(Hs=d,kv="value"in Hs?Hs.value:Hs.textContent,Zo=!0)),M=Eh(c,b),0<M.length&&(b=new fE(b,t,null,n,d),h.push({event:b,listeners:M}),C?b.data=C:(C=oC(n),C!==null&&(b.data=C)))),(C=gM?yM(t,n):vM(t,n))&&(c=Eh(c,"onBeforeInput"),0<c.length&&(d=new fE("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=C))}vC(h,e)})}function Fc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Eh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Nc(t,n),i!=null&&r.unshift(Fc(t,i,s)),i=Nc(t,e),i!=null&&r.push(Fc(t,i,s))),t=t.return}return r}function $o(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function bE(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Nc(n,i),l!=null&&o.unshift(Fc(n,l,a))):s||(l=Nc(n,i),l!=null&&o.push(Fc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var NM=/\r\n?/g,DM=/\u0000|\uFFFD/g;function CE(t){return(typeof t=="string"?t:""+t).replace(NM,`
`).replace(DM,"")}function ud(t,e,n){if(e=CE(e),CE(t)!==e&&n)throw Error(z(425))}function xh(){}var kg=null,Ng=null;function Dg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Og=typeof setTimeout=="function"?setTimeout:void 0,OM=typeof clearTimeout=="function"?clearTimeout:void 0,IE=typeof Promise=="function"?Promise:void 0,MM=typeof queueMicrotask=="function"?queueMicrotask:typeof IE<"u"?function(t){return IE.resolve(null).then(t).catch(VM)}:Og;function VM(t){setTimeout(function(){throw t})}function hm(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Mc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Mc(e)}function Zs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function AE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ol=Math.random().toString(36).slice(2),wr="__reactFiber$"+ol,Uc="__reactProps$"+ol,rs="__reactContainer$"+ol,Mg="__reactEvents$"+ol,LM="__reactListeners$"+ol,jM="__reactHandles$"+ol;function Ji(t){var e=t[wr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[rs]||n[wr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=AE(t);t!==null;){if(n=t[wr])return n;t=AE(t)}return e}t=n,n=t.parentNode}return null}function Eu(t){return t=t[wr]||t[rs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function na(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Rf(t){return t[Uc]||null}var Vg=[],ra=-1;function Pi(t){return{current:t}}function ze(t){0>ra||(t.current=Vg[ra],Vg[ra]=null,ra--)}function Ve(t,e){ra++,Vg[ra]=t.current,t.current=e}var fi={},Wt=Pi(fi),un=Pi(!1),go=fi;function Ua(t,e){var n=t.type.contextTypes;if(!n)return fi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function dn(t){return t=t.childContextTypes,t!=null}function Th(){ze(un),ze(Wt)}function PE(t,e,n){if(Wt.current!==fi)throw Error(z(168));Ve(Wt,e),Ve(un,n)}function _C(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,xO(t)||"Unknown",s));return Xe({},n,r)}function Sh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fi,go=Wt.current,Ve(Wt,t),Ve(un,un.current),!0}function RE(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=_C(t,e,go),r.__reactInternalMemoizedMergedChildContext=t,ze(un),ze(Wt),Ve(Wt,t)):ze(un),Ve(un,n)}var Kr=null,kf=!1,fm=!1;function EC(t){Kr===null?Kr=[t]:Kr.push(t)}function FM(t){kf=!0,EC(t)}function Ri(){if(!fm&&Kr!==null){fm=!0;var t=0,e=Ne;try{var n=Kr;for(Ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Kr=null,kf=!1}catch(s){throw Kr!==null&&(Kr=Kr.slice(t+1)),G1(Iv,Ri),s}finally{Ne=e,fm=!1}}return null}var sa=[],ia=0,bh=null,Ch=0,Nn=[],Dn=0,yo=null,Qr=1,Yr="";function Gi(t,e){sa[ia++]=Ch,sa[ia++]=bh,bh=t,Ch=e}function xC(t,e,n){Nn[Dn++]=Qr,Nn[Dn++]=Yr,Nn[Dn++]=yo,yo=t;var r=Qr;t=Yr;var s=32-tr(r)-1;r&=~(1<<s),n+=1;var i=32-tr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Qr=1<<32-tr(e)+s|n<<s|r,Yr=i+t}else Qr=1<<i|n<<s|r,Yr=t}function Vv(t){t.return!==null&&(Gi(t,1),xC(t,1,0))}function Lv(t){for(;t===bh;)bh=sa[--ia],sa[ia]=null,Ch=sa[--ia],sa[ia]=null;for(;t===yo;)yo=Nn[--Dn],Nn[Dn]=null,Yr=Nn[--Dn],Nn[Dn]=null,Qr=Nn[--Dn],Nn[Dn]=null}var wn=null,yn=null,He=!1,Jn=null;function TC(t,e){var n=Vn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function kE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wn=t,yn=Zs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wn=t,yn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=yo!==null?{id:Qr,overflow:Yr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Vn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wn=t,yn=null,!0):!1;default:return!1}}function Lg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function jg(t){if(He){var e=yn;if(e){var n=e;if(!kE(t,e)){if(Lg(t))throw Error(z(418));e=Zs(n.nextSibling);var r=wn;e&&kE(t,e)?TC(r,n):(t.flags=t.flags&-4097|2,He=!1,wn=t)}}else{if(Lg(t))throw Error(z(418));t.flags=t.flags&-4097|2,He=!1,wn=t}}}function NE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wn=t}function dd(t){if(t!==wn)return!1;if(!He)return NE(t),He=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Dg(t.type,t.memoizedProps)),e&&(e=yn)){if(Lg(t))throw SC(),Error(z(418));for(;e;)TC(t,e),e=Zs(e.nextSibling)}if(NE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){yn=Zs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}yn=null}}else yn=wn?Zs(t.stateNode.nextSibling):null;return!0}function SC(){for(var t=yn;t;)t=Zs(t.nextSibling)}function Ba(){yn=wn=null,He=!1}function jv(t){Jn===null?Jn=[t]:Jn.push(t)}var UM=ps.ReactCurrentBatchConfig;function Wl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function hd(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function DE(t){var e=t._init;return e(t._payload)}function bC(t){function e(v,w){if(t){var T=v.deletions;T===null?(v.deletions=[w],v.flags|=16):T.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function s(v,w){return v=ri(v,w),v.index=0,v.sibling=null,v}function i(v,w,T){return v.index=T,t?(T=v.alternate,T!==null?(T=T.index,T<w?(v.flags|=2,w):T):(v.flags|=2,w)):(v.flags|=1048576,w)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,w,T,A){return w===null||w.tag!==6?(w=_m(T,v.mode,A),w.return=v,w):(w=s(w,T),w.return=v,w)}function l(v,w,T,A){var R=T.type;return R===Jo?d(v,w,T.props.children,A,T.key):w!==null&&(w.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===ks&&DE(R)===w.type)?(A=s(w,T.props),A.ref=Wl(v,w,T),A.return=v,A):(A=Qd(T.type,T.key,T.props,null,v.mode,A),A.ref=Wl(v,w,T),A.return=v,A)}function c(v,w,T,A){return w===null||w.tag!==4||w.stateNode.containerInfo!==T.containerInfo||w.stateNode.implementation!==T.implementation?(w=Em(T,v.mode,A),w.return=v,w):(w=s(w,T.children||[]),w.return=v,w)}function d(v,w,T,A,R){return w===null||w.tag!==7?(w=ho(T,v.mode,A,R),w.return=v,w):(w=s(w,T),w.return=v,w)}function h(v,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return w=_m(""+w,v.mode,T),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case td:return T=Qd(w.type,w.key,w.props,null,v.mode,T),T.ref=Wl(v,null,w),T.return=v,T;case Xo:return w=Em(w,v.mode,T),w.return=v,w;case ks:var A=w._init;return h(v,A(w._payload),T)}if(Jl(w)||Fl(w))return w=ho(w,v.mode,T,null),w.return=v,w;hd(v,w)}return null}function f(v,w,T,A){var R=w!==null?w.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return R!==null?null:a(v,w,""+T,A);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case td:return T.key===R?l(v,w,T,A):null;case Xo:return T.key===R?c(v,w,T,A):null;case ks:return R=T._init,f(v,w,R(T._payload),A)}if(Jl(T)||Fl(T))return R!==null?null:d(v,w,T,A,null);hd(v,T)}return null}function p(v,w,T,A,R){if(typeof A=="string"&&A!==""||typeof A=="number")return v=v.get(T)||null,a(w,v,""+A,R);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case td:return v=v.get(A.key===null?T:A.key)||null,l(w,v,A,R);case Xo:return v=v.get(A.key===null?T:A.key)||null,c(w,v,A,R);case ks:var M=A._init;return p(v,w,T,M(A._payload),R)}if(Jl(A)||Fl(A))return v=v.get(T)||null,d(w,v,A,R,null);hd(w,A)}return null}function S(v,w,T,A){for(var R=null,M=null,C=w,b=w=0,I=null;C!==null&&b<T.length;b++){C.index>b?(I=C,C=null):I=C.sibling;var k=f(v,C,T[b],A);if(k===null){C===null&&(C=I);break}t&&C&&k.alternate===null&&e(v,C),w=i(k,w,b),M===null?R=k:M.sibling=k,M=k,C=I}if(b===T.length)return n(v,C),He&&Gi(v,b),R;if(C===null){for(;b<T.length;b++)C=h(v,T[b],A),C!==null&&(w=i(C,w,b),M===null?R=C:M.sibling=C,M=C);return He&&Gi(v,b),R}for(C=r(v,C);b<T.length;b++)I=p(C,v,b,T[b],A),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?b:I.key),w=i(I,w,b),M===null?R=I:M.sibling=I,M=I);return t&&C.forEach(function(N){return e(v,N)}),He&&Gi(v,b),R}function g(v,w,T,A){var R=Fl(T);if(typeof R!="function")throw Error(z(150));if(T=R.call(T),T==null)throw Error(z(151));for(var M=R=null,C=w,b=w=0,I=null,k=T.next();C!==null&&!k.done;b++,k=T.next()){C.index>b?(I=C,C=null):I=C.sibling;var N=f(v,C,k.value,A);if(N===null){C===null&&(C=I);break}t&&C&&N.alternate===null&&e(v,C),w=i(N,w,b),M===null?R=N:M.sibling=N,M=N,C=I}if(k.done)return n(v,C),He&&Gi(v,b),R;if(C===null){for(;!k.done;b++,k=T.next())k=h(v,k.value,A),k!==null&&(w=i(k,w,b),M===null?R=k:M.sibling=k,M=k);return He&&Gi(v,b),R}for(C=r(v,C);!k.done;b++,k=T.next())k=p(C,v,b,k.value,A),k!==null&&(t&&k.alternate!==null&&C.delete(k.key===null?b:k.key),w=i(k,w,b),M===null?R=k:M.sibling=k,M=k);return t&&C.forEach(function(O){return e(v,O)}),He&&Gi(v,b),R}function E(v,w,T,A){if(typeof T=="object"&&T!==null&&T.type===Jo&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case td:e:{for(var R=T.key,M=w;M!==null;){if(M.key===R){if(R=T.type,R===Jo){if(M.tag===7){n(v,M.sibling),w=s(M,T.props.children),w.return=v,v=w;break e}}else if(M.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===ks&&DE(R)===M.type){n(v,M.sibling),w=s(M,T.props),w.ref=Wl(v,M,T),w.return=v,v=w;break e}n(v,M);break}else e(v,M);M=M.sibling}T.type===Jo?(w=ho(T.props.children,v.mode,A,T.key),w.return=v,v=w):(A=Qd(T.type,T.key,T.props,null,v.mode,A),A.ref=Wl(v,w,T),A.return=v,v=A)}return o(v);case Xo:e:{for(M=T.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===T.containerInfo&&w.stateNode.implementation===T.implementation){n(v,w.sibling),w=s(w,T.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=Em(T,v.mode,A),w.return=v,v=w}return o(v);case ks:return M=T._init,E(v,w,M(T._payload),A)}if(Jl(T))return S(v,w,T,A);if(Fl(T))return g(v,w,T,A);hd(v,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,w!==null&&w.tag===6?(n(v,w.sibling),w=s(w,T),w.return=v,v=w):(n(v,w),w=_m(T,v.mode,A),w.return=v,v=w),o(v)):n(v,w)}return E}var $a=bC(!0),CC=bC(!1),Ih=Pi(null),Ah=null,oa=null,Fv=null;function Uv(){Fv=oa=Ah=null}function Bv(t){var e=Ih.current;ze(Ih),t._currentValue=e}function Fg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ea(t,e){Ah=t,Fv=oa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(cn=!0),t.firstContext=null)}function jn(t){var e=t._currentValue;if(Fv!==t)if(t={context:t,memoizedValue:e,next:null},oa===null){if(Ah===null)throw Error(z(308));oa=t,Ah.dependencies={lanes:0,firstContext:t}}else oa=oa.next=t;return e}var Zi=null;function $v(t){Zi===null?Zi=[t]:Zi.push(t)}function IC(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,$v(e)):(n.next=s.next,s.next=n),e.interleaved=n,ss(t,r)}function ss(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ns=!1;function zv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ei(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ss(t,n)}return s=r.interleaved,s===null?(e.next=e,$v(r)):(e.next=s.next,s.next=e),r.interleaved=e,ss(t,n)}function zd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Av(t,n)}}function OE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ph(t,e,n,r){var s=t.updateQueue;Ns=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,g=a;switch(f=e,p=n,g.tag){case 1:if(S=g.payload,typeof S=="function"){h=S.call(p,h,f);break e}h=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=g.payload,f=typeof S=="function"?S.call(p,h,f):S,f==null)break e;h=Xe({},h,f);break e;case 2:Ns=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);wo|=o,t.lanes=o,t.memoizedState=h}}function ME(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var xu={},Tr=Pi(xu),Bc=Pi(xu),$c=Pi(xu);function eo(t){if(t===xu)throw Error(z(174));return t}function Wv(t,e){switch(Ve($c,e),Ve(Bc,t),Ve(Tr,xu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wg(e,t)}ze(Tr),Ve(Tr,e)}function za(){ze(Tr),ze(Bc),ze($c)}function PC(t){eo($c.current);var e=eo(Tr.current),n=wg(e,t.type);e!==n&&(Ve(Bc,t),Ve(Tr,n))}function Hv(t){Bc.current===t&&(ze(Tr),ze(Bc))}var qe=Pi(0);function Rh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pm=[];function Gv(){for(var t=0;t<pm.length;t++)pm[t]._workInProgressVersionPrimary=null;pm.length=0}var Wd=ps.ReactCurrentDispatcher,mm=ps.ReactCurrentBatchConfig,vo=0,Ye=null,pt=null,bt=null,kh=!1,gc=!1,zc=0,BM=0;function Vt(){throw Error(z(321))}function Kv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!rr(t[n],e[n]))return!1;return!0}function qv(t,e,n,r,s,i){if(vo=i,Ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wd.current=t===null||t.memoizedState===null?HM:GM,t=n(r,s),gc){i=0;do{if(gc=!1,zc=0,25<=i)throw Error(z(301));i+=1,bt=pt=null,e.updateQueue=null,Wd.current=KM,t=n(r,s)}while(gc)}if(Wd.current=Nh,e=pt!==null&&pt.next!==null,vo=0,bt=pt=Ye=null,kh=!1,e)throw Error(z(300));return t}function Qv(){var t=zc!==0;return zc=0,t}function pr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Ye.memoizedState=bt=t:bt=bt.next=t,bt}function Fn(){if(pt===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var e=bt===null?Ye.memoizedState:bt.next;if(e!==null)bt=e,pt=t;else{if(t===null)throw Error(z(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},bt===null?Ye.memoizedState=bt=t:bt=bt.next=t}return bt}function Wc(t,e){return typeof e=="function"?e(t):e}function gm(t){var e=Fn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=pt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((vo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ye.lanes|=d,wo|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,rr(r,e.memoizedState)||(cn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ye.lanes|=i,wo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ym(t){var e=Fn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);rr(i,e.memoizedState)||(cn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function RC(){}function kC(t,e){var n=Ye,r=Fn(),s=e(),i=!rr(r.memoizedState,s);if(i&&(r.memoizedState=s,cn=!0),r=r.queue,Yv(OC.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||bt!==null&&bt.memoizedState.tag&1){if(n.flags|=2048,Hc(9,DC.bind(null,n,r,s,e),void 0,null),Ct===null)throw Error(z(349));vo&30||NC(n,e,s)}return s}function NC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function DC(t,e,n,r){e.value=n,e.getSnapshot=r,MC(e)&&VC(t)}function OC(t,e,n){return n(function(){MC(e)&&VC(t)})}function MC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!rr(t,n)}catch{return!0}}function VC(t){var e=ss(t,1);e!==null&&nr(e,t,1,-1)}function VE(t){var e=pr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wc,lastRenderedState:t},e.queue=t,t=t.dispatch=WM.bind(null,Ye,t),[e.memoizedState,t]}function Hc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function LC(){return Fn().memoizedState}function Hd(t,e,n,r){var s=pr();Ye.flags|=t,s.memoizedState=Hc(1|e,n,void 0,r===void 0?null:r)}function Nf(t,e,n,r){var s=Fn();r=r===void 0?null:r;var i=void 0;if(pt!==null){var o=pt.memoizedState;if(i=o.destroy,r!==null&&Kv(r,o.deps)){s.memoizedState=Hc(e,n,i,r);return}}Ye.flags|=t,s.memoizedState=Hc(1|e,n,i,r)}function LE(t,e){return Hd(8390656,8,t,e)}function Yv(t,e){return Nf(2048,8,t,e)}function jC(t,e){return Nf(4,2,t,e)}function FC(t,e){return Nf(4,4,t,e)}function UC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function BC(t,e,n){return n=n!=null?n.concat([t]):null,Nf(4,4,UC.bind(null,e,t),n)}function Xv(){}function $C(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function zC(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function WC(t,e,n){return vo&21?(rr(n,e)||(n=Q1(),Ye.lanes|=n,wo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,cn=!0),t.memoizedState=n)}function $M(t,e){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var r=mm.transition;mm.transition={};try{t(!1),e()}finally{Ne=n,mm.transition=r}}function HC(){return Fn().memoizedState}function zM(t,e,n){var r=ni(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},GC(t))KC(e,n);else if(n=IC(t,e,n,r),n!==null){var s=Zt();nr(n,t,r,s),qC(n,e,r)}}function WM(t,e,n){var r=ni(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(GC(t))KC(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,rr(a,o)){var l=e.interleaved;l===null?(s.next=s,$v(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=IC(t,e,s,r),n!==null&&(s=Zt(),nr(n,t,r,s),qC(n,e,r))}}function GC(t){var e=t.alternate;return t===Ye||e!==null&&e===Ye}function KC(t,e){gc=kh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function qC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Av(t,n)}}var Nh={readContext:jn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},HM={readContext:jn,useCallback:function(t,e){return pr().memoizedState=[t,e===void 0?null:e],t},useContext:jn,useEffect:LE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hd(4194308,4,UC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hd(4,2,t,e)},useMemo:function(t,e){var n=pr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=pr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=zM.bind(null,Ye,t),[r.memoizedState,t]},useRef:function(t){var e=pr();return t={current:t},e.memoizedState=t},useState:VE,useDebugValue:Xv,useDeferredValue:function(t){return pr().memoizedState=t},useTransition:function(){var t=VE(!1),e=t[0];return t=$M.bind(null,t[1]),pr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ye,s=pr();if(He){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),Ct===null)throw Error(z(349));vo&30||NC(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,LE(OC.bind(null,r,i,t),[t]),r.flags|=2048,Hc(9,DC.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=pr(),e=Ct.identifierPrefix;if(He){var n=Yr,r=Qr;n=(r&~(1<<32-tr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=zc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=BM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},GM={readContext:jn,useCallback:$C,useContext:jn,useEffect:Yv,useImperativeHandle:BC,useInsertionEffect:jC,useLayoutEffect:FC,useMemo:zC,useReducer:gm,useRef:LC,useState:function(){return gm(Wc)},useDebugValue:Xv,useDeferredValue:function(t){var e=Fn();return WC(e,pt.memoizedState,t)},useTransition:function(){var t=gm(Wc)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:RC,useSyncExternalStore:kC,useId:HC,unstable_isNewReconciler:!1},KM={readContext:jn,useCallback:$C,useContext:jn,useEffect:Yv,useImperativeHandle:BC,useInsertionEffect:jC,useLayoutEffect:FC,useMemo:zC,useReducer:ym,useRef:LC,useState:function(){return ym(Wc)},useDebugValue:Xv,useDeferredValue:function(t){var e=Fn();return pt===null?e.memoizedState=t:WC(e,pt.memoizedState,t)},useTransition:function(){var t=ym(Wc)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:RC,useSyncExternalStore:kC,useId:HC,unstable_isNewReconciler:!1};function Kn(t,e){if(t&&t.defaultProps){e=Xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ug(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Df={isMounted:function(t){return(t=t._reactInternals)?ko(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zt(),s=ni(t),i=Zr(r,s);i.payload=e,n!=null&&(i.callback=n),e=ei(t,i,s),e!==null&&(nr(e,t,s,r),zd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zt(),s=ni(t),i=Zr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ei(t,i,s),e!==null&&(nr(e,t,s,r),zd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zt(),r=ni(t),s=Zr(n,r);s.tag=2,e!=null&&(s.callback=e),e=ei(t,s,r),e!==null&&(nr(e,t,r,n),zd(e,t,r))}};function jE(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Lc(n,r)||!Lc(s,i):!0}function QC(t,e,n){var r=!1,s=fi,i=e.contextType;return typeof i=="object"&&i!==null?i=jn(i):(s=dn(e)?go:Wt.current,r=e.contextTypes,i=(r=r!=null)?Ua(t,s):fi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Df,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function FE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Df.enqueueReplaceState(e,e.state,null)}function Bg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},zv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=jn(i):(i=dn(e)?go:Wt.current,s.context=Ua(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ug(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Df.enqueueReplaceState(s,s.state,null),Ph(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Wa(t,e){try{var n="",r=e;do n+=EO(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function vm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function $g(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var qM=typeof WeakMap=="function"?WeakMap:Map;function YC(t,e,n){n=Zr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Oh||(Oh=!0,Jg=r),$g(t,e)},n}function XC(t,e,n){n=Zr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){$g(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){$g(t,e),typeof r!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function UE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new qM;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=lV.bind(null,t,e,n),e.then(t,t))}function BE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $E(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zr(-1,1),e.tag=2,ei(n,e,1))),n.lanes|=1),t)}var QM=ps.ReactCurrentOwner,cn=!1;function Xt(t,e,n,r){e.child=t===null?CC(e,null,n,r):$a(e,t.child,n,r)}function zE(t,e,n,r,s){n=n.render;var i=e.ref;return Ea(e,s),r=qv(t,e,n,r,i,s),n=Qv(),t!==null&&!cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,is(t,e,s)):(He&&n&&Vv(e),e.flags|=1,Xt(t,e,r,s),e.child)}function WE(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!i0(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,JC(t,e,i,r,s)):(t=Qd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Lc,n(o,r)&&t.ref===e.ref)return is(t,e,s)}return e.flags|=1,t=ri(i,r),t.ref=e.ref,t.return=e,e.child=t}function JC(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Lc(i,r)&&t.ref===e.ref)if(cn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(cn=!0);else return e.lanes=t.lanes,is(t,e,s)}return zg(t,e,n,r,s)}function ZC(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(la,mn),mn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ve(la,mn),mn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ve(la,mn),mn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ve(la,mn),mn|=r;return Xt(t,e,s,n),e.child}function eI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zg(t,e,n,r,s){var i=dn(n)?go:Wt.current;return i=Ua(e,i),Ea(e,s),n=qv(t,e,n,r,i,s),r=Qv(),t!==null&&!cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,is(t,e,s)):(He&&r&&Vv(e),e.flags|=1,Xt(t,e,n,s),e.child)}function HE(t,e,n,r,s){if(dn(n)){var i=!0;Sh(e)}else i=!1;if(Ea(e,s),e.stateNode===null)Gd(t,e),QC(e,n,r),Bg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=jn(c):(c=dn(n)?go:Wt.current,c=Ua(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&FE(e,o,r,c),Ns=!1;var f=e.memoizedState;o.state=f,Ph(e,r,o,s),l=e.memoizedState,a!==r||f!==l||un.current||Ns?(typeof d=="function"&&(Ug(e,n,d,r),l=e.memoizedState),(a=Ns||jE(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,AC(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Kn(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=jn(l):(l=dn(n)?go:Wt.current,l=Ua(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&FE(e,o,r,l),Ns=!1,f=e.memoizedState,o.state=f,Ph(e,r,o,s);var S=e.memoizedState;a!==h||f!==S||un.current||Ns?(typeof p=="function"&&(Ug(e,n,p,r),S=e.memoizedState),(c=Ns||jE(e,n,c,r,f,S,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Wg(t,e,n,r,i,s)}function Wg(t,e,n,r,s,i){eI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&RE(e,n,!1),is(t,e,i);r=e.stateNode,QM.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=$a(e,t.child,null,i),e.child=$a(e,null,a,i)):Xt(t,e,a,i),e.memoizedState=r.state,s&&RE(e,n,!0),e.child}function tI(t){var e=t.stateNode;e.pendingContext?PE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&PE(t,e.context,!1),Wv(t,e.containerInfo)}function GE(t,e,n,r,s){return Ba(),jv(s),e.flags|=256,Xt(t,e,n,r),e.child}var Hg={dehydrated:null,treeContext:null,retryLane:0};function Gg(t){return{baseLanes:t,cachePool:null,transitions:null}}function nI(t,e,n){var r=e.pendingProps,s=qe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ve(qe,s&1),t===null)return jg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Vf(o,r,0,null),t=ho(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Gg(n),e.memoizedState=Hg,t):Jv(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return YM(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ri(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ri(a,i):(i=ho(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Gg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Hg,r}return i=t.child,t=i.sibling,r=ri(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Jv(t,e){return e=Vf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fd(t,e,n,r){return r!==null&&jv(r),$a(e,t.child,null,n),t=Jv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function YM(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=vm(Error(z(422))),fd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Vf({mode:"visible",children:r.children},s,0,null),i=ho(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&$a(e,t.child,null,o),e.child.memoizedState=Gg(o),e.memoizedState=Hg,i);if(!(e.mode&1))return fd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(z(419)),r=vm(i,r,void 0),fd(t,e,o,r)}if(a=(o&t.childLanes)!==0,cn||a){if(r=Ct,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ss(t,s),nr(r,t,s,-1))}return s0(),r=vm(Error(z(421))),fd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=cV.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,yn=Zs(s.nextSibling),wn=e,He=!0,Jn=null,t!==null&&(Nn[Dn++]=Qr,Nn[Dn++]=Yr,Nn[Dn++]=yo,Qr=t.id,Yr=t.overflow,yo=e),e=Jv(e,r.children),e.flags|=4096,e)}function KE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Fg(t.return,e,n)}function wm(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function rI(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Xt(t,e,r.children,n),r=qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&KE(t,n,e);else if(t.tag===19)KE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ve(qe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Rh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),wm(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Rh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}wm(e,!0,n,null,i);break;case"together":wm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function is(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),wo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=ri(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ri(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function XM(t,e,n){switch(e.tag){case 3:tI(e),Ba();break;case 5:PC(e);break;case 1:dn(e.type)&&Sh(e);break;case 4:Wv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ve(Ih,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ve(qe,qe.current&1),e.flags|=128,null):n&e.child.childLanes?nI(t,e,n):(Ve(qe,qe.current&1),t=is(t,e,n),t!==null?t.sibling:null);Ve(qe,qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return rI(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ve(qe,qe.current),r)break;return null;case 22:case 23:return e.lanes=0,ZC(t,e,n)}return is(t,e,n)}var sI,Kg,iI,oI;sI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Kg=function(){};iI=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,eo(Tr.current);var i=null;switch(n){case"input":s=mg(t,s),r=mg(t,r),i=[];break;case"select":s=Xe({},s,{value:void 0}),r=Xe({},r,{value:void 0}),i=[];break;case"textarea":s=vg(t,s),r=vg(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xh)}_g(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Rc.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Rc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ue("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};oI=function(t,e,n,r){n!==r&&(e.flags|=4)};function Hl(t,e){if(!He)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function JM(t,e,n){var r=e.pendingProps;switch(Lv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(e),null;case 1:return dn(e.type)&&Th(),Lt(e),null;case 3:return r=e.stateNode,za(),ze(un),ze(Wt),Gv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(dd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jn!==null&&(ty(Jn),Jn=null))),Kg(t,e),Lt(e),null;case 5:Hv(e);var s=eo($c.current);if(n=e.type,t!==null&&e.stateNode!=null)iI(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Lt(e),null}if(t=eo(Tr.current),dd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[wr]=e,r[Uc]=i,t=(e.mode&1)!==0,n){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(s=0;s<ec.length;s++)Ue(ec[s],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":nE(r,i),Ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ue("invalid",r);break;case"textarea":sE(r,i),Ue("invalid",r)}_g(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ud(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ud(r.textContent,a,t),s=["children",""+a]):Rc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ue("scroll",r)}switch(n){case"input":nd(r),rE(r,i,!0);break;case"textarea":nd(r),iE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=xh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=O1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[wr]=e,t[Uc]=r,sI(t,e,!1,!1),e.stateNode=t;e:{switch(o=Eg(n,r),n){case"dialog":Ue("cancel",t),Ue("close",t),s=r;break;case"iframe":case"object":case"embed":Ue("load",t),s=r;break;case"video":case"audio":for(s=0;s<ec.length;s++)Ue(ec[s],t);s=r;break;case"source":Ue("error",t),s=r;break;case"img":case"image":case"link":Ue("error",t),Ue("load",t),s=r;break;case"details":Ue("toggle",t),s=r;break;case"input":nE(t,r),s=mg(t,r),Ue("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Xe({},r,{value:void 0}),Ue("invalid",t);break;case"textarea":sE(t,r),s=vg(t,r),Ue("invalid",t);break;default:s=r}_g(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?L1(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&M1(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&kc(t,l):typeof l=="number"&&kc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Rc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ue("scroll",t):l!=null&&xv(t,i,l,o))}switch(n){case"input":nd(t),rE(t,r,!1);break;case"textarea":nd(t),iE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+hi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ya(t,!!r.multiple,i,!1):r.defaultValue!=null&&ya(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=xh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Lt(e),null;case 6:if(t&&e.stateNode!=null)oI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=eo($c.current),eo(Tr.current),dd(e)){if(r=e.stateNode,n=e.memoizedProps,r[wr]=e,(i=r.nodeValue!==n)&&(t=wn,t!==null))switch(t.tag){case 3:ud(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ud(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wr]=e,e.stateNode=r}return Lt(e),null;case 13:if(ze(qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&yn!==null&&e.mode&1&&!(e.flags&128))SC(),Ba(),e.flags|=98560,i=!1;else if(i=dd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[wr]=e}else Ba(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Lt(e),i=!1}else Jn!==null&&(ty(Jn),Jn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||qe.current&1?gt===0&&(gt=3):s0())),e.updateQueue!==null&&(e.flags|=4),Lt(e),null);case 4:return za(),Kg(t,e),t===null&&jc(e.stateNode.containerInfo),Lt(e),null;case 10:return Bv(e.type._context),Lt(e),null;case 17:return dn(e.type)&&Th(),Lt(e),null;case 19:if(ze(qe),i=e.memoizedState,i===null)return Lt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Hl(i,!1);else{if(gt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Rh(t),o!==null){for(e.flags|=128,Hl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ve(qe,qe.current&1|2),e.child}t=t.sibling}i.tail!==null&&it()>Ha&&(e.flags|=128,r=!0,Hl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Rh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!He)return Lt(e),null}else 2*it()-i.renderingStartTime>Ha&&n!==1073741824&&(e.flags|=128,r=!0,Hl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=it(),e.sibling=null,n=qe.current,Ve(qe,r?n&1|2:n&1),e):(Lt(e),null);case 22:case 23:return r0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?mn&1073741824&&(Lt(e),e.subtreeFlags&6&&(e.flags|=8192)):Lt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function ZM(t,e){switch(Lv(e),e.tag){case 1:return dn(e.type)&&Th(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return za(),ze(un),ze(Wt),Gv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Hv(e),null;case 13:if(ze(qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Ba()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ze(qe),null;case 4:return za(),null;case 10:return Bv(e.type._context),null;case 22:case 23:return r0(),null;case 24:return null;default:return null}}var pd=!1,Bt=!1,eV=typeof WeakSet=="function"?WeakSet:Set,Q=null;function aa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nt(t,e,r)}else n.current=null}function qg(t,e,n){try{n()}catch(r){nt(t,e,r)}}var qE=!1;function tV(t,e){if(kg=wh,t=dC(),Mv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++d===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ng={focusedElem:t,selectionRange:n},wh=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var g=S.memoizedProps,E=S.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:Kn(e.type,g),E);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(A){nt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return S=qE,qE=!1,S}function yc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&qg(e,n,i)}s=s.next}while(s!==r)}}function Of(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Qg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function aI(t){var e=t.alternate;e!==null&&(t.alternate=null,aI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wr],delete e[Uc],delete e[Mg],delete e[LM],delete e[jM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lI(t){return t.tag===5||t.tag===3||t.tag===4}function QE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xh));else if(r!==4&&(t=t.child,t!==null))for(Yg(t,e,n),t=t.sibling;t!==null;)Yg(t,e,n),t=t.sibling}function Xg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Xg(t,e,n),t=t.sibling;t!==null;)Xg(t,e,n),t=t.sibling}var At=null,Xn=!1;function Ts(t,e,n){for(n=n.child;n!==null;)cI(t,e,n),n=n.sibling}function cI(t,e,n){if(xr&&typeof xr.onCommitFiberUnmount=="function")try{xr.onCommitFiberUnmount(Cf,n)}catch{}switch(n.tag){case 5:Bt||aa(n,e);case 6:var r=At,s=Xn;At=null,Ts(t,e,n),At=r,Xn=s,At!==null&&(Xn?(t=At,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):At.removeChild(n.stateNode));break;case 18:At!==null&&(Xn?(t=At,n=n.stateNode,t.nodeType===8?hm(t.parentNode,n):t.nodeType===1&&hm(t,n),Mc(t)):hm(At,n.stateNode));break;case 4:r=At,s=Xn,At=n.stateNode.containerInfo,Xn=!0,Ts(t,e,n),At=r,Xn=s;break;case 0:case 11:case 14:case 15:if(!Bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&qg(n,e,o),s=s.next}while(s!==r)}Ts(t,e,n);break;case 1:if(!Bt&&(aa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){nt(n,e,a)}Ts(t,e,n);break;case 21:Ts(t,e,n);break;case 22:n.mode&1?(Bt=(r=Bt)||n.memoizedState!==null,Ts(t,e,n),Bt=r):Ts(t,e,n);break;default:Ts(t,e,n)}}function YE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new eV),e.forEach(function(r){var s=uV.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function zn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:At=a.stateNode,Xn=!1;break e;case 3:At=a.stateNode.containerInfo,Xn=!0;break e;case 4:At=a.stateNode.containerInfo,Xn=!0;break e}a=a.return}if(At===null)throw Error(z(160));cI(i,o,s),At=null,Xn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){nt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)uI(e,t),e=e.sibling}function uI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zn(e,t),fr(t),r&4){try{yc(3,t,t.return),Of(3,t)}catch(g){nt(t,t.return,g)}try{yc(5,t,t.return)}catch(g){nt(t,t.return,g)}}break;case 1:zn(e,t),fr(t),r&512&&n!==null&&aa(n,n.return);break;case 5:if(zn(e,t),fr(t),r&512&&n!==null&&aa(n,n.return),t.flags&32){var s=t.stateNode;try{kc(s,"")}catch(g){nt(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&N1(s,i),Eg(a,o);var c=Eg(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?L1(s,h):d==="dangerouslySetInnerHTML"?M1(s,h):d==="children"?kc(s,h):xv(s,d,h,c)}switch(a){case"input":gg(s,i);break;case"textarea":D1(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ya(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?ya(s,!!i.multiple,i.defaultValue,!0):ya(s,!!i.multiple,i.multiple?[]:"",!1))}s[Uc]=i}catch(g){nt(t,t.return,g)}}break;case 6:if(zn(e,t),fr(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){nt(t,t.return,g)}}break;case 3:if(zn(e,t),fr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Mc(e.containerInfo)}catch(g){nt(t,t.return,g)}break;case 4:zn(e,t),fr(t);break;case 13:zn(e,t),fr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(t0=it())),r&4&&YE(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Bt=(c=Bt)||d,zn(e,t),Bt=c):zn(e,t),fr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Q=t,d=t.child;d!==null;){for(h=Q=d;Q!==null;){switch(f=Q,p=f.child,f.tag){case 0:case 11:case 14:case 15:yc(4,f,f.return);break;case 1:aa(f,f.return);var S=f.stateNode;if(typeof S.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(g){nt(r,n,g)}}break;case 5:aa(f,f.return);break;case 22:if(f.memoizedState!==null){JE(h);continue}}p!==null?(p.return=f,Q=p):JE(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=V1("display",o))}catch(g){nt(t,t.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){nt(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:zn(e,t),fr(t),r&4&&YE(t);break;case 21:break;default:zn(e,t),fr(t)}}function fr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(lI(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(kc(s,""),r.flags&=-33);var i=QE(t);Xg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=QE(t);Yg(t,a,o);break;default:throw Error(z(161))}}catch(l){nt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nV(t,e,n){Q=t,dI(t)}function dI(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var s=Q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||pd;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Bt;a=pd;var c=Bt;if(pd=o,(Bt=l)&&!c)for(Q=s;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?ZE(s):l!==null?(l.return=o,Q=l):ZE(s);for(;i!==null;)Q=i,dI(i),i=i.sibling;Q=s,pd=a,Bt=c}XE(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Q=i):XE(t)}}function XE(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bt||Of(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Bt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Kn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ME(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ME(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Mc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Bt||e.flags&512&&Qg(e)}catch(f){nt(e,e.return,f)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function JE(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function ZE(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Of(4,e)}catch(l){nt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){nt(e,s,l)}}var i=e.return;try{Qg(e)}catch(l){nt(e,i,l)}break;case 5:var o=e.return;try{Qg(e)}catch(l){nt(e,o,l)}}}catch(l){nt(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var rV=Math.ceil,Dh=ps.ReactCurrentDispatcher,Zv=ps.ReactCurrentOwner,Ln=ps.ReactCurrentBatchConfig,Ie=0,Ct=null,ct=null,Nt=0,mn=0,la=Pi(0),gt=0,Gc=null,wo=0,Mf=0,e0=0,vc=null,an=null,t0=0,Ha=1/0,Gr=null,Oh=!1,Jg=null,ti=null,md=!1,Gs=null,Mh=0,wc=0,Zg=null,Kd=-1,qd=0;function Zt(){return Ie&6?it():Kd!==-1?Kd:Kd=it()}function ni(t){return t.mode&1?Ie&2&&Nt!==0?Nt&-Nt:UM.transition!==null?(qd===0&&(qd=Q1()),qd):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:nC(t.type)),t):1}function nr(t,e,n,r){if(50<wc)throw wc=0,Zg=null,Error(z(185));wu(t,n,r),(!(Ie&2)||t!==Ct)&&(t===Ct&&(!(Ie&2)&&(Mf|=n),gt===4&&Os(t,Nt)),hn(t,r),n===1&&Ie===0&&!(e.mode&1)&&(Ha=it()+500,kf&&Ri()))}function hn(t,e){var n=t.callbackNode;UO(t,e);var r=vh(t,t===Ct?Nt:0);if(r===0)n!==null&&lE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&lE(n),e===1)t.tag===0?FM(ex.bind(null,t)):EC(ex.bind(null,t)),MM(function(){!(Ie&6)&&Ri()}),n=null;else{switch(Y1(r)){case 1:n=Iv;break;case 4:n=K1;break;case 16:n=yh;break;case 536870912:n=q1;break;default:n=yh}n=wI(n,hI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function hI(t,e){if(Kd=-1,qd=0,Ie&6)throw Error(z(327));var n=t.callbackNode;if(xa()&&t.callbackNode!==n)return null;var r=vh(t,t===Ct?Nt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Vh(t,r);else{e=r;var s=Ie;Ie|=2;var i=pI();(Ct!==t||Nt!==e)&&(Gr=null,Ha=it()+500,uo(t,e));do try{oV();break}catch(a){fI(t,a)}while(!0);Uv(),Dh.current=i,Ie=s,ct!==null?e=0:(Ct=null,Nt=0,e=gt)}if(e!==0){if(e===2&&(s=Cg(t),s!==0&&(r=s,e=ey(t,s))),e===1)throw n=Gc,uo(t,0),Os(t,r),hn(t,it()),n;if(e===6)Os(t,r);else{if(s=t.current.alternate,!(r&30)&&!sV(s)&&(e=Vh(t,r),e===2&&(i=Cg(t),i!==0&&(r=i,e=ey(t,i))),e===1))throw n=Gc,uo(t,0),Os(t,r),hn(t,it()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Ki(t,an,Gr);break;case 3:if(Os(t,r),(r&130023424)===r&&(e=t0+500-it(),10<e)){if(vh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Zt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Og(Ki.bind(null,t,an,Gr),e);break}Ki(t,an,Gr);break;case 4:if(Os(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-tr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=it()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rV(r/1960))-r,10<r){t.timeoutHandle=Og(Ki.bind(null,t,an,Gr),r);break}Ki(t,an,Gr);break;case 5:Ki(t,an,Gr);break;default:throw Error(z(329))}}}return hn(t,it()),t.callbackNode===n?hI.bind(null,t):null}function ey(t,e){var n=vc;return t.current.memoizedState.isDehydrated&&(uo(t,e).flags|=256),t=Vh(t,e),t!==2&&(e=an,an=n,e!==null&&ty(e)),t}function ty(t){an===null?an=t:an.push.apply(an,t)}function sV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!rr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Os(t,e){for(e&=~e0,e&=~Mf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tr(e),r=1<<n;t[n]=-1,e&=~r}}function ex(t){if(Ie&6)throw Error(z(327));xa();var e=vh(t,0);if(!(e&1))return hn(t,it()),null;var n=Vh(t,e);if(t.tag!==0&&n===2){var r=Cg(t);r!==0&&(e=r,n=ey(t,r))}if(n===1)throw n=Gc,uo(t,0),Os(t,e),hn(t,it()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ki(t,an,Gr),hn(t,it()),null}function n0(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(Ha=it()+500,kf&&Ri())}}function _o(t){Gs!==null&&Gs.tag===0&&!(Ie&6)&&xa();var e=Ie;Ie|=1;var n=Ln.transition,r=Ne;try{if(Ln.transition=null,Ne=1,t)return t()}finally{Ne=r,Ln.transition=n,Ie=e,!(Ie&6)&&Ri()}}function r0(){mn=la.current,ze(la)}function uo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,OM(n)),ct!==null)for(n=ct.return;n!==null;){var r=n;switch(Lv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Th();break;case 3:za(),ze(un),ze(Wt),Gv();break;case 5:Hv(r);break;case 4:za();break;case 13:ze(qe);break;case 19:ze(qe);break;case 10:Bv(r.type._context);break;case 22:case 23:r0()}n=n.return}if(Ct=t,ct=t=ri(t.current,null),Nt=mn=e,gt=0,Gc=null,e0=Mf=wo=0,an=vc=null,Zi!==null){for(e=0;e<Zi.length;e++)if(n=Zi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Zi=null}return t}function fI(t,e){do{var n=ct;try{if(Uv(),Wd.current=Nh,kh){for(var r=Ye.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}kh=!1}if(vo=0,bt=pt=Ye=null,gc=!1,zc=0,Zv.current=null,n===null||n.return===null){gt=1,Gc=e,ct=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Nt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=BE(o);if(p!==null){p.flags&=-257,$E(p,o,a,i,e),p.mode&1&&UE(i,c,e),e=p,l=c;var S=e.updateQueue;if(S===null){var g=new Set;g.add(l),e.updateQueue=g}else S.add(l);break e}else{if(!(e&1)){UE(i,c,e),s0();break e}l=Error(z(426))}}else if(He&&a.mode&1){var E=BE(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),$E(E,o,a,i,e),jv(Wa(l,a));break e}}i=l=Wa(l,a),gt!==4&&(gt=2),vc===null?vc=[i]:vc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=YC(i,l,e);OE(i,v);break e;case 1:a=l;var w=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ti===null||!ti.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=XC(i,a,e);OE(i,A);break e}}i=i.return}while(i!==null)}gI(n)}catch(R){e=R,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(!0)}function pI(){var t=Dh.current;return Dh.current=Nh,t===null?Nh:t}function s0(){(gt===0||gt===3||gt===2)&&(gt=4),Ct===null||!(wo&268435455)&&!(Mf&268435455)||Os(Ct,Nt)}function Vh(t,e){var n=Ie;Ie|=2;var r=pI();(Ct!==t||Nt!==e)&&(Gr=null,uo(t,e));do try{iV();break}catch(s){fI(t,s)}while(!0);if(Uv(),Ie=n,Dh.current=r,ct!==null)throw Error(z(261));return Ct=null,Nt=0,gt}function iV(){for(;ct!==null;)mI(ct)}function oV(){for(;ct!==null&&!kO();)mI(ct)}function mI(t){var e=vI(t.alternate,t,mn);t.memoizedProps=t.pendingProps,e===null?gI(t):ct=e,Zv.current=null}function gI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ZM(n,e),n!==null){n.flags&=32767,ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gt=6,ct=null;return}}else if(n=JM(n,e,mn),n!==null){ct=n;return}if(e=e.sibling,e!==null){ct=e;return}ct=e=t}while(e!==null);gt===0&&(gt=5)}function Ki(t,e,n){var r=Ne,s=Ln.transition;try{Ln.transition=null,Ne=1,aV(t,e,n,r)}finally{Ln.transition=s,Ne=r}return null}function aV(t,e,n,r){do xa();while(Gs!==null);if(Ie&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(BO(t,i),t===Ct&&(ct=Ct=null,Nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||md||(md=!0,wI(yh,function(){return xa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ln.transition,Ln.transition=null;var o=Ne;Ne=1;var a=Ie;Ie|=4,Zv.current=null,tV(t,n),uI(n,t),IM(Ng),wh=!!kg,Ng=kg=null,t.current=n,nV(n),NO(),Ie=a,Ne=o,Ln.transition=i}else t.current=n;if(md&&(md=!1,Gs=t,Mh=s),i=t.pendingLanes,i===0&&(ti=null),MO(n.stateNode),hn(t,it()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Oh)throw Oh=!1,t=Jg,Jg=null,t;return Mh&1&&t.tag!==0&&xa(),i=t.pendingLanes,i&1?t===Zg?wc++:(wc=0,Zg=t):wc=0,Ri(),null}function xa(){if(Gs!==null){var t=Y1(Mh),e=Ln.transition,n=Ne;try{if(Ln.transition=null,Ne=16>t?16:t,Gs===null)var r=!1;else{if(t=Gs,Gs=null,Mh=0,Ie&6)throw Error(z(331));var s=Ie;for(Ie|=4,Q=t.current;Q!==null;){var i=Q,o=i.child;if(Q.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Q=c;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:yc(8,d,i)}var h=d.child;if(h!==null)h.return=d,Q=h;else for(;Q!==null;){d=Q;var f=d.sibling,p=d.return;if(aI(d),d===c){Q=null;break}if(f!==null){f.return=p,Q=f;break}Q=p}}}var S=i.alternate;if(S!==null){var g=S.child;if(g!==null){S.child=null;do{var E=g.sibling;g.sibling=null,g=E}while(g!==null)}}Q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Q=o;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:yc(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Q=v;break e}Q=i.return}}var w=t.current;for(Q=w;Q!==null;){o=Q;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,Q=T;else e:for(o=w;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Of(9,a)}}catch(R){nt(a,a.return,R)}if(a===o){Q=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,Q=A;break e}Q=a.return}}if(Ie=s,Ri(),xr&&typeof xr.onPostCommitFiberRoot=="function")try{xr.onPostCommitFiberRoot(Cf,t)}catch{}r=!0}return r}finally{Ne=n,Ln.transition=e}}return!1}function tx(t,e,n){e=Wa(n,e),e=YC(t,e,1),t=ei(t,e,1),e=Zt(),t!==null&&(wu(t,1,e),hn(t,e))}function nt(t,e,n){if(t.tag===3)tx(t,t,n);else for(;e!==null;){if(e.tag===3){tx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ti===null||!ti.has(r))){t=Wa(n,t),t=XC(e,t,1),e=ei(e,t,1),t=Zt(),e!==null&&(wu(e,1,t),hn(e,t));break}}e=e.return}}function lV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zt(),t.pingedLanes|=t.suspendedLanes&n,Ct===t&&(Nt&n)===n&&(gt===4||gt===3&&(Nt&130023424)===Nt&&500>it()-t0?uo(t,0):e0|=n),hn(t,e)}function yI(t,e){e===0&&(t.mode&1?(e=id,id<<=1,!(id&130023424)&&(id=4194304)):e=1);var n=Zt();t=ss(t,e),t!==null&&(wu(t,e,n),hn(t,n))}function cV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),yI(t,n)}function uV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),yI(t,n)}var vI;vI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||un.current)cn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return cn=!1,XM(t,e,n);cn=!!(t.flags&131072)}else cn=!1,He&&e.flags&1048576&&xC(e,Ch,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gd(t,e),t=e.pendingProps;var s=Ua(e,Wt.current);Ea(e,n),s=qv(null,e,r,t,s,n);var i=Qv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dn(r)?(i=!0,Sh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,zv(e),s.updater=Df,e.stateNode=s,s._reactInternals=e,Bg(e,r,t,n),e=Wg(null,e,r,!0,i,n)):(e.tag=0,He&&i&&Vv(e),Xt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=hV(r),t=Kn(r,t),s){case 0:e=zg(null,e,r,t,n);break e;case 1:e=HE(null,e,r,t,n);break e;case 11:e=zE(null,e,r,t,n);break e;case 14:e=WE(null,e,r,Kn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kn(r,s),zg(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kn(r,s),HE(t,e,r,s,n);case 3:e:{if(tI(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,AC(t,e),Ph(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Wa(Error(z(423)),e),e=GE(t,e,r,n,s);break e}else if(r!==s){s=Wa(Error(z(424)),e),e=GE(t,e,r,n,s);break e}else for(yn=Zs(e.stateNode.containerInfo.firstChild),wn=e,He=!0,Jn=null,n=CC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ba(),r===s){e=is(t,e,n);break e}Xt(t,e,r,n)}e=e.child}return e;case 5:return PC(e),t===null&&jg(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Dg(r,s)?o=null:i!==null&&Dg(r,i)&&(e.flags|=32),eI(t,e),Xt(t,e,o,n),e.child;case 6:return t===null&&jg(e),null;case 13:return nI(t,e,n);case 4:return Wv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$a(e,null,r,n):Xt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kn(r,s),zE(t,e,r,s,n);case 7:return Xt(t,e,e.pendingProps,n),e.child;case 8:return Xt(t,e,e.pendingProps.children,n),e.child;case 12:return Xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ve(Ih,r._currentValue),r._currentValue=o,i!==null)if(rr(i.value,o)){if(i.children===s.children&&!un.current){e=is(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Zr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Fg(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Fg(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Xt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ea(e,n),s=jn(s),r=r(s),e.flags|=1,Xt(t,e,r,n),e.child;case 14:return r=e.type,s=Kn(r,e.pendingProps),s=Kn(r.type,s),WE(t,e,r,s,n);case 15:return JC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kn(r,s),Gd(t,e),e.tag=1,dn(r)?(t=!0,Sh(e)):t=!1,Ea(e,n),QC(e,r,s),Bg(e,r,s,n),Wg(null,e,r,!0,t,n);case 19:return rI(t,e,n);case 22:return ZC(t,e,n)}throw Error(z(156,e.tag))};function wI(t,e){return G1(t,e)}function dV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,e,n,r){return new dV(t,e,n,r)}function i0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hV(t){if(typeof t=="function")return i0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Sv)return 11;if(t===bv)return 14}return 2}function ri(t,e){var n=t.alternate;return n===null?(n=Vn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")i0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Jo:return ho(n.children,s,i,e);case Tv:o=8,s|=8;break;case dg:return t=Vn(12,n,e,s|2),t.elementType=dg,t.lanes=i,t;case hg:return t=Vn(13,n,e,s),t.elementType=hg,t.lanes=i,t;case fg:return t=Vn(19,n,e,s),t.elementType=fg,t.lanes=i,t;case P1:return Vf(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case I1:o=10;break e;case A1:o=9;break e;case Sv:o=11;break e;case bv:o=14;break e;case ks:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=Vn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ho(t,e,n,r){return t=Vn(7,t,r,e),t.lanes=n,t}function Vf(t,e,n,r){return t=Vn(22,t,r,e),t.elementType=P1,t.lanes=n,t.stateNode={isHidden:!1},t}function _m(t,e,n){return t=Vn(6,t,null,e),t.lanes=n,t}function Em(t,e,n){return e=Vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function fV(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tm(0),this.expirationTimes=tm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function o0(t,e,n,r,s,i,o,a,l){return t=new fV(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Vn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zv(i),t}function pV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function _I(t){if(!t)return fi;t=t._reactInternals;e:{if(ko(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(dn(n))return _C(t,n,e)}return e}function EI(t,e,n,r,s,i,o,a,l){return t=o0(n,r,!0,t,s,i,o,a,l),t.context=_I(null),n=t.current,r=Zt(),s=ni(n),i=Zr(r,s),i.callback=e??null,ei(n,i,s),t.current.lanes=s,wu(t,s,r),hn(t,r),t}function Lf(t,e,n,r){var s=e.current,i=Zt(),o=ni(s);return n=_I(n),e.context===null?e.context=n:e.pendingContext=n,e=Zr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ei(s,e,o),t!==null&&(nr(t,s,o,i),zd(t,s,o)),o}function Lh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function a0(t,e){nx(t,e),(t=t.alternate)&&nx(t,e)}function mV(){return null}var xI=typeof reportError=="function"?reportError:function(t){console.error(t)};function l0(t){this._internalRoot=t}jf.prototype.render=l0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Lf(t,e,null,null)};jf.prototype.unmount=l0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_o(function(){Lf(null,t,null,null)}),e[rs]=null}};function jf(t){this._internalRoot=t}jf.prototype.unstable_scheduleHydration=function(t){if(t){var e=Z1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ds.length&&e!==0&&e<Ds[n].priority;n++);Ds.splice(n,0,t),n===0&&tC(t)}};function c0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ff(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rx(){}function gV(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Lh(o);i.call(c)}}var o=EI(e,r,t,0,null,!1,!1,"",rx);return t._reactRootContainer=o,t[rs]=o.current,jc(t.nodeType===8?t.parentNode:t),_o(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Lh(l);a.call(c)}}var l=o0(t,0,!1,null,null,!1,!1,"",rx);return t._reactRootContainer=l,t[rs]=l.current,jc(t.nodeType===8?t.parentNode:t),_o(function(){Lf(e,l,n,r)}),l}function Uf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Lh(o);a.call(l)}}Lf(e,o,t,s)}else o=gV(n,e,t,s,r);return Lh(o)}X1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Zl(e.pendingLanes);n!==0&&(Av(e,n|1),hn(e,it()),!(Ie&6)&&(Ha=it()+500,Ri()))}break;case 13:_o(function(){var r=ss(t,1);if(r!==null){var s=Zt();nr(r,t,1,s)}}),a0(t,1)}};Pv=function(t){if(t.tag===13){var e=ss(t,134217728);if(e!==null){var n=Zt();nr(e,t,134217728,n)}a0(t,134217728)}};J1=function(t){if(t.tag===13){var e=ni(t),n=ss(t,e);if(n!==null){var r=Zt();nr(n,t,e,r)}a0(t,e)}};Z1=function(){return Ne};eC=function(t,e){var n=Ne;try{return Ne=t,e()}finally{Ne=n}};Tg=function(t,e,n){switch(e){case"input":if(gg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Rf(r);if(!s)throw Error(z(90));k1(r),gg(r,s)}}}break;case"textarea":D1(t,n);break;case"select":e=n.value,e!=null&&ya(t,!!n.multiple,e,!1)}};U1=n0;B1=_o;var yV={usingClientEntryPoint:!1,Events:[Eu,na,Rf,j1,F1,n0]},Gl={findFiberByHostInstance:Ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vV={bundleType:Gl.bundleType,version:Gl.version,rendererPackageName:Gl.rendererPackageName,rendererConfig:Gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ps.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=W1(t),t===null?null:t.stateNode},findFiberByHostInstance:Gl.findFiberByHostInstance||mV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gd.isDisabled&&gd.supportsFiber)try{Cf=gd.inject(vV),xr=gd}catch{}}bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yV;bn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c0(e))throw Error(z(200));return pV(t,e,null,n)};bn.createRoot=function(t,e){if(!c0(t))throw Error(z(299));var n=!1,r="",s=xI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=o0(t,1,!1,null,null,n,!1,r,s),t[rs]=e.current,jc(t.nodeType===8?t.parentNode:t),new l0(e)};bn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=W1(e),t=t===null?null:t.stateNode,t};bn.flushSync=function(t){return _o(t)};bn.hydrate=function(t,e,n){if(!Ff(e))throw Error(z(200));return Uf(null,t,e,!0,n)};bn.hydrateRoot=function(t,e,n){if(!c0(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=xI;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=EI(e,null,t,1,n??null,s,!1,i,o),t[rs]=e.current,jc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new jf(e)};bn.render=function(t,e,n){if(!Ff(e))throw Error(z(200));return Uf(null,t,e,!1,n)};bn.unmountComponentAtNode=function(t){if(!Ff(t))throw Error(z(40));return t._reactRootContainer?(_o(function(){Uf(null,null,t,!1,function(){t._reactRootContainer=null,t[rs]=null})}),!0):!1};bn.unstable_batchedUpdates=n0;bn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ff(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Uf(t,e,n,!1,r)};bn.version="18.3.1-next-f1338f8080-20240426";function TI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TI)}catch(t){console.error(t)}}TI(),T1.exports=bn;var al=T1.exports;const SI=d1(al);var bI,sx=al;bI=sx.createRoot,sx.hydrateRoot;var wV=(t,e,n,r,s,i,o,a)=>{let l=document.documentElement,c=["light","dark"];function d(p){(Array.isArray(t)?t:[t]).forEach(S=>{let g=S==="class",E=g&&i?s.map(v=>i[v]||v):s;g?(l.classList.remove(...E),l.classList.add(i&&i[p]?i[p]:p)):l.setAttribute(S,p)}),h(p)}function h(p){a&&c.includes(p)&&(l.style.colorScheme=p)}function f(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)d(r);else try{let p=localStorage.getItem(e)||n,S=o&&p==="system"?f():p;d(S)}catch{}},_V=y.createContext(void 0),EV={setTheme:t=>{},themes:[]},xV=()=>{var t;return(t=y.useContext(_V))!=null?t:EV};y.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,themes:a,nonce:l,scriptProps:c})=>{let d=JSON.stringify([n,e,i,t,a,o,r,s]).slice(1,-1);return y.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${wV.toString()})(${d})`}})});var TV=t=>{switch(t){case"success":return CV;case"info":return AV;case"warning":return IV;case"error":return PV;default:return null}},SV=Array(12).fill(0),bV=({visible:t,className:e})=>W.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},W.createElement("div",{className:"sonner-spinner"},SV.map((n,r)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),CV=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),IV=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),AV=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),PV=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),RV=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),kV=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},ny=1,NV=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:ny++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async c=>{if(o=["resolve",c],W.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(OV(c)&&!c.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:d,description:h})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(c):n.success,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:d,description:h})}}).catch(async c=>{if(o=["reject",c],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(c):n.error,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:d,description:h})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),l=()=>new Promise((c,d)=>a.then(()=>o[0]==="reject"?d(o[1]):c(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||ny++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},sn=new NV,DV=(t,e)=>{let n=(e==null?void 0:e.id)||ny++;return sn.addToast({title:t,...e,id:n}),n},OV=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",MV=DV,VV=()=>sn.toasts,LV=()=>sn.getActiveToasts(),to=Object.assign(MV,{success:sn.success,info:sn.info,warning:sn.warning,error:sn.error,custom:sn.custom,message:sn.message,promise:sn.promise,dismiss:sn.dismiss,loading:sn.loading},{getHistory:VV,getToasts:LV});function jV(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}jV(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function yd(t){return t.label!==void 0}var FV=3,UV="32px",BV="16px",ix=4e3,$V=356,zV=14,WV=20,HV=200;function Wn(...t){return t.filter(Boolean).join(" ")}function GV(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var KV=t=>{var e,n,r,s,i,o,a,l,c,d,h;let{invert:f,toast:p,unstyled:S,interacting:g,setHeights:E,visibleToasts:v,heights:w,index:T,toasts:A,expanded:R,removeToast:M,defaultRichColors:C,closeButton:b,style:I,cancelButtonStyle:k,actionButtonStyle:N,className:O="",descriptionClassName:D="",duration:Y,position:ue,gap:J,loadingIcon:X,expandByDefault:j,classNames:U,icons:G,closeButtonAriaLabel:ie="Close toast",pauseWhenPageIsHidden:ee}=t,[me,le]=W.useState(null),[ke,Oe]=W.useState(null),[K,be]=W.useState(!1),[Le,Ce]=W.useState(!1),[ve,xe]=W.useState(!1),[at,qt]=W.useState(!1),[Br,In]=W.useState(!1),[Un,ms]=W.useState(0),[Ke,wt]=W.useState(0),ar=W.useRef(p.duration||Y||ix),Uu=W.useRef(null),lr=W.useRef(null),Dp=T===0,ji=T+1<=v,Qt=p.type,$r=p.dismissible!==!1,bl=p.className||"",Op=p.descriptionClassName||"",Lo=W.useMemo(()=>w.findIndex(re=>re.toastId===p.id)||0,[w,p.id]),Bu=W.useMemo(()=>{var re;return(re=p.closeButton)!=null?re:b},[p.closeButton,b]),Cl=W.useMemo(()=>p.duration||Y||ix,[p.duration,Y]),zr=W.useRef(0),cr=W.useRef(0),jo=W.useRef(0),nn=W.useRef(null),[$u,Fo]=ue.split("-"),Il=W.useMemo(()=>w.reduce((re,Pe,Me)=>Me>=Lo?re:re+Pe.height,0),[w,Lo]),gs=kV(),zu=p.invert||f,ht=Qt==="loading";cr.current=W.useMemo(()=>Lo*J+Il,[Lo,Il]),W.useEffect(()=>{ar.current=Cl},[Cl]),W.useEffect(()=>{be(!0)},[]),W.useEffect(()=>{let re=lr.current;if(re){let Pe=re.getBoundingClientRect().height;return wt(Pe),E(Me=>[{toastId:p.id,height:Pe,position:p.position},...Me]),()=>E(Me=>Me.filter(_t=>_t.toastId!==p.id))}},[E,p.id]),W.useLayoutEffect(()=>{if(!K)return;let re=lr.current,Pe=re.style.height;re.style.height="auto";let Me=re.getBoundingClientRect().height;re.style.height=Pe,wt(Me),E(_t=>_t.find(fn=>fn.toastId===p.id)?_t.map(fn=>fn.toastId===p.id?{...fn,height:Me}:fn):[{toastId:p.id,height:Me,position:p.position},..._t])},[K,p.title,p.description,E,p.id]);let Bn=W.useCallback(()=>{Ce(!0),ms(cr.current),E(re=>re.filter(Pe=>Pe.toastId!==p.id)),setTimeout(()=>{M(p)},HV)},[p,M,E,cr]);W.useEffect(()=>{if(p.promise&&Qt==="loading"||p.duration===1/0||p.type==="loading")return;let re;return R||g||ee&&gs?(()=>{if(jo.current<zr.current){let Pe=new Date().getTime()-zr.current;ar.current=ar.current-Pe}jo.current=new Date().getTime()})():ar.current!==1/0&&(zr.current=new Date().getTime(),re=setTimeout(()=>{var Pe;(Pe=p.onAutoClose)==null||Pe.call(p,p),Bn()},ar.current)),()=>clearTimeout(re)},[R,g,p,Qt,ee,gs,Bn]),W.useEffect(()=>{p.delete&&Bn()},[Bn,p.delete]);function Fi(){var re,Pe,Me;return G!=null&&G.loading?W.createElement("div",{className:Wn(U==null?void 0:U.loader,(re=p==null?void 0:p.classNames)==null?void 0:re.loader,"sonner-loader"),"data-visible":Qt==="loading"},G.loading):X?W.createElement("div",{className:Wn(U==null?void 0:U.loader,(Pe=p==null?void 0:p.classNames)==null?void 0:Pe.loader,"sonner-loader"),"data-visible":Qt==="loading"},X):W.createElement(bV,{className:Wn(U==null?void 0:U.loader,(Me=p==null?void 0:p.classNames)==null?void 0:Me.loader),visible:Qt==="loading"})}return W.createElement("li",{tabIndex:0,ref:lr,className:Wn(O,bl,U==null?void 0:U.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,U==null?void 0:U.default,U==null?void 0:U[Qt],(n=p==null?void 0:p.classNames)==null?void 0:n[Qt]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:C,"data-styled":!(p.jsx||p.unstyled||S),"data-mounted":K,"data-promise":!!p.promise,"data-swiped":Br,"data-removed":Le,"data-visible":ji,"data-y-position":$u,"data-x-position":Fo,"data-index":T,"data-front":Dp,"data-swiping":ve,"data-dismissible":$r,"data-type":Qt,"data-invert":zu,"data-swipe-out":at,"data-swipe-direction":ke,"data-expanded":!!(R||j&&K),style:{"--index":T,"--toasts-before":T,"--z-index":A.length-T,"--offset":`${Le?Un:cr.current}px`,"--initial-height":j?"auto":`${Ke}px`,...I,...p.style},onDragEnd:()=>{xe(!1),le(null),nn.current=null},onPointerDown:re=>{ht||!$r||(Uu.current=new Date,ms(cr.current),re.target.setPointerCapture(re.pointerId),re.target.tagName!=="BUTTON"&&(xe(!0),nn.current={x:re.clientX,y:re.clientY}))},onPointerUp:()=>{var re,Pe,Me,_t;if(at||!$r)return;nn.current=null;let fn=Number(((re=lr.current)==null?void 0:re.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ur=Number(((Pe=lr.current)==null?void 0:Pe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),An=new Date().getTime()-((Me=Uu.current)==null?void 0:Me.getTime()),rn=me==="x"?fn:ur,$n=Math.abs(rn)/An;if(Math.abs(rn)>=WV||$n>.11){ms(cr.current),(_t=p.onDismiss)==null||_t.call(p,p),Oe(me==="x"?fn>0?"right":"left":ur>0?"down":"up"),Bn(),qt(!0),In(!1);return}xe(!1),le(null)},onPointerMove:re=>{var Pe,Me,_t,fn;if(!nn.current||!$r||((Pe=window.getSelection())==null?void 0:Pe.toString().length)>0)return;let ur=re.clientY-nn.current.y,An=re.clientX-nn.current.x,rn=(Me=t.swipeDirections)!=null?Me:GV(ue);!me&&(Math.abs(An)>1||Math.abs(ur)>1)&&le(Math.abs(An)>Math.abs(ur)?"x":"y");let $n={x:0,y:0};me==="y"?(rn.includes("top")||rn.includes("bottom"))&&(rn.includes("top")&&ur<0||rn.includes("bottom")&&ur>0)&&($n.y=ur):me==="x"&&(rn.includes("left")||rn.includes("right"))&&(rn.includes("left")&&An<0||rn.includes("right")&&An>0)&&($n.x=An),(Math.abs($n.x)>0||Math.abs($n.y)>0)&&In(!0),(_t=lr.current)==null||_t.style.setProperty("--swipe-amount-x",`${$n.x}px`),(fn=lr.current)==null||fn.style.setProperty("--swipe-amount-y",`${$n.y}px`)}},Bu&&!p.jsx?W.createElement("button",{"aria-label":ie,"data-disabled":ht,"data-close-button":!0,onClick:ht||!$r?()=>{}:()=>{var re;Bn(),(re=p.onDismiss)==null||re.call(p,p)},className:Wn(U==null?void 0:U.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=G==null?void 0:G.close)!=null?i:RV):null,p.jsx||y.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:W.createElement(W.Fragment,null,Qt||p.icon||p.promise?W.createElement("div",{"data-icon":"",className:Wn(U==null?void 0:U.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Fi():null,p.type!=="loading"?p.icon||(G==null?void 0:G[Qt])||TV(Qt):null):null,W.createElement("div",{"data-content":"",className:Wn(U==null?void 0:U.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},W.createElement("div",{"data-title":"",className:Wn(U==null?void 0:U.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?W.createElement("div",{"data-description":"",className:Wn(D,Op,U==null?void 0:U.description,(c=p==null?void 0:p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),y.isValidElement(p.cancel)?p.cancel:p.cancel&&yd(p.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||k,onClick:re=>{var Pe,Me;yd(p.cancel)&&$r&&((Me=(Pe=p.cancel).onClick)==null||Me.call(Pe,re),Bn())},className:Wn(U==null?void 0:U.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,y.isValidElement(p.action)?p.action:p.action&&yd(p.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||N,onClick:re=>{var Pe,Me;yd(p.action)&&((Me=(Pe=p.action).onClick)==null||Me.call(Pe,re),!re.defaultPrevented&&Bn())},className:Wn(U==null?void 0:U.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function ox(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function qV(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?BV:UV;function l(c){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var QV=y.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:d="light",richColors:h,duration:f,style:p,visibleToasts:S=FV,toastOptions:g,dir:E=ox(),gap:v=zV,loadingIcon:w,icons:T,containerAriaLabel:A="Notifications",pauseWhenPageIsHidden:R}=t,[M,C]=W.useState([]),b=W.useMemo(()=>Array.from(new Set([r].concat(M.filter(ee=>ee.position).map(ee=>ee.position)))),[M,r]),[I,k]=W.useState([]),[N,O]=W.useState(!1),[D,Y]=W.useState(!1),[ue,J]=W.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X=W.useRef(null),j=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=W.useRef(null),G=W.useRef(!1),ie=W.useCallback(ee=>{C(me=>{var le;return(le=me.find(ke=>ke.id===ee.id))!=null&&le.delete||sn.dismiss(ee.id),me.filter(({id:ke})=>ke!==ee.id)})},[]);return W.useEffect(()=>sn.subscribe(ee=>{if(ee.dismiss){C(me=>me.map(le=>le.id===ee.id?{...le,delete:!0}:le));return}setTimeout(()=>{SI.flushSync(()=>{C(me=>{let le=me.findIndex(ke=>ke.id===ee.id);return le!==-1?[...me.slice(0,le),{...me[le],...ee},...me.slice(le+1)]:[ee,...me]})})})}),[]),W.useEffect(()=>{if(d!=="system"){J(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;let ee=window.matchMedia("(prefers-color-scheme: dark)");try{ee.addEventListener("change",({matches:me})=>{J(me?"dark":"light")})}catch{ee.addListener(({matches:le})=>{try{J(le?"dark":"light")}catch(ke){console.error(ke)}})}},[d]),W.useEffect(()=>{M.length<=1&&O(!1)},[M]),W.useEffect(()=>{let ee=me=>{var le,ke;s.every(Oe=>me[Oe]||me.code===Oe)&&(O(!0),(le=X.current)==null||le.focus()),me.code==="Escape"&&(document.activeElement===X.current||(ke=X.current)!=null&&ke.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[s]),W.useEffect(()=>{if(X.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,G.current=!1)}},[X.current]),W.createElement("section",{ref:e,"aria-label":`${A} ${j}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},b.map((ee,me)=>{var le;let[ke,Oe]=ee.split("-");return M.length?W.createElement("ol",{key:ee,dir:E==="auto"?ox():E,tabIndex:-1,ref:X,className:a,"data-sonner-toaster":!0,"data-theme":ue,"data-y-position":ke,"data-lifted":N&&M.length>1&&!i,"data-x-position":Oe,style:{"--front-toast-height":`${((le=I[0])==null?void 0:le.height)||0}px`,"--width":`${$V}px`,"--gap":`${v}px`,...p,...qV(l,c)},onBlur:K=>{G.current&&!K.currentTarget.contains(K.relatedTarget)&&(G.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||G.current||(G.current=!0,U.current=K.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{D||O(!1)},onDragEnd:()=>O(!1),onPointerDown:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||Y(!0)},onPointerUp:()=>Y(!1)},M.filter(K=>!K.position&&me===0||K.position===ee).map((K,be)=>{var Le,Ce;return W.createElement(KV,{key:K.id,icons:T,index:be,toast:K,defaultRichColors:h,duration:(Le=g==null?void 0:g.duration)!=null?Le:f,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:S,closeButton:(Ce=g==null?void 0:g.closeButton)!=null?Ce:o,interacting:D,position:ee,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:ie,toasts:M.filter(ve=>ve.position==K.position),heights:I.filter(ve=>ve.position==K.position),setHeights:k,expandByDefault:i,gap:v,loadingIcon:w,expanded:N,pauseWhenPageIsHidden:R,swipeDirections:t.swipeDirections})})):null}))});const YV=({...t})=>{const{theme:e="system"}=xV();return _.jsx(QV,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function pe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function ax(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ll(...t){return e=>{let n=!1;const r=t.map(s=>{const i=ax(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():ax(t[s],null)}}}}function Ge(...t){return y.useCallback(ll(...t),t)}function XV(t,e){const n=y.createContext(e),r=i=>{const{children:o,...a}=i,l=y.useMemo(()=>a,Object.values(a));return _.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function No(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];const c=h=>{var v;const{scope:f,children:p,...S}=h,g=((v=f==null?void 0:f[t])==null?void 0:v[l])||a,E=y.useMemo(()=>S,Object.values(S));return _.jsx(g.Provider,{value:E,children:p})};c.displayName=i+"Provider";function d(h,f){var g;const p=((g=f==null?void 0:f[t])==null?void 0:g[l])||a,S=y.useContext(p);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,JV(s,...e)]}function JV(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function ZV(t){const e=eL(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(nL);if(l){const c=l.props.children,d=a.map(h=>h===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:h);return _.jsx(e,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,d):null})}return _.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function eL(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=sL(s),a=rL(i,s.props);return s.type!==y.Fragment&&(a.ref=r?ll(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var tL=Symbol("radix.slottable");function nL(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===tL}function rL(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function sL(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var iL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ae=iL.reduce((t,e)=>{const n=ZV(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),_.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function oL(t,e){t&&al.flushSync(()=>t.dispatchEvent(e))}function pi(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function aL(t,e=globalThis==null?void 0:globalThis.document){const n=pi(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var lL="DismissableLayer",ry="dismissableLayer.update",cL="dismissableLayer.pointerDownOutside",uL="dismissableLayer.focusOutside",lx,CI=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Bf=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=y.useContext(CI),[d,h]=y.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=y.useState({}),S=Ge(e,C=>h(C)),g=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(E),w=d?g.indexOf(d):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,A=w>=v,R=fL(C=>{const b=C.target,I=[...c.branches].some(k=>k.contains(b));!A||I||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},f),M=pL(C=>{const b=C.target;[...c.branches].some(k=>k.contains(b))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},f);return aL(C=>{w===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},f),y.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(lx=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),cx(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=lx)}},[d,f,n,c]),y.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),cx())},[d,c]),y.useEffect(()=>{const C=()=>p({});return document.addEventListener(ry,C),()=>document.removeEventListener(ry,C)},[]),_.jsx(Ae.div,{...l,ref:S,style:{pointerEvents:T?A?"auto":"none":void 0,...t.style},onFocusCapture:pe(t.onFocusCapture,M.onFocusCapture),onBlurCapture:pe(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:pe(t.onPointerDownCapture,R.onPointerDownCapture)})});Bf.displayName=lL;var dL="DismissableLayerBranch",hL=y.forwardRef((t,e)=>{const n=y.useContext(CI),r=y.useRef(null),s=Ge(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),_.jsx(Ae.div,{...t,ref:s})});hL.displayName=dL;function fL(t,e=globalThis==null?void 0:globalThis.document){const n=pi(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){II(cL,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function pL(t,e=globalThis==null?void 0:globalThis.document){const n=pi(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&II(uL,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function cx(){const t=new CustomEvent(ry);document.dispatchEvent(t)}function II(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?oL(s,i):s.dispatchEvent(i)}var Ht=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},mL=bf[" useId ".trim().toString()]||(()=>{}),gL=0;function si(t){const[e,n]=y.useState(mL());return Ht(()=>{n(r=>r??String(gL++))},[t]),e?`radix-${e}`:""}const yL=["top","right","bottom","left"],mi=Math.min,gn=Math.max,jh=Math.round,vd=Math.floor,Sr=t=>({x:t,y:t}),vL={left:"right",right:"left",bottom:"top",top:"bottom"},wL={start:"end",end:"start"};function sy(t,e,n){return gn(t,mi(e,n))}function os(t,e){return typeof t=="function"?t(e):t}function as(t){return t.split("-")[0]}function cl(t){return t.split("-")[1]}function u0(t){return t==="x"?"y":"x"}function d0(t){return t==="y"?"height":"width"}const _L=new Set(["top","bottom"]);function Er(t){return _L.has(as(t))?"y":"x"}function h0(t){return u0(Er(t))}function EL(t,e,n){n===void 0&&(n=!1);const r=cl(t),s=h0(t),i=d0(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Fh(o)),[o,Fh(o)]}function xL(t){const e=Fh(t);return[iy(t),e,iy(e)]}function iy(t){return t.replace(/start|end/g,e=>wL[e])}const ux=["left","right"],dx=["right","left"],TL=["top","bottom"],SL=["bottom","top"];function bL(t,e,n){switch(t){case"top":case"bottom":return n?e?dx:ux:e?ux:dx;case"left":case"right":return e?TL:SL;default:return[]}}function CL(t,e,n,r){const s=cl(t);let i=bL(as(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(iy)))),i}function Fh(t){return t.replace(/left|right|bottom|top/g,e=>vL[e])}function IL(t){return{top:0,right:0,bottom:0,left:0,...t}}function AI(t){return typeof t!="number"?IL(t):{top:t,right:t,bottom:t,left:t}}function Uh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function hx(t,e,n){let{reference:r,floating:s}=t;const i=Er(e),o=h0(e),a=d0(o),l=as(e),c=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let p;switch(l){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-s.width,y:h};break;default:p={x:r.x,y:r.y}}switch(cl(e)){case"start":p[o]-=f*(n&&c?-1:1);break;case"end":p[o]+=f*(n&&c?-1:1);break}return p}const AL=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=hx(c,r,l),f=r,p={},S=0;for(let g=0;g<a.length;g++){const{name:E,fn:v}=a[g],{x:w,y:T,data:A,reset:R}=await v({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});d=w??d,h=T??h,p={...p,[E]:{...p[E],...A}},R&&S<=50&&(S++,typeof R=="object"&&(R.placement&&(f=R.placement),R.rects&&(c=R.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):R.rects),{x:d,y:h}=hx(c,f,l)),g=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:p}};async function Kc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=os(e,t),S=AI(p),E=a[f?h==="floating"?"reference":"floating":h],v=Uh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),w=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),A=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},R=Uh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:T,strategy:l}):w);return{top:(v.top-R.top+S.top)/A.y,bottom:(R.bottom-v.bottom+S.bottom)/A.y,left:(v.left-R.left+S.left)/A.x,right:(R.right-v.right+S.right)/A.x}}const PL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=os(t,e)||{};if(c==null)return{};const h=AI(d),f={x:n,y:r},p=h0(s),S=d0(p),g=await o.getDimensions(c),E=p==="y",v=E?"top":"left",w=E?"bottom":"right",T=E?"clientHeight":"clientWidth",A=i.reference[S]+i.reference[p]-f[p]-i.floating[S],R=f[p]-i.reference[p],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=M?M[T]:0;(!C||!await(o.isElement==null?void 0:o.isElement(M)))&&(C=a.floating[T]||i.floating[S]);const b=A/2-R/2,I=C/2-g[S]/2-1,k=mi(h[v],I),N=mi(h[w],I),O=k,D=C-g[S]-N,Y=C/2-g[S]/2+b,ue=sy(O,Y,D),J=!l.arrow&&cl(s)!=null&&Y!==ue&&i.reference[S]/2-(Y<O?k:N)-g[S]/2<0,X=J?Y<O?Y-O:Y-D:0;return{[p]:f[p]+X,data:{[p]:ue,centerOffset:Y-ue-X,...J&&{alignmentOffset:X}},reset:J}}}),RL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:g=!0,...E}=os(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=as(s),w=Er(a),T=as(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),R=f||(T||!g?[Fh(a)]:xL(a)),M=S!=="none";!f&&M&&R.push(...CL(a,g,S,A));const C=[a,...R],b=await Kc(e,E),I=[];let k=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&I.push(b[v]),h){const Y=EL(s,o,A);I.push(b[Y[0]],b[Y[1]])}if(k=[...k,{placement:s,overflows:I}],!I.every(Y=>Y<=0)){var N,O;const Y=(((N=i.flip)==null?void 0:N.index)||0)+1,ue=C[Y];if(ue&&(!(h==="alignment"?w!==Er(ue):!1)||k.every(j=>Er(j.placement)===w?j.overflows[0]>0:!0)))return{data:{index:Y,overflows:k},reset:{placement:ue}};let J=(O=k.filter(X=>X.overflows[0]<=0).sort((X,j)=>X.overflows[1]-j.overflows[1])[0])==null?void 0:O.placement;if(!J)switch(p){case"bestFit":{var D;const X=(D=k.filter(j=>{if(M){const U=Er(j.placement);return U===w||U==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(U=>U>0).reduce((U,G)=>U+G,0)]).sort((j,U)=>j[1]-U[1])[0])==null?void 0:D[0];X&&(J=X);break}case"initialPlacement":J=a;break}if(s!==J)return{reset:{placement:J}}}return{}}}};function fx(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function px(t){return yL.some(e=>t[e]>=0)}const kL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=os(t,e);switch(r){case"referenceHidden":{const i=await Kc(e,{...s,elementContext:"reference"}),o=fx(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:px(o)}}}case"escaped":{const i=await Kc(e,{...s,altBoundary:!0}),o=fx(i,n.floating);return{data:{escapedOffsets:o,escaped:px(o)}}}default:return{}}}}},PI=new Set(["left","top"]);async function NL(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=as(n),a=cl(n),l=Er(n)==="y",c=PI.has(o)?-1:1,d=i&&l?-1:1,h=os(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:S}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof S=="number"&&(p=a==="end"?S*-1:S),l?{x:p*d,y:f*c}:{x:f*c,y:p*d}}const DL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await NL(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},OL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:v,y:w}=E;return{x:v,y:w}}},...l}=os(t,e),c={x:n,y:r},d=await Kc(e,l),h=Er(as(s)),f=u0(h);let p=c[f],S=c[h];if(i){const E=f==="y"?"top":"left",v=f==="y"?"bottom":"right",w=p+d[E],T=p-d[v];p=sy(w,p,T)}if(o){const E=h==="y"?"top":"left",v=h==="y"?"bottom":"right",w=S+d[E],T=S-d[v];S=sy(w,S,T)}const g=a.fn({...e,[f]:p,[h]:S});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:i,[h]:o}}}}}},ML=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=os(t,e),d={x:n,y:r},h=Er(s),f=u0(h);let p=d[f],S=d[h];const g=os(a,e),E=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const T=f==="y"?"height":"width",A=i.reference[f]-i.floating[T]+E.mainAxis,R=i.reference[f]+i.reference[T]-E.mainAxis;p<A?p=A:p>R&&(p=R)}if(c){var v,w;const T=f==="y"?"width":"height",A=PI.has(as(s)),R=i.reference[h]-i.floating[T]+(A&&((v=o.offset)==null?void 0:v[h])||0)+(A?0:E.crossAxis),M=i.reference[h]+i.reference[T]+(A?0:((w=o.offset)==null?void 0:w[h])||0)-(A?E.crossAxis:0);S<R?S=R:S>M&&(S=M)}return{[f]:p,[h]:S}}}},VL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=os(t,e),d=await Kc(e,c),h=as(s),f=cl(s),p=Er(s)==="y",{width:S,height:g}=i.floating;let E,v;h==="top"||h==="bottom"?(E=h,v=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=h,E=f==="end"?"top":"bottom");const w=g-d.top-d.bottom,T=S-d.left-d.right,A=mi(g-d[E],w),R=mi(S-d[v],T),M=!e.middlewareData.shift;let C=A,b=R;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(b=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=w),M&&!f){const k=gn(d.left,0),N=gn(d.right,0),O=gn(d.top,0),D=gn(d.bottom,0);p?b=S-2*(k!==0||N!==0?k+N:gn(d.left,d.right)):C=g-2*(O!==0||D!==0?O+D:gn(d.top,d.bottom))}await l({...e,availableWidth:b,availableHeight:C});const I=await o.getDimensions(a.floating);return S!==I.width||g!==I.height?{reset:{rects:!0}}:{}}}};function $f(){return typeof window<"u"}function ul(t){return RI(t)?(t.nodeName||"").toLowerCase():"#document"}function _n(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function jr(t){var e;return(e=(RI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function RI(t){return $f()?t instanceof Node||t instanceof _n(t).Node:!1}function sr(t){return $f()?t instanceof Element||t instanceof _n(t).Element:!1}function Or(t){return $f()?t instanceof HTMLElement||t instanceof _n(t).HTMLElement:!1}function mx(t){return!$f()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof _n(t).ShadowRoot}const LL=new Set(["inline","contents"]);function Tu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ir(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!LL.has(s)}const jL=new Set(["table","td","th"]);function FL(t){return jL.has(ul(t))}const UL=[":popover-open",":modal"];function zf(t){return UL.some(e=>{try{return t.matches(e)}catch{return!1}})}const BL=["transform","translate","scale","rotate","perspective"],$L=["transform","translate","scale","rotate","perspective","filter"],zL=["paint","layout","strict","content"];function f0(t){const e=p0(),n=sr(t)?ir(t):t;return BL.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||$L.some(r=>(n.willChange||"").includes(r))||zL.some(r=>(n.contain||"").includes(r))}function WL(t){let e=gi(t);for(;Or(e)&&!Ga(e);){if(f0(e))return e;if(zf(e))return null;e=gi(e)}return null}function p0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const HL=new Set(["html","body","#document"]);function Ga(t){return HL.has(ul(t))}function ir(t){return _n(t).getComputedStyle(t)}function Wf(t){return sr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function gi(t){if(ul(t)==="html")return t;const e=t.assignedSlot||t.parentNode||mx(t)&&t.host||jr(t);return mx(e)?e.host:e}function kI(t){const e=gi(t);return Ga(e)?t.ownerDocument?t.ownerDocument.body:t.body:Or(e)&&Tu(e)?e:kI(e)}function qc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=kI(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=_n(s);if(i){const a=oy(o);return e.concat(o,o.visualViewport||[],Tu(s)?s:[],a&&n?qc(a):[])}return e.concat(s,qc(s,[],n))}function oy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function NI(t){const e=ir(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Or(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=jh(n)!==i||jh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function m0(t){return sr(t)?t:t.contextElement}function Ta(t){const e=m0(t);if(!Or(e))return Sr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=NI(e);let o=(i?jh(n.width):n.width)/r,a=(i?jh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const GL=Sr(0);function DI(t){const e=_n(t);return!p0()||!e.visualViewport?GL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function KL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==_n(t)?!1:e}function Eo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=m0(t);let o=Sr(1);e&&(r?sr(r)&&(o=Ta(r)):o=Ta(t));const a=KL(i,n,r)?DI(i):Sr(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const f=_n(i),p=r&&sr(r)?_n(r):r;let S=f,g=oy(S);for(;g&&r&&p!==S;){const E=Ta(g),v=g.getBoundingClientRect(),w=ir(g),T=v.left+(g.clientLeft+parseFloat(w.paddingLeft))*E.x,A=v.top+(g.clientTop+parseFloat(w.paddingTop))*E.y;l*=E.x,c*=E.y,d*=E.x,h*=E.y,l+=T,c+=A,S=_n(g),g=oy(S)}}return Uh({width:d,height:h,x:l,y:c})}function Hf(t,e){const n=Wf(t).scrollLeft;return e?e.left+n:Eo(jr(t)).left+n}function OI(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Hf(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function qL(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=jr(r),a=e?zf(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Sr(1);const d=Sr(0),h=Or(r);if((h||!h&&!i)&&((ul(r)!=="body"||Tu(o))&&(l=Wf(r)),Or(r))){const p=Eo(r);c=Ta(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const f=o&&!h&&!i?OI(o,l):Sr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+f.x,y:n.y*c.y-l.scrollTop*c.y+d.y+f.y}}function QL(t){return Array.from(t.getClientRects())}function YL(t){const e=jr(t),n=Wf(t),r=t.ownerDocument.body,s=gn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=gn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Hf(t);const a=-n.scrollTop;return ir(r).direction==="rtl"&&(o+=gn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}const gx=25;function XL(t,e){const n=_n(t),r=jr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const d=p0();(!d||d&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const c=Hf(r);if(c<=0){const d=r.ownerDocument,h=d.body,f=getComputedStyle(h),p=d.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,S=Math.abs(r.clientWidth-h.clientWidth-p);S<=gx&&(i-=S)}else c<=gx&&(i+=c);return{width:i,height:o,x:a,y:l}}const JL=new Set(["absolute","fixed"]);function ZL(t,e){const n=Eo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Or(t)?Ta(t):Sr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function yx(t,e,n){let r;if(e==="viewport")r=XL(t,n);else if(e==="document")r=YL(jr(t));else if(sr(e))r=ZL(e,n);else{const s=DI(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Uh(r)}function MI(t,e){const n=gi(t);return n===e||!sr(n)||Ga(n)?!1:ir(n).position==="fixed"||MI(n,e)}function ej(t,e){const n=e.get(t);if(n)return n;let r=qc(t,[],!1).filter(a=>sr(a)&&ul(a)!=="body"),s=null;const i=ir(t).position==="fixed";let o=i?gi(t):t;for(;sr(o)&&!Ga(o);){const a=ir(o),l=f0(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&JL.has(s.position)||Tu(o)&&!l&&MI(t,o))?r=r.filter(d=>d!==o):s=a,o=gi(o)}return e.set(t,r),r}function tj(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?zf(e)?[]:ej(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=yx(e,d,s);return c.top=gn(h.top,c.top),c.right=mi(h.right,c.right),c.bottom=mi(h.bottom,c.bottom),c.left=gn(h.left,c.left),c},yx(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function nj(t){const{width:e,height:n}=NI(t);return{width:e,height:n}}function rj(t,e,n){const r=Or(e),s=jr(e),i=n==="fixed",o=Eo(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Sr(0);function c(){l.x=Hf(s)}if(r||!r&&!i)if((ul(e)!=="body"||Tu(s))&&(a=Wf(e)),r){const p=Eo(e,!0,i,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else s&&c();i&&!r&&s&&c();const d=s&&!r&&!i?OI(s,a):Sr(0),h=o.left+a.scrollLeft-l.x-d.x,f=o.top+a.scrollTop-l.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function xm(t){return ir(t).position==="static"}function vx(t,e){if(!Or(t)||ir(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return jr(t)===n&&(n=n.ownerDocument.body),n}function VI(t,e){const n=_n(t);if(zf(t))return n;if(!Or(t)){let s=gi(t);for(;s&&!Ga(s);){if(sr(s)&&!xm(s))return s;s=gi(s)}return n}let r=vx(t,e);for(;r&&FL(r)&&xm(r);)r=vx(r,e);return r&&Ga(r)&&xm(r)&&!f0(r)?n:r||WL(t)||n}const sj=async function(t){const e=this.getOffsetParent||VI,n=this.getDimensions,r=await n(t.floating);return{reference:rj(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ij(t){return ir(t).direction==="rtl"}const oj={convertOffsetParentRelativeRectToViewportRelativeRect:qL,getDocumentElement:jr,getClippingRect:tj,getOffsetParent:VI,getElementRects:sj,getClientRects:QL,getDimensions:nj,getScale:Ta,isElement:sr,isRTL:ij};function LI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function aj(t,e){let n=null,r;const s=jr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=c;if(a||e(),!f||!p)return;const S=vd(h),g=vd(s.clientWidth-(d+f)),E=vd(s.clientHeight-(h+p)),v=vd(d),T={rootMargin:-S+"px "+-g+"px "+-E+"px "+-v+"px",threshold:gn(0,mi(1,l))||1};let A=!0;function R(M){const C=M[0].intersectionRatio;if(C!==l){if(!A)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!LI(c,t.getBoundingClientRect())&&o(),A=!1}try{n=new IntersectionObserver(R,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(R,T)}n.observe(t)}return o(!0),i}function lj(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=m0(t),d=s||i?[...c?qc(c):[],...qc(e)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const h=c&&a?aj(c,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(v=>{let[w]=v;w&&w.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var T;(T=p)==null||T.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let S,g=l?Eo(t):null;l&&E();function E(){const v=Eo(t);g&&!LI(g,v)&&n(),g=v,S=requestAnimationFrame(E)}return n(),()=>{var v;d.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),h==null||h(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(S)}}const cj=DL,uj=OL,dj=RL,hj=VL,fj=kL,wx=PL,pj=ML,mj=(t,e,n)=>{const r=new Map,s={platform:oj,...n},i={...s.platform,_c:r};return AL(t,e,{...s,platform:i})};var gj=typeof document<"u",yj=function(){},Yd=gj?y.useLayoutEffect:yj;function Bh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Bh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Bh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function jI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function _x(t,e){const n=jI(t);return Math.round(e*n)/n}function Tm(t){const e=y.useRef(t);return Yd(()=>{e.current=t}),e}function vj(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,h]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=y.useState(r);Bh(f,r)||p(r);const[S,g]=y.useState(null),[E,v]=y.useState(null),w=y.useCallback(j=>{j!==M.current&&(M.current=j,g(j))},[]),T=y.useCallback(j=>{j!==C.current&&(C.current=j,v(j))},[]),A=i||S,R=o||E,M=y.useRef(null),C=y.useRef(null),b=y.useRef(d),I=l!=null,k=Tm(l),N=Tm(s),O=Tm(c),D=y.useCallback(()=>{if(!M.current||!C.current)return;const j={placement:e,strategy:n,middleware:f};N.current&&(j.platform=N.current),mj(M.current,C.current,j).then(U=>{const G={...U,isPositioned:O.current!==!1};Y.current&&!Bh(b.current,G)&&(b.current=G,al.flushSync(()=>{h(G)}))})},[f,e,n,N,O]);Yd(()=>{c===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,h(j=>({...j,isPositioned:!1})))},[c]);const Y=y.useRef(!1);Yd(()=>(Y.current=!0,()=>{Y.current=!1}),[]),Yd(()=>{if(A&&(M.current=A),R&&(C.current=R),A&&R){if(k.current)return k.current(A,R,D);D()}},[A,R,D,k,I]);const ue=y.useMemo(()=>({reference:M,floating:C,setReference:w,setFloating:T}),[w,T]),J=y.useMemo(()=>({reference:A,floating:R}),[A,R]),X=y.useMemo(()=>{const j={position:n,left:0,top:0};if(!J.floating)return j;const U=_x(J.floating,d.x),G=_x(J.floating,d.y);return a?{...j,transform:"translate("+U+"px, "+G+"px)",...jI(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:G}},[n,a,J.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:D,refs:ue,elements:J,floatingStyles:X}),[d,D,ue,J,X])}const wj=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?wx({element:r.current,padding:s}).fn(n):{}:r?wx({element:r,padding:s}).fn(n):{}}}},_j=(t,e)=>({...cj(t),options:[t,e]}),Ej=(t,e)=>({...uj(t),options:[t,e]}),xj=(t,e)=>({...pj(t),options:[t,e]}),Tj=(t,e)=>({...dj(t),options:[t,e]}),Sj=(t,e)=>({...hj(t),options:[t,e]}),bj=(t,e)=>({...fj(t),options:[t,e]}),Cj=(t,e)=>({...wj(t),options:[t,e]});var Ij="Arrow",FI=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return _.jsx(Ae.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:_.jsx("polygon",{points:"0,0 30,0 15,10"})})});FI.displayName=Ij;var Aj=FI;function Pj(t){const[e,n]=y.useState(void 0);return Ht(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var g0="Popper",[UI,Gf]=No(g0),[Rj,BI]=UI(g0),$I=t=>{const{__scopePopper:e,children:n}=t,[r,s]=y.useState(null);return _.jsx(Rj,{scope:e,anchor:r,onAnchorChange:s,children:n})};$I.displayName=g0;var zI="PopperAnchor",WI=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=BI(zI,n),o=y.useRef(null),a=Ge(e,o),l=y.useRef(null);return y.useEffect(()=>{const c=l.current;l.current=(r==null?void 0:r.current)||o.current,c!==l.current&&i.onAnchorChange(l.current)}),r?null:_.jsx(Ae.div,{...s,ref:a})});WI.displayName=zI;var y0="PopperContent",[kj,Nj]=UI(y0),HI=y.forwardRef((t,e)=>{var K,be,Le,Ce,ve,xe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:S,...g}=t,E=BI(y0,n),[v,w]=y.useState(null),T=Ge(e,at=>w(at)),[A,R]=y.useState(null),M=Pj(A),C=(M==null?void 0:M.width)??0,b=(M==null?void 0:M.height)??0,I=r+(i!=="center"?"-"+i:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(c)?c:[c],O=N.length>0,D={padding:k,boundary:N.filter(Oj),altBoundary:O},{refs:Y,floatingStyles:ue,placement:J,isPositioned:X,middlewareData:j}=vj({strategy:"fixed",placement:I,whileElementsMounted:(...at)=>lj(...at,{animationFrame:p==="always"}),elements:{reference:E.anchor},middleware:[_j({mainAxis:s+b,alignmentAxis:o}),l&&Ej({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?xj():void 0,...D}),l&&Tj({...D}),Sj({...D,apply:({elements:at,rects:qt,availableWidth:Br,availableHeight:In})=>{const{width:Un,height:ms}=qt.reference,Ke=at.floating.style;Ke.setProperty("--radix-popper-available-width",`${Br}px`),Ke.setProperty("--radix-popper-available-height",`${In}px`),Ke.setProperty("--radix-popper-anchor-width",`${Un}px`),Ke.setProperty("--radix-popper-anchor-height",`${ms}px`)}}),A&&Cj({element:A,padding:a}),Mj({arrowWidth:C,arrowHeight:b}),f&&bj({strategy:"referenceHidden",...D})]}),[U,G]=qI(J),ie=pi(S);Ht(()=>{X&&(ie==null||ie())},[X,ie]);const ee=(K=j.arrow)==null?void 0:K.x,me=(be=j.arrow)==null?void 0:be.y,le=((Le=j.arrow)==null?void 0:Le.centerOffset)!==0,[ke,Oe]=y.useState();return Ht(()=>{v&&Oe(window.getComputedStyle(v).zIndex)},[v]),_.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...ue,transform:X?ue.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[(Ce=j.transformOrigin)==null?void 0:Ce.x,(ve=j.transformOrigin)==null?void 0:ve.y].join(" "),...((xe=j.hide)==null?void 0:xe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:_.jsx(kj,{scope:n,placedSide:U,onArrowChange:R,arrowX:ee,arrowY:me,shouldHideArrow:le,children:_.jsx(Ae.div,{"data-side":U,"data-align":G,...g,ref:T,style:{...g.style,animation:X?void 0:"none"}})})})});HI.displayName=y0;var GI="PopperArrow",Dj={top:"bottom",right:"left",bottom:"top",left:"right"},KI=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=Nj(GI,r),o=Dj[i.placedSide];return _.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:_.jsx(Aj,{...s,ref:n,style:{...s.style,display:"block"}})})});KI.displayName=GI;function Oj(t){return t!==null}var Mj=t=>({name:"transformOrigin",options:t,fn(e){var E,v,w;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=qI(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,p=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let S="",g="";return c==="bottom"?(S=o?h:`${f}px`,g=`${-l}px`):c==="top"?(S=o?h:`${f}px`,g=`${r.floating.height+l}px`):c==="right"?(S=`${-l}px`,g=o?h:`${p}px`):c==="left"&&(S=`${r.floating.width+l}px`,g=o?h:`${p}px`),{data:{x:S,y:g}}}});function qI(t){const[e,n="center"]=t.split("-");return[e,n]}var Vj=$I,QI=WI,YI=HI,XI=KI,Lj="Portal",v0=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=y.useState(!1);Ht(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?SI.createPortal(_.jsx(Ae.div,{...r,ref:e}),o):null});v0.displayName=Lj;function jj(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var dl=t=>{const{present:e,children:n}=t,r=Fj(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=Ge(r.ref,Uj(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};dl.displayName="Presence";function Fj(t){const[e,n]=y.useState(),r=y.useRef(null),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=jj(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const c=wd(r.current);i.current=a==="mounted"?c:"none"},[a]),Ht(()=>{const c=r.current,d=s.current;if(d!==t){const f=i.current,p=wd(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Ht(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=p=>{const g=wd(r.current).includes(CSS.escape(p.animationName));if(p.target===e&&g&&(l("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},f=p=>{p.target===e&&(i.current=wd(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function wd(t){return(t==null?void 0:t.animationName)||"none"}function Uj(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Bj=Symbol("radix.slottable");function $j(t){const e=({children:n})=>_.jsx(_.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Bj,e}var zj=bf[" useInsertionEffect ".trim().toString()]||Ht;function Qc({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=Wj({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const d=y.useRef(t!==void 0);y.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=y.useCallback(d=>{var h;if(a){const f=Hj(d)?d(t):d;f!==t&&((h=o.current)==null||h.call(o,f))}else i(d)},[a,t,i,o]);return[l,c]}function Wj({defaultProp:t,onChange:e}){const[n,r]=y.useState(t),s=y.useRef(n),i=y.useRef(e);return zj(()=>{i.current=e},[e]),y.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function Hj(t){return typeof t=="function"}var JI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Gj="VisuallyHidden",ZI=y.forwardRef((t,e)=>_.jsx(Ae.span,{...t,ref:e,style:{...JI,...t.style}}));ZI.displayName=Gj;var Kj=ZI,[Kf]=No("Tooltip",[Gf]),w0=Gf(),eA="TooltipProvider",qj=700,Ex="tooltip.open",[Qj,tA]=Kf(eA),nA=t=>{const{__scopeTooltip:e,delayDuration:n=qj,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=y.useRef(!0),a=y.useRef(!1),l=y.useRef(0);return y.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),_.jsx(Qj,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:y.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};nA.displayName=eA;var rA="Tooltip",[HQ,qf]=Kf(rA),ay="TooltipTrigger",Yj=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=qf(ay,n),i=tA(ay,n),o=w0(n),a=y.useRef(null),l=Ge(e,a,s.onTriggerChange),c=y.useRef(!1),d=y.useRef(!1),h=y.useCallback(()=>c.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),_.jsx(QI,{asChild:!0,...o,children:_.jsx(Ae.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:pe(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:pe(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:pe(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:pe(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:pe(t.onBlur,s.onClose),onClick:pe(t.onClick,s.onClose)})})});Yj.displayName=ay;var Xj="TooltipPortal",[GQ,Jj]=Kf(Xj,{forceMount:void 0}),Ka="TooltipContent",sA=y.forwardRef((t,e)=>{const n=Jj(Ka,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=qf(Ka,t.__scopeTooltip);return _.jsx(dl,{present:r||o.open,children:o.disableHoverableContent?_.jsx(iA,{side:s,...i,ref:e}):_.jsx(Zj,{side:s,...i,ref:e})})}),Zj=y.forwardRef((t,e)=>{const n=qf(Ka,t.__scopeTooltip),r=tA(Ka,t.__scopeTooltip),s=y.useRef(null),i=Ge(e,s),[o,a]=y.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:h}=r,f=y.useCallback(()=>{a(null),h(!1)},[h]),p=y.useCallback((S,g)=>{const E=S.currentTarget,v={x:S.clientX,y:S.clientY},w=sF(v,E.getBoundingClientRect()),T=iF(v,w),A=oF(g.getBoundingClientRect()),R=lF([...T,...A]);a(R),h(!0)},[h]);return y.useEffect(()=>()=>f(),[f]),y.useEffect(()=>{if(l&&d){const S=E=>p(E,d),g=E=>p(E,l);return l.addEventListener("pointerleave",S),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",S),d.removeEventListener("pointerleave",g)}}},[l,d,p,f]),y.useEffect(()=>{if(o){const S=g=>{const E=g.target,v={x:g.clientX,y:g.clientY},w=(l==null?void 0:l.contains(E))||(d==null?void 0:d.contains(E)),T=!aF(v,o);w?f():T&&(f(),c())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[l,d,o,c,f]),_.jsx(iA,{...t,ref:i})}),[eF,tF]=Kf(rA,{isInside:!1}),nF=$j("TooltipContent"),iA=y.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=qf(Ka,n),c=w0(n),{onClose:d}=l;return y.useEffect(()=>(document.addEventListener(Ex,d),()=>document.removeEventListener(Ex,d)),[d]),y.useEffect(()=>{if(l.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),_.jsx(Bf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:_.jsxs(YI,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[_.jsx(nF,{children:r}),_.jsx(eF,{scope:n,isInside:!0,children:_.jsx(Kj,{id:l.contentId,role:"tooltip",children:s||r})})]})})});sA.displayName=Ka;var oA="TooltipArrow",rF=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=w0(n);return tF(oA,n).isInside?null:_.jsx(XI,{...s,...r,ref:e})});rF.displayName=oA;function sF(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function iF(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function oF(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function aF(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,d=a.y,h=l.x,f=l.y;d>r!=f>r&&n<(h-c)*(r-d)/(f-d)+c&&(s=!s)}return s}function lF(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),cF(e)}function cF(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var uF=nA,aA=sA;function lA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=lA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function cA(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=lA(t))&&(r&&(r+=" "),r+=e);return r}const _0="-",dF=t=>{const e=fF(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(_0);return a[0]===""&&a.length!==1&&a.shift(),uA(a,e)||hF(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},uA=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?uA(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(_0);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},xx=/^\[(.+)\]$/,hF=t=>{if(xx.test(t)){const e=xx.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},fF=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return mF(Object.entries(t.classGroups),n).forEach(([i,o])=>{ly(o,r,i,e)}),r},ly=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Tx(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(pF(s)){ly(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{ly(o,Tx(e,i),n,r)})})},Tx=(t,e)=>{let n=t;return e.split(_0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},pF=t=>t.isThemeGetter,mF=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,gF=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},dA="!",yF=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,h;for(let E=0;E<a.length;E++){let v=a[E];if(c===0){if(v===s&&(r||a.slice(E,E+i)===e)){l.push(a.slice(d,E)),d=E+i;continue}if(v==="/"){h=E;continue}}v==="["?c++:v==="]"&&c--}const f=l.length===0?a:a.substring(d),p=f.startsWith(dA),S=p?f.substring(1):f,g=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:S,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},vF=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},wF=t=>({cache:gF(t.cacheSize),parseClassName:yF(t),...dF(t)}),_F=/\s+/,EF=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(_F);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=n(c);let S=!!p,g=r(S?f.substring(0,p):f);if(!g){if(!S){a=c+(a.length>0?" "+a:a);continue}if(g=r(f),!g){a=c+(a.length>0?" "+a:a);continue}S=!1}const E=vF(d).join(":"),v=h?E+dA:E,w=v+g;if(i.includes(w))continue;i.push(w);const T=s(g,S);for(let A=0;A<T.length;++A){const R=T[A];i.push(v+R)}a=c+(a.length>0?" "+a:a)}return a};function xF(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=hA(e))&&(r&&(r+=" "),r+=n);return r}const hA=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=hA(t[r]))&&(n&&(n+=" "),n+=e);return n};function TF(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,h)=>h(d),t());return n=wF(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=EF(l,n);return s(l,d),d}return function(){return i(xF.apply(null,arguments))}}const Fe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},fA=/^\[(?:([a-z-]+):)?(.+)\]$/i,SF=/^\d+\/\d+$/,bF=new Set(["px","full","screen"]),CF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,IF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,AF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,PF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,RF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wr=t=>Sa(t)||bF.has(t)||SF.test(t),Ss=t=>hl(t,"length",jF),Sa=t=>!!t&&!Number.isNaN(Number(t)),Sm=t=>hl(t,"number",Sa),Kl=t=>!!t&&Number.isInteger(Number(t)),kF=t=>t.endsWith("%")&&Sa(t.slice(0,-1)),he=t=>fA.test(t),bs=t=>CF.test(t),NF=new Set(["length","size","percentage"]),DF=t=>hl(t,NF,pA),OF=t=>hl(t,"position",pA),MF=new Set(["image","url"]),VF=t=>hl(t,MF,UF),LF=t=>hl(t,"",FF),ql=()=>!0,hl=(t,e,n)=>{const r=fA.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},jF=t=>IF.test(t)&&!AF.test(t),pA=()=>!1,FF=t=>PF.test(t),UF=t=>RF.test(t),BF=()=>{const t=Fe("colors"),e=Fe("spacing"),n=Fe("blur"),r=Fe("brightness"),s=Fe("borderColor"),i=Fe("borderRadius"),o=Fe("borderSpacing"),a=Fe("borderWidth"),l=Fe("contrast"),c=Fe("grayscale"),d=Fe("hueRotate"),h=Fe("invert"),f=Fe("gap"),p=Fe("gradientColorStops"),S=Fe("gradientColorStopPositions"),g=Fe("inset"),E=Fe("margin"),v=Fe("opacity"),w=Fe("padding"),T=Fe("saturate"),A=Fe("scale"),R=Fe("sepia"),M=Fe("skew"),C=Fe("space"),b=Fe("translate"),I=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",he,e],O=()=>[he,e],D=()=>["",Wr,Ss],Y=()=>["auto",Sa,he],ue=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",he],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[Sa,he];return{cacheSize:500,separator:":",theme:{colors:[ql],spacing:[Wr,Ss],blur:["none","",bs,he],brightness:ie(),borderColor:[t],borderRadius:["none","","full",bs,he],borderSpacing:O(),borderWidth:D(),contrast:ie(),grayscale:U(),hueRotate:ie(),invert:U(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[kF,Ss],inset:N(),margin:N(),opacity:ie(),padding:O(),saturate:ie(),scale:ie(),sepia:U(),skew:ie(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",he]}],container:["container"],columns:[{columns:[bs]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ue(),he]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Kl,he]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",he]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Kl,he]}],"grid-cols":[{"grid-cols":[ql]}],"col-start-end":[{col:["auto",{span:["full",Kl,he]},he]}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":[ql]}],"row-start-end":[{row:["auto",{span:[Kl,he]},he]}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",he]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",he]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",he,e]}],"min-w":[{"min-w":[he,e,"min","max","fit"]}],"max-w":[{"max-w":[he,e,"none","full","min","max","fit","prose",{screen:[bs]},bs]}],h:[{h:[he,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[he,e,"auto","min","max","fit"]}],"font-size":[{text:["base",bs,Ss]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Sm]}],"font-family":[{font:[ql]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",he]}],"line-clamp":[{"line-clamp":["none",Sa,Sm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wr,he]}],"list-image":[{"list-image":["none",he]}],"list-style-type":[{list:["none","disc","decimal",he]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wr,Ss]}],"underline-offset":[{"underline-offset":["auto",Wr,he]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ue(),OF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",DF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},VF]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:J()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[Wr,he]}],"outline-w":[{outline:[Wr,Ss]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Wr,Ss]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",bs,LF]}],"shadow-color":[{shadow:[ql]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",bs,he]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[T]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",he]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",he]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",he]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Kl,he]}],"translate-x":[{"translate-x":[b]}],"translate-y":[{"translate-y":[b]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Wr,Ss,Sm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},$F=TF(BF);function ge(...t){return $F(cA(t))}const zF=uF,WF=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>_.jsx(aA,{ref:r,sideOffset:e,className:ge("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));WF.displayName=aA.displayName;var Qf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},HF={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Fs,mv,n1,GF=(n1=class{constructor(){Te(this,Fs,HF);Te(this,mv,!1)}setTimeoutProvider(t){ae(this,Fs,t)}setTimeout(t,e){return F(this,Fs).setTimeout(t,e)}clearTimeout(t){F(this,Fs).clearTimeout(t)}setInterval(t,e){return F(this,Fs).setInterval(t,e)}clearInterval(t){F(this,Fs).clearInterval(t)}},Fs=new WeakMap,mv=new WeakMap,n1),cy=new GF;function KF(t){setTimeout(t,0)}var Yf=typeof window>"u"||"Deno"in globalThis;function qn(){}function qF(t,e){return typeof t=="function"?t(e):t}function QF(t){return typeof t=="number"&&t>=0&&t!==1/0}function YF(t,e){return Math.max(t+(e||0)-Date.now(),0)}function uy(t,e){return typeof t=="function"?t(e):t}function XF(t,e){return typeof t=="function"?t(e):t}function Sx(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==E0(o,e.options))return!1}else if(!Xc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function bx(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Yc(e.options.mutationKey)!==Yc(i))return!1}else if(!Xc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function E0(t,e){return((e==null?void 0:e.queryKeyHashFn)||Yc)(t)}function Yc(t){return JSON.stringify(t,(e,n)=>dy(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Xc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Xc(t[n],e[n])):!1}var JF=Object.prototype.hasOwnProperty;function mA(t,e){if(t===e)return t;const n=Cx(t)&&Cx(e);if(!n&&!(dy(t)&&dy(e)))return e;const s=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),o=i.length,a=n?new Array(o):{};let l=0;for(let c=0;c<o;c++){const d=n?c:i[c],h=t[d],f=e[d];if(h===f){a[d]=h,(n?c<s:JF.call(t,d))&&l++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){a[d]=f;continue}const p=mA(h,f);a[d]=p,p===h&&l++}return s===o&&l===s?t:a}function Cx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function dy(t){if(!Ix(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Ix(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Ix(t){return Object.prototype.toString.call(t)==="[object Object]"}function ZF(t){return new Promise(e=>{cy.setTimeout(e,t)})}function e4(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?mA(t,e):e}function t4(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function n4(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var x0=Symbol();function gA(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===x0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var so,Us,ka,r1,r4=(r1=class extends Qf{constructor(){super();Te(this,so);Te(this,Us);Te(this,ka);ae(this,ka,e=>{if(!Yf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){F(this,Us)||this.setEventListener(F(this,ka))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,Us))==null||e.call(this),ae(this,Us,void 0))}setEventListener(e){var n;ae(this,ka,e),(n=F(this,Us))==null||n.call(this),ae(this,Us,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){F(this,so)!==e&&(ae(this,so,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof F(this,so)=="boolean"?F(this,so):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},so=new WeakMap,Us=new WeakMap,ka=new WeakMap,r1),yA=new r4;function s4(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var i4=KF;function o4(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=i4;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Jt=o4(),Na,Bs,Da,s1,a4=(s1=class extends Qf{constructor(){super();Te(this,Na,!0);Te(this,Bs);Te(this,Da);ae(this,Da,e=>{if(!Yf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){F(this,Bs)||this.setEventListener(F(this,Da))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,Bs))==null||e.call(this),ae(this,Bs,void 0))}setEventListener(e){var n;ae(this,Da,e),(n=F(this,Bs))==null||n.call(this),ae(this,Bs,e(this.setOnline.bind(this)))}setOnline(e){F(this,Na)!==e&&(ae(this,Na,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return F(this,Na)}},Na=new WeakMap,Bs=new WeakMap,Da=new WeakMap,s1),$h=new a4;function l4(t){return Math.min(1e3*2**t,3e4)}function vA(t){return(t??"online")==="online"?$h.isOnline():!0}var hy=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function wA(t){let e=!1,n=0,r;const s=s4(),i=()=>s.status!=="pending",o=g=>{var E;if(!i()){const v=new hy(g);f(v),(E=t.onCancel)==null||E.call(t,v)}},a=()=>{e=!0},l=()=>{e=!1},c=()=>yA.isFocused()&&(t.networkMode==="always"||$h.isOnline())&&t.canRun(),d=()=>vA(t.networkMode)&&t.canRun(),h=g=>{i()||(r==null||r(),s.resolve(g))},f=g=>{i()||(r==null||r(),s.reject(g))},p=()=>new Promise(g=>{var E;r=v=>{(i()||c())&&g(v)},(E=t.onPause)==null||E.call(t)}).then(()=>{var g;r=void 0,i()||(g=t.onContinue)==null||g.call(t)}),S=()=>{if(i())return;let g;const E=n===0?t.initialPromise:void 0;try{g=E??t.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(h).catch(v=>{var M;if(i())return;const w=t.retry??(Yf?0:3),T=t.retryDelay??l4,A=typeof T=="function"?T(n,v):T,R=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,v);if(e||!R){f(v);return}n++,(M=t.onFail)==null||M.call(t,n,v),ZF(A).then(()=>c()?void 0:p()).then(()=>{e?f(v):S()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?S():p().then(S),s)}}var io,i1,_A=(i1=class{constructor(){Te(this,io)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),QF(this.gcTime)&&ae(this,io,cy.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Yf?1/0:5*60*1e3))}clearGcTimeout(){F(this,io)&&(cy.clearTimeout(F(this,io)),ae(this,io,void 0))}},io=new WeakMap,i1),oo,Oa,kn,ao,xt,mu,lo,Qn,Hr,o1,c4=(o1=class extends _A{constructor(n){super();Te(this,Qn);Te(this,oo);Te(this,Oa);Te(this,kn);Te(this,ao);Te(this,xt);Te(this,mu);Te(this,lo);ae(this,lo,!1),ae(this,mu,n.defaultOptions),this.setOptions(n.options),this.observers=[],ae(this,ao,n.client),ae(this,kn,F(this,ao).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ae(this,oo,Px(this.options)),this.state=n.state??F(this,oo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=F(this,xt))==null?void 0:n.promise}setOptions(n){if(this.options={...F(this,mu),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Px(this.options);r.data!==void 0&&(this.setState(Ax(r.data,r.dataUpdatedAt)),ae(this,oo,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,kn).remove(this)}setData(n,r){const s=e4(this.state.data,n,this.options);return Mt(this,Qn,Hr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Mt(this,Qn,Hr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=F(this,xt))==null?void 0:s.promise;return(i=F(this,xt))==null||i.cancel(n),r?r.then(qn).catch(qn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,oo))}isActive(){return this.observers.some(n=>XF(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===x0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>uy(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!YF(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,xt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,xt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),F(this,kn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(F(this,xt)&&(F(this,lo)?F(this,xt).cancel({revert:!0}):F(this,xt).cancelRetry()),this.scheduleGc()),F(this,kn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Mt(this,Qn,Hr).call(this,{type:"invalidate"})}async fetch(n,r){var c,d,h,f,p,S,g,E,v,w,T,A;if(this.state.fetchStatus!=="idle"&&((c=F(this,xt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,xt))return F(this,xt).continueRetry(),F(this,xt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const R=this.observers.find(M=>M.options.queryFn);R&&this.setOptions(R.options)}const s=new AbortController,i=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(ae(this,lo,!0),s.signal)})},o=()=>{const R=gA(this.options,r),C=(()=>{const b={client:F(this,ao),queryKey:this.queryKey,meta:this.meta};return i(b),b})();return ae(this,lo,!1),this.options.persister?this.options.persister(R,C,this):R(C)},l=(()=>{const R={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:F(this,ao),state:this.state,fetchFn:o};return i(R),R})();(d=this.options.behavior)==null||d.onFetch(l,this),ae(this,Oa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&Mt(this,Qn,Hr).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),ae(this,xt,wA({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:R=>{R instanceof hy&&R.revert&&this.setState({...F(this,Oa),fetchStatus:"idle"}),s.abort()},onFail:(R,M)=>{Mt(this,Qn,Hr).call(this,{type:"failed",failureCount:R,error:M})},onPause:()=>{Mt(this,Qn,Hr).call(this,{type:"pause"})},onContinue:()=>{Mt(this,Qn,Hr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const R=await F(this,xt).start();if(R===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(R),(S=(p=F(this,kn).config).onSuccess)==null||S.call(p,R,this),(E=(g=F(this,kn).config).onSettled)==null||E.call(g,R,this.state.error,this),R}catch(R){if(R instanceof hy){if(R.silent)return F(this,xt).promise;if(R.revert){if(this.state.data===void 0)throw R;return this.state.data}}throw Mt(this,Qn,Hr).call(this,{type:"error",error:R}),(w=(v=F(this,kn).config).onError)==null||w.call(v,R,this),(A=(T=F(this,kn).config).onSettled)==null||A.call(T,this.state.data,R,this),R}finally{this.scheduleGc()}}},oo=new WeakMap,Oa=new WeakMap,kn=new WeakMap,ao=new WeakMap,xt=new WeakMap,mu=new WeakMap,lo=new WeakMap,Qn=new WeakSet,Hr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...u4(s.data,this.options),fetchMeta:n.meta??null};case"success":const i={...s,...Ax(n.data,n.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ae(this,Oa,n.manual?i:void 0),i;case"error":const o=n.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Jt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),F(this,kn).notify({query:this,type:"updated",action:n})})},o1);function u4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:vA(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Ax(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Px(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function Rx(t){return{onFetch:(e,n)=>{var d,h,f,p,S;const r=e.options,s=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((S=e.state.data)==null?void 0:S.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const E=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},v=gA(e.options,e.fetchOptions),w=async(T,A,R)=>{if(g)return Promise.reject();if(A==null&&T.pages.length)return Promise.resolve(T);const C=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:A,direction:R?"backward":"forward",meta:e.options.meta};return E(N),N})(),b=await v(C),{maxPages:I}=e.options,k=R?n4:t4;return{pages:k(T.pages,b,I),pageParams:k(T.pageParams,A,I)}};if(s&&i.length){const T=s==="backward",A=T?d4:kx,R={pages:i,pageParams:o},M=A(r,R);a=await w(R,M,T)}else{const T=t??i.length;do{const A=l===0?o[0]??r.initialPageParam:kx(r,a);if(l>0&&A==null)break;a=await w(a,A),l++}while(l<T)}return a};e.options.persister?e.fetchFn=()=>{var g,E;return(E=(g=e.options).persister)==null?void 0:E.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function kx(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function d4(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var gu,gr,Yt,co,yr,Is,a1,h4=(a1=class extends _A{constructor(n){super();Te(this,yr);Te(this,gu);Te(this,gr);Te(this,Yt);Te(this,co);ae(this,gu,n.client),this.mutationId=n.mutationId,ae(this,Yt,n.mutationCache),ae(this,gr,[]),this.state=n.state||f4(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){F(this,gr).includes(n)||(F(this,gr).push(n),this.clearGcTimeout(),F(this,Yt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ae(this,gr,F(this,gr).filter(r=>r!==n)),this.scheduleGc(),F(this,Yt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){F(this,gr).length||(this.state.status==="pending"?this.scheduleGc():F(this,Yt).remove(this))}continue(){var n;return((n=F(this,co))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,l,c,d,h,f,p,S,g,E,v,w,T,A,R,M,C,b,I,k;const r=()=>{Mt(this,yr,Is).call(this,{type:"continue"})},s={client:F(this,gu),meta:this.options.meta,mutationKey:this.options.mutationKey};ae(this,co,wA({fn:()=>this.options.mutationFn?this.options.mutationFn(n,s):Promise.reject(new Error("No mutationFn found")),onFail:(N,O)=>{Mt(this,yr,Is).call(this,{type:"failed",failureCount:N,error:O})},onPause:()=>{Mt(this,yr,Is).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,Yt).canRun(this)}));const i=this.state.status==="pending",o=!F(this,co).canStart();try{if(i)r();else{Mt(this,yr,Is).call(this,{type:"pending",variables:n,isPaused:o}),await((l=(a=F(this,Yt).config).onMutate)==null?void 0:l.call(a,n,this,s));const O=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,n,s));O!==this.state.context&&Mt(this,yr,Is).call(this,{type:"pending",context:O,variables:n,isPaused:o})}const N=await F(this,co).start();return await((f=(h=F(this,Yt).config).onSuccess)==null?void 0:f.call(h,N,n,this.state.context,this,s)),await((S=(p=this.options).onSuccess)==null?void 0:S.call(p,N,n,this.state.context,s)),await((E=(g=F(this,Yt).config).onSettled)==null?void 0:E.call(g,N,null,this.state.variables,this.state.context,this,s)),await((w=(v=this.options).onSettled)==null?void 0:w.call(v,N,null,n,this.state.context,s)),Mt(this,yr,Is).call(this,{type:"success",data:N}),N}catch(N){try{throw await((A=(T=F(this,Yt).config).onError)==null?void 0:A.call(T,N,n,this.state.context,this,s)),await((M=(R=this.options).onError)==null?void 0:M.call(R,N,n,this.state.context,s)),await((b=(C=F(this,Yt).config).onSettled)==null?void 0:b.call(C,void 0,N,this.state.variables,this.state.context,this,s)),await((k=(I=this.options).onSettled)==null?void 0:k.call(I,void 0,N,n,this.state.context,s)),N}finally{Mt(this,yr,Is).call(this,{type:"error",error:N})}}finally{F(this,Yt).runNext(this)}}},gu=new WeakMap,gr=new WeakMap,Yt=new WeakMap,co=new WeakMap,yr=new WeakSet,Is=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Jt.batch(()=>{F(this,gr).forEach(s=>{s.onMutationUpdate(n)}),F(this,Yt).notify({mutation:this,type:"updated",action:n})})},a1);function f4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qr,Yn,yu,l1,p4=(l1=class extends Qf{constructor(e={}){super();Te(this,qr);Te(this,Yn);Te(this,yu);this.config=e,ae(this,qr,new Set),ae(this,Yn,new Map),ae(this,yu,0)}build(e,n,r){const s=new h4({client:e,mutationCache:this,mutationId:++Zu(this,yu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){F(this,qr).add(e);const n=_d(e);if(typeof n=="string"){const r=F(this,Yn).get(n);r?r.push(e):F(this,Yn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(F(this,qr).delete(e)){const n=_d(e);if(typeof n=="string"){const r=F(this,Yn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&F(this,Yn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=_d(e);if(typeof n=="string"){const r=F(this,Yn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=_d(e);if(typeof n=="string"){const s=(r=F(this,Yn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Jt.batch(()=>{F(this,qr).forEach(e=>{this.notify({type:"removed",mutation:e})}),F(this,qr).clear(),F(this,Yn).clear()})}getAll(){return Array.from(F(this,qr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>bx(n,r))}findAll(e={}){return this.getAll().filter(n=>bx(e,n))}notify(e){Jt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Jt.batch(()=>Promise.all(e.map(n=>n.continue().catch(qn))))}},qr=new WeakMap,Yn=new WeakMap,yu=new WeakMap,l1);function _d(t){var e;return(e=t.options.scope)==null?void 0:e.id}var vr,c1,m4=(c1=class extends Qf{constructor(e={}){super();Te(this,vr);this.config=e,ae(this,vr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??E0(s,n);let o=this.get(i);return o||(o=new c4({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){F(this,vr).has(e.queryHash)||(F(this,vr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=F(this,vr).get(e.queryHash);n&&(e.destroy(),n===e&&F(this,vr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Jt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return F(this,vr).get(e)}getAll(){return[...F(this,vr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Sx(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Sx(e,r)):n}notify(e){Jt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Jt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Jt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},vr=new WeakMap,c1),et,$s,zs,Ma,Va,Ws,La,ja,u1,g4=(u1=class{constructor(t={}){Te(this,et);Te(this,$s);Te(this,zs);Te(this,Ma);Te(this,Va);Te(this,Ws);Te(this,La);Te(this,ja);ae(this,et,t.queryCache||new m4),ae(this,$s,t.mutationCache||new p4),ae(this,zs,t.defaultOptions||{}),ae(this,Ma,new Map),ae(this,Va,new Map),ae(this,Ws,0)}mount(){Zu(this,Ws)._++,F(this,Ws)===1&&(ae(this,La,yA.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,et).onFocus())})),ae(this,ja,$h.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,et).onOnline())})))}unmount(){var t,e;Zu(this,Ws)._--,F(this,Ws)===0&&((t=F(this,La))==null||t.call(this),ae(this,La,void 0),(e=F(this,ja))==null||e.call(this),ae(this,ja,void 0))}isFetching(t){return F(this,et).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return F(this,$s).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,et).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=F(this,et).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(uy(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return F(this,et).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=F(this,et).get(r.queryHash),i=s==null?void 0:s.state.data,o=qF(e,i);if(o!==void 0)return F(this,et).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Jt.batch(()=>F(this,et).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,et).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=F(this,et);Jt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=F(this,et);return Jt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Jt.batch(()=>F(this,et).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(qn).catch(qn)}invalidateQueries(t,e={}){return Jt.batch(()=>(F(this,et).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Jt.batch(()=>F(this,et).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(qn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(qn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=F(this,et).build(this,e);return n.isStaleByTime(uy(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(qn).catch(qn)}fetchInfiniteQuery(t){return t.behavior=Rx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(qn).catch(qn)}ensureInfiniteQueryData(t){return t.behavior=Rx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return $h.isOnline()?F(this,$s).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,et)}getMutationCache(){return F(this,$s)}getDefaultOptions(){return F(this,zs)}setDefaultOptions(t){ae(this,zs,t)}setQueryDefaults(t,e){F(this,Ma).set(Yc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...F(this,Ma).values()],n={};return e.forEach(r=>{Xc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){F(this,Va).set(Yc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...F(this,Va).values()],n={};return e.forEach(r=>{Xc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...F(this,zs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=E0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===x0&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...F(this,zs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){F(this,et).clear(),F(this,$s).clear()}},et=new WeakMap,$s=new WeakMap,zs=new WeakMap,Ma=new WeakMap,Va=new WeakMap,Ws=new WeakMap,La=new WeakMap,ja=new WeakMap,u1),y4=y.createContext(void 0),v4=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),_.jsx(y4.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jc(){return Jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jc.apply(this,arguments)}var Ks;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ks||(Ks={}));const Nx="popstate";function w4(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return fy("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:zh(s)}return E4(e,n,null,t)}function ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function T0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _4(){return Math.random().toString(36).substr(2,8)}function Dx(t,e){return{usr:t.state,key:t.key,idx:e}}function fy(t,e,n,r){return n===void 0&&(n=null),Jc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?fl(e):e,{state:n,key:e&&e.key||r||_4()})}function zh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function fl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function E4(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ks.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Jc({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Ks.Pop;let E=d(),v=E==null?null:E-c;c=E,l&&l({action:a,location:g.location,delta:v})}function f(E,v){a=Ks.Push;let w=fy(g.location,E,v);c=d()+1;let T=Dx(w,c),A=g.createHref(w);try{o.pushState(T,"",A)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(A)}i&&l&&l({action:a,location:g.location,delta:1})}function p(E,v){a=Ks.Replace;let w=fy(g.location,E,v);c=d();let T=Dx(w,c),A=g.createHref(w);o.replaceState(T,"",A),i&&l&&l({action:a,location:g.location,delta:0})}function S(E){let v=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof E=="string"?E:zh(E);return w=w.replace(/ $/,"%20"),ot(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let g={get action(){return a},get location(){return t(s,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Nx,h),l=E,()=>{s.removeEventListener(Nx,h),l=null}},createHref(E){return e(s,E)},createURL:S,encodeLocation(E){let v=S(E);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(E){return o.go(E)}};return g}var Ox;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ox||(Ox={}));function x4(t,e,n){return n===void 0&&(n="/"),T4(t,e,n)}function T4(t,e,n,r){let s=typeof e=="string"?fl(e):e,i=S0(s.pathname||"/",n);if(i==null)return null;let o=EA(t);S4(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=V4(i);a=D4(o[l],c)}return a}function EA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ot(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ii([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(ot(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),EA(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:k4(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of xA(i.path))s(i,o,l)}),e}function xA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=xA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function S4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:N4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const b4=/^:[\w-]+$/,C4=3,I4=2,A4=1,P4=10,R4=-2,Mx=t=>t==="*";function k4(t,e){let n=t.split("/"),r=n.length;return n.some(Mx)&&(r+=R4),e&&(r+=I4),n.filter(s=>!Mx(s)).reduce((s,i)=>s+(b4.test(i)?C4:i===""?A4:P4),r)}function N4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function D4(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=O4({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:ii([i,h.pathname]),pathnameBase:B4(ii([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=ii([i,h.pathnameBase]))}return o}function O4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=M4(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let g=a[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const S=a[h];return p&&!S?c[f]=void 0:c[f]=(S||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function M4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),T0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function V4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return T0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function S0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const L4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,j4=t=>L4.test(t);function F4(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?fl(t):t,i;if(n)if(j4(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),T0(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?i=Vx(n.substring(1),"/"):i=Vx(n,e)}else i=e;return{pathname:i,search:$4(r),hash:z4(s)}}function Vx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function bm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function U4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function b0(t,e){let n=U4(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function C0(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=fl(t):(s=Jc({},t),ot(!s.pathname||!s.pathname.includes("?"),bm("?","pathname","search",s)),ot(!s.pathname||!s.pathname.includes("#"),bm("#","pathname","hash",s)),ot(!s.search||!s.search.includes("#"),bm("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=F4(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const ii=t=>t.join("/").replace(/\/\/+/g,"/"),B4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,z4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function W4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const TA=["post","put","patch","delete"];new Set(TA);const H4=["get",...TA];new Set(H4);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zc(){return Zc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zc.apply(this,arguments)}const I0=y.createContext(null),G4=y.createContext(null),ki=y.createContext(null),Xf=y.createContext(null),Ni=y.createContext({outlet:null,matches:[],isDataRoute:!1}),SA=y.createContext(null);function K4(t,e){let{relative:n}=e===void 0?{}:e;pl()||ot(!1);let{basename:r,navigator:s}=y.useContext(ki),{hash:i,pathname:o,search:a}=CA(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ii([r,o])),s.createHref({pathname:l,search:a,hash:i})}function pl(){return y.useContext(Xf)!=null}function ml(){return pl()||ot(!1),y.useContext(Xf).location}function bA(t){y.useContext(ki).static||y.useLayoutEffect(t)}function Su(){let{isDataRoute:t}=y.useContext(Ni);return t?oU():q4()}function q4(){pl()||ot(!1);let t=y.useContext(I0),{basename:e,future:n,navigator:r}=y.useContext(ki),{matches:s}=y.useContext(Ni),{pathname:i}=ml(),o=JSON.stringify(b0(s,n.v7_relativeSplatPath)),a=y.useRef(!1);return bA(()=>{a.current=!0}),y.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=C0(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ii([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}function CA(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=y.useContext(ki),{matches:s}=y.useContext(Ni),{pathname:i}=ml(),o=JSON.stringify(b0(s,r.v7_relativeSplatPath));return y.useMemo(()=>C0(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function Q4(t,e){return Y4(t,e)}function Y4(t,e,n,r){pl()||ot(!1);let{navigator:s}=y.useContext(ki),{matches:i}=y.useContext(Ni),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=ml(),d;if(e){var h;let E=typeof e=="string"?fl(e):e;l==="/"||(h=E.pathname)!=null&&h.startsWith(l)||ot(!1),d=E}else d=c;let f=d.pathname||"/",p=f;if(l!=="/"){let E=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=x4(t,{pathname:p}),g=tU(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:ii([l,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:ii([l,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return e&&g?y.createElement(Xf.Provider,{value:{location:Zc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ks.Pop}},g):g}function X4(){let t=iU(),e=W4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,null)}const J4=y.createElement(X4,null);class Z4 extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(Ni.Provider,{value:this.props.routeContext},y.createElement(SA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function eU(t){let{routeContext:e,match:n,children:r}=t,s=y.useContext(I0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Ni.Provider,{value:e},r)}function tU(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||ot(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:p}=n,S=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||S){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,S=!1,g=null,E=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,g=h.route.errorElement||J4,l&&(c<0&&f===0?(aU("route-fallback"),S=!0,E=null):c===f&&(S=!0,E=h.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,f+1)),w=()=>{let T;return p?T=g:S?T=E:h.route.Component?T=y.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,y.createElement(eU,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?y.createElement(Z4,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var IA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(IA||{}),AA=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(AA||{});function nU(t){let e=y.useContext(I0);return e||ot(!1),e}function rU(t){let e=y.useContext(G4);return e||ot(!1),e}function sU(t){let e=y.useContext(Ni);return e||ot(!1),e}function PA(t){let e=sU(),n=e.matches[e.matches.length-1];return n.route.id||ot(!1),n.route.id}function iU(){var t;let e=y.useContext(SA),n=rU(),r=PA();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function oU(){let{router:t}=nU(IA.UseNavigateStable),e=PA(AA.UseNavigateStable),n=y.useRef(!1);return bA(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Zc({fromRouteId:e},i)))},[t,e])}const Lx={};function aU(t,e,n){Lx[t]||(Lx[t]=!0)}function lU(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function cU(t){let{to:e,replace:n,state:r,relative:s}=t;pl()||ot(!1);let{future:i,static:o}=y.useContext(ki),{matches:a}=y.useContext(Ni),{pathname:l}=ml(),c=Su(),d=C0(e,b0(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return y.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function tc(t){ot(!1)}function uU(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ks.Pop,navigator:i,static:o=!1,future:a}=t;pl()&&ot(!1);let l=e.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:l,navigator:i,static:o,future:Zc({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=fl(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:S="default"}=r,g=y.useMemo(()=>{let E=S0(d,l);return E==null?null:{location:{pathname:E,search:h,hash:f,state:p,key:S},navigationType:s}},[l,d,h,f,p,S,s]);return g==null?null:y.createElement(ki.Provider,{value:c},y.createElement(Xf.Provider,{children:n,value:g}))}function dU(t){let{children:e,location:n}=t;return Q4(py(e),n)}new Promise(()=>{});function py(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,py(r.props.children,i));return}r.type!==tc&&ot(!1),!r.props.index||!r.props.children||ot(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=py(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function my(){return my=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},my.apply(this,arguments)}function hU(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function fU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pU(t,e){return t.button===0&&(!e||e==="_self")&&!fU(t)}const mU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],gU="6";try{window.__reactRouterVersion=gU}catch{}const yU="startTransition",jx=bf[yU];function vU(t){let{basename:e,children:n,future:r,window:s}=t,i=y.useRef();i.current==null&&(i.current=w4({window:s,v5Compat:!0}));let o=i.current,[a,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=y.useCallback(h=>{c&&jx?jx(()=>l(h)):l(h)},[l,c]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.useEffect(()=>lU(r),[r]),y.createElement(uU,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const wU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_U=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,EU=y.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,f=hU(e,mU),{basename:p}=y.useContext(ki),S,g=!1;if(typeof c=="string"&&_U.test(c)&&(S=c,wU))try{let T=new URL(window.location.href),A=c.startsWith("//")?new URL(T.protocol+c):new URL(c),R=S0(A.pathname,p);A.origin===T.origin&&R!=null?c=R+A.search+A.hash:g=!0}catch{}let E=K4(c,{relative:s}),v=xU(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function w(T){r&&r(T),T.defaultPrevented||v(T)}return y.createElement("a",my({},f,{href:S||E,onClick:g||i?r:w,ref:n,target:l}))});var Fx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Fx||(Fx={}));var Ux;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ux||(Ux={}));function xU(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Su(),c=ml(),d=CA(t,{relative:o});return y.useCallback(h=>{if(pU(h,n)){h.preventDefault();let f=r!==void 0?r:zh(c)===zh(d);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,t,i,o,a])}const TU=()=>{};var Bx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},SU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},kA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[d],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new bU;const f=i<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const S=c<<6&192|h;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CU=function(t){const e=RA(t);return kA.encodeByteArray(e,!0)},Wh=function(t){return CU(t).replace(/\./g,"")},NA=function(t){try{return kA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=()=>IU().__FIREBASE_DEFAULTS__,PU=()=>{if(typeof process>"u"||typeof Bx>"u")return;const t=Bx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},RU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&NA(t[1]);return e&&JSON.parse(e)},Jf=()=>{try{return TU()||AU()||PU()||RU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},DA=t=>{var e,n;return(n=(e=Jf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},kU=t=>{const e=DA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},OA=()=>{var t;return(t=Jf())==null?void 0:t.config},MA=t=>{var e;return(e=Jf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function VA(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Wh(JSON.stringify(n)),Wh(JSON.stringify(o)),""].join(".")}const _c={};function OU(){const t={prod:[],emulator:[]};for(const e of Object.keys(_c))_c[e]?t.emulator.push(e):t.prod.push(e);return t}function MU(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let $x=!1;function LA(t,e){if(typeof window>"u"||typeof document>"u"||!gl(window.location.host)||_c[t]===e||_c[t]||$x)return;_c[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",i=OU().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{$x=!0,o()},f}function d(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=MU(r),p=n("text"),S=document.getElementById(p)||document.createElement("span"),g=n("learnmore"),E=document.getElementById(g)||document.createElement("a"),v=n("preprendIcon"),w=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const T=f.element;a(T),d(E,g);const A=c();l(w,v),T.append(w,S,E,A),document.body.appendChild(T)}i?(S.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function LU(){var e;const t=(e=Jf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function UU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BU(){const t=Gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $U(){return!LU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zU(){try{return typeof indexedDB=="object"}catch{return!1}}function WU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU="FirebaseError";class Fr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=HU,Object.setPrototypeOf(this,Fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bu.prototype.create)}}class bu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?GU(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Fr(s,a,r)}}function GU(t,e){return t.replace(KU,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const KU=/\{\$([^}]+)}/g;function qU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(zx(i)&&zx(o)){if(!xo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function zx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function QU(t,e){const n=new YU(t,e);return n.subscribe.bind(n)}class YU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");XU(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Cm),s.error===void 0&&(s.error=Cm),s.complete===void 0&&(s.complete=Cm);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Cm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t){return t&&t._delegate?t._delegate:t}class yi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new NU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(e5(e))try{this.getOrInitializeService({instanceIdentifier:qi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=qi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qi){return this.instances.has(e)}getOptions(e=qi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qi){return this.component?this.component.multipleInstances?e:qi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZU(t){return t===qi?void 0:t}function e5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new JU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const n5={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},r5=we.INFO,s5={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},i5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=s5[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class A0{constructor(e){this.name=e,this._logLevel=r5,this._logHandler=i5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?n5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const o5=(t,e)=>e.some(n=>t instanceof n);let Wx,Hx;function a5(){return Wx||(Wx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function l5(){return Hx||(Hx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jA=new WeakMap,gy=new WeakMap,FA=new WeakMap,Im=new WeakMap,P0=new WeakMap;function c5(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(oi(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&jA.set(n,t)}).catch(()=>{}),P0.set(e,t),e}function u5(t){if(gy.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});gy.set(t,e)}let yy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||FA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function d5(t){yy=t(yy)}function h5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Am(this),e,...n);return FA.set(r,e.sort?e.sort():[e]),oi(r)}:l5().includes(t)?function(...e){return t.apply(Am(this),e),oi(jA.get(this))}:function(...e){return oi(t.apply(Am(this),e))}}function f5(t){return typeof t=="function"?h5(t):(t instanceof IDBTransaction&&u5(t),o5(t,a5())?new Proxy(t,yy):t)}function oi(t){if(t instanceof IDBRequest)return c5(t);if(Im.has(t))return Im.get(t);const e=f5(t);return e!==t&&(Im.set(t,e),P0.set(e,t)),e}const Am=t=>P0.get(t);function p5(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=oi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(oi(o.result),l.oldVersion,l.newVersion,oi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const m5=["get","getKey","getAll","getAllKeys","count"],g5=["put","add","delete","clear"],Pm=new Map;function Gx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Pm.get(e))return Pm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=g5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||m5.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Pm.set(e,i),i}d5(t=>({...t,get:(e,n,r)=>Gx(e,n)||t.get(e,n,r),has:(e,n)=>!!Gx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(v5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function v5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vy="@firebase/app",Kx="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new A0("@firebase/app"),w5="@firebase/app-compat",_5="@firebase/analytics-compat",E5="@firebase/analytics",x5="@firebase/app-check-compat",T5="@firebase/app-check",S5="@firebase/auth",b5="@firebase/auth-compat",C5="@firebase/database",I5="@firebase/data-connect",A5="@firebase/database-compat",P5="@firebase/functions",R5="@firebase/functions-compat",k5="@firebase/installations",N5="@firebase/installations-compat",D5="@firebase/messaging",O5="@firebase/messaging-compat",M5="@firebase/performance",V5="@firebase/performance-compat",L5="@firebase/remote-config",j5="@firebase/remote-config-compat",F5="@firebase/storage",U5="@firebase/storage-compat",B5="@firebase/firestore",$5="@firebase/ai",z5="@firebase/firestore-compat",W5="firebase",H5="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="[DEFAULT]",G5={[vy]:"fire-core",[w5]:"fire-core-compat",[E5]:"fire-analytics",[_5]:"fire-analytics-compat",[T5]:"fire-app-check",[x5]:"fire-app-check-compat",[S5]:"fire-auth",[b5]:"fire-auth-compat",[C5]:"fire-rtdb",[I5]:"fire-data-connect",[A5]:"fire-rtdb-compat",[P5]:"fire-fn",[R5]:"fire-fn-compat",[k5]:"fire-iid",[N5]:"fire-iid-compat",[D5]:"fire-fcm",[O5]:"fire-fcm-compat",[M5]:"fire-perf",[V5]:"fire-perf-compat",[L5]:"fire-rc",[j5]:"fire-rc-compat",[F5]:"fire-gcs",[U5]:"fire-gcs-compat",[B5]:"fire-fst",[z5]:"fire-fst-compat",[$5]:"fire-vertex","fire-js":"fire-js",[W5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=new Map,K5=new Map,_y=new Map;function qx(t,e){try{t.container.addComponent(e)}catch(n){ls.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function To(t){const e=t.name;if(_y.has(e))return ls.debug(`There were multiple attempts to register component ${e}.`),!1;_y.set(e,t);for(const n of eu.values())qx(n,t);for(const n of K5.values())qx(n,t);return!0}function R0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function On(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ai=new bu("app","Firebase",q5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ai.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=H5;function UA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:wy,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw ai.create("bad-app-name",{appName:String(s)});if(n||(n=OA()),!n)throw ai.create("no-options");const i=eu.get(s);if(i){if(xo(n,i.options)&&xo(r,i.config))return i;throw ai.create("duplicate-app",{appName:s})}const o=new t5(s);for(const l of _y.values())o.addComponent(l);const a=new Q5(n,r,o);return eu.set(s,a),a}function BA(t=wy){const e=eu.get(t);if(!e&&t===wy&&OA())return UA();if(!e)throw ai.create("no-app",{appName:t});return e}function Qx(){return Array.from(eu.values())}function br(t,e,n){let r=G5[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ls.warn(o.join(" "));return}To(new yi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5="firebase-heartbeat-database",X5=1,tu="firebase-heartbeat-store";let Rm=null;function $A(){return Rm||(Rm=p5(Y5,X5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(tu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ai.create("idb-open",{originalErrorMessage:t.message})})),Rm}async function J5(t){try{const n=(await $A()).transaction(tu),r=await n.objectStore(tu).get(zA(t));return await n.done,r}catch(e){if(e instanceof Fr)ls.warn(e.message);else{const n=ai.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ls.warn(n.message)}}}async function Yx(t,e){try{const r=(await $A()).transaction(tu,"readwrite");await r.objectStore(tu).put(e,zA(t)),await r.done}catch(n){if(n instanceof Fr)ls.warn(n.message);else{const r=ai.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ls.warn(r.message)}}}function zA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5=1024,e3=30;class t3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new r3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Xx();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>e3){const o=s3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ls.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Xx(),{heartbeatsToSend:r,unsentEntries:s}=n3(this._heartbeatsCache.heartbeats),i=Wh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ls.warn(n),""}}}function Xx(){return new Date().toISOString().substring(0,10)}function n3(t,e=Z5){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Jx(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Jx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class r3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zU()?WU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await J5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Yx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Yx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Jx(t){return Wh(JSON.stringify({version:2,heartbeats:t})).length}function s3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(t){To(new yi("platform-logger",e=>new y5(e),"PRIVATE")),To(new yi("heartbeat",e=>new t3(e),"PRIVATE")),br(vy,Kx,t),br(vy,Kx,"esm2020"),br("fire-js","")}i3("");var o3="firebase",a3="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */br(o3,a3,"app");var Zx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var li,WA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,b){function I(){}I.prototype=b.prototype,C.F=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(k,N,O){for(var D=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)D[Y-2]=arguments[Y];return b.prototype[N].apply(k,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,b,I){I||(I=0);const k=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)k[N]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(N=0;N<16;++N)k[N]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],N=C.g[2];let O=C.g[3],D;D=b+(O^I&(N^O))+k[0]+3614090360&4294967295,b=I+(D<<7&4294967295|D>>>25),D=O+(N^b&(I^N))+k[1]+3905402710&4294967295,O=b+(D<<12&4294967295|D>>>20),D=N+(I^O&(b^I))+k[2]+606105819&4294967295,N=O+(D<<17&4294967295|D>>>15),D=I+(b^N&(O^b))+k[3]+3250441966&4294967295,I=N+(D<<22&4294967295|D>>>10),D=b+(O^I&(N^O))+k[4]+4118548399&4294967295,b=I+(D<<7&4294967295|D>>>25),D=O+(N^b&(I^N))+k[5]+1200080426&4294967295,O=b+(D<<12&4294967295|D>>>20),D=N+(I^O&(b^I))+k[6]+2821735955&4294967295,N=O+(D<<17&4294967295|D>>>15),D=I+(b^N&(O^b))+k[7]+4249261313&4294967295,I=N+(D<<22&4294967295|D>>>10),D=b+(O^I&(N^O))+k[8]+1770035416&4294967295,b=I+(D<<7&4294967295|D>>>25),D=O+(N^b&(I^N))+k[9]+2336552879&4294967295,O=b+(D<<12&4294967295|D>>>20),D=N+(I^O&(b^I))+k[10]+4294925233&4294967295,N=O+(D<<17&4294967295|D>>>15),D=I+(b^N&(O^b))+k[11]+2304563134&4294967295,I=N+(D<<22&4294967295|D>>>10),D=b+(O^I&(N^O))+k[12]+1804603682&4294967295,b=I+(D<<7&4294967295|D>>>25),D=O+(N^b&(I^N))+k[13]+4254626195&4294967295,O=b+(D<<12&4294967295|D>>>20),D=N+(I^O&(b^I))+k[14]+2792965006&4294967295,N=O+(D<<17&4294967295|D>>>15),D=I+(b^N&(O^b))+k[15]+1236535329&4294967295,I=N+(D<<22&4294967295|D>>>10),D=b+(N^O&(I^N))+k[1]+4129170786&4294967295,b=I+(D<<5&4294967295|D>>>27),D=O+(I^N&(b^I))+k[6]+3225465664&4294967295,O=b+(D<<9&4294967295|D>>>23),D=N+(b^I&(O^b))+k[11]+643717713&4294967295,N=O+(D<<14&4294967295|D>>>18),D=I+(O^b&(N^O))+k[0]+3921069994&4294967295,I=N+(D<<20&4294967295|D>>>12),D=b+(N^O&(I^N))+k[5]+3593408605&4294967295,b=I+(D<<5&4294967295|D>>>27),D=O+(I^N&(b^I))+k[10]+38016083&4294967295,O=b+(D<<9&4294967295|D>>>23),D=N+(b^I&(O^b))+k[15]+3634488961&4294967295,N=O+(D<<14&4294967295|D>>>18),D=I+(O^b&(N^O))+k[4]+3889429448&4294967295,I=N+(D<<20&4294967295|D>>>12),D=b+(N^O&(I^N))+k[9]+568446438&4294967295,b=I+(D<<5&4294967295|D>>>27),D=O+(I^N&(b^I))+k[14]+3275163606&4294967295,O=b+(D<<9&4294967295|D>>>23),D=N+(b^I&(O^b))+k[3]+4107603335&4294967295,N=O+(D<<14&4294967295|D>>>18),D=I+(O^b&(N^O))+k[8]+1163531501&4294967295,I=N+(D<<20&4294967295|D>>>12),D=b+(N^O&(I^N))+k[13]+2850285829&4294967295,b=I+(D<<5&4294967295|D>>>27),D=O+(I^N&(b^I))+k[2]+4243563512&4294967295,O=b+(D<<9&4294967295|D>>>23),D=N+(b^I&(O^b))+k[7]+1735328473&4294967295,N=O+(D<<14&4294967295|D>>>18),D=I+(O^b&(N^O))+k[12]+2368359562&4294967295,I=N+(D<<20&4294967295|D>>>12),D=b+(I^N^O)+k[5]+4294588738&4294967295,b=I+(D<<4&4294967295|D>>>28),D=O+(b^I^N)+k[8]+2272392833&4294967295,O=b+(D<<11&4294967295|D>>>21),D=N+(O^b^I)+k[11]+1839030562&4294967295,N=O+(D<<16&4294967295|D>>>16),D=I+(N^O^b)+k[14]+4259657740&4294967295,I=N+(D<<23&4294967295|D>>>9),D=b+(I^N^O)+k[1]+2763975236&4294967295,b=I+(D<<4&4294967295|D>>>28),D=O+(b^I^N)+k[4]+1272893353&4294967295,O=b+(D<<11&4294967295|D>>>21),D=N+(O^b^I)+k[7]+4139469664&4294967295,N=O+(D<<16&4294967295|D>>>16),D=I+(N^O^b)+k[10]+3200236656&4294967295,I=N+(D<<23&4294967295|D>>>9),D=b+(I^N^O)+k[13]+681279174&4294967295,b=I+(D<<4&4294967295|D>>>28),D=O+(b^I^N)+k[0]+3936430074&4294967295,O=b+(D<<11&4294967295|D>>>21),D=N+(O^b^I)+k[3]+3572445317&4294967295,N=O+(D<<16&4294967295|D>>>16),D=I+(N^O^b)+k[6]+76029189&4294967295,I=N+(D<<23&4294967295|D>>>9),D=b+(I^N^O)+k[9]+3654602809&4294967295,b=I+(D<<4&4294967295|D>>>28),D=O+(b^I^N)+k[12]+3873151461&4294967295,O=b+(D<<11&4294967295|D>>>21),D=N+(O^b^I)+k[15]+530742520&4294967295,N=O+(D<<16&4294967295|D>>>16),D=I+(N^O^b)+k[2]+3299628645&4294967295,I=N+(D<<23&4294967295|D>>>9),D=b+(N^(I|~O))+k[0]+4096336452&4294967295,b=I+(D<<6&4294967295|D>>>26),D=O+(I^(b|~N))+k[7]+1126891415&4294967295,O=b+(D<<10&4294967295|D>>>22),D=N+(b^(O|~I))+k[14]+2878612391&4294967295,N=O+(D<<15&4294967295|D>>>17),D=I+(O^(N|~b))+k[5]+4237533241&4294967295,I=N+(D<<21&4294967295|D>>>11),D=b+(N^(I|~O))+k[12]+1700485571&4294967295,b=I+(D<<6&4294967295|D>>>26),D=O+(I^(b|~N))+k[3]+2399980690&4294967295,O=b+(D<<10&4294967295|D>>>22),D=N+(b^(O|~I))+k[10]+4293915773&4294967295,N=O+(D<<15&4294967295|D>>>17),D=I+(O^(N|~b))+k[1]+2240044497&4294967295,I=N+(D<<21&4294967295|D>>>11),D=b+(N^(I|~O))+k[8]+1873313359&4294967295,b=I+(D<<6&4294967295|D>>>26),D=O+(I^(b|~N))+k[15]+4264355552&4294967295,O=b+(D<<10&4294967295|D>>>22),D=N+(b^(O|~I))+k[6]+2734768916&4294967295,N=O+(D<<15&4294967295|D>>>17),D=I+(O^(N|~b))+k[13]+1309151649&4294967295,I=N+(D<<21&4294967295|D>>>11),D=b+(N^(I|~O))+k[4]+4149444226&4294967295,b=I+(D<<6&4294967295|D>>>26),D=O+(I^(b|~N))+k[11]+3174756917&4294967295,O=b+(D<<10&4294967295|D>>>22),D=N+(b^(O|~I))+k[2]+718787259&4294967295,N=O+(D<<15&4294967295|D>>>17),D=I+(O^(N|~b))+k[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+O&4294967295}r.prototype.v=function(C,b){b===void 0&&(b=C.length);const I=b-this.blockSize,k=this.C;let N=this.h,O=0;for(;O<b;){if(N==0)for(;O<=I;)s(this,C,O),O+=this.blockSize;if(typeof C=="string"){for(;O<b;)if(k[N++]=C.charCodeAt(O++),N==this.blockSize){s(this,k),N=0;break}}else for(;O<b;)if(k[N++]=C[O++],N==this.blockSize){s(this,k),N=0;break}}this.h=N,this.o+=b},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,I=0;I<4;++I)for(let k=0;k<32;k+=8)C[b++]=this.g[I]>>>k&255;return C};function i(C,b){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function o(C,b){this.h=b;const I=[];let k=!0;for(let N=C.length-1;N>=0;N--){const O=C[N]|0;k&&O==b||(I[N]=O,k=!1)}this.g=I}var a={};function l(C){return-128<=C&&C<128?i(C,function(b){return new o([b|0],b<0?-1:0)}):new o([C|0],C<0?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return h;if(C<0)return E(c(-C));const b=[];let I=1;for(let k=0;C>=I;k++)b[k]=C/I|0,I*=4294967296;return new o(b,0)}function d(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return E(d(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=c(Math.pow(b,8));let k=h;for(let O=0;O<C.length;O+=8){var N=Math.min(8,C.length-O);const D=parseInt(C.substring(O,O+N),b);N<8?(N=c(Math.pow(b,N)),k=k.j(N).add(c(D))):(k=k.j(I),k=k.add(c(D)))}return k}var h=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-E(this).m();let C=0,b=1;for(let I=0;I<this.g.length;I++){const k=this.i(I);C+=(k>=0?k:4294967296+k)*b,b*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(S(this))return"0";if(g(this))return"-"+E(this).toString(C);const b=c(Math.pow(C,6));var I=this;let k="";for(;;){const N=A(I,b).g;I=v(I,N.j(b));let O=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,S(I))return O+k;for(;O.length<6;)O="0"+O;k=O+k}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function S(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function g(C){return C.h==-1}t.l=function(C){return C=v(this,C),g(C)?-1:S(C)?0:1};function E(C){const b=C.g.length,I=[];for(let k=0;k<b;k++)I[k]=~C.g[k];return new o(I,~C.h).add(f)}t.abs=function(){return g(this)?E(this):this},t.add=function(C){const b=Math.max(this.g.length,C.g.length),I=[];let k=0;for(let N=0;N<=b;N++){let O=k+(this.i(N)&65535)+(C.i(N)&65535),D=(O>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);k=D>>>16,O&=65535,D&=65535,I[N]=D<<16|O}return new o(I,I[I.length-1]&-2147483648?-1:0)};function v(C,b){return C.add(E(b))}t.j=function(C){if(S(this)||S(C))return h;if(g(this))return g(C)?E(this).j(E(C)):E(E(this).j(C));if(g(C))return E(this.j(E(C)));if(this.l(p)<0&&C.l(p)<0)return c(this.m()*C.m());const b=this.g.length+C.g.length,I=[];for(var k=0;k<2*b;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(let N=0;N<C.g.length;N++){const O=this.i(k)>>>16,D=this.i(k)&65535,Y=C.i(N)>>>16,ue=C.i(N)&65535;I[2*k+2*N]+=D*ue,w(I,2*k+2*N),I[2*k+2*N+1]+=O*ue,w(I,2*k+2*N+1),I[2*k+2*N+1]+=D*Y,w(I,2*k+2*N+1),I[2*k+2*N+2]+=O*Y,w(I,2*k+2*N+2)}for(C=0;C<b;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=b;C<2*b;C++)I[C]=0;return new o(I,0)};function w(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function T(C,b){this.g=C,this.h=b}function A(C,b){if(S(b))throw Error("division by zero");if(S(C))return new T(h,h);if(g(C))return b=A(E(C),b),new T(E(b.g),E(b.h));if(g(b))return b=A(C,E(b)),new T(E(b.g),b.h);if(C.g.length>30){if(g(C)||g(b))throw Error("slowDivide_ only works with positive integers.");for(var I=f,k=b;k.l(C)<=0;)I=R(I),k=R(k);var N=M(I,1),O=M(k,1);for(k=M(k,2),I=M(I,2);!S(k);){var D=O.add(k);D.l(C)<=0&&(N=N.add(I),O=D),k=M(k,1),I=M(I,1)}return b=v(C,N.j(b)),new T(N,b)}for(N=h;C.l(b)>=0;){for(I=Math.max(1,Math.floor(C.m()/b.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),O=c(I),D=O.j(b);g(D)||D.l(C)>0;)I-=k,O=c(I),D=O.j(b);S(O)&&(O=f),N=N.add(O),C=v(C,D)}return new T(N,C)}t.B=function(C){return A(this,C).h},t.and=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let k=0;k<b;k++)I[k]=this.i(k)&C.i(k);return new o(I,this.h&C.h)},t.or=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let k=0;k<b;k++)I[k]=this.i(k)|C.i(k);return new o(I,this.h|C.h)},t.xor=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let k=0;k<b;k++)I[k]=this.i(k)^C.i(k);return new o(I,this.h^C.h)};function R(C){const b=C.g.length+1,I=[];for(let k=0;k<b;k++)I[k]=C.i(k)<<1|C.i(k-1)>>>31;return new o(I,C.h)}function M(C,b){const I=b>>5;b%=32;const k=C.g.length-I,N=[];for(let O=0;O<k;O++)N[O]=b>0?C.i(O+I)>>>b|C.i(O+I+1)<<32-b:C.i(O+I);return new o(N,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,WA=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,li=o}).apply(typeof Zx<"u"?Zx:typeof self<"u"?self:typeof window<"u"?window:{});var Ed=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HA,nc,GA,Xd,Ey,KA,qA,QA;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ed=="object"&&Ed];for(var m=0;m<u.length;++m){var x=u[m];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function s(u,m){if(m)e:{var x=r;u=u.split(".");for(var P=0;P<u.length-1;P++){var V=u[P];if(!(V in x))break e;x=x[V]}u=u[u.length-1],P=x[u],m=m(P),m!=P&&m!=null&&e(x,u,{configurable:!0,writable:!0,value:m})}}s("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(u){return u||function(m){var x=[],P;for(P in m)Object.prototype.hasOwnProperty.call(m,P)&&x.push([P,m[P]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function l(u,m,x){return u.call.apply(u.bind,arguments)}function c(u,m,x){return c=l,c.apply(null,arguments)}function d(u,m){var x=Array.prototype.slice.call(arguments,1);return function(){var P=x.slice();return P.push.apply(P,arguments),u.apply(this,P)}}function h(u,m){function x(){}x.prototype=m.prototype,u.Z=m.prototype,u.prototype=new x,u.prototype.constructor=u,u.Ob=function(P,V,L){for(var H=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)H[fe-2]=arguments[fe];return m.prototype[V].apply(P,H)}}var f=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function p(u){const m=u.length;if(m>0){const x=Array(m);for(let P=0;P<m;P++)x[P]=u[P];return x}return[]}function S(u,m){for(let P=1;P<arguments.length;P++){const V=arguments[P];var x=typeof V;if(x=x!="object"?x:V?Array.isArray(V)?"array":x:"null",x=="array"||x=="object"&&typeof V.length=="number"){x=u.length||0;const L=V.length||0;u.length=x+L;for(let H=0;H<L;H++)u[x+H]=V[H]}else u.push(V)}}class g{constructor(m,x){this.i=m,this.j=x,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function E(u){o.setTimeout(()=>{throw u},0)}function v(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class w{constructor(){this.h=this.g=null}add(m,x){const P=T.get();P.set(m,x),this.h?this.h.next=P:this.g=P,this.h=P}}var T=new g(()=>new A,u=>u.reset());class A{constructor(){this.next=this.g=this.h=null}set(m,x){this.h=m,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let R,M=!1,C=new w,b=()=>{const u=Promise.resolve(void 0);R=()=>{u.then(I)}};function I(){for(var u;u=v();){try{u.h.call(u.g)}catch(x){E(x)}var m=T;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}M=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const x=()=>{};o.addEventListener("test",x,m),o.removeEventListener("test",x,m)}catch{}return u}();function D(u){return/^[\s\xa0]*$/.test(u)}function Y(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}h(Y,N),Y.prototype.init=function(u,m){const x=this.type=u.type,P=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(x=="mouseover"?m=u.fromElement:x=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Y.Z.h.call(this)},Y.prototype.h=function(){Y.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ue="closure_listenable_"+(Math.random()*1e6|0),J=0;function X(u,m,x,P,V){this.listener=u,this.proxy=null,this.src=m,this.type=x,this.capture=!!P,this.ha=V,this.key=++J,this.da=this.fa=!1}function j(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function U(u,m,x){for(const P in u)m.call(x,u[P],P,u)}function G(u,m){for(const x in u)m.call(void 0,u[x],x,u)}function ie(u){const m={};for(const x in u)m[x]=u[x];return m}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(u,m){let x,P;for(let V=1;V<arguments.length;V++){P=arguments[V];for(x in P)u[x]=P[x];for(let L=0;L<ee.length;L++)x=ee[L],Object.prototype.hasOwnProperty.call(P,x)&&(u[x]=P[x])}}function le(u){this.src=u,this.g={},this.h=0}le.prototype.add=function(u,m,x,P,V){const L=u.toString();u=this.g[L],u||(u=this.g[L]=[],this.h++);const H=Oe(u,m,P,V);return H>-1?(m=u[H],x||(m.fa=!1)):(m=new X(m,this.src,L,!!P,V),m.fa=x,u.push(m)),m};function ke(u,m){const x=m.type;if(x in u.g){var P=u.g[x],V=Array.prototype.indexOf.call(P,m,void 0),L;(L=V>=0)&&Array.prototype.splice.call(P,V,1),L&&(j(m),u.g[x].length==0&&(delete u.g[x],u.h--))}}function Oe(u,m,x,P){for(let V=0;V<u.length;++V){const L=u[V];if(!L.da&&L.listener==m&&L.capture==!!x&&L.ha==P)return V}return-1}var K="closure_lm_"+(Math.random()*1e6|0),be={};function Le(u,m,x,P,V){if(Array.isArray(m)){for(let L=0;L<m.length;L++)Le(u,m[L],x,P,V);return null}return x=ms(x),u&&u[ue]?u.J(m,x,a(P)?!!P.capture:!1,V):Ce(u,m,x,!1,P,V)}function Ce(u,m,x,P,V,L){if(!m)throw Error("Invalid event type");const H=a(V)?!!V.capture:!!V;let fe=In(u);if(fe||(u[K]=fe=new le(u)),x=fe.add(m,x,P,H,L),x.proxy)return x;if(P=ve(),x.proxy=P,P.src=u,P.listener=x,u.addEventListener)O||(V=H),V===void 0&&(V=!1),u.addEventListener(m.toString(),P,V);else if(u.attachEvent)u.attachEvent(qt(m.toString()),P);else if(u.addListener&&u.removeListener)u.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return x}function ve(){function u(x){return m.call(u.src,u.listener,x)}const m=Br;return u}function xe(u,m,x,P,V){if(Array.isArray(m))for(var L=0;L<m.length;L++)xe(u,m[L],x,P,V);else P=a(P)?!!P.capture:!!P,x=ms(x),u&&u[ue]?(u=u.i,L=String(m).toString(),L in u.g&&(m=u.g[L],x=Oe(m,x,P,V),x>-1&&(j(m[x]),Array.prototype.splice.call(m,x,1),m.length==0&&(delete u.g[L],u.h--)))):u&&(u=In(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Oe(m,x,P,V)),(x=u>-1?m[u]:null)&&at(x))}function at(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ue])ke(m.i,u);else{var x=u.type,P=u.proxy;m.removeEventListener?m.removeEventListener(x,P,u.capture):m.detachEvent?m.detachEvent(qt(x),P):m.addListener&&m.removeListener&&m.removeListener(P),(x=In(m))?(ke(x,u),x.h==0&&(x.src=null,m[K]=null)):j(u)}}}function qt(u){return u in be?be[u]:be[u]="on"+u}function Br(u,m){if(u.da)u=!0;else{m=new Y(m,this);const x=u.listener,P=u.ha||u.src;u.fa&&at(u),u=x.call(P,m)}return u}function In(u){return u=u[K],u instanceof le?u:null}var Un="__closure_events_fn_"+(Math.random()*1e9>>>0);function ms(u){return typeof u=="function"?u:(u[Un]||(u[Un]=function(m){return u.handleEvent(m)}),u[Un])}function Ke(){k.call(this),this.i=new le(this),this.M=this,this.G=null}h(Ke,k),Ke.prototype[ue]=!0,Ke.prototype.removeEventListener=function(u,m,x,P){xe(this,u,m,x,P)};function wt(u,m){var x,P=u.G;if(P)for(x=[];P;P=P.G)x.push(P);if(u=u.M,P=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var V=m;m=new N(P,u),me(m,V)}V=!0;let L,H;if(x)for(H=x.length-1;H>=0;H--)L=m.g=x[H],V=ar(L,P,!0,m)&&V;if(L=m.g=u,V=ar(L,P,!0,m)&&V,V=ar(L,P,!1,m)&&V,x)for(H=0;H<x.length;H++)L=m.g=x[H],V=ar(L,P,!1,m)&&V}Ke.prototype.N=function(){if(Ke.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const x=u.g[m];for(let P=0;P<x.length;P++)j(x[P]);delete u.g[m],u.h--}}this.G=null},Ke.prototype.J=function(u,m,x,P){return this.i.add(String(u),m,!1,x,P)},Ke.prototype.K=function(u,m,x,P){return this.i.add(String(u),m,!0,x,P)};function ar(u,m,x,P){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let V=!0;for(let L=0;L<m.length;++L){const H=m[L];if(H&&!H.da&&H.capture==x){const fe=H.listener,ft=H.ha||H.src;H.fa&&ke(u.i,H),V=fe.call(ft,P)!==!1&&V}}return V&&!P.defaultPrevented}function Uu(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=c(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:o.setTimeout(u,m||0)}function lr(u){u.g=Uu(()=>{u.g=null,u.i&&(u.i=!1,lr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Dp extends k{constructor(m,x){super(),this.m=m,this.l=x,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:lr(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ji(u){k.call(this),this.h=u,this.g={}}h(ji,k);var Qt=[];function $r(u){U(u.g,function(m,x){this.g.hasOwnProperty(x)&&at(m)},u),u.g={}}ji.prototype.N=function(){ji.Z.N.call(this),$r(this)},ji.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bl=o.JSON.stringify,Op=o.JSON.parse,Lo=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function Bu(){}function Cl(){}var zr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function cr(){N.call(this,"d")}h(cr,N);function jo(){N.call(this,"c")}h(jo,N);var nn={},$u=null;function Fo(){return $u=$u||new Ke}nn.Ia="serverreachability";function Il(u){N.call(this,nn.Ia,u)}h(Il,N);function gs(u){const m=Fo();wt(m,new Il(m))}nn.STAT_EVENT="statevent";function zu(u,m){N.call(this,nn.STAT_EVENT,u),this.stat=m}h(zu,N);function ht(u){const m=Fo();wt(m,new zu(m,u))}nn.Ja="timingevent";function Bn(u,m){N.call(this,nn.Ja,u),this.size=m}h(Bn,N);function Fi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},m)}function re(){this.g=!0}re.prototype.ua=function(){this.g=!1};function Pe(u,m,x,P,V,L){u.info(function(){if(u.g)if(L){var H="",fe=L.split("&");for(let De=0;De<fe.length;De++){var ft=fe[De].split("=");if(ft.length>1){const Et=ft[0];ft=ft[1];const hr=Et.split("_");H=hr.length>=2&&hr[1]=="type"?H+(Et+"="+ft+"&"):H+(Et+"=redacted&")}}}else H=null;else H=L;return"XMLHTTP REQ ("+P+") [attempt "+V+"]: "+m+`
`+x+`
`+H})}function Me(u,m,x,P,V,L,H){u.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+V+"]: "+m+`
`+x+`
`+L+" "+H})}function _t(u,m,x,P){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+ur(u,x)+(P?" "+P:"")})}function fn(u,m){u.info(function(){return"TIMEOUT: "+m})}re.prototype.info=function(){};function ur(u,m){if(!u.g)return m;if(!m)return null;try{const L=JSON.parse(m);if(L){for(u=0;u<L.length;u++)if(Array.isArray(L[u])){var x=L[u];if(!(x.length<2)){var P=x[1];if(Array.isArray(P)&&!(P.length<1)){var V=P[0];if(V!="noop"&&V!="stop"&&V!="close")for(let H=1;H<P.length;H++)P[H]=""}}}}return bl(L)}catch{return m}}var An={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},rn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$n;function Mp(){}h(Mp,Bu),Mp.prototype.g=function(){return new XMLHttpRequest},$n=new Mp;function Al(u){return encodeURIComponent(String(u))}function P2(u){var m=1;u=u.split(":");const x=[];for(;m>0&&u.length;)x.push(u.shift()),m--;return u.length&&x.push(u.join(":")),x}function ys(u,m,x,P){this.j=u,this.i=m,this.l=x,this.S=P||1,this.V=new ji(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new h_}function h_(){this.i=null,this.g="",this.h=!1}var f_={},Vp={};function Lp(u,m,x){u.M=1,u.A=Hu(dr(m)),u.u=x,u.R=!0,p_(u,null)}function p_(u,m){u.F=Date.now(),Wu(u),u.B=dr(u.A);var x=u.B,P=u.S;Array.isArray(P)||(P=[String(P)]),I_(x.i,"t",P),u.C=0,x=u.j.L,u.h=new h_,u.g=H_(u.j,x?m:null,!u.u),u.P>0&&(u.O=new Dp(c(u.Y,u,u.g),u.P)),m=u.V,x=u.g,P=u.ba;var V="readystatechange";Array.isArray(V)||(V&&(Qt[0]=V.toString()),V=Qt);for(let L=0;L<V.length;L++){const H=Le(x,V[L],P||m.handleEvent,!1,m.h||m);if(!H)break;m.g[H.key]=H}m=u.J?ie(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),gs(),Pe(u.i,u.v,u.B,u.l,u.S,u.u)}ys.prototype.ba=function(u){u=u.target;const m=this.O;m&&_s(u)==3?m.j():this.Y(u)},ys.prototype.Y=function(u){try{if(u==this.g)e:{const fe=_s(this.g),ft=this.g.ya(),De=this.g.ca();if(!(fe<3)&&(fe!=3||this.g&&(this.h.h||this.g.la()||O_(this.g)))){this.K||fe!=4||ft==7||(ft==8||De<=0?gs(3):gs(2)),jp(this);var m=this.g.ca();this.X=m;var x=R2(this);if(this.o=m==200,Me(this.i,this.v,this.B,this.l,this.S,fe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var P,V=this.g;if((P=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(P)){var L=P;break t}}L=null}if(u=L)_t(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Fp(this,u);else{this.o=!1,this.m=3,ht(12),Ui(this),Pl(this);break e}}if(this.R){u=!0;let Et;for(;!this.K&&this.C<x.length;)if(Et=k2(this,x),Et==Vp){fe==4&&(this.m=4,ht(14),u=!1),_t(this.i,this.l,null,"[Incomplete Response]");break}else if(Et==f_){this.m=4,ht(15),_t(this.i,this.l,x,"[Invalid Chunk]"),u=!1;break}else _t(this.i,this.l,Et,null),Fp(this,Et);if(m_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fe!=4||x.length!=0||this.h.h||(this.m=1,ht(16),u=!1),this.o=this.o&&u,!u)_t(this.i,this.l,x,"[Invalid Chunked Response]"),Ui(this),Pl(this);else if(x.length>0&&!this.W){this.W=!0;var H=this.j;H.g==this&&H.aa&&!H.P&&(H.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Kp(H),H.P=!0,ht(11))}}else _t(this.i,this.l,x,null),Fp(this,x);fe==4&&Ui(this),this.o&&!this.K&&(fe==4?B_(this.j,this):(this.o=!1,Wu(this)))}else H2(this.g),m==400&&x.indexOf("Unknown SID")>0?(this.m=3,ht(12)):(this.m=0,ht(13)),Ui(this),Pl(this)}}}catch{}finally{}};function R2(u){if(!m_(u))return u.g.la();const m=O_(u.g);if(m==="")return"";let x="";const P=m.length,V=_s(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Ui(u),Pl(u),"";u.h.i=new o.TextDecoder}for(let L=0;L<P;L++)u.h.h=!0,x+=u.h.i.decode(m[L],{stream:!(V&&L==P-1)});return m.length=0,u.h.g+=x,u.C=0,u.h.g}function m_(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function k2(u,m){var x=u.C,P=m.indexOf(`
`,x);return P==-1?Vp:(x=Number(m.substring(x,P)),isNaN(x)?f_:(P+=1,P+x>m.length?Vp:(m=m.slice(P,P+x),u.C=P+x,m)))}ys.prototype.cancel=function(){this.K=!0,Ui(this)};function Wu(u){u.T=Date.now()+u.H,g_(u,u.H)}function g_(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Fi(c(u.aa,u),m)}function jp(u){u.D&&(o.clearTimeout(u.D),u.D=null)}ys.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(fn(this.i,this.B),this.M!=2&&(gs(),ht(17)),Ui(this),this.m=2,Pl(this)):g_(this,this.T-u)};function Pl(u){u.j.I==0||u.K||B_(u.j,u)}function Ui(u){jp(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,$r(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Fp(u,m){try{var x=u.j;if(x.I!=0&&(x.g==u||Up(x.h,u))){if(!u.L&&Up(x.h,u)&&x.I==3){try{var P=x.Ba.g.parse(m)}catch{P=null}if(Array.isArray(P)&&P.length==3){var V=P;if(V[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<u.F)Yu(x),qu(x);else break e;Gp(x),ht(18)}}else x.xa=V[1],0<x.xa-x.K&&V[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=Fi(c(x.Va,x),6e3));w_(x.h)<=1&&x.ta&&(x.ta=void 0)}else $i(x,11)}else if((u.L||x.g==u)&&Yu(x),!D(m))for(V=x.Ba.g.parse(m),m=0;m<V.length;m++){let De=V[m];const Et=De[0];if(!(Et<=x.K))if(x.K=Et,De=De[1],x.I==2)if(De[0]=="c"){x.M=De[1],x.ba=De[2];const hr=De[3];hr!=null&&(x.ka=hr,x.j.info("VER="+x.ka));const zi=De[4];zi!=null&&(x.za=zi,x.j.info("SVER="+x.za));const Es=De[5];Es!=null&&typeof Es=="number"&&Es>0&&(P=1.5*Es,x.O=P,x.j.info("backChannelRequestTimeoutMs_="+P)),P=x;const xs=u.g;if(xs){const Ju=xs.g?xs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ju){var L=P.h;L.g||Ju.indexOf("spdy")==-1&&Ju.indexOf("quic")==-1&&Ju.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Bp(L,L.h),L.h=null))}if(P.G){const qp=xs.g?xs.g.getResponseHeader("X-HTTP-Session-Id"):null;qp&&(P.wa=qp,je(P.J,P.G,qp))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-u.F,x.j.info("Handshake RTT: "+x.T+"ms")),P=x;var H=u;if(P.na=W_(P,P.L?P.ba:null,P.W),H.L){__(P.h,H);var fe=H,ft=P.O;ft&&(fe.H=ft),fe.D&&(jp(fe),Wu(fe)),P.g=H}else F_(P);x.i.length>0&&Qu(x)}else De[0]!="stop"&&De[0]!="close"||$i(x,7);else x.I==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?$i(x,7):Hp(x):De[0]!="noop"&&x.l&&x.l.qa(De),x.A=0)}}gs(4)}catch{}}var N2=class{constructor(u,m){this.g=u,this.map=m}};function y_(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function v_(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function w_(u){return u.h?1:u.g?u.g.size:0}function Up(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Bp(u,m){u.g?u.g.add(m):u.h=m}function __(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}y_.prototype.cancel=function(){if(this.i=E_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function E_(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const x of u.g.values())m=m.concat(x.G);return m}return p(u.i)}var x_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function D2(u,m){if(u){u=u.split("&");for(let x=0;x<u.length;x++){const P=u[x].indexOf("=");let V,L=null;P>=0?(V=u[x].substring(0,P),L=u[x].substring(P+1)):V=u[x],m(V,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function vs(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof vs?(this.l=u.l,Rl(this,u.j),this.o=u.o,this.g=u.g,kl(this,u.u),this.h=u.h,$p(this,A_(u.i)),this.m=u.m):u&&(m=String(u).match(x_))?(this.l=!1,Rl(this,m[1]||"",!0),this.o=Nl(m[2]||""),this.g=Nl(m[3]||"",!0),kl(this,m[4]),this.h=Nl(m[5]||"",!0),$p(this,m[6]||"",!0),this.m=Nl(m[7]||"")):(this.l=!1,this.i=new Ol(null,this.l))}vs.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Dl(m,T_,!0),":");var x=this.g;return(x||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Dl(m,T_,!0),"@"),u.push(Al(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&u.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&u.push("/"),u.push(Dl(x,x.charAt(0)=="/"?V2:M2,!0))),(x=this.i.toString())&&u.push("?",x),(x=this.m)&&u.push("#",Dl(x,j2)),u.join("")},vs.prototype.resolve=function(u){const m=dr(this);let x=!!u.j;x?Rl(m,u.j):x=!!u.o,x?m.o=u.o:x=!!u.g,x?m.g=u.g:x=u.u!=null;var P=u.h;if(x)kl(m,u.u);else if(x=!!u.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var V=m.h.lastIndexOf("/");V!=-1&&(P=m.h.slice(0,V+1)+P)}if(V=P,V==".."||V==".")P="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){P=V.lastIndexOf("/",0)==0,V=V.split("/");const L=[];for(let H=0;H<V.length;){const fe=V[H++];fe=="."?P&&H==V.length&&L.push(""):fe==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),P&&H==V.length&&L.push("")):(L.push(fe),P=!0)}P=L.join("/")}else P=V}return x?m.h=P:x=u.i.toString()!=="",x?$p(m,A_(u.i)):x=!!u.m,x&&(m.m=u.m),m};function dr(u){return new vs(u)}function Rl(u,m,x){u.j=x?Nl(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function kl(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function $p(u,m,x){m instanceof Ol?(u.i=m,F2(u.i,u.l)):(x||(m=Dl(m,L2)),u.i=new Ol(m,u.l))}function je(u,m,x){u.i.set(m,x)}function Hu(u){return je(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Nl(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Dl(u,m,x){return typeof u=="string"?(u=encodeURI(u).replace(m,O2),x&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function O2(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var T_=/[#\/\?@]/g,M2=/[#\?:]/g,V2=/[#\?]/g,L2=/[#\?@]/g,j2=/#/g;function Ol(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Bi(u){u.g||(u.g=new Map,u.h=0,u.i&&D2(u.i,function(m,x){u.add(decodeURIComponent(m.replace(/\+/g," ")),x)}))}t=Ol.prototype,t.add=function(u,m){Bi(this),this.i=null,u=Uo(this,u);let x=this.g.get(u);return x||this.g.set(u,x=[]),x.push(m),this.h+=1,this};function S_(u,m){Bi(u),m=Uo(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function b_(u,m){return Bi(u),m=Uo(u,m),u.g.has(m)}t.forEach=function(u,m){Bi(this),this.g.forEach(function(x,P){x.forEach(function(V){u.call(m,V,P,this)},this)},this)};function C_(u,m){Bi(u);let x=[];if(typeof m=="string")b_(u,m)&&(x=x.concat(u.g.get(Uo(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)x=x.concat(u[m]);return x}t.set=function(u,m){return Bi(this),this.i=null,u=Uo(this,u),b_(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=C_(this,u),u.length>0?String(u[0]):m):m};function I_(u,m,x){S_(u,m),x.length>0&&(u.i=null,u.g.set(Uo(u,m),p(x)),u.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let P=0;P<m.length;P++){var x=m[P];const V=Al(x);x=C_(this,x);for(let L=0;L<x.length;L++){let H=V;x[L]!==""&&(H+="="+Al(x[L])),u.push(H)}}return this.i=u.join("&")};function A_(u){const m=new Ol;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Uo(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function F2(u,m){m&&!u.j&&(Bi(u),u.i=null,u.g.forEach(function(x,P){const V=P.toLowerCase();P!=V&&(S_(this,P),I_(this,V,x))},u)),u.j=m}function U2(u,m){const x=new re;if(o.Image){const P=new Image;P.onload=d(ws,x,"TestLoadImage: loaded",!0,m,P),P.onerror=d(ws,x,"TestLoadImage: error",!1,m,P),P.onabort=d(ws,x,"TestLoadImage: abort",!1,m,P),P.ontimeout=d(ws,x,"TestLoadImage: timeout",!1,m,P),o.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=u}else m(!1)}function B2(u,m){const x=new re,P=new AbortController,V=setTimeout(()=>{P.abort(),ws(x,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:P.signal}).then(L=>{clearTimeout(V),L.ok?ws(x,"TestPingServer: ok",!0,m):ws(x,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(V),ws(x,"TestPingServer: error",!1,m)})}function ws(u,m,x,P,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),P(x)}catch{}}function $2(){this.g=new Lo}function zp(u){this.i=u.Sb||null,this.h=u.ab||!1}h(zp,Bu),zp.prototype.g=function(){return new Gu(this.i,this.h)};function Gu(u,m){Ke.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Gu,Ke),t=Gu.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Vl(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||o).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ml(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Vl(this)),this.g&&(this.readyState=3,Vl(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;P_(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function P_(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ml(this):Vl(this),this.readyState==3&&P_(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,Ml(this))},t.Na=function(u){this.g&&(this.response=u,Ml(this))},t.ga=function(){this.g&&Ml(this)};function Ml(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Vl(u)}t.setRequestHeader=function(u,m){this.A.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var x=m.next();!x.done;)x=x.value,u.push(x[0]+": "+x[1]),x=m.next();return u.join(`\r
`)};function Vl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Gu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function R_(u){let m="";return U(u,function(x,P){m+=P,m+=":",m+=x,m+=`\r
`}),m}function Wp(u,m,x){e:{for(P in x){var P=!1;break e}P=!0}P||(x=R_(x),typeof u=="string"?x!=null&&Al(x):je(u,m,x))}function Ze(u){Ke.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Ze,Ke);var z2=/^https?$/i,W2=["POST","PUT"];t=Ze.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,m,x,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$n.g(),this.g.onreadystatechange=f(c(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(L){k_(this,L);return}if(u=x||"",x=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var V in P)x.set(V,P[V]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const L of P.keys())x.set(L,P.get(L));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(x.keys()).find(L=>L.toLowerCase()=="content-type"),V=o.FormData&&u instanceof o.FormData,!(Array.prototype.indexOf.call(W2,m,void 0)>=0)||P||V||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,H]of x)this.g.setRequestHeader(L,H);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(L){k_(this,L)}};function k_(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,N_(u),Ku(u)}function N_(u){u.A||(u.A=!0,wt(u,"complete"),wt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,wt(this,"complete"),wt(this,"abort"),Ku(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ku(this,!0)),Ze.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?D_(this):this.Xa())},t.Xa=function(){D_(this)};function D_(u){if(u.h&&typeof i<"u"){if(u.v&&_s(u)==4)setTimeout(u.Ca.bind(u),0);else if(wt(u,"readystatechange"),_s(u)==4){u.h=!1;try{const L=u.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var x;if(!(x=m)){var P;if(P=L===0){let H=String(u.D).match(x_)[1]||null;!H&&o.self&&o.self.location&&(H=o.self.location.protocol.slice(0,-1)),P=!z2.test(H?H.toLowerCase():"")}x=P}if(x)wt(u,"complete"),wt(u,"success");else{u.o=6;try{var V=_s(u)>2?u.g.statusText:""}catch{V=""}u.l=V+" ["+u.ca()+"]",N_(u)}}finally{Ku(u)}}}}function Ku(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const x=u.g;u.g=null,m||wt(u,"ready");try{x.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function _s(u){return u.g?u.g.readyState:0}t.ca=function(){try{return _s(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Op(m)}};function O_(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function H2(u){const m={};u=(u.g&&_s(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<u.length;P++){if(D(u[P]))continue;var x=P2(u[P]);const V=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const L=m[V]||[];m[V]=L,L.push(x)}G(m,function(P){return P.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ll(u,m,x){return x&&x.internalChannelParams&&x.internalChannelParams[u]||m}function M_(u){this.za=0,this.i=[],this.j=new re,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ll("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ll("baseRetryDelayMs",5e3,u),this.Za=Ll("retryDelaySeedMs",1e4,u),this.Ta=Ll("forwardChannelMaxRetries",2,u),this.va=Ll("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new y_(u&&u.concurrentRequestLimit),this.Ba=new $2,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=M_.prototype,t.ka=8,t.I=1,t.connect=function(u,m,x,P){ht(0),this.W=u,this.H=m||{},x&&P!==void 0&&(this.H.OSID=x,this.H.OAID=P),this.F=this.X,this.J=W_(this,null,this.W),Qu(this)};function Hp(u){if(V_(u),u.I==3){var m=u.V++,x=dr(u.J);if(je(x,"SID",u.M),je(x,"RID",m),je(x,"TYPE","terminate"),jl(u,x),m=new ys(u,u.j,m),m.M=2,m.A=Hu(dr(x)),x=!1,o.navigator&&o.navigator.sendBeacon)try{x=o.navigator.sendBeacon(m.A.toString(),"")}catch{}!x&&o.Image&&(new Image().src=m.A,x=!0),x||(m.g=H_(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Wu(m)}z_(u)}function qu(u){u.g&&(Kp(u),u.g.cancel(),u.g=null)}function V_(u){qu(u),u.v&&(o.clearTimeout(u.v),u.v=null),Yu(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&o.clearTimeout(u.m),u.m=null)}function Qu(u){if(!v_(u.h)&&!u.m){u.m=!0;var m=u.Ea;R||b(),M||(R(),M=!0),C.add(m,u),u.D=0}}function G2(u,m){return w_(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Fi(c(u.Ea,u,m),$_(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const V=new ys(this,this.j,u);let L=this.o;if(this.U&&(L?(L=ie(L),me(L,this.U)):L=this.U),this.u!==null||this.R||(V.J=L,L=null),this.S)e:{for(var m=0,x=0;x<this.i.length;x++){t:{var P=this.i[x];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(m+=P,m>4096){m=x;break e}if(m===4096||x===this.i.length-1){m=x+1;break e}}m=1e3}else m=1e3;m=j_(this,V,m),x=dr(this.J),je(x,"RID",u),je(x,"CVER",22),this.G&&je(x,"X-HTTP-Session-Id",this.G),jl(this,x),L&&(this.R?m="headers="+Al(R_(L))+"&"+m:this.u&&Wp(x,this.u,L)),Bp(this.h,V),this.Ra&&je(x,"TYPE","init"),this.S?(je(x,"$req",m),je(x,"SID","null"),V.U=!0,Lp(V,x,null)):Lp(V,x,m),this.I=2}}else this.I==3&&(u?L_(this,u):this.i.length==0||v_(this.h)||L_(this))};function L_(u,m){var x;m?x=m.l:x=u.V++;const P=dr(u.J);je(P,"SID",u.M),je(P,"RID",x),je(P,"AID",u.K),jl(u,P),u.u&&u.o&&Wp(P,u.u,u.o),x=new ys(u,u.j,x,u.D+1),u.u===null&&(x.J=u.o),m&&(u.i=m.G.concat(u.i)),m=j_(u,x,1e3),x.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Bp(u.h,x),Lp(x,P,m)}function jl(u,m){u.H&&U(u.H,function(x,P){je(m,P,x)}),u.l&&U({},function(x,P){je(m,P,x)})}function j_(u,m,x){x=Math.min(u.i.length,x);const P=u.l?c(u.l.Ka,u.l,u):null;e:{var V=u.i;let fe=-1;for(;;){const ft=["count="+x];fe==-1?x>0?(fe=V[0].g,ft.push("ofs="+fe)):fe=0:ft.push("ofs="+fe);let De=!0;for(let Et=0;Et<x;Et++){var L=V[Et].g;const hr=V[Et].map;if(L-=fe,L<0)fe=Math.max(0,V[Et].g-100),De=!1;else try{L="req"+L+"_"||"";try{var H=hr instanceof Map?hr:Object.entries(hr);for(const[zi,Es]of H){let xs=Es;a(Es)&&(xs=bl(Es)),ft.push(L+zi+"="+encodeURIComponent(xs))}}catch(zi){throw ft.push(L+"type="+encodeURIComponent("_badmap")),zi}}catch{P&&P(hr)}}if(De){H=ft.join("&");break e}}H=void 0}return u=u.i.splice(0,x),m.G=u,H}function F_(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;R||b(),M||(R(),M=!0),C.add(m,u),u.A=0}}function Gp(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Fi(c(u.Da,u),$_(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,U_(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Fi(c(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ht(10),qu(this),U_(this))};function Kp(u){u.B!=null&&(o.clearTimeout(u.B),u.B=null)}function U_(u){u.g=new ys(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=dr(u.na);je(m,"RID","rpc"),je(m,"SID",u.M),je(m,"AID",u.K),je(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&je(m,"TO",u.ia),je(m,"TYPE","xmlhttp"),jl(u,m),u.u&&u.o&&Wp(m,u.u,u.o),u.O&&(u.g.H=u.O);var x=u.g;u=u.ba,x.M=1,x.A=Hu(dr(m)),x.u=null,x.R=!0,p_(x,u)}t.Va=function(){this.C!=null&&(this.C=null,qu(this),Gp(this),ht(19))};function Yu(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function B_(u,m){var x=null;if(u.g==m){Yu(u),Kp(u),u.g=null;var P=2}else if(Up(u.h,m))x=m.G,__(u.h,m),P=1;else return;if(u.I!=0){if(m.o)if(P==1){x=m.u?m.u.length:0,m=Date.now()-m.F;var V=u.D;P=Fo(),wt(P,new Bn(P,x)),Qu(u)}else F_(u);else if(V=m.m,V==3||V==0&&m.X>0||!(P==1&&G2(u,m)||P==2&&Gp(u)))switch(x&&x.length>0&&(m=u.h,m.i=m.i.concat(x)),V){case 1:$i(u,5);break;case 4:$i(u,10);break;case 3:$i(u,6);break;default:$i(u,2)}}}function $_(u,m){let x=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(x*=2),x*m}function $i(u,m){if(u.j.info("Error code "+m),m==2){var x=c(u.bb,u),P=u.Ua;const V=!P;P=new vs(P||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Rl(P,"https"),Hu(P),V?U2(P.toString(),x):B2(P.toString(),x)}else ht(2);u.I=0,u.l&&u.l.pa(m),z_(u),V_(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function z_(u){if(u.I=0,u.ja=[],u.l){const m=E_(u.h);(m.length!=0||u.i.length!=0)&&(S(u.ja,m),S(u.ja,u.i),u.h.i.length=0,p(u.i),u.i.length=0),u.l.oa()}}function W_(u,m,x){var P=x instanceof vs?dr(x):new vs(x);if(P.g!="")m&&(P.g=m+"."+P.g),kl(P,P.u);else{var V=o.location;P=V.protocol,m=m?m+"."+V.hostname:V.hostname,V=+V.port;const L=new vs(null);P&&Rl(L,P),m&&(L.g=m),V&&kl(L,V),x&&(L.h=x),P=L}return x=u.G,m=u.wa,x&&m&&je(P,x,m),je(P,"VER",u.ka),jl(u,P),P}function H_(u,m,x){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Ze(new zp({ab:x})):new Ze(u.ma),m.Fa(u.L),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function G_(){}t=G_.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Xu(){}Xu.prototype.g=function(u,m){return new pn(u,m)};function pn(u,m){Ke.call(this),this.g=new M_(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!D(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!D(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Bo(this)}h(pn,Ke),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Hp(this.g)},pn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var x={};x.__data__=u,u=x}else this.v&&(x={},x.__data__=bl(u),u=x);m.i.push(new N2(m.Ya++,u)),m.I==3&&Qu(m)},pn.prototype.N=function(){this.g.l=null,delete this.j,Hp(this.g),delete this.g,pn.Z.N.call(this)};function K_(u){cr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const x in m){u=x;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}h(K_,cr);function q_(){jo.call(this),this.status=1}h(q_,jo);function Bo(u){this.g=u}h(Bo,G_),Bo.prototype.ra=function(){wt(this.g,"a")},Bo.prototype.qa=function(u){wt(this.g,new K_(u))},Bo.prototype.pa=function(u){wt(this.g,new q_)},Bo.prototype.oa=function(){wt(this.g,"b")},Xu.prototype.createWebChannel=Xu.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,QA=function(){return new Xu},qA=function(){return Fo()},KA=nn,Ey={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},An.NO_ERROR=0,An.TIMEOUT=8,An.HTTP_ERROR=6,Xd=An,rn.COMPLETE="complete",GA=rn,Cl.EventType=zr,zr.OPEN="a",zr.CLOSE="b",zr.ERROR="c",zr.MESSAGE="d",Ke.prototype.listen=Ke.prototype.J,nc=Cl,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,HA=Ze}).apply(typeof Ed<"u"?Ed:typeof self<"u"?self:typeof window<"u"?window:{});const eT="@firebase/firestore",tT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=new A0("@firebase/firestore");function Go(){return So.logLevel}function q(t,...e){if(So.logLevel<=we.DEBUG){const n=e.map(k0);So.debug(`Firestore (${yl}): ${t}`,...n)}}function cs(t,...e){if(So.logLevel<=we.ERROR){const n=e.map(k0);So.error(`Firestore (${yl}): ${t}`,...n)}}function qa(t,...e){if(So.logLevel<=we.WARN){const n=e.map(k0);So.warn(`Firestore (${yl}): ${t}`,...n)}}function k0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,YA(t,r,n)}function YA(t,e,n){let r=`FIRESTORE (${yl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw cs(r),new Error(r)}function Re(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||YA(e,s,r)}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends Fr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class l3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ut.UNAUTHENTICATED))}shutdown(){}}class c3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class u3{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new fo;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new fo,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new fo)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string",31837,{l:r}),new XA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string",2055,{h:e}),new Ut(e)}}class d3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class h3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new d3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class f3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,On(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Re(this.o===void 0,3512);const r=i=>{i.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new nT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new nT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=p3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function _e(t,e){return t<e?-1:t>e?1:0}function xy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return km(s)===km(i)?_e(s,i):km(s)?1:-1}return _e(t.length,e.length)}const m3=55296,g3=57343;function km(t){const e=t.charCodeAt(0);return e>=m3&&e<=g3}function Qa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="__name__";class mr{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return mr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=mr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return _e(e.length,n.length)}static compareSegments(e,n){const r=mr.isNumericId(e),s=mr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?mr.extractNumericId(e).compare(mr.extractNumericId(n)):xy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return li.fromString(e.substring(4,e.length-2))}}class Be extends mr{construct(e,n,r){return new Be(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Be(n)}static emptyPath(){return new Be([])}}const y3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends mr{construct(e,n,r){return new kt(e,n,r)}static isValidIdentifier(e){return y3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rT}static keyField(){return new kt([rT])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Z($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Z($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Z($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Z($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(n)}static emptyPath(){return new kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Be.fromString(e))}static fromName(e){return new te(Be.fromString(e).popFirst(5))}static empty(){return new te(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Be(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(t,e,n){if(!n)throw new Z($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function v3(t,e,n,r){if(e===!0&&r===!0)throw new Z($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function sT(t){if(!te.isDocumentKey(t))throw new Z($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iT(t){if(te.isDocumentKey(t))throw new Z($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ZA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function D0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se(12329,{type:typeof t})}function ci(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=D0(t);throw new Z($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t,e){const n={typeString:t};return e&&(n.value=e),n}function Iu(t,e){if(!ZA(t))throw new Z($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Z($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=-62135596800,aT=1e6;class $e{static now(){return $e.fromMillis(Date.now())}static fromDate(e){return $e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*aT);return new $e(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<oT)throw new Z($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aT}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Iu(e,$e._jsonSchema))return new $e(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-oT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$e._jsonSchemaVersion="firestore/timestamp/1.0",$e._jsonSchema={type:ut("string",$e._jsonSchemaVersion),seconds:ut("number"),nanoseconds:ut("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{static fromTimestamp(e){return new ce(e)}static min(){return new ce(new $e(0,0))}static max(){return new ce(new $e(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=-1;function w3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ce.fromTimestamp(r===1e9?new $e(n+1,0):new $e(n,r));return new vi(s,te.empty(),e)}function _3(t){return new vi(t.readTime,t.key,nu)}class vi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new vi(ce.min(),te.empty(),nu)}static max(){return new vi(ce.max(),te.empty(),nu)}}function E3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==x3)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function S3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=-1;function ep(t){return t==null}function Hh(t){return t===0&&1/t==-1/0}function b3(t){return typeof t=="number"&&Number.isInteger(t)&&!Hh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP="";function C3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=lT(e)),e=I3(t.get(n),e);return lT(e)}function I3(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case eP:n+="";break;default:n+=i}}return n}function lT(t){return t+eP+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Di(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xd(this.root,e,this.comparator,!1)}getReverseIterator(){return new xd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xd(this.root,e,this.comparator,!0)}}class xd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Rt.RED,this.left=s??Rt.EMPTY,this.right=i??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Rt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Rt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw se(27949);return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uT(this.data.getIterator())}getIteratorFrom(e){return new uT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vt(this.comparator);return n.data=e,n}}class uT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new vn([])}unionWith(e){let n=new vt(kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new nP("Invalid base64 string: "+i):i}}(e);return new Ot(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ot.EMPTY_BYTE_STRING=new Ot("");const A3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wi(t){if(Re(!!t,39018),typeof t=="string"){let e=0;const n=A3.exec(t);if(Re(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _i(t){return typeof t=="string"?Ot.fromBase64String(t):Ot.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="server_timestamp",sP="__type__",iP="__previous_value__",oP="__local_write_time__";function M0(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[sP])==null?void 0:r.stringValue)===rP}function tp(t){const e=t.mapValue.fields[iP];return M0(e)?tp(e):e}function ru(t){const e=wi(t.mapValue.fields[oP].timestampValue);return new $e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,n,r,s,i,o,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const Gh="(default)";class su{constructor(e,n){this.projectId=e,this.database=n||Gh}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===Gh}isEqual(e){return e instanceof su&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP="__type__",R3="__max__",Td={mapValue:{}},lP="__vector__",Kh="value";function Ei(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?M0(t)?4:N3(t)?9007199254740991:k3(t)?10:11:se(28295,{value:t})}function Mr(t,e){if(t===e)return!0;const n=Ei(t);if(n!==Ei(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ru(t).isEqual(ru(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=wi(s.timestampValue),a=wi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return _i(s.bytesValue).isEqual(_i(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return st(s.geoPointValue.latitude)===st(i.geoPointValue.latitude)&&st(s.geoPointValue.longitude)===st(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return st(s.integerValue)===st(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=st(s.doubleValue),a=st(i.doubleValue);return o===a?Hh(o)===Hh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Qa(t.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(cT(o)!==cT(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Mr(o[l],a[l])))return!1;return!0}(t,e);default:return se(52216,{left:t})}}function iu(t,e){return(t.values||[]).find(n=>Mr(n,e))!==void 0}function Ya(t,e){if(t===e)return 0;const n=Ei(t),r=Ei(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=st(i.integerValue||i.doubleValue),l=st(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return dT(t.timestampValue,e.timestampValue);case 4:return dT(ru(t),ru(e));case 5:return xy(t.stringValue,e.stringValue);case 6:return function(i,o){const a=_i(i),l=_i(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=_e(a[c],l[c]);if(d!==0)return d}return _e(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=_e(st(i.latitude),st(o.latitude));return a!==0?a:_e(st(i.longitude),st(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return hT(t.arrayValue,e.arrayValue);case 10:return function(i,o){var f,p,S,g;const a=i.fields||{},l=o.fields||{},c=(f=a[Kh])==null?void 0:f.arrayValue,d=(p=l[Kh])==null?void 0:p.arrayValue,h=_e(((S=c==null?void 0:c.values)==null?void 0:S.length)||0,((g=d==null?void 0:d.values)==null?void 0:g.length)||0);return h!==0?h:hT(c,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Td.mapValue&&o===Td.mapValue)return 0;if(i===Td.mapValue)return 1;if(o===Td.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=xy(l[h],d[h]);if(f!==0)return f;const p=Ya(a[l[h]],c[d[h]]);if(p!==0)return p}return _e(l.length,d.length)}(t.mapValue,e.mapValue);default:throw se(23264,{he:n})}}function dT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);const n=wi(t),r=wi(e),s=_e(n.seconds,r.seconds);return s!==0?s:_e(n.nanos,r.nanos)}function hT(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ya(n[s],r[s]);if(i)return i}return _e(n.length,r.length)}function Xa(t){return Ty(t)}function Ty(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=wi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return _i(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Ty(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Ty(n.fields[o])}`;return s+"}"}(t.mapValue):se(61005,{value:t})}function Jd(t){switch(Ei(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tp(t);return e?16+Jd(e):16;case 5:return 2*t.stringValue.length;case 6:return _i(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Jd(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Di(r.fields,(i,o)=>{s+=i.length+Jd(o)}),s}(t.mapValue);default:throw se(13486,{value:t})}}function Sy(t){return!!t&&"integerValue"in t}function V0(t){return!!t&&"arrayValue"in t}function fT(t){return!!t&&"nullValue"in t}function pT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zd(t){return!!t&&"mapValue"in t}function k3(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[aP])==null?void 0:r.stringValue)===lP}function Ec(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Di(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ec(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ec(t.arrayValue.values[n]);return e}return{...t}}function N3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===R3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ec(n)}setAll(e){let n=kt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ec(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Zd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Zd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Di(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new ln(Ec(this.value))}}function cP(t){const e=[];return Di(t.fields,(n,r)=>{const s=new kt([n]);if(Zd(r)){const i=cP(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new $t(e,0,ce.min(),ce.min(),ce.min(),ln.empty(),0)}static newFoundDocument(e,n,r,s){return new $t(e,1,n,ce.min(),r,s,0)}static newNoDocument(e,n){return new $t(e,2,n,ce.min(),ce.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new $t(e,3,n,ce.min(),ce.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n){this.position=e,this.inclusive=n}}function mT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=Ya(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function gT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n="asc"){this.field=e,this.dir=n}}function D3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{}class mt extends uP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new M3(e,n,r):n==="array-contains"?new j3(e,r):n==="in"?new F3(e,r):n==="not-in"?new U3(e,r):n==="array-contains-any"?new B3(e,r):new mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new V3(e,r):new L3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ya(n,this.value)):n!==null&&Ei(this.value)===Ei(n)&&this.matchesComparison(Ya(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vr extends uP{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Vr(e,n)}matches(e){return dP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dP(t){return t.op==="and"}function hP(t){return O3(t)&&dP(t)}function O3(t){for(const e of t.filters)if(e instanceof Vr)return!1;return!0}function by(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+Xa(t.value);if(hP(t))return t.filters.map(e=>by(e)).join(",");{const e=t.filters.map(n=>by(n)).join(",");return`${t.op}(${e})`}}function fP(t,e){return t instanceof mt?function(r,s){return s instanceof mt&&r.op===s.op&&r.field.isEqual(s.field)&&Mr(r.value,s.value)}(t,e):t instanceof Vr?function(r,s){return s instanceof Vr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&fP(o,s.filters[a]),!0):!1}(t,e):void se(19439)}function pP(t){return t instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${Xa(n.value)}`}(t):t instanceof Vr?function(n){return n.op.toString()+" {"+n.getFilters().map(pP).join(" ,")+"}"}(t):"Filter"}class M3 extends mt{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class V3 extends mt{constructor(e,n){super(e,"in",n),this.keys=mP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class L3 extends mt{constructor(e,n){super(e,"not-in",n),this.keys=mP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function mP(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class j3 extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return V0(n)&&iu(n.arrayValue,this.value)}}class F3 extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&iu(this.value.arrayValue,n)}}class U3 extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!iu(this.value.arrayValue,n)}}class B3 extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!V0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>iu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function yT(t,e=null,n=[],r=[],s=null,i=null,o=null){return new $3(t,e,n,r,s,i,o)}function L0(t){const e=de(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>by(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ep(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xa(r)).join(",")),e.Te=n}return e.Te}function j0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!D3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gT(t.startAt,e.startAt)&&gT(t.endAt,e.endAt)}function Cy(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function z3(t,e,n,r,s,i,o,a){return new np(t,e,n,r,s,i,o,a)}function F0(t){return new np(t)}function vT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function W3(t){return t.collectionGroup!==null}function xc(t){const e=de(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new vt(kt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Qh(i,r))}),n.has(kt.keyField().canonicalString())||e.Ie.push(new Qh(kt.keyField(),r))}return e.Ie}function Cr(t){const e=de(t);return e.Ee||(e.Ee=H3(e,xc(t))),e.Ee}function H3(t,e){if(t.limitType==="F")return yT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Qh(s.field,i)});const n=t.endAt?new qh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qh(t.startAt.position,t.startAt.inclusive):null;return yT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Iy(t,e,n){return new np(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rp(t,e){return j0(Cr(t),Cr(e))&&t.limitType===e.limitType}function gP(t){return`${L0(Cr(t))}|lt:${t.limitType}`}function Ko(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>pP(s)).join(", ")}]`),ep(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Xa(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Xa(s)).join(",")),`Target(${r})`}(Cr(t))}; limitType=${t.limitType})`}function sp(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):te.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of xc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=mT(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,xc(r),s)||r.endAt&&!function(o,a,l){const c=mT(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,xc(r),s))}(t,e)}function G3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yP(t){return(e,n)=>{let r=!1;for(const s of xc(t)){const i=K3(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function K3(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Ya(l,c):se(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Di(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return tP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=new Je(te.comparator);function us(){return q3}const vP=new Je(te.comparator);function rc(...t){let e=vP;for(const n of t)e=e.insert(n.key,n);return e}function wP(t){let e=vP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function no(){return Tc()}function _P(){return Tc()}function Tc(){return new Oo(t=>t.toString(),(t,e)=>t.isEqual(e))}const Q3=new Je(te.comparator),Y3=new vt(te.comparator);function Ee(...t){let e=Y3;for(const n of t)e=e.add(n);return e}const X3=new vt(_e);function J3(){return X3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hh(e)?"-0":e}}function EP(t){return{integerValue:""+t}}function Z3(t,e){return b3(e)?EP(e):U0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(){this._=void 0}}function e6(t,e,n){return t instanceof Yh?function(s,i){const o={fields:{[sP]:{stringValue:rP},[oP]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&M0(i)&&(i=tp(i)),i&&(o.fields[iP]=i),{mapValue:o}}(n,e):t instanceof ou?TP(t,e):t instanceof au?SP(t,e):function(s,i){const o=xP(s,i),a=wT(o)+wT(s.Ae);return Sy(o)&&Sy(s.Ae)?EP(a):U0(s.serializer,a)}(t,e)}function t6(t,e,n){return t instanceof ou?TP(t,e):t instanceof au?SP(t,e):n}function xP(t,e){return t instanceof Xh?function(r){return Sy(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Yh extends ip{}class ou extends ip{constructor(e){super(),this.elements=e}}function TP(t,e){const n=bP(e);for(const r of t.elements)n.some(s=>Mr(s,r))||n.push(r);return{arrayValue:{values:n}}}class au extends ip{constructor(e){super(),this.elements=e}}function SP(t,e){let n=bP(e);for(const r of t.elements)n=n.filter(s=>!Mr(s,r));return{arrayValue:{values:n}}}class Xh extends ip{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function wT(t){return st(t.integerValue||t.doubleValue)}function bP(t){return V0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function n6(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof ou&&s instanceof ou||r instanceof au&&s instanceof au?Qa(r.elements,s.elements,Mr):r instanceof Xh&&s instanceof Xh?Mr(r.Ae,s.Ae):r instanceof Yh&&s instanceof Yh}(t.transform,e.transform)}class r6{constructor(e,n){this.version=e,this.transformResults=n}}class En{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new En}static exists(e){return new En(void 0,e)}static updateTime(e){return new En(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class op{}function CP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ap(t.key,En.none()):new Au(t.key,t.data,En.none());{const n=t.data,r=ln.empty();let s=new vt(kt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Oi(t.key,r,new vn(s.toArray()),En.none())}}function s6(t,e,n){t instanceof Au?function(s,i,o){const a=s.value.clone(),l=ET(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Oi?function(s,i,o){if(!eh(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=ET(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(IP(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Sc(t,e,n,r){return t instanceof Au?function(i,o,a,l){if(!eh(i.precondition,o))return a;const c=i.value.clone(),d=xT(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Oi?function(i,o,a,l){if(!eh(i.precondition,o))return a;const c=xT(i.fieldTransforms,l,o),d=o.data;return d.setAll(IP(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return eh(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function i6(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=xP(r.transform,s||null);i!=null&&(n===null&&(n=ln.empty()),n.set(r.field,i))}return n||null}function _T(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Qa(r,s,(i,o)=>n6(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Au extends op{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Oi extends op{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function IP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ET(t,e,n){const r=new Map;Re(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,t6(o,a,n[s]))}return r}function xT(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,e6(i,o,e))}return r}class ap extends op{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class o6 extends op{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&s6(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Sc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=_P();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=CP(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&Qa(this.mutations,e.mutations,(n,r)=>_T(n,r))&&Qa(this.baseMutations,e.baseMutations,(n,r)=>_T(n,r))}}class B0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Re(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return Q3}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new B0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l6=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt,Se;function u6(t){switch(t){case $.OK:return se(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return se(15467,{code:t})}}function AP(t){if(t===void 0)return cs("GRPC error has no .code"),$.UNKNOWN;switch(t){case lt.OK:return $.OK;case lt.CANCELLED:return $.CANCELLED;case lt.UNKNOWN:return $.UNKNOWN;case lt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case lt.INTERNAL:return $.INTERNAL;case lt.UNAVAILABLE:return $.UNAVAILABLE;case lt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case lt.NOT_FOUND:return $.NOT_FOUND;case lt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case lt.ABORTED:return $.ABORTED;case lt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case lt.DATA_LOSS:return $.DATA_LOSS;default:return se(39323,{code:t})}}(Se=lt||(lt={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6=new li([4294967295,4294967295],0);function TT(t){const e=d6().encode(t),n=new WA;return n.update(e),new Uint8Array(n.digest())}function ST(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new li([n,r],0),new li([s,i],0)]}class $0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new sc(`Invalid padding: ${n}`);if(r<0)throw new sc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new sc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new sc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=li.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(li.fromNumber(r)));return s.compare(h6)===1&&(s=new li([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=TT(e),[r,s]=ST(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new $0(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=TT(e),[r,s]=ST(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Pu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new lp(ce.min(),s,new Je(_e),us(),Ee())}}class Pu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Pu(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class PP{constructor(e,n){this.targetId=e,this.Ce=n}}class RP{constructor(e,n,r=Ot.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class bT{constructor(){this.ve=0,this.Fe=CT(),this.Me=Ot.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ee(),n=Ee(),r=Ee();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:se(38017,{changeType:i})}}),new Pu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=CT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Re(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class f6{constructor(e){this.Ge=e,this.ze=new Map,this.je=us(),this.Je=Sd(),this.He=Sd(),this.Ye=new Je(_e)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Cy(i))if(r===0){const o=new te(i.path);this.et(n,o,$t.newNoDocument(o,ce.min()))}else Re(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=_i(r).toUint8Array()}catch(l){if(l instanceof nP)return qa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new $0(o,s,i)}catch(l){return qa(l instanceof sc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Cy(a.target)){const l=new te(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,$t.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=Ee();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new lp(e,n,this.Ye,this.je,r);return this.je=us(),this.Je=Sd(),this.He=Sd(),this.Ye=new Je(_e),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new bT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new vt(_e),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new vt(_e),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new bT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Sd(){return new Je(te.comparator)}function CT(){return new Je(te.comparator)}const p6={asc:"ASCENDING",desc:"DESCENDING"},m6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},g6={and:"AND",or:"OR"};class y6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ay(t,e){return t.useProto3Json||ep(e)?e:{value:e}}function Jh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function v6(t,e){return Jh(t,e.toTimestamp())}function Ir(t){return Re(!!t,49232),ce.fromTimestamp(function(n){const r=wi(n);return new $e(r.seconds,r.nanos)}(t))}function z0(t,e){return Py(t,e).canonicalString()}function Py(t,e){const n=function(s){return new Be(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function NP(t){const e=Be.fromString(t);return Re(LP(e),10190,{key:e.toString()}),e}function Ry(t,e){return z0(t.databaseId,e.path)}function Nm(t,e){const n=NP(e);if(n.get(1)!==t.databaseId.projectId)throw new Z($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(OP(n))}function DP(t,e){return z0(t.databaseId,e)}function w6(t){const e=NP(t);return e.length===4?Be.emptyPath():OP(e)}function ky(t){return new Be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OP(t){return Re(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function IT(t,e,n){return{name:Ry(t,e),fields:n.value.mapValue.fields}}function _6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:se(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(Re(d===void 0||typeof d=="string",58123),Ot.fromBase64String(d||"")):(Re(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Ot.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?$.UNKNOWN:AP(c.code);return new Z(d,c.message||"")}(o);n=new RP(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Nm(t,r.document.name),i=Ir(r.document.updateTime),o=r.document.createTime?Ir(r.document.createTime):ce.min(),a=new ln({mapValue:{fields:r.document.fields}}),l=$t.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new th(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Nm(t,r.document),i=r.readTime?Ir(r.readTime):ce.min(),o=$t.newNoDocument(s,i),a=r.removedTargetIds||[];n=new th([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Nm(t,r.document),i=r.removedTargetIds||[];n=new th([],i,s,null)}else{if(!("filter"in e))return se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new c6(s,i),a=r.targetId;n=new PP(a,o)}}return n}function E6(t,e){let n;if(e instanceof Au)n={update:IT(t,e.key,e.value)};else if(e instanceof ap)n={delete:Ry(t,e.key)};else if(e instanceof Oi)n={update:IT(t,e.key,e.data),updateMask:R6(e.fieldMask)};else{if(!(e instanceof o6))return se(16599,{Vt:e.type});n={verify:Ry(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Yh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ou)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof au)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Xh)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw se(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:v6(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:se(27497)}(t,e.precondition)),n}function x6(t,e){return t&&t.length>0?(Re(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Ir(s.updateTime):Ir(i);return o.isEqual(ce.min())&&(o=Ir(i)),new r6(o,s.transformResults||[])}(n,e))):[]}function T6(t,e){return{documents:[DP(t,e.path)]}}function S6(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=DP(t,s);const i=function(c){if(c.length!==0)return VP(Vr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(f){return{field:qo(f.field),direction:I6(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Ay(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function b6(t){let e=w6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Re(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const f=MP(h);return f instanceof Vr&&hP(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(S){return new Qh(Qo(S.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,ep(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new qh(p,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,p=h.values||[];return new qh(p,f)}(n.endAt)),z3(e,s,o,i,a,"F",l,c)}function C6(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Qo(n.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Qo(n.unaryFilter.field);return mt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Qo(n.unaryFilter.field);return mt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Qo(n.unaryFilter.field);return mt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}}(t):t.fieldFilter!==void 0?function(n){return mt.create(Qo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Vr.create(n.compositeFilter.filters.map(r=>MP(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return se(1026)}}(n.compositeFilter.op))}(t):se(30097,{filter:t})}function I6(t){return p6[t]}function A6(t){return m6[t]}function P6(t){return g6[t]}function qo(t){return{fieldPath:t.canonicalString()}}function Qo(t){return kt.fromServerFormat(t.fieldPath)}function VP(t){return t instanceof mt?function(n){if(n.op==="=="){if(pT(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NAN"}};if(fT(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pT(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NAN"}};if(fT(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(n.field),op:A6(n.op),value:n.value}}}(t):t instanceof Vr?function(n){const r=n.getFilters().map(s=>VP(s));return r.length===1?r[0]:{compositeFilter:{op:P6(n.op),filters:r}}}(t):se(54877,{filter:t})}function R6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function LP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n,r,s,i=ce.min(),o=ce.min(),a=Ot.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.yt=e}}function N6(t){const e=b6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Iy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(){this.Cn=new O6}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(vi.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(vi.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class O6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new vt(Be.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new vt(Be.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jP=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(jP,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ja(0)}static cr(){return new Ja(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="LruGarbageCollector",M6=1048576;function RT([t,e],[n,r]){const s=_e(t,n);return s===0?_e(e,r):s}class V6{constructor(e){this.Ir=e,this.buffer=new vt(RT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();RT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class L6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){q(PT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wl(n)?q(PT,"Ignoring IndexedDB error during garbage collection: ",n):await vl(n)}await this.Vr(3e5)})}}class j6{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(Zf.ce);const r=new V6(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(AT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Go()<=we.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function F6(t,e){return new j6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(){this.changes=new Oo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Sc(r.mutation,s,vn.empty(),$e.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const s=no();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=rc();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=no();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=us();const o=Tc(),a=function(){return Tc()}();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof Oi)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Sc(d.mutation,c,d.mutation.getFieldMask(),$e.now())):o.set(c.key,vn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>a.set(c,new B6(d,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Tc();let s=new Je((o,a)=>o-a),i=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||vn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(s.get(a.batchId)||Ee()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=_P();d.forEach(f=>{if(!i.has(f)){const p=CP(n.get(f),r.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):W3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(no());let a=nu,l=i;return o.next(c=>B.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Ee())).next(d=>({batchId:a,changes:wP(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let s=rc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=rc();return this.indexManager.getCollectionParents(e,i).next(a=>B.forEach(a,l=>{const c=function(h,f){return new np(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,$t.newInvalidDocument(d)))});let a=rc();return o.forEach((l,c)=>{const d=i.get(l);d!==void 0&&Sc(d.mutation,c,vn.empty(),$e.now()),sp(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ir(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:N6(s.bundledQuery),readTime:Ir(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(){this.overlays=new Je(te.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=no();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=no(),i=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Je((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=no(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=no(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return B.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new l6(n,r));let i=this.qr.get(n);i===void 0&&(i=Ee(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(){this.sessionToken=Ot.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(){this.Qr=new vt(Tt.$r),this.Ur=new vt(Tt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Tt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Tt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new te(new Be([])),r=new Tt(n,e),s=new Tt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new te(new Be([])),r=new Tt(n,e),s=new Tt(n,e+1);let i=Ee();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Tt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Tt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return te.comparator(e.key,n.key)||_e(e.Yr,n.Yr)}static Kr(e,n){return _e(e.Yr,n.Yr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new vt(Tt.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new a6(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new Tt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?O0:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tt(n,0),s=new Tt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vt(_e);return n.forEach(s=>{const i=new Tt(s,0),o=new Tt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;te.isDocumentKey(i)||(i=i.child(""));const o=new Tt(new te(i),0);let a=new vt(_e);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Yr)),!0)},o),B.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Re(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,s=>{const i=new Tt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Tt(n,0),s=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e){this.ri=e,this.docs=function(){return new Je(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(e,n){let r=us();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():$t.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=us();const o=n.path,a=new te(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||E3(_3(d),r)<=0||(s.has(d.key)||sp(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){se(9500)}ii(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new q6(this)}getSize(e){return B.resolve(this.size)}}class q6 extends U6{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e){this.persistence=e,this.si=new Oo(n=>L0(n),j0),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.oi=0,this._i=new W0,this.targetCount=0,this.ai=Ja.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ja(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,n){this.ui={},this.overlays={},this.ci=new Zf(0),this.li=!1,this.li=!0,this.hi=new H6,this.referenceDelegate=e(this),this.Pi=new Q6(this),this.indexManager=new D6,this.remoteDocumentCache=function(s){return new K6(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new k6(n),this.Ii=new z6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new W6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new G6(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const s=new Y6(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return B.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class Y6 extends T3{constructor(e){super(),this.currentSequenceNumber=e}}class H0{constructor(e){this.persistence=e,this.Ri=new W0,this.Vi=null}static mi(e){return new H0(e)}get fi(){if(this.Vi)return this.Vi;throw se(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,r=>{const s=te.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ce.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Zh{constructor(e,n){this.persistence=e,this.pi=new Oo(r=>C3(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=F6(this,n)}static mi(e,n){return new Zh(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return B.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?B.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ce.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Jd(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return B.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ee(),s=Ee();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new G0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return $U()?8:S3(Gt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new X6;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Go()<=we.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Ko(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(Go()<=we.DEBUG&&q("QueryEngine","Query:",Ko(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Go()<=we.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Ko(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cr(n))):B.resolve())}ys(e,n){if(vT(n))return B.resolve(null);let r=Cr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Iy(n,null,"F"),r=Cr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ee(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(e,Iy(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,s){return vT(n)||s.isEqual(ce.min())?B.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?B.resolve(null):(Go()<=we.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ko(n)),this.vs(e,o,n,w3(s,nu)).next(a=>a))})}Ds(e,n){let r=new vt(yP(e));return n.forEach((s,i)=>{sp(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Go()<=we.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Ko(n)),this.ps.getDocumentsMatchingQuery(e,n,vi.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="LocalStore",Z6=3e8;class eB{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Je(_e),this.xs=new Oo(i=>L0(i),j0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function tB(t,e,n,r){return new eB(t,e,n,r)}async function UP(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ee();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function nB(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,f=h.keys();let p=B.resolve();return f.forEach(S=>{p=p.next(()=>d.getEntry(l,S)).next(g=>{const E=c.docVersions.get(S);Re(E!==null,48541),g.version.compareTo(E)<0&&(h.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),d.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ee();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function BP(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function rB(t,e){const n=de(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,h)=>{const f=s.get(h);if(!f)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Ot.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),s=s.insert(h,p),function(g,E,v){return g.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=Z6?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(f,p,d)&&a.push(n.Pi.updateTargetData(i,p))});let l=us(),c=Ee();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(sB(i,o,e.documentUpdates).next(d=>{l=d.ks,c=d.qs})),!r.isEqual(ce.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(h=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return B.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ms=s,i))}function sB(t,e,n){let r=Ee(),s=Ee();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=us();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ce.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):q(K0,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:s}})}function iB(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=O0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function oB(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new qs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Ny(t,e,n){const r=de(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!wl(o))throw o;q(K0,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function kT(t,e,n){const r=de(t);let s=ce.min(),i=Ee();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=de(l),f=h.xs.get(d);return f!==void 0?B.resolve(h.Ms.get(f)):h.Pi.getTargetData(c,d)}(r,o,Cr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ce.min(),n?i:Ee())).next(a=>(aB(r,G3(e),a),{documents:a,Qs:i})))}function aB(t,e,n){let r=t.Os.get(e)||ce.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class NT{constructor(){this.activeTargetIds=J3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lB{constructor(){this.Mo=new NT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new NT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="ConnectivityMonitor";class OT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){q(DT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){q(DT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bd=null;function Dy(){return bd===null?bd=function(){return 268435456+Math.round(2147483648*Math.random())}():bd++,"0x"+bd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="RestConnection",uB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dB{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Gh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Dy(),a=this.zo(e,n.toUriEncodedString());q(Dm,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:c}=new URL(a),d=gl(c);return this.Jo(e,a,l,r,d).then(h=>(q(Dm,`Received RPC '${e}' ${o}: `,h),h),h=>{throw qa(Dm,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=uB[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt="WebChannelConnection";class fB extends dB{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Dy();return new Promise((a,l)=>{const c=new HA;c.setWithCredentials(!0),c.listenOnce(GA.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Xd.NO_ERROR:const h=c.getResponseJson();q(jt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case Xd.TIMEOUT:q(jt,`RPC '${e}' ${o} timed out`),l(new Z($.DEADLINE_EXCEEDED,"Request time out"));break;case Xd.HTTP_ERROR:const f=c.getStatus();if(q(jt,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const S=p==null?void 0:p.error;if(S&&S.status&&S.message){const g=function(v){const w=v.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(w)>=0?w:$.UNKNOWN}(S.status);l(new Z(g,S.message))}else l(new Z($.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Z($.UNAVAILABLE,"Connection failed."));break;default:se(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{q(jt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);q(jt,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",d,r,15)})}T_(e,n,r){const s=Dy(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=QA(),a=qA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");q(jt,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);this.I_(h);let f=!1,p=!1;const S=new hB({Yo:E=>{p?q(jt,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(f||(q(jt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),q(jt,`RPC '${e}' stream ${s} sending:`,E),h.send(E))},Zo:()=>h.close()}),g=(E,v,w)=>{E.listen(v,T=>{try{w(T)}catch(A){setTimeout(()=>{throw A},0)}})};return g(h,nc.EventType.OPEN,()=>{p||(q(jt,`RPC '${e}' stream ${s} transport opened.`),S.o_())}),g(h,nc.EventType.CLOSE,()=>{p||(p=!0,q(jt,`RPC '${e}' stream ${s} transport closed`),S.a_(),this.E_(h))}),g(h,nc.EventType.ERROR,E=>{p||(p=!0,qa(jt,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),S.a_(new Z($.UNAVAILABLE,"The operation could not be completed")))}),g(h,nc.EventType.MESSAGE,E=>{var v;if(!p){const w=E.data[0];Re(!!w,16349);const T=w,A=(T==null?void 0:T.error)||((v=T[0])==null?void 0:v.error);if(A){q(jt,`RPC '${e}' stream ${s} received error:`,A);const R=A.status;let M=function(I){const k=lt[I];if(k!==void 0)return AP(k)}(R),C=A.message;M===void 0&&(M=$.INTERNAL,C="Unknown error status: "+R+" with message "+A.message),p=!0,S.a_(new Z(M,C)),h.close()}else q(jt,`RPC '${e}' stream ${s} received:`,w),S.u_(w)}}),g(a,KA.STAT_EVENT,E=>{E.stat===Ey.PROXY?q(jt,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===Ey.NOPROXY&&q(jt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Om(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(t){return new y6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="PersistentStream";class zP{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $P(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(cs(n.toString()),cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Z($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return q(MT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(q(MT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pB extends zP{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=_6(this.serializer,e),r=function(i){if(!("targetChange"in i))return ce.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?Ir(o.readTime):ce.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ky(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Cy(l)?{documents:T6(i,l)}:{query:S6(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=kP(i,o.resumeToken);const c=Ay(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ce.min())>0){a.readTime=Jh(i,o.snapshotVersion.toTimestamp());const c=Ay(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=C6(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ky(this.serializer),n.removeTarget=e,this.q_(n)}}class mB extends zP{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Re(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Re(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=x6(e.writeResults,e.commitTime),r=Ir(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ky(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>E6(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{}class yB extends gB{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Z($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Py(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Z($.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Py(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z($.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class vB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cs(n),this.aa=!1):q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo="RemoteStore";class wB{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Mo(this)&&(q(bo,"Restarting streams for network reachability change."),await async function(l){const c=de(l);c.Ea.add(4),await Ru(c),c.Ra.set("Unknown"),c.Ea.delete(4),await up(c)}(this))})}),this.Ra=new vB(r,s)}}async function up(t){if(Mo(t))for(const e of t.da)await e(!0)}async function Ru(t){for(const e of t.da)await e(!1)}function WP(t,e){const n=de(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),X0(n)?Y0(n):_l(n).O_()&&Q0(n,e))}function q0(t,e){const n=de(t),r=_l(n);n.Ia.delete(e),r.O_()&&HP(n,e),n.Ia.size===0&&(r.O_()?r.L_():Mo(n)&&n.Ra.set("Unknown"))}function Q0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_l(t).Y_(e)}function HP(t,e){t.Va.Ue(e),_l(t).Z_(e)}function Y0(t){t.Va=new f6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),_l(t).start(),t.Ra.ua()}function X0(t){return Mo(t)&&!_l(t).x_()&&t.Ia.size>0}function Mo(t){return de(t).Ea.size===0}function GP(t){t.Va=void 0}async function _B(t){t.Ra.set("Online")}async function EB(t){t.Ia.forEach((e,n)=>{Q0(t,e)})}async function xB(t,e){GP(t),X0(t)?(t.Ra.ha(e),Y0(t)):t.Ra.set("Unknown")}async function TB(t,e,n){if(t.Ra.set("Online"),e instanceof RP&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){q(bo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ef(t,r)}else if(e instanceof th?t.Va.Ze(e):e instanceof PP?t.Va.st(e):t.Va.tt(e),!n.isEqual(ce.min()))try{const r=await BP(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ia.get(c);d&&i.Ia.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i.Ia.get(l);if(!d)return;i.Ia.set(l,d.withResumeToken(Ot.EMPTY_BYTE_STRING,d.snapshotVersion)),HP(i,l);const h=new qs(d.target,l,c,d.sequenceNumber);Q0(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){q(bo,"Failed to raise snapshot:",r),await ef(t,r)}}async function ef(t,e,n){if(!wl(e))throw e;t.Ea.add(1),await Ru(t),t.Ra.set("Offline"),n||(n=()=>BP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q(bo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await up(t)})}function KP(t,e){return e().catch(n=>ef(t,n,e))}async function dp(t){const e=de(t),n=xi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:O0;for(;SB(e);)try{const s=await iB(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,bB(e,s)}catch(s){await ef(e,s)}qP(e)&&QP(e)}function SB(t){return Mo(t)&&t.Ta.length<10}function bB(t,e){t.Ta.push(e);const n=xi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function qP(t){return Mo(t)&&!xi(t).x_()&&t.Ta.length>0}function QP(t){xi(t).start()}async function CB(t){xi(t).ra()}async function IB(t){const e=xi(t);for(const n of t.Ta)e.ea(n.mutations)}async function AB(t,e,n){const r=t.Ta.shift(),s=B0.from(r,e,n);await KP(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await dp(t)}async function PB(t,e){e&&xi(t).X_&&await async function(r,s){if(function(o){return u6(o)&&o!==$.ABORTED}(s.code)){const i=r.Ta.shift();xi(r).B_(),await KP(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await dp(r)}}(t,e),qP(t)&&QP(t)}async function VT(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),q(bo,"RemoteStore received new credentials");const r=Mo(n);n.Ea.add(3),await Ru(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await up(n)}async function RB(t,e){const n=de(t);e?(n.Ea.delete(2),await up(n)):e||(n.Ea.add(2),await Ru(n),n.Ra.set("Unknown"))}function _l(t){return t.ma||(t.ma=function(n,r,s){const i=de(n);return i.sa(),new pB(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:_B.bind(null,t),t_:EB.bind(null,t),r_:xB.bind(null,t),H_:TB.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),X0(t)?Y0(t):t.Ra.set("Unknown")):(await t.ma.stop(),GP(t))})),t.ma}function xi(t){return t.fa||(t.fa=function(n,r,s){const i=de(n);return i.sa(),new mB(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:CB.bind(null,t),r_:PB.bind(null,t),ta:IB.bind(null,t),na:AB.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await dp(t)):(await t.fa.stop(),t.Ta.length>0&&(q(bo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new fo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new J0(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Z0(t,e){if(cs("AsyncQueue",`${e}: ${t}`),wl(t))return new Z($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{static emptySet(e){return new ba(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=rc(),this.sortedSet=new Je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ba)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ba;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(){this.ga=new Je(te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Za{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Za(e,n,ba.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class NB{constructor(){this.queries=jT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=de(n),i=s.queries;s.queries=jT(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Z($.ABORTED,"Firestore shutting down"))}}function jT(){return new Oo(t=>gP(t),rp)}async function DB(t,e){const n=de(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new kB,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Z0(o,`Initialization of query '${Ko(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&ew(n)}async function OB(t,e){const n=de(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function MB(t,e){const n=de(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&ew(n)}function VB(t,e,n){const r=de(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function ew(t){t.Ca.forEach(e=>{e.next()})}var Oy,FT;(FT=Oy||(Oy={})).Ma="default",FT.Cache="cache";class LB{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Za(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Za.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Oy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e){this.key=e}}class XP{constructor(e){this.key=e}}class jB{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ee(),this.mutatedKeys=Ee(),this.eu=yP(e),this.tu=new ba(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new LT,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const f=s.get(d),p=sp(this.query,h)?h:null,S=!!f&&this.mutatedKeys.has(f.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;f&&p?f.data.isEqual(p.data)?S!==g&&(r.track({type:3,doc:p}),E=!0):this.su(f,p)||(r.track({type:2,doc:p}),E=!0,(l&&this.eu(p,l)>0||c&&this.eu(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),E=!0):f&&!p&&(r.track({type:1,doc:f}),E=!0,(l||c)&&(a=!0)),E&&(p?(o=o.add(p),i=g?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(p,S){const g=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{Rt:E})}};return g(p)-g(S)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new Za(this.query,e.tu,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new LT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ee(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new XP(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new YP(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ee();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Za.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const tw="SyncEngine";class FB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class UB{constructor(e){this.key=e,this.hu=!1}}class BB{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Oo(a=>gP(a),rp),this.Iu=new Map,this.Eu=new Set,this.du=new Je(te.comparator),this.Au=new Map,this.Ru=new W0,this.Vu={},this.mu=new Map,this.fu=Ja.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $B(t,e,n=!0){const r=rR(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await JP(r,e,n,!0),s}async function zB(t,e){const n=rR(t);await JP(n,e,!0,!1)}async function JP(t,e,n,r){const s=await oB(t.localStore,Cr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await WB(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&WP(t.remoteStore,s),a}async function WB(t,e,n,r,s){t.pu=(h,f,p)=>async function(g,E,v,w){let T=E.view.ru(v);T.Cs&&(T=await kT(g.localStore,E.query,!1).then(({documents:C})=>E.view.ru(C,T)));const A=w&&w.targetChanges.get(E.targetId),R=w&&w.targetMismatches.get(E.targetId)!=null,M=E.view.applyChanges(T,g.isPrimaryClient,A,R);return BT(g,E.targetId,M.au),M.snapshot}(t,h,f,p);const i=await kT(t.localStore,e,!0),o=new jB(e,i.Qs),a=o.ru(i.documents),l=Pu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);BT(t,n,c.au);const d=new FB(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function HB(t,e,n){const r=de(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!rp(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ny(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&q0(r.remoteStore,s.targetId),My(r,s.targetId)}).catch(vl)):(My(r,s.targetId),await Ny(r.localStore,s.targetId,!0))}async function GB(t,e){const n=de(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),q0(n.remoteStore,r.targetId))}async function KB(t,e,n){const r=e9(t);try{const s=await function(o,a){const l=de(o),c=$e.now(),d=a.reduce((p,S)=>p.add(S.key),Ee());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let S=us(),g=Ee();return l.Ns.getEntries(p,d).next(E=>{S=E,S.forEach((v,w)=>{w.isValidDocument()||(g=g.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,S)).next(E=>{h=E;const v=[];for(const w of a){const T=i6(w,h.get(w.key).overlayedDocument);T!=null&&v.push(new Oi(w.key,T,cP(T.value.mapValue),En.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,v,a)}).next(E=>{f=E;const v=E.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(p,E.batchId,v)})}).then(()=>({batchId:f.batchId,changes:wP(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new Je(_e)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c}(r,s.batchId,n),await ku(r,s.changes),await dp(r.remoteStore)}catch(s){const i=Z0(s,"Failed to persist write");n.reject(i)}}async function ZP(t,e){const n=de(t);try{const r=await rB(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Re(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Re(o.hu,14607):s.removedDocuments.size>0&&(Re(o.hu,42227),o.hu=!1))}),await ku(n,r,e)}catch(r){await vl(r)}}function UT(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=de(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const f of h.Sa)f.va(a)&&(c=!0)}),c&&ew(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qB(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Je(te.comparator);o=o.insert(i,$t.newNoDocument(i,ce.min()));const a=Ee().add(i),l=new lp(ce.min(),new Map,new Je(_e),o,a);await ZP(r,l),r.du=r.du.remove(i),r.Au.delete(e),nw(r)}else await Ny(r.localStore,e,!1).then(()=>My(r,e,n)).catch(vl)}async function QB(t,e){const n=de(t),r=e.batch.batchId;try{const s=await nB(n.localStore,e);tR(n,r,null),eR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ku(n,s)}catch(s){await vl(s)}}async function YB(t,e,n){const r=de(t);try{const s=await function(o,a){const l=de(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Re(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);tR(r,e,n),eR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ku(r,s)}catch(s){await vl(s)}}function eR(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function tR(t,e,n){const r=de(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function My(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||nR(t,r)})}function nR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(q0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),nw(t))}function BT(t,e,n){for(const r of n)r instanceof YP?(t.Ru.addReference(r.key,e),XB(t,r)):r instanceof XP?(q(tw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||nR(t,r.key)):se(19791,{wu:r})}function XB(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(q(tw,"New document in limbo: "+n),t.Eu.add(r),nw(t))}function nw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new te(Be.fromString(e)),r=t.fu.next();t.Au.set(r,new UB(n)),t.du=t.du.insert(n,r),WP(t.remoteStore,new qs(Cr(F0(n.path)),r,"TargetPurposeLimboResolution",Zf.ce))}}async function ku(t,e,n){const r=de(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){s.push(c);const h=G0.As(l.targetId,c);i.push(h)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,c){const d=de(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>B.forEach(c,f=>B.forEach(f.Es,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>B.forEach(f.ds,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!wl(h))throw h;q(K0,"Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const p=d.Ms.get(f),S=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(S);d.Ms=d.Ms.insert(f,g)}}}(r.localStore,i))}async function JB(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){q(tw,"User change. New user:",e.toKey());const r=await UP(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new Z($.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ku(n,r.Ls)}}function ZB(t,e){const n=de(t),r=n.Au.get(e);if(r&&r.hu)return Ee().add(r.key);{let s=Ee();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function rR(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qB.bind(null,e),e.Pu.H_=MB.bind(null,e.eventManager),e.Pu.yu=VB.bind(null,e.eventManager),e}function e9(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YB.bind(null,e),e}class tf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return tB(this.persistence,new J6,e.initialUser,this.serializer)}Cu(e){return new FP(H0.mi,this.serializer)}Du(e){return new lB}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tf.provider={build:()=>new tf};class t9 extends tf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Re(this.persistence.referenceDelegate instanceof Zh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new L6(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new FP(r=>Zh.mi(r,n),this.serializer)}}class Vy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>UT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=JB.bind(null,this.syncEngine),await RB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new NB}()}createDatastore(e){const n=cp(e.databaseInfo.databaseId),r=function(i){return new fB(i)}(e.databaseInfo);return function(i,o,a,l){return new yB(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new wB(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>UT(this.syncEngine,n,0),function(){return OT.v()?new OT:new cB}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,d){const h=new BB(s,i,o,a,l,c);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=de(s);q(bo,"RemoteStore shutting down."),i.Ea.add(5),await Ru(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Vy.provider={build:()=>new Vy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):cs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="FirestoreClient";class r9{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ut.UNAUTHENTICATED,this.clientId=N0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{q(Ti,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(q(Ti,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Z0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Mm(t,e){t.asyncQueue.verifyOperationInProgress(),q(Ti,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await UP(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function $T(t,e){t.asyncQueue.verifyOperationInProgress();const n=await s9(t);q(Ti,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>VT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>VT(e.remoteStore,s)),t._onlineComponents=e}async function s9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q(Ti,"Using user provided OfflineComponentProvider");try{await Mm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;qa("Error using user provided cache. Falling back to memory cache: "+n),await Mm(t,new tf)}}else q(Ti,"Using default OfflineComponentProvider"),await Mm(t,new t9(void 0));return t._offlineComponents}async function sR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q(Ti,"Using user provided OnlineComponentProvider"),await $T(t,t._uninitializedComponentsProvider._online)):(q(Ti,"Using default OnlineComponentProvider"),await $T(t,new Vy))),t._onlineComponents}function i9(t){return sR(t).then(e=>e.syncEngine)}async function zT(t){const e=await sR(t),n=e.eventManager;return n.onListen=$B.bind(null,e.syncEngine),n.onUnlisten=HB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=zB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=GB.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="firestore.googleapis.com",HT=!0;class GT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Z($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oR,this.ssl=HT}else this.host=e.host,this.ssl=e.ssl??HT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<M6)throw new Z($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}v3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iR(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Z($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Z($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Z($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hp{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new l3;switch(r.type){case"firstParty":return new h3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=WT.get(n);r&&(q("ComponentProvider","Removing Datastore"),WT.delete(n),r.terminate())}(this),Promise.resolve()}}function o9(t,e,n,r={}){var c;t=ci(t,hp);const s=gl(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(VA(`https://${a}`),LA("Firestore",!0)),i.host!==oR&&i.host!==a&&qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!xo(l,o)&&(t._setSettings(l),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Ut.MOCK_USER;else{d=DU(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Z($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ut(f)}t._authCredentials=new c3(new XA(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fp(this.firestore,e,this._query)}}class yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Iu(n,yt._jsonSchema))return new yt(e,r||null,new te(Be.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:ut("string",yt._jsonSchemaVersion),referencePath:ut("string")};class ui extends fp{constructor(e,n,r){super(e,n,F0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new te(e))}withConverter(e){return new ui(this.firestore,e,this._path)}}function a9(t,e,...n){if(t=Kt(t),JA("collection","path",e),t instanceof hp){const r=Be.fromString(e,...n);return iT(r),new ui(t,null,r)}{if(!(t instanceof yt||t instanceof ui))throw new Z($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return iT(r),new ui(t.firestore,null,r)}}function Ql(t,e,...n){if(t=Kt(t),arguments.length===1&&(e=N0.newId()),JA("doc","path",e),t instanceof hp){const r=Be.fromString(e,...n);return sT(r),new yt(t,null,new te(r))}{if(!(t instanceof yt||t instanceof ui))throw new Z($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return sT(r),new yt(t.firestore,t instanceof ui?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="AsyncQueue";class qT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $P(this,"async_queue_retry"),this._c=()=>{const r=Om();r&&q(KT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Om();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new fo;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wl(e))throw e;q(KT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,cs("INTERNAL UNHANDLED ERROR: ",QT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=J0.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&se(47125,{Pc:QT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function QT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class el extends hp{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new qT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qT(e),this._firestoreClient=void 0,await e}}}function l9(t,e){const n=typeof t=="object"?t:BA(),r=typeof t=="string"?t:Gh,s=R0(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=kU("firestore");i&&o9(s,...i)}return s}function rw(t){if(t._terminated)throw new Z($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||c9(t),t._firestoreClient}function c9(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,c,d){return new P3(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,iR(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new r9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(Ot.fromBase64String(e))}catch(n){throw new Z($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mn(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Iu(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:ut("string",Mn._jsonSchemaVersion),bytes:ut("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ar._jsonSchemaVersion}}static fromJSON(e){if(Iu(e,Ar._jsonSchema))return new Ar(e.latitude,e.longitude)}}Ar._jsonSchemaVersion="firestore/geoPoint/1.0",Ar._jsonSchema={type:ut("string",Ar._jsonSchemaVersion),latitude:ut("number"),longitude:ut("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Pr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Iu(e,Pr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Pr(e.vectorValues);throw new Z($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pr._jsonSchemaVersion="firestore/vectorValue/1.0",Pr._jsonSchema={type:ut("string",Pr._jsonSchemaVersion),vectorValues:ut("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u9=/^__.*__$/;class d9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Oi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Au(e,this.data,n,this.fieldTransforms)}}class aR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Oi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function lR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{Ac:t})}}class iw{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new iw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return nf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(lR(this.Ac)&&u9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class h9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cp(e)}Cc(e,n,r,s=!1){return new iw({Ac:e,methodName:n,Dc:r,path:kt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cR(t){const e=t._freezeSettings(),n=cp(t._databaseId);return new h9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function uR(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);ow("Data must be an object, but it was:",o,r);const a=dR(r,o);let l,c;if(i.merge)l=new vn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const f=Ly(e,h,n);if(!o.contains(f))throw new Z($.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);fR(d,f)||d.push(f)}l=new vn(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new d9(new ln(a),l,c)}class mp extends sw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mp}}function f9(t,e,n,r){const s=t.Cc(1,e,n);ow("Data must be an object, but it was:",s,r);const i=[],o=ln.empty();Di(r,(l,c)=>{const d=aw(e,l,n);c=Kt(c);const h=s.yc(d);if(c instanceof mp)i.push(d);else{const f=gp(c,h);f!=null&&(i.push(d),o.set(d,f))}});const a=new vn(i);return new aR(o,a,s.fieldTransforms)}function p9(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[Ly(e,r,n)],l=[s];if(i.length%2!=0)throw new Z($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(Ly(e,i[f])),l.push(i[f+1]);const c=[],d=ln.empty();for(let f=a.length-1;f>=0;--f)if(!fR(c,a[f])){const p=a[f];let S=l[f];S=Kt(S);const g=o.yc(p);if(S instanceof mp)c.push(p);else{const E=gp(S,g);E!=null&&(c.push(p),d.set(p,E))}}const h=new vn(c);return new aR(d,h,o.fieldTransforms)}function gp(t,e){if(hR(t=Kt(t)))return ow("Unsupported field value:",e,t),dR(t,e);if(t instanceof sw)return function(r,s){if(!lR(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=gp(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Z3(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=$e.fromDate(r);return{timestampValue:Jh(s.serializer,i)}}if(r instanceof $e){const i=new $e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jh(s.serializer,i)}}if(r instanceof Ar)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mn)return{bytesValue:kP(s.serializer,r._byteString)};if(r instanceof yt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:z0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Pr)return function(o,a){return{mapValue:{fields:{[aP]:{stringValue:lP},[Kh]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return U0(a.serializer,c)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${D0(r)}`)}(t,e)}function dR(t,e){const n={};return tP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Di(t,(r,s)=>{const i=gp(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function hR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $e||t instanceof Ar||t instanceof Mn||t instanceof yt||t instanceof sw||t instanceof Pr)}function ow(t,e,n){if(!hR(n)||!ZA(n)){const r=D0(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Ly(t,e,n){if((e=Kt(e))instanceof pp)return e._internalPath;if(typeof e=="string")return aw(t,e);throw nf("Field path arguments must be of type string or ",t,!1,void 0,n)}const m9=new RegExp("[~\\*/\\[\\]]");function aw(t,e,n){if(e.search(m9)>=0)throw nf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pp(...e.split("."))._internalPath}catch{throw nf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nf(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Z($.INVALID_ARGUMENT,a+t+l)}function fR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new g9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class g9 extends pR{data(){return super.data()}}function mR(t,e){return typeof e=="string"?aw(t,e):e instanceof pp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class v9{convertValue(e,n="none"){switch(Ei(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Di(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Kh].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>st(o.doubleValue));return new Pr(n)}convertGeoPoint(e){return new Ar(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=tp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ru(e));default:return null}}convertTimestamp(e){const n=wi(e);return new $e(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Be.fromString(e);Re(LP(r),9688,{name:e});const s=new su(r.get(1),r.get(3)),i=new te(r.popFirst(5));return s.isEqual(n)||cs(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ic{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class po extends pR{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(mR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Z($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=po._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}po._jsonSchemaVersion="firestore/documentSnapshot/1.0",po._jsonSchema={type:ut("string",po._jsonSchemaVersion),bundleSource:ut("string","DocumentSnapshot"),bundleName:ut("string"),bundle:ut("string")};class nh extends po{data(e={}){return super.data(e)}}class Ca{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ic(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new nh(this._firestore,this._userDataWriter,r.key,r,new ic(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new nh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ic(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new nh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ic(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:w9(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Z($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ca._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=N0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function w9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:t})}}Ca._jsonSchemaVersion="firestore/querySnapshot/1.0",Ca._jsonSchema={type:ut("string",Ca._jsonSchemaVersion),bundleSource:ut("string","QuerySnapshot"),bundleName:ut("string"),bundle:ut("string")};class yR extends v9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function _9(t,e,n){t=ci(t,yt);const r=ci(t.firestore,el),s=gR(t.converter,e,n);return lw(r,[uR(cR(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,En.none())])}function E9(t){return lw(ci(t.firestore,el),[new ap(t._key,En.none())])}function XT(t,...e){var l,c,d;t=Kt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||YT(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(YT(e[r])){const h=e[r];e[r]=(l=h.next)==null?void 0:l.bind(h),e[r+1]=(c=h.error)==null?void 0:c.bind(h),e[r+2]=(d=h.complete)==null?void 0:d.bind(h)}let i,o,a;if(t instanceof yt)o=ci(t.firestore,el),a=F0(t._key.path),i={next:h=>{e[r]&&e[r](x9(o,t,h))},error:e[r+1],complete:e[r+2]};else{const h=ci(t,fp);o=ci(h.firestore,el),a=h._query;const f=new yR(o);i={next:p=>{e[r]&&e[r](new Ca(o,f,h,p))},error:e[r+1],complete:e[r+2]},y9(t._query)}return function(f,p,S,g){const E=new n9(g),v=new LB(p,E,S);return f.asyncQueue.enqueueAndForget(async()=>DB(await zT(f),v)),()=>{E.Nu(),f.asyncQueue.enqueueAndForget(async()=>OB(await zT(f),v))}}(rw(o),a,s,i)}function lw(t,e){return function(r,s){const i=new fo;return r.asyncQueue.enqueueAndForget(async()=>KB(await i9(r),s,i)),i.promise}(rw(t),e)}function x9(t,e,n){const r=n.docs.get(e._key),s=new yR(t);return new po(t,s,e._key,r,new ic(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=cR(e)}set(e,n,r){this._verifyNotCommitted();const s=Vm(e,this._firestore),i=gR(s.converter,n,r),o=uR(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,En.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=Vm(e,this._firestore);let o;return o=typeof(n=Kt(n))=="string"||n instanceof pp?p9(this._dataReader,"WriteBatch.update",i._key,n,r,s):f9(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,En.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Vm(e,this._firestore);return this._mutations=this._mutations.concat(new ap(n._key,En.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Z($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Vm(t,e){if((t=Kt(t)).firestore!==e)throw new Z($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(t){return rw(t=ci(t,el)),new T9(t,e=>lw(t,e))}(function(e,n=!0){(function(s){yl=s})(Do),To(new yi("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new el(new u3(r.getProvider("auth-internal")),new f3(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Z($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(c.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),br(eT,tT,e),br(eT,tT,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="firebasestorage.googleapis.com",S9="storageBucket",b9=2*60*1e3,C9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Fr{constructor(e,n,r=0){super(Lm(e),`Firebase Storage: ${n} (${Lm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ur.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Lm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Lr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Lr||(Lr={}));function Lm(t){return"storage/"+t}function I9(){const t="An unknown error occurred, please check the error payload for server response.";return new Ur(Lr.UNKNOWN,t)}function A9(){return new Ur(Lr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function P9(){return new Ur(Lr.CANCELED,"User canceled the upload/download.")}function R9(t){return new Ur(Lr.INVALID_URL,"Invalid URL '"+t+"'.")}function k9(t){return new Ur(Lr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function ZT(t){return new Ur(Lr.INVALID_ARGUMENT,t)}function wR(){return new Ur(Lr.APP_DELETED,"The Firebase app was deleted.")}function N9(t){return new Ur(Lr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Zn.makeFromUrl(e,n)}catch{return new Zn(e,"")}if(r.path==="")return r;throw k9(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(A){A.path_=decodeURIComponent(A.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${d}/b/${s}/o${f}`,"i"),S={bucket:1,path:3},g=n===vR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",v=new RegExp(`^https?://${g}/${s}/${E}`,"i"),T=[{regex:a,indices:l,postModify:i},{regex:p,indices:S,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let A=0;A<T.length;A++){const R=T[A],M=R.regex.exec(e);if(M){const C=M[R.indices.bucket];let b=M[R.indices.path];b||(b=""),r=new Zn(C,b),R.postModify(r);break}}if(r==null)throw R9(e);return r}}class D9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O9(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...E){c||(c=!0,e.apply(null,E))}function h(E){s=setTimeout(()=>{s=null,t(p,l())},E)}function f(){i&&clearTimeout(i)}function p(E,...v){if(c){f();return}if(E){f(),d.call(null,E,...v);return}if(l()||o){f(),d.call(null,E,...v);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,h(T)}let S=!1;function g(E){S||(S=!0,f(),!c&&(s!==null?(E||(a=2),clearTimeout(s),h(0)):E||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,g(!0)},n),g}function M9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V9(t){return t!==void 0}function eS(t,e,n,r){if(r<e)throw ZT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ZT(`Invalid value for '${t}'. Expected ${n} or less.`)}function L9(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var rf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(rf||(rf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j9(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e,n,r,s,i,o,a,l,c,d,h,f=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,g)=>{this.resolve_=S,this.reject_=g,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Cd(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===rf.NO_ERROR,l=i.getStatus();if(!a||j9(l,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===rf.ABORT;r(!1,new Cd(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Cd(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());V9(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=I9();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?wR():P9();o(l)}else{const l=A9();o(l)}};this.canceled_?n(!1,new Cd(!1,null,!0)):this.backoffId_=O9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&M9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Cd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function U9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function B9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function $9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function z9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function W9(t,e,n,r,s,i,o=!0,a=!1){const l=L9(t.urlParams),c=t.url+l,d=Object.assign({},t.headers);return $9(d,e),U9(d,n),B9(d,i),z9(d,r),new F9(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function G9(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n){this._service=e,n instanceof Zn?this._location=n:this._location=Zn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new sf(e,n)}get root(){const e=new Zn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return G9(this._location.path)}get storage(){return this._service}get parent(){const e=H9(this._location.path);if(e===null)return null;const n=new Zn(this._location.bucket,e);return new sf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw N9(e)}}function tS(t,e){const n=e==null?void 0:e[S9];return n==null?null:Zn.makeFromBucketSpec(n,t)}class K9{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=vR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=b9,this._maxUploadRetryTime=C9,this._requests=new Set,s!=null?this._bucket=Zn.makeFromBucketSpec(s,this._host):this._bucket=tS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zn.makeFromBucketSpec(this._url,e):this._bucket=tS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){eS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){eS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new sf(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new D9(wR());{const o=W9(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const nS="@firebase/storage",rS="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9="storage";function Q9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new K9(n,r,s,e,Do)}function Y9(){To(new yi(q9,Q9,"PUBLIC").setMultipleInstances(!0)),br(nS,rS,""),br(nS,rS,"esm2020")}Y9();function _R(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const X9=_R,ER=new bu("auth","Firebase",_R());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of=new A0("@firebase/auth");function J9(t,...e){of.logLevel<=we.WARN&&of.warn(`Auth (${Do}): ${t}`,...e)}function rh(t,...e){of.logLevel<=we.ERROR&&of.error(`Auth (${Do}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t,...e){throw cw(t,...e)}function Rr(t,...e){return cw(t,...e)}function xR(t,e,n){const r={...X9(),[e]:n};return new bu("auth","Firebase",r).create(e,{appName:t.name})}function di(t){return xR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ER.create(t,...e)}function oe(t,e,...n){if(!t)throw cw(e,...n)}function Xr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rh(e),new Error(e)}function hs(t,e){t||Xr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Z9(){return sS()==="http:"||sS()==="https:"}function sS(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Z9()||FU()||"connection"in navigator)?navigator.onLine:!0}function t$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n){this.shortDelay=e,this.longDelay=n,hs(n>e,"Short delay should be less than long delay!"),this.isMobile=VU()||UU()}get(){return e$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(t,e){hs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],s$=new Nu(3e4,6e4);function yp(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function El(t,e,n,r,s={}){return SR(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Cu({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...i};return jU()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&gl(t.emulatorConfig.host)&&(c.credentials="include"),TR.fetch()(await CR(t,t.config.apiHost,n,a),c)})}async function SR(t,e,n){t._canInitEmulator=!1;const r={...n$,...e};try{const s=new i$(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Id(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Id(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Id(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Id(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw xR(t,d,c);ds(t,d)}}catch(s){if(s instanceof Fr)throw s;ds(t,"network-request-failed",{message:String(s)})}}async function bR(t,e,n,r,s={}){const i=await El(t,e,n,r,s);return"mfaPendingCredential"in i&&ds(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function CR(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?uw(t.config,s):`${t.config.apiScheme}://${s}`;return r$.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class i${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rr(this.auth,"network-request-failed")),s$.get())})}}function Id(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Rr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o$(t,e){return El(t,"POST","/v1/accounts:delete",e)}async function af(t,e){return El(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function a$(t,e=!1){const n=Kt(t),r=await n.getIdToken(e),s=dw(r);oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:bc(jm(s.auth_time)),issuedAtTime:bc(jm(s.iat)),expirationTime:bc(jm(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function jm(t){return Number(t)*1e3}function dw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const s=NA(n);return s?JSON.parse(s):(rh("Failed to decode base64 JWT payload"),null)}catch(s){return rh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function iS(t){const e=dw(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Fr&&l$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function l$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bc(this.lastLoginAt),this.creationTime=bc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lf(t){var h;const e=t.auth,n=await t.getIdToken(),r=await lu(t,af(e,{idToken:n}));oe(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(h=s.providerUserInfo)!=null&&h.length?IR(s.providerUserInfo):[],o=d$(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Fy(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function u$(t){const e=Kt(t);await lf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function d$(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function IR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h$(t,e){const n=await SR(t,{},async()=>{const r=Cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await CR(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&gl(t.emulatorConfig.host)&&(l.credentials="include"),TR.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function f$(t,e){return El(t,"POST","/v2/accounts:revokeToken",yp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=iS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await h$(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ia;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(oe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(oe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ia,this.toJSON())}_performRefresh(){return Xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class er{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new c$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Fy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await lu(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return a$(this,e)}reload(){return u$(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new er({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await lf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(di(this.auth));const e=await this.getIdToken();return await lu(this,o$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:f,isAnonymous:p,providerData:S,stsTokenManager:g}=n;oe(h&&g,e,"internal-error");const E=Ia.fromJSON(this.name,g);oe(typeof h=="string",e,"internal-error"),Cs(r,e.name),Cs(s,e.name),oe(typeof f=="boolean",e,"internal-error"),oe(typeof p=="boolean",e,"internal-error"),Cs(i,e.name),Cs(o,e.name),Cs(a,e.name),Cs(l,e.name),Cs(c,e.name),Cs(d,e.name);const v=new er({uid:h,auth:e,email:s,emailVerified:f,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:E,createdAt:c,lastLoginAt:d});return S&&Array.isArray(S)&&(v.providerData=S.map(w=>({...w}))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ia;s.updateFromServerResponse(n);const i=new er({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await lf(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];oe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?IR(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Ia;a.updateFromIdToken(r);const l=new er({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Fy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=new Map;function Jr(t){hs(t instanceof Function,"Expected a class definition");let e=oS.get(t);return e?(hs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,oS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}AR.type="NONE";const aS=AR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t,e,n){return`firebase:${t}:${e}:${n}`}class Aa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=sh(this.userKey,s.apiKey,i),this.fullPersistenceKey=sh("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await af(this.auth,{idToken:e}).catch(()=>{});return n?er._fromGetAccountInfoResponse(this.auth,n,e):null}return er._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Aa(Jr(aS),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Jr(aS);const o=sh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let h;if(typeof d=="string"){const f=await af(e,{idToken:d}).catch(()=>{});if(!f)break;h=await er._fromGetAccountInfoResponse(e,f,d)}else h=er._fromJSON(e,d);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Aa(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Aa(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OR(e))return"Blackberry";if(MR(e))return"Webos";if(RR(e))return"Safari";if((e.includes("chrome/")||kR(e))&&!e.includes("edge/"))return"Chrome";if(DR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function PR(t=Gt()){return/firefox\//i.test(t)}function RR(t=Gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kR(t=Gt()){return/crios\//i.test(t)}function NR(t=Gt()){return/iemobile/i.test(t)}function DR(t=Gt()){return/android/i.test(t)}function OR(t=Gt()){return/blackberry/i.test(t)}function MR(t=Gt()){return/webos/i.test(t)}function hw(t=Gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function p$(t=Gt()){var e;return hw(t)&&!!((e=window.navigator)!=null&&e.standalone)}function m$(){return BU()&&document.documentMode===10}function VR(t=Gt()){return hw(t)||DR(t)||MR(t)||OR(t)||/windows phone/i.test(t)||NR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(t,e=[]){let n;switch(t){case"Browser":n=lS(Gt());break;case"Worker":n=`${lS(Gt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Do}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y$(t,e={}){return El(t,"GET","/v2/passwordPolicy",yp(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$=6;class w${constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??v$,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cS(this),this.idTokenSubscription=new cS(this),this.beforeStateQueue=new g$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ER,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Jr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Aa.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await af(this,{idToken:e}),r=await er._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(On(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await lf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=t$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(On(this.app))return Promise.reject(di(this));const n=e?Kt(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return On(this.app)?Promise.reject(di(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return On(this.app)?Promise.reject(di(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Jr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await y$(this),n=new w$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await f$(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Jr(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Aa.create(this,[Jr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&J9(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function vp(t){return Kt(t)}class cS{constructor(e){this.auth=e,this.observer=null,this.addObserver=QU(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function E$(t){fw=t}function x$(t){return fw.loadJS(t)}function T$(){return fw.gapiScript}function S$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(t,e){const n=R0(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(xo(i,e??{}))return s;ds(s,"already-initialized")}return n.initialize({options:e})}function C$(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Jr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function I$(t,e,n){const r=vp(t);oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=jR(e),{host:o,port:a}=A$(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),oe(xo(c,r.config.emulator)&&xo(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,gl(o)?(VA(`${i}//${o}${l}`),LA("Auth",!0)):P$()}function jR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function A$(t){const e=jR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:uS(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:uS(o)}}}function uS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function P$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xr("not implemented")}_getIdTokenResponse(e){return Xr("not implemented")}_linkToIdToken(e,n){return Xr("not implemented")}_getReauthenticationResolver(e){return Xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pa(t,e){return bR(t,"POST","/v1/accounts:signInWithIdp",yp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R$="http://localhost";class Co extends FR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Co(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ds("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Co(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Pa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Pa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pa(e,n)}buildRequest(){const e={requestUri:R$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends UR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Du{constructor(){super("facebook.com")}static credential(e){return Co._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends Du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Co._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Vs.credential(n,r)}catch{return null}}}Vs.GOOGLE_SIGN_IN_METHOD="google.com";Vs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends Du{constructor(){super("github.com")}static credential(e){return Co._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ls.credential(e.oauthAccessToken)}catch{return null}}}Ls.GITHUB_SIGN_IN_METHOD="github.com";Ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends Du{constructor(){super("twitter.com")}static credential(e,n){return Co._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return js.credential(n,r)}catch{return null}}}js.TWITTER_SIGN_IN_METHOD="twitter.com";js.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k$(t,e){return bR(t,"POST","/v1/accounts:signUp",yp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await er._fromIdTokenResponse(e,r,s),o=dS(r);return new Si({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=dS(r);return new Si({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function dS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N$(t){var s;if(On(t.app))return Promise.reject(di(t));const e=vp(t);if(await e._initializationPromise,(s=e.currentUser)!=null&&s.isAnonymous)return new Si({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await k$(e,{returnSecureToken:!0}),r=await Si._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf extends Fr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,cf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new cf(e,n,r,s)}}function BR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?cf._fromErrorAndOperation(t,i,e,r):i})}async function D$(t,e,n=!1){const r=await lu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Si._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O$(t,e,n=!1){const{auth:r}=t;if(On(r.app))return Promise.reject(di(r));const s="reauthenticate";try{const i=await lu(t,BR(r,s,e,t),n);oe(i.idToken,r,"internal-error");const o=dw(i.idToken);oe(o,r,"internal-error");const{sub:a}=o;return oe(t.uid===a,r,"user-mismatch"),Si._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ds(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M$(t,e,n=!1){if(On(t.app))return Promise.reject(di(t));const r="signIn",s=await BR(t,r,e),i=await Si._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function V$(t,e,n,r){return Kt(t).onIdTokenChanged(e,n,r)}function L$(t,e,n){return Kt(t).beforeAuthStateChanged(e,n)}const uf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(uf,"1"),this.storage.removeItem(uf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j$=1e3,F$=10;class zR extends $R{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);m$()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,F$):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},j$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zR.type="LOCAL";const U$=zR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR extends $R{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}WR.type="SESSION";const HR=WR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new wp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await B$(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=pw("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return window}function z$(t){kr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(){return typeof kr().WorkerGlobalScope<"u"&&typeof kr().importScripts=="function"}async function W$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function H$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function G$(){return GR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="firebaseLocalStorageDb",K$=1,df="firebaseLocalStorage",qR="fbase_key";class Ou{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _p(t,e){return t.transaction([df],e?"readwrite":"readonly").objectStore(df)}function q$(){const t=indexedDB.deleteDatabase(KR);return new Ou(t).toPromise()}function Uy(){const t=indexedDB.open(KR,K$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(df,{keyPath:qR})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(df)?e(r):(r.close(),await q$(),e(await Uy()))})})}async function hS(t,e,n){const r=_p(t,!0).put({[qR]:e,value:n});return new Ou(r).toPromise()}async function Q$(t,e){const n=_p(t,!1).get(e),r=await new Ou(n).toPromise();return r===void 0?null:r.value}function fS(t,e){const n=_p(t,!0).delete(e);return new Ou(n).toPromise()}const Y$=800,X$=3;class QR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Uy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>X$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wp._getInstance(G$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await W$(),!this.activeServiceWorker)return;this.sender=new $$(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||H$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Uy();return await hS(e,uf,"1"),await fS(e,uf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Q$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=_p(s,!1).getAll();return new Ou(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Y$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QR.type="LOCAL";const J$=QR;new Nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z$(t,e){return e?Jr(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw extends FR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ez(t){return M$(t.auth,new mw(t),t.bypassAuthState)}function tz(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),O$(n,new mw(t),t.bypassAuthState)}async function nz(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),D$(n,new mw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ez;case"linkViaPopup":case"linkViaRedirect":return nz;case"reauthViaPopup":case"reauthViaRedirect":return tz;default:ds(this.auth,"internal-error")}}resolve(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz=new Nu(2e3,1e4);class ca extends YR{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ca.currentPopupAction&&ca.currentPopupAction.cancel(),ca.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){hs(this.filter.length===1,"Popup operations only handle one event");const e=pw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ca.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rz.get())};e()}}ca.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz="pendingRedirect",ih=new Map;class iz extends YR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ih.get(this.auth._key());if(!e){try{const r=await oz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ih.set(this.auth._key(),e)}return this.bypassAuthState||ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oz(t,e){const n=cz(e),r=lz(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function az(t,e){ih.set(t._key(),e)}function lz(t){return Jr(t._redirectPersistence)}function cz(t){return sh(sz,t.config.apiKey,t.name)}async function uz(t,e,n=!1){if(On(t.app))return Promise.reject(di(t));const r=vp(t),s=Z$(r,e),o=await new iz(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dz=10*60*1e3;class hz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!XR(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Rr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dz&&this.cachedEventUids.clear(),this.cachedEventUids.has(pS(e))}saveEventToCache(e){this.cachedEventUids.add(pS(e)),this.lastProcessedEventTime=Date.now()}}function pS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function XR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pz(t,e={}){return El(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gz=/^https?/;async function yz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await pz(t);for(const n of e)try{if(vz(n))return}catch{}ds(t,"unauthorized-domain")}function vz(t){const e=jy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!gz.test(n))return!1;if(mz.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wz=new Nu(3e4,6e4);function mS(){const t=kr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _z(t){return new Promise((e,n)=>{var s,i,o;function r(){mS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mS(),n(Rr(t,"network-request-failed"))},timeout:wz.get()})}if((i=(s=kr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=kr().gapi)!=null&&o.load)r();else{const a=S$("iframefcb");return kr()[a]=()=>{gapi.load?r():n(Rr(t,"network-request-failed"))},x$(`${T$()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw oh=null,e})}let oh=null;function Ez(t){return oh=oh||_z(t),oh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz=new Nu(5e3,15e3),Tz="__/auth/iframe",Sz="emulator/auth/iframe",bz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Iz(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?uw(e,Sz):`https://${t.config.authDomain}/${Tz}`,r={apiKey:e.apiKey,appName:t.name,v:Do},s=Cz.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Cu(r).slice(1)}`}async function Az(t){const e=await Ez(t),n=kr().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:Iz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bz,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Rr(t,"network-request-failed"),a=kr().setTimeout(()=>{i(o)},xz.get());function l(){kr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Rz=500,kz=600,Nz="_blank",Dz="http://localhost";class gS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Oz(t,e,n,r=Rz,s=kz){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...Pz,width:r.toString(),height:s.toString(),top:i,left:o},c=Gt().toLowerCase();n&&(a=kR(c)?Nz:n),PR(c)&&(e=e||Dz,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[p,S])=>`${f}${p}=${S},`,"");if(p$(c)&&a!=="_self")return Mz(e||"",a),new gS(null);const h=window.open(e||"",a,d);oe(h,t,"popup-blocked");try{h.focus()}catch{}return new gS(h)}function Mz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vz="__/auth/handler",Lz="emulator/auth/handler",jz=encodeURIComponent("fac");async function yS(t,e,n,r,s,i){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Do,eventId:s};if(e instanceof UR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",qU(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Du){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${jz}=${encodeURIComponent(l)}`:"";return`${Fz(t)}?${Cu(a).slice(1)}${c}`}function Fz({config:t}){return t.emulator?uw(t,Lz):`https://${t.authDomain}/${Vz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="webStorageSupport";class Uz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HR,this._completeRedirectFn=uz,this._overrideRedirectResult=az}async _openPopup(e,n,r,s){var o;hs((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await yS(e,n,r,jy(),s);return Oz(e,i,pw())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await yS(e,n,r,jy(),s);return z$(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(hs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Az(e),r=new hz(e);return n.register("authEvent",s=>(oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Fm,{type:Fm},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Fm];i!==void 0&&n(!!i),ds(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VR()||RR()||hw()}}const Bz=Uz;var vS="@firebase/auth",wS="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Wz(t){To(new yi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LR(t)},c=new _$(r,s,i,l);return C$(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),To(new yi("auth-internal",e=>{const n=vp(e.getProvider("auth").getImmediate());return(r=>new $z(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),br(vS,wS,zz(t)),br(vS,wS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hz=5*60,Gz=MA("authIdTokenMaxAge")||Hz;let _S=null;const Kz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Gz)return;const s=n==null?void 0:n.token;_S!==s&&(_S=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function qz(t=BA()){const e=R0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=b$(t,{popupRedirectResolver:Bz,persistence:[J$,U$,HR]}),r=MA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=Kz(i.toString());L$(n,o,()=>o(n.currentUser)),V$(n,a=>o(a))}}const s=DA("auth");return s&&I$(n,`http://${s}`),n}function Qz(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}E$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Rr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Qz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Wz("Browser");function JR(){const t={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},e=Object.values(t).every(Boolean),n=(typeof window<"u"&&window.__FIREBASE_CONFIG__)??null,r=e?t:n??null;return r?Qx().length?Qx()[0]:UA(r):null}function Ad(){const t=JR();return t?l9(t):null}async function Yz(){const t=JR();if(!t)return!1;const e=qz(t);if(e.currentUser)return!0;try{return await N$(e),!0}catch{return!1}}const Um="taekwondo-sbeitla-data";function ZR(){const[t,e]=y.useState([]),[n,r]=y.useState("connecting"),[s,i]=y.useState(null),o=y.useRef(!1);y.useEffect(()=>{const g=Ad();if(!g){const w=localStorage.getItem(Um),T=w?(()=>{try{return JSON.parse(w)}catch{return[]}})():[];e(T),r("offline");return}const E=async()=>{if(!await Yz())return r("error"),()=>{};const T=XT(a9(g,"students"),async R=>{const M=R.docs.map(C=>C.data()).sort((C,b)=>C.order-b.order);if(e(M),r("online"),!o.current&&M.length===0){const C=localStorage.getItem(Um);if(C)try{const b=JSON.parse(C);if(b.length>0){const I=JT(g);b.forEach(k=>I.set(Ql(g,"students",k.id),k)),await I.commit()}}catch{}o.current=!0}},()=>r("error")),A=XT(Ql(g,"presentation","current"),R=>{const M=R.data();i((M==null?void 0:M.id)??null)},()=>i(null));return()=>{T(),A()}};let v;return E().then(w=>{v=w}),()=>{v&&v()}},[]);const a=async g=>{e(g);const E=Ad();if(!E){localStorage.setItem(Um,JSON.stringify(g)),r("offline"),to.success("Donnes enregistres en local (mode hors-ligne)");return}const v=JT(E);g.forEach(w=>{v.set(Ql(E,"students",w.id),w)}),await v.commit(),r("online")},l=async g=>{const E=t.length>0?Math.max(...t.map(T=>T.order))+1:1,v={...g,order:E},w=[...t,v];await a(w),to.success("lve ajout avec succs")},c=async g=>{const E=t.length>0?Math.max(...t.map(T=>T.order)):0,v=g.map((T,A)=>({...T,order:E+A+1})),w=[...t,...v];await a(w)},d=async(g,E)=>{const v=t.map(w=>w.id===g?{...w,...E}:w);await a(v),to.success("lve mis  jour")},h=async g=>{const E=t.filter(w=>w.id!==g);await a(E);const v=Ad();v&&await E9(Ql(v,"students",g)),to.success("lve supprim")},f=async g=>{const E=g.map((v,w)=>({...v,order:w+1}));await a(E)},p=(g,E)=>{d(g,{status:E})},S=async g=>{const E=Ad();E&&(await _9(Ql(E,"presentation","current"),{id:g,ts:Date.now()}),i(g))};return{students:t.slice().sort((g,E)=>g.order-E.order),syncStatus:n,currentId:s,addStudent:l,addMultipleStudents:c,updateStudent:d,deleteStudent:h,reorderStudents:f,setStatus:p,setCurrent:S}}var Bm="focusScope.autoFocusOnMount",$m="focusScope.autoFocusOnUnmount",ES={bubbles:!1,cancelable:!0},Xz="FocusScope",gw=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=y.useState(null),c=pi(s),d=pi(i),h=y.useRef(null),f=Ge(e,g=>l(g)),p=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let g=function(T){if(p.paused||!a)return;const A=T.target;a.contains(A)?h.current=A:As(h.current,{select:!0})},E=function(T){if(p.paused||!a)return;const A=T.relatedTarget;A!==null&&(a.contains(A)||As(h.current,{select:!0}))},v=function(T){if(document.activeElement===document.body)for(const R of T)R.removedNodes.length>0&&As(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",E);const w=new MutationObserver(v);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",E),w.disconnect()}}},[r,a,p.paused]),y.useEffect(()=>{if(a){TS.add(p);const g=document.activeElement;if(!a.contains(g)){const v=new CustomEvent(Bm,ES);a.addEventListener(Bm,c),a.dispatchEvent(v),v.defaultPrevented||(Jz(r8(ek(a)),{select:!0}),document.activeElement===g&&As(a))}return()=>{a.removeEventListener(Bm,c),setTimeout(()=>{const v=new CustomEvent($m,ES);a.addEventListener($m,d),a.dispatchEvent(v),v.defaultPrevented||As(g??document.body,{select:!0}),a.removeEventListener($m,d),TS.remove(p)},0)}}},[a,c,d,p]);const S=y.useCallback(g=>{if(!n&&!r||p.paused)return;const E=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(E&&v){const w=g.currentTarget,[T,A]=Zz(w);T&&A?!g.shiftKey&&v===A?(g.preventDefault(),n&&As(T,{select:!0})):g.shiftKey&&v===T&&(g.preventDefault(),n&&As(A,{select:!0})):v===w&&g.preventDefault()}},[n,r,p.paused]);return _.jsx(Ae.div,{tabIndex:-1,...o,ref:f,onKeyDown:S})});gw.displayName=Xz;function Jz(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(As(r,{select:e}),document.activeElement!==n)return}function Zz(t){const e=ek(t),n=xS(e,t),r=xS(e.reverse(),t);return[n,r]}function ek(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function xS(t,e){for(const n of t)if(!e8(n,{upTo:e}))return n}function e8(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function t8(t){return t instanceof HTMLInputElement&&"select"in t}function As(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&t8(t)&&e&&t.select()}}var TS=n8();function n8(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=SS(t,e),t.unshift(e)},remove(e){var n;t=SS(t,e),(n=t[0])==null||n.resume()}}}function SS(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function r8(t){return t.filter(e=>e.tagName!=="A")}var zm=0;function tk(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??bS()),document.body.insertAdjacentElement("beforeend",t[1]??bS()),zm++,()=>{zm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),zm--}},[])}function bS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var _r=function(){return _r=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_r.apply(this,arguments)};function nk(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function s8(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var ah="right-scroll-bar-position",lh="width-before-scroll-bar",i8="with-scroll-bars-hidden",o8="--removed-body-scroll-bar-size";function Wm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function a8(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var l8=typeof window<"u"?y.useLayoutEffect:y.useEffect,CS=new WeakMap;function c8(t,e){var n=a8(null,function(r){return t.forEach(function(s){return Wm(s,r)})});return l8(function(){var r=CS.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Wm(a,null)}),i.forEach(function(a){s.has(a)||Wm(a,o)})}CS.set(n,t)},[t]),n}function u8(t){return t}function d8(t,e){e===void 0&&(e=u8);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function h8(t){t===void 0&&(t={});var e=d8(null);return e.options=_r({async:!0,ssr:!1},t),e}var rk=function(t){var e=t.sideCar,n=nk(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,_r({},n))};rk.isSideCarExport=!0;function f8(t,e){return t.useMedium(e),rk}var sk=h8(),Hm=function(){},Ep=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:Hm,onWheelCapture:Hm,onTouchMoveCapture:Hm}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,p=t.noRelative,S=t.noIsolation,g=t.inert,E=t.allowPinchZoom,v=t.as,w=v===void 0?"div":v,T=t.gapMode,A=nk(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=f,M=c8([n,e]),C=_r(_r({},A),s);return y.createElement(y.Fragment,null,d&&y.createElement(R,{sideCar:sk,removeScrollBar:c,shards:h,noRelative:p,noIsolation:S,inert:g,setCallbacks:i,allowPinchZoom:!!E,lockRef:n,gapMode:T}),o?y.cloneElement(y.Children.only(a),_r(_r({},C),{ref:M})):y.createElement(w,_r({},C,{className:l,ref:M}),a))});Ep.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ep.classNames={fullWidth:lh,zeroRight:ah};var p8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function m8(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=p8();return e&&t.setAttribute("nonce",e),t}function g8(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function y8(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var v8=function(){var t=0,e=null;return{add:function(n){t==0&&(e=m8())&&(g8(e,n),y8(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},w8=function(){var t=v8();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},ik=function(){var t=w8(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},_8={left:0,top:0,right:0,gap:0},Gm=function(t){return parseInt(t||"",10)||0},E8=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Gm(n),Gm(r),Gm(s)]},x8=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return _8;var e=E8(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},T8=ik(),Ra="data-scroll-locked",S8=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(i8,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ra,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ah,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(lh,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ah," .").concat(ah,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(lh," .").concat(lh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ra,`] {
    `).concat(o8,": ").concat(a,`px;
  }
`)},IS=function(){var t=parseInt(document.body.getAttribute(Ra)||"0",10);return isFinite(t)?t:0},b8=function(){y.useEffect(function(){return document.body.setAttribute(Ra,(IS()+1).toString()),function(){var t=IS()-1;t<=0?document.body.removeAttribute(Ra):document.body.setAttribute(Ra,t.toString())}},[])},C8=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;b8();var i=y.useMemo(function(){return x8(s)},[s]);return y.createElement(T8,{styles:S8(i,!e,s,n?"":"!important")})},By=!1;if(typeof window<"u")try{var Pd=Object.defineProperty({},"passive",{get:function(){return By=!0,!0}});window.addEventListener("test",Pd,Pd),window.removeEventListener("test",Pd,Pd)}catch{By=!1}var zo=By?{passive:!1}:!1,I8=function(t){return t.tagName==="TEXTAREA"},ok=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!I8(t)&&n[e]==="visible")},A8=function(t){return ok(t,"overflowY")},P8=function(t){return ok(t,"overflowX")},AS=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=ak(t,r);if(s){var i=lk(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},R8=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},k8=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},ak=function(t,e){return t==="v"?A8(e):P8(e)},lk=function(t,e){return t==="v"?R8(e):k8(e)},N8=function(t,e){return t==="h"&&e==="rtl"?-1:1},D8=function(t,e,n,r,s){var i=N8(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,h=0,f=0;do{if(!a)break;var p=lk(t,a),S=p[0],g=p[1],E=p[2],v=g-E-i*S;(S||v)&&ak(t,a)&&(h+=v,f+=S);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(c=!0),c},Rd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},PS=function(t){return[t.deltaX,t.deltaY]},RS=function(t){return t&&"current"in t?t.current:t},O8=function(t,e){return t[0]===e[0]&&t[1]===e[1]},M8=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},V8=0,Wo=[];function L8(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(V8++)[0],i=y.useState(ik)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=s8([t.lockRef.current],(t.shards||[]).map(RS),!0).filter(Boolean);return g.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(g,E){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var v=Rd(g),w=n.current,T="deltaX"in g?g.deltaX:w[0]-v[0],A="deltaY"in g?g.deltaY:w[1]-v[1],R,M=g.target,C=Math.abs(T)>Math.abs(A)?"h":"v";if("touches"in g&&C==="h"&&M.type==="range")return!1;var b=window.getSelection(),I=b&&b.anchorNode,k=I?I===M||I.contains(M):!1;if(k)return!1;var N=AS(C,M);if(!N)return!0;if(N?R=C:(R=C==="v"?"h":"v",N=AS(C,M)),!N)return!1;if(!r.current&&"changedTouches"in g&&(T||A)&&(r.current=R),!R)return!0;var O=r.current||R;return D8(O,E,g,O==="h"?T:A)},[]),l=y.useCallback(function(g){var E=g;if(!(!Wo.length||Wo[Wo.length-1]!==i)){var v="deltaY"in E?PS(E):Rd(E),w=e.current.filter(function(R){return R.name===E.type&&(R.target===E.target||E.target===R.shadowParent)&&O8(R.delta,v)})[0];if(w&&w.should){E.cancelable&&E.preventDefault();return}if(!w){var T=(o.current.shards||[]).map(RS).filter(Boolean).filter(function(R){return R.contains(E.target)}),A=T.length>0?a(E,T[0]):!o.current.noIsolation;A&&E.cancelable&&E.preventDefault()}}},[]),c=y.useCallback(function(g,E,v,w){var T={name:g,delta:E,target:v,should:w,shadowParent:j8(v)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(A){return A!==T})},1)},[]),d=y.useCallback(function(g){n.current=Rd(g),r.current=void 0},[]),h=y.useCallback(function(g){c(g.type,PS(g),g.target,a(g,t.lockRef.current))},[]),f=y.useCallback(function(g){c(g.type,Rd(g),g.target,a(g,t.lockRef.current))},[]);y.useEffect(function(){return Wo.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,zo),document.addEventListener("touchmove",l,zo),document.addEventListener("touchstart",d,zo),function(){Wo=Wo.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,zo),document.removeEventListener("touchmove",l,zo),document.removeEventListener("touchstart",d,zo)}},[]);var p=t.removeScrollBar,S=t.inert;return y.createElement(y.Fragment,null,S?y.createElement(i,{styles:M8(s)}):null,p?y.createElement(C8,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function j8(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const F8=f8(sk,L8);var yw=y.forwardRef(function(t,e){return y.createElement(Ep,_r({},t,{ref:e,sideCar:F8}))});yw.classNames=Ep.classNames;var U8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ho=new WeakMap,kd=new WeakMap,Nd={},Km=0,ck=function(t){return t&&(t.host||ck(t.parentNode))},B8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=ck(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},$8=function(t,e,n,r){var s=B8(e,Array.isArray(t)?t:[t]);Nd[n]||(Nd[n]=new WeakMap);var i=Nd[n],o=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var p=f.getAttribute(r),S=p!==null&&p!=="false",g=(Ho.get(f)||0)+1,E=(i.get(f)||0)+1;Ho.set(f,g),i.set(f,E),o.push(f),g===1&&S&&kd.set(f,!0),E===1&&f.setAttribute(n,"true"),S||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return d(e),a.clear(),Km++,function(){o.forEach(function(h){var f=Ho.get(h)-1,p=i.get(h)-1;Ho.set(h,f),i.set(h,p),f||(kd.has(h)||h.removeAttribute(r),kd.delete(h)),p||h.removeAttribute(n)}),Km--,Km||(Ho=new WeakMap,Ho=new WeakMap,kd=new WeakMap,Nd={})}},uk=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=U8(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),$8(r,s,n,"aria-hidden")):function(){return null}};function z8(t){const e=W8(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(G8);if(l){const c=l.props.children,d=a.map(h=>h===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:h);return _.jsx(e,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,d):null})}return _.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function W8(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=q8(s),a=K8(i,s.props);return s.type!==y.Fragment&&(a.ref=r?ll(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var H8=Symbol("radix.slottable");function G8(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===H8}function K8(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function q8(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var xp="Dialog",[dk]=No(xp),[Q8,or]=dk(xp),hk=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=y.useRef(null),l=y.useRef(null),[c,d]=Qc({prop:r,defaultProp:s??!1,onChange:i,caller:xp});return _.jsx(Q8,{scope:e,triggerRef:a,contentRef:l,contentId:si(),titleId:si(),descriptionId:si(),open:c,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};hk.displayName=xp;var fk="DialogTrigger",pk=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=or(fk,n),i=Ge(e,s.triggerRef);return _.jsx(Ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":_w(s.open),...r,ref:i,onClick:pe(t.onClick,s.onOpenToggle)})});pk.displayName=fk;var vw="DialogPortal",[Y8,mk]=dk(vw,{forceMount:void 0}),gk=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=or(vw,e);return _.jsx(Y8,{scope:e,forceMount:n,children:y.Children.map(r,o=>_.jsx(dl,{present:n||i.open,children:_.jsx(v0,{asChild:!0,container:s,children:o})}))})};gk.displayName=vw;var hf="DialogOverlay",yk=y.forwardRef((t,e)=>{const n=mk(hf,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=or(hf,t.__scopeDialog);return i.modal?_.jsx(dl,{present:r||i.open,children:_.jsx(J8,{...s,ref:e})}):null});yk.displayName=hf;var X8=z8("DialogOverlay.RemoveScroll"),J8=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=or(hf,n);return _.jsx(yw,{as:X8,allowPinchZoom:!0,shards:[s.contentRef],children:_.jsx(Ae.div,{"data-state":_w(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Io="DialogContent",vk=y.forwardRef((t,e)=>{const n=mk(Io,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=or(Io,t.__scopeDialog);return _.jsx(dl,{present:r||i.open,children:i.modal?_.jsx(Z8,{...s,ref:e}):_.jsx(e7,{...s,ref:e})})});vk.displayName=Io;var Z8=y.forwardRef((t,e)=>{const n=or(Io,t.__scopeDialog),r=y.useRef(null),s=Ge(e,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return uk(i)},[]),_.jsx(wk,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:pe(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:pe(t.onFocusOutside,i=>i.preventDefault())})}),e7=y.forwardRef((t,e)=>{const n=or(Io,t.__scopeDialog),r=y.useRef(!1),s=y.useRef(!1);return _.jsx(wk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),wk=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=or(Io,n),l=y.useRef(null),c=Ge(e,l);return tk(),_.jsxs(_.Fragment,{children:[_.jsx(gw,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:_.jsx(Bf,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":_w(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),_.jsxs(_.Fragment,{children:[_.jsx(t7,{titleId:a.titleId}),_.jsx(r7,{contentRef:l,descriptionId:a.descriptionId})]})]})}),ww="DialogTitle",_k=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=or(ww,n);return _.jsx(Ae.h2,{id:s.titleId,...r,ref:e})});_k.displayName=ww;var Ek="DialogDescription",xk=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=or(Ek,n);return _.jsx(Ae.p,{id:s.descriptionId,...r,ref:e})});xk.displayName=Ek;var Tk="DialogClose",Sk=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=or(Tk,n);return _.jsx(Ae.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,()=>s.onOpenChange(!1))})});Sk.displayName=Tk;function _w(t){return t?"open":"closed"}var bk="DialogTitleWarning",[XQ,Ck]=XV(bk,{contentName:Io,titleName:ww,docsSlug:"dialog"}),t7=({titleId:t})=>{const e=Ck(bk),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},n7="DialogDescriptionWarning",r7=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ck(n7).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},s7=hk,i7=pk,o7=gk,Ik=yk,Ak=vk,Pk=_k,Rk=xk,a7=Sk;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kk=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...c7,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:kk("lucide",s),...a},[...o.map(([c,d])=>y.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(u7,{ref:i,iconNode:e,className:kk(`lucide-${l7(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=dt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=dt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=dt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=dt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=dt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=dt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=dt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=dt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=dt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=dt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=dt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=dt("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=dt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=dt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=dt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=dt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=dt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=dt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=dt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=dt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Mk=s7,Vk=i7,C7=o7,Lk=y.forwardRef(({className:t,...e},n)=>_.jsx(Ik,{ref:n,className:ge("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Lk.displayName=Ik.displayName;const Ew=y.forwardRef(({className:t,children:e,...n},r)=>_.jsxs(C7,{children:[_.jsx(Lk,{}),_.jsxs(Ak,{ref:r,className:ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,_.jsxs(a7,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[_.jsx(Ok,{className:"h-4 w-4"}),_.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ew.displayName=Ak.displayName;const xw=({className:t,...e})=>_.jsx("div",{className:ge("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});xw.displayName="DialogHeader";const jk=({className:t,...e})=>_.jsx("div",{className:ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});jk.displayName="DialogFooter";const Tw=y.forwardRef(({className:t,...e},n)=>_.jsx(Pk,{ref:n,className:ge("text-lg font-semibold leading-none tracking-tight",t),...e}));Tw.displayName=Pk.displayName;const Fk=y.forwardRef(({className:t,...e},n)=>_.jsx(Rk,{ref:n,className:ge("text-sm text-muted-foreground",t),...e}));Fk.displayName=Rk.displayName;var I7=Symbol.for("react.lazy"),ff=bf[" use ".trim().toString()];function A7(t){return typeof t=="object"&&t!==null&&"then"in t}function Uk(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===I7&&"_payload"in t&&A7(t._payload)}function Bk(t){const e=R7(t),n=y.forwardRef((r,s)=>{let{children:i,...o}=r;Uk(i)&&typeof ff=="function"&&(i=ff(i._payload));const a=y.Children.toArray(i),l=a.find(N7);if(l){const c=l.props.children,d=a.map(h=>h===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:h);return _.jsx(e,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,d):null})}return _.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var P7=Bk("Slot");function R7(t){const e=y.forwardRef((n,r)=>{let{children:s,...i}=n;if(Uk(s)&&typeof ff=="function"&&(s=ff(s._payload)),y.isValidElement(s)){const o=O7(s),a=D7(i,s.props);return s.type!==y.Fragment&&(a.ref=r?ll(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var k7=Symbol("radix.slottable");function N7(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===k7}function D7(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function O7(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const kS=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,NS=cA,$k=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return NS(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],h=i==null?void 0:i[c];if(d===null)return null;const f=kS(d)||kS(h);return s[c][f]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,f]=d;return f===void 0||(c[h]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(S=>{let[g,E]=S;return Array.isArray(E)?E.includes({...i,...a}[g]):{...i,...a}[g]===E})?[...c,h,f]:c},[]);return NS(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},M7=$k("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),St=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?P7:"button";return _.jsx(o,{className:ge(M7({variant:e,size:n,className:t})),ref:i,...s})});St.displayName="Button";const cu=y.forwardRef(({className:t,type:e,...n},r)=>_.jsx("input",{type:e,className:ge("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));cu.displayName="Input";var V7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],L7=V7.reduce((t,e)=>{const n=Bk(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),_.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),j7="Label",zk=y.forwardRef((t,e)=>_.jsx(L7.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));zk.displayName=j7;var Wk=zk;const F7=$k("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Yo=y.forwardRef(({className:t,...e},n)=>_.jsx(Wk,{ref:n,className:ge(F7(),t),...e}));Yo.displayName=Wk.displayName;function DS(t,[e,n]){return Math.min(n,Math.max(e,t))}function OS(t){const e=U7(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find($7);if(l){const c=l.props.children,d=a.map(h=>h===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:h);return _.jsx(e,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,d):null})}return _.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function U7(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=W7(s),a=z7(i,s.props);return s.type!==y.Fragment&&(a.ref=r?ll(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var B7=Symbol("radix.slottable");function $7(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===B7}function z7(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function W7(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Hk(t){const e=t+"CollectionProvider",[n,r]=No(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:E,children:v}=g,w=W.useRef(null),T=W.useRef(new Map).current;return _.jsx(s,{scope:E,itemMap:T,collectionRef:w,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=OS(a),c=W.forwardRef((g,E)=>{const{scope:v,children:w}=g,T=i(a,v),A=Ge(E,T.collectionRef);return _.jsx(l,{ref:A,children:w})});c.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",f=OS(d),p=W.forwardRef((g,E)=>{const{scope:v,children:w,...T}=g,A=W.useRef(null),R=Ge(E,A),M=i(d,v);return W.useEffect(()=>(M.itemMap.set(A,{ref:A,...T}),()=>void M.itemMap.delete(A))),_.jsx(f,{[h]:"",ref:R,children:w})});p.displayName=d;function S(g){const E=i(t+"CollectionConsumer",g);return W.useCallback(()=>{const w=E.collectionRef.current;if(!w)return[];const T=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(E.itemMap.values()).sort((M,C)=>T.indexOf(M.ref.current)-T.indexOf(C.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},S,r]}var H7=y.createContext(void 0);function Sw(t){const e=y.useContext(H7);return t||e||"ltr"}function G7(t){const e=K7(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(Q7);if(l){const c=l.props.children,d=a.map(h=>h===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:h);return _.jsx(e,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,d):null})}return _.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function K7(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=X7(s),a=Y7(i,s.props);return s.type!==y.Fragment&&(a.ref=r?ll(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var q7=Symbol("radix.slottable");function Q7(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===q7}function Y7(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function X7(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function J7(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Z7=[" ","Enter","ArrowUp","ArrowDown"],eW=[" ","Enter"],Ao="Select",[Tp,Sp,tW]=Hk(Ao),[xl]=No(Ao,[tW,Gf]),bp=Gf(),[nW,Mi]=xl(Ao),[rW,sW]=xl(Ao),Gk=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:h,disabled:f,required:p,form:S}=t,g=bp(e),[E,v]=y.useState(null),[w,T]=y.useState(null),[A,R]=y.useState(!1),M=Sw(c),[C,b]=Qc({prop:r,defaultProp:s??!1,onChange:i,caller:Ao}),[I,k]=Qc({prop:o,defaultProp:a,onChange:l,caller:Ao}),N=y.useRef(null),O=E?S||!!E.closest("form"):!0,[D,Y]=y.useState(new Set),ue=Array.from(D).map(J=>J.props.value).join(";");return _.jsx(Vj,{...g,children:_.jsxs(nW,{required:p,scope:e,trigger:E,onTriggerChange:v,valueNode:w,onValueNodeChange:T,valueNodeHasChildren:A,onValueNodeHasChildrenChange:R,contentId:si(),value:I,onValueChange:k,open:C,onOpenChange:b,dir:M,triggerPointerDownPosRef:N,disabled:f,children:[_.jsx(Tp.Provider,{scope:e,children:_.jsx(rW,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(J=>{Y(X=>new Set(X).add(J))},[]),onNativeOptionRemove:y.useCallback(J=>{Y(X=>{const j=new Set(X);return j.delete(J),j})},[]),children:n})}),O?_.jsxs(gN,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:h,value:I,onChange:J=>k(J.target.value),disabled:f,form:S,children:[I===void 0?_.jsx("option",{value:""}):null,Array.from(D)]},ue):null]})})};Gk.displayName=Ao;var Kk="SelectTrigger",qk=y.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=bp(n),o=Mi(Kk,n),a=o.disabled||r,l=Ge(e,o.onTriggerChange),c=Sp(n),d=y.useRef("touch"),[h,f,p]=vN(g=>{const E=c().filter(T=>!T.disabled),v=E.find(T=>T.value===o.value),w=wN(E,g,v);w!==void 0&&o.onValueChange(w.value)}),S=g=>{a||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return _.jsx(QI,{asChild:!0,...i,children:_.jsx(Ae.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":yN(o.value)?"":void 0,...s,ref:l,onClick:pe(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&S(g)}),onPointerDown:pe(s.onPointerDown,g=>{d.current=g.pointerType;const E=g.target;E.hasPointerCapture(g.pointerId)&&E.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(S(g),g.preventDefault())}),onKeyDown:pe(s.onKeyDown,g=>{const E=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(E&&g.key===" ")&&Z7.includes(g.key)&&(S(),g.preventDefault())})})})});qk.displayName=Kk;var Qk="SelectValue",Yk=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Mi(Qk,n),{onValueNodeHasChildrenChange:c}=l,d=i!==void 0,h=Ge(e,l.onValueNodeChange);return Ht(()=>{c(d)},[c,d]),_.jsx(Ae.span,{...a,ref:h,style:{pointerEvents:"none"},children:yN(l.value)?_.jsx(_.Fragment,{children:o}):i})});Yk.displayName=Qk;var iW="SelectIcon",Xk=y.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return _.jsx(Ae.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});Xk.displayName=iW;var oW="SelectPortal",Jk=t=>_.jsx(v0,{asChild:!0,...t});Jk.displayName=oW;var Po="SelectContent",Zk=y.forwardRef((t,e)=>{const n=Mi(Po,t.__scopeSelect),[r,s]=y.useState();if(Ht(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?al.createPortal(_.jsx(eN,{scope:t.__scopeSelect,children:_.jsx(Tp.Slot,{scope:t.__scopeSelect,children:_.jsx("div",{children:t.children})})}),i):null}return _.jsx(tN,{...t,ref:e})});Zk.displayName=Po;var Hn=10,[eN,Vi]=xl(Po),aW="SelectContentImpl",lW=G7("SelectContent.RemoveScroll"),tN=y.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:S,hideWhenDetached:g,avoidCollisions:E,...v}=t,w=Mi(Po,n),[T,A]=y.useState(null),[R,M]=y.useState(null),C=Ge(e,K=>A(K)),[b,I]=y.useState(null),[k,N]=y.useState(null),O=Sp(n),[D,Y]=y.useState(!1),ue=y.useRef(!1);y.useEffect(()=>{if(T)return uk(T)},[T]),tk();const J=y.useCallback(K=>{const[be,...Le]=O().map(xe=>xe.ref.current),[Ce]=Le.slice(-1),ve=document.activeElement;for(const xe of K)if(xe===ve||(xe==null||xe.scrollIntoView({block:"nearest"}),xe===be&&R&&(R.scrollTop=0),xe===Ce&&R&&(R.scrollTop=R.scrollHeight),xe==null||xe.focus(),document.activeElement!==ve))return},[O,R]),X=y.useCallback(()=>J([b,T]),[J,b,T]);y.useEffect(()=>{D&&X()},[D,X]);const{onOpenChange:j,triggerPointerDownPosRef:U}=w;y.useEffect(()=>{if(T){let K={x:0,y:0};const be=Ce=>{var ve,xe;K={x:Math.abs(Math.round(Ce.pageX)-(((ve=U.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(Ce.pageY)-(((xe=U.current)==null?void 0:xe.y)??0))}},Le=Ce=>{K.x<=10&&K.y<=10?Ce.preventDefault():T.contains(Ce.target)||j(!1),document.removeEventListener("pointermove",be),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",Le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",Le,{capture:!0})}}},[T,j,U]),y.useEffect(()=>{const K=()=>j(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[j]);const[G,ie]=vN(K=>{const be=O().filter(ve=>!ve.disabled),Le=be.find(ve=>ve.ref.current===document.activeElement),Ce=wN(be,K,Le);Ce&&setTimeout(()=>Ce.ref.current.focus())}),ee=y.useCallback((K,be,Le)=>{const Ce=!ue.current&&!Le;(w.value!==void 0&&w.value===be||Ce)&&(I(K),Ce&&(ue.current=!0))},[w.value]),me=y.useCallback(()=>T==null?void 0:T.focus(),[T]),le=y.useCallback((K,be,Le)=>{const Ce=!ue.current&&!Le;(w.value!==void 0&&w.value===be||Ce)&&N(K)},[w.value]),ke=r==="popper"?$y:nN,Oe=ke===$y?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:S,hideWhenDetached:g,avoidCollisions:E}:{};return _.jsx(eN,{scope:n,content:T,viewport:R,onViewportChange:M,itemRefCallback:ee,selectedItem:b,onItemLeave:me,itemTextRefCallback:le,focusSelectedItem:X,selectedItemText:k,position:r,isPositioned:D,searchRef:G,children:_.jsx(yw,{as:lW,allowPinchZoom:!0,children:_.jsx(gw,{asChild:!0,trapped:w.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:pe(s,K=>{var be;(be=w.trigger)==null||be.focus({preventScroll:!0}),K.preventDefault()}),children:_.jsx(Bf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:_.jsx(ke,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:K=>K.preventDefault(),...v,...Oe,onPlaced:()=>Y(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:pe(v.onKeyDown,K=>{const be=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!be&&K.key.length===1&&ie(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let Ce=O().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(K.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const ve=K.target,xe=Ce.indexOf(ve);Ce=Ce.slice(xe+1)}setTimeout(()=>J(Ce)),K.preventDefault()}})})})})})})});tN.displayName=aW;var cW="SelectItemAlignedPosition",nN=y.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Mi(Po,n),o=Vi(Po,n),[a,l]=y.useState(null),[c,d]=y.useState(null),h=Ge(e,C=>d(C)),f=Sp(n),p=y.useRef(!1),S=y.useRef(!0),{viewport:g,selectedItem:E,selectedItemText:v,focusSelectedItem:w}=o,T=y.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&g&&E&&v){const C=i.trigger.getBoundingClientRect(),b=c.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),k=v.getBoundingClientRect();if(i.dir!=="rtl"){const ve=k.left-b.left,xe=I.left-ve,at=C.left-xe,qt=C.width+at,Br=Math.max(qt,b.width),In=window.innerWidth-Hn,Un=DS(xe,[Hn,Math.max(Hn,In-Br)]);a.style.minWidth=qt+"px",a.style.left=Un+"px"}else{const ve=b.right-k.right,xe=window.innerWidth-I.right-ve,at=window.innerWidth-C.right-xe,qt=C.width+at,Br=Math.max(qt,b.width),In=window.innerWidth-Hn,Un=DS(xe,[Hn,Math.max(Hn,In-Br)]);a.style.minWidth=qt+"px",a.style.right=Un+"px"}const N=f(),O=window.innerHeight-Hn*2,D=g.scrollHeight,Y=window.getComputedStyle(c),ue=parseInt(Y.borderTopWidth,10),J=parseInt(Y.paddingTop,10),X=parseInt(Y.borderBottomWidth,10),j=parseInt(Y.paddingBottom,10),U=ue+J+D+j+X,G=Math.min(E.offsetHeight*5,U),ie=window.getComputedStyle(g),ee=parseInt(ie.paddingTop,10),me=parseInt(ie.paddingBottom,10),le=C.top+C.height/2-Hn,ke=O-le,Oe=E.offsetHeight/2,K=E.offsetTop+Oe,be=ue+J+K,Le=U-be;if(be<=le){const ve=N.length>0&&E===N[N.length-1].ref.current;a.style.bottom="0px";const xe=c.clientHeight-g.offsetTop-g.offsetHeight,at=Math.max(ke,Oe+(ve?me:0)+xe+X),qt=be+at;a.style.height=qt+"px"}else{const ve=N.length>0&&E===N[0].ref.current;a.style.top="0px";const at=Math.max(le,ue+g.offsetTop+(ve?ee:0)+Oe)+Le;a.style.height=at+"px",g.scrollTop=be-le+g.offsetTop}a.style.margin=`${Hn}px 0`,a.style.minHeight=G+"px",a.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[f,i.trigger,i.valueNode,a,c,g,E,v,i.dir,r]);Ht(()=>T(),[T]);const[A,R]=y.useState();Ht(()=>{c&&R(window.getComputedStyle(c).zIndex)},[c]);const M=y.useCallback(C=>{C&&S.current===!0&&(T(),w==null||w(),S.current=!1)},[T,w]);return _.jsx(dW,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:M,children:_.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:_.jsx(Ae.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});nN.displayName=cW;var uW="SelectPopperPosition",$y=y.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Hn,...i}=t,o=bp(n);return _.jsx(YI,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$y.displayName=uW;var[dW,bw]=xl(Po,{}),zy="SelectViewport",rN=y.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Vi(zy,n),o=bw(zy,n),a=Ge(e,i.onViewportChange),l=y.useRef(0);return _.jsxs(_.Fragment,{children:[_.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),_.jsx(Tp.Slot,{scope:n,children:_.jsx(Ae.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:pe(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const p=Math.abs(l.current-d.scrollTop);if(p>0){const S=window.innerHeight-Hn*2,g=parseFloat(h.style.minHeight),E=parseFloat(h.style.height),v=Math.max(g,E);if(v<S){const w=v+p,T=Math.min(S,w),A=w-T;h.style.height=T+"px",h.style.bottom==="0px"&&(d.scrollTop=A>0?A:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});rN.displayName=zy;var sN="SelectGroup",[hW,fW]=xl(sN),pW=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=si();return _.jsx(hW,{scope:n,id:s,children:_.jsx(Ae.div,{role:"group","aria-labelledby":s,...r,ref:e})})});pW.displayName=sN;var iN="SelectLabel",oN=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=fW(iN,n);return _.jsx(Ae.div,{id:s.id,...r,ref:e})});oN.displayName=iN;var pf="SelectItem",[mW,aN]=xl(pf),lN=y.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Mi(pf,n),l=Vi(pf,n),c=a.value===r,[d,h]=y.useState(i??""),[f,p]=y.useState(!1),S=Ge(e,w=>{var T;return(T=l.itemRefCallback)==null?void 0:T.call(l,w,r,s)}),g=si(),E=y.useRef("touch"),v=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return _.jsx(mW,{scope:n,value:r,disabled:s,textId:g,isSelected:c,onItemTextChange:y.useCallback(w=>{h(T=>T||((w==null?void 0:w.textContent)??"").trim())},[]),children:_.jsx(Tp.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:_.jsx(Ae.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:S,onFocus:pe(o.onFocus,()=>p(!0)),onBlur:pe(o.onBlur,()=>p(!1)),onClick:pe(o.onClick,()=>{E.current!=="mouse"&&v()}),onPointerUp:pe(o.onPointerUp,()=>{E.current==="mouse"&&v()}),onPointerDown:pe(o.onPointerDown,w=>{E.current=w.pointerType}),onPointerMove:pe(o.onPointerMove,w=>{var T;E.current=w.pointerType,s?(T=l.onItemLeave)==null||T.call(l):E.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pe(o.onPointerLeave,w=>{var T;w.currentTarget===document.activeElement&&((T=l.onItemLeave)==null||T.call(l))}),onKeyDown:pe(o.onKeyDown,w=>{var A;((A=l.searchRef)==null?void 0:A.current)!==""&&w.key===" "||(eW.includes(w.key)&&v(),w.key===" "&&w.preventDefault())})})})})});lN.displayName=pf;var oc="SelectItemText",cN=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Mi(oc,n),a=Vi(oc,n),l=aN(oc,n),c=sW(oc,n),[d,h]=y.useState(null),f=Ge(e,v=>h(v),l.onItemTextChange,v=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,v,l.value,l.disabled)}),p=d==null?void 0:d.textContent,S=y.useMemo(()=>_.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:E}=c;return Ht(()=>(g(S),()=>E(S)),[g,E,S]),_.jsxs(_.Fragment,{children:[_.jsx(Ae.span,{id:l.textId,...i,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?al.createPortal(i.children,o.valueNode):null]})});cN.displayName=oc;var uN="SelectItemIndicator",dN=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return aN(uN,n).isSelected?_.jsx(Ae.span,{"aria-hidden":!0,...r,ref:e}):null});dN.displayName=uN;var Wy="SelectScrollUpButton",hN=y.forwardRef((t,e)=>{const n=Vi(Wy,t.__scopeSelect),r=bw(Wy,t.__scopeSelect),[s,i]=y.useState(!1),o=Ge(e,r.onScrollButtonChange);return Ht(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?_.jsx(pN,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});hN.displayName=Wy;var Hy="SelectScrollDownButton",fN=y.forwardRef((t,e)=>{const n=Vi(Hy,t.__scopeSelect),r=bw(Hy,t.__scopeSelect),[s,i]=y.useState(!1),o=Ge(e,r.onScrollButtonChange);return Ht(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?_.jsx(pN,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});fN.displayName=Hy;var pN=y.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Vi("SelectScrollButton",n),o=y.useRef(null),a=Sp(n),l=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>l(),[l]),Ht(()=>{var d;const c=a().find(h=>h.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),_.jsx(Ae.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:pe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:pe(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:pe(s.onPointerLeave,()=>{l()})})}),gW="SelectSeparator",mN=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return _.jsx(Ae.div,{"aria-hidden":!0,...r,ref:e})});mN.displayName=gW;var Gy="SelectArrow",yW=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=bp(n),i=Mi(Gy,n),o=Vi(Gy,n);return i.open&&o.position==="popper"?_.jsx(XI,{...s,...r,ref:e}):null});yW.displayName=Gy;var vW="SelectBubbleInput",gN=y.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=y.useRef(null),i=Ge(r,s),o=J7(e);return y.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const h=new Event("change",{bubbles:!0});d.call(a,e),a.dispatchEvent(h)}},[o,e]),_.jsx(Ae.select,{...n,style:{...JI,...n.style},ref:i,defaultValue:e})});gN.displayName=vW;function yN(t){return t===""||t===void 0}function vN(t){const e=pi(t),n=y.useRef(""),r=y.useRef(0),s=y.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function wN(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=wW(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function wW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var _W=Gk,_N=qk,EW=Yk,xW=Xk,TW=Jk,EN=Zk,SW=rN,xN=oN,TN=lN,bW=cN,CW=dN,SN=hN,bN=fN,CN=mN;const MS=_W,VS=EW,Ky=y.forwardRef(({className:t,children:e,...n},r)=>_.jsxs(_N,{ref:r,className:ge("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,_.jsx(xW,{asChild:!0,children:_.jsx(Nk,{className:"h-4 w-4 opacity-50"})})]}));Ky.displayName=_N.displayName;const IN=y.forwardRef(({className:t,...e},n)=>_.jsx(SN,{ref:n,className:ge("flex cursor-default items-center justify-center py-1",t),...e,children:_.jsx(f7,{className:"h-4 w-4"})}));IN.displayName=SN.displayName;const AN=y.forwardRef(({className:t,...e},n)=>_.jsx(bN,{ref:n,className:ge("flex cursor-default items-center justify-center py-1",t),...e,children:_.jsx(Nk,{className:"h-4 w-4"})}));AN.displayName=bN.displayName;const qy=y.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>_.jsx(TW,{children:_.jsxs(EN,{ref:s,className:ge("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[_.jsx(IN,{}),_.jsx(SW,{className:ge("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),_.jsx(AN,{})]})}));qy.displayName=EN.displayName;const IW=y.forwardRef(({className:t,...e},n)=>_.jsx(xN,{ref:n,className:ge("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));IW.displayName=xN.displayName;const Qy=y.forwardRef(({className:t,children:e,...n},r)=>_.jsxs(TN,{ref:r,className:ge("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[_.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:_.jsx(CW,{children:_.jsx(ch,{className:"h-4 w-4"})})}),_.jsx(bW,{children:e})]}));Qy.displayName=TN.displayName;const AW=y.forwardRef(({className:t,...e},n)=>_.jsx(CN,{ref:n,className:ge("-mx-1 my-1 h-px bg-muted",t),...e}));AW.displayName=CN.displayName;const mf=["BLANC","DEMI-JAUNE","JAUNE","DEMI-VERT","VERT","DEMI-BLEU","BLEU","ROUGE 3","ROUGE 2","ROUGE 1","1ER DAN","2EME DAN","3EME DAN"],LS={BLANC:{bg:"bg-white",text:"text-gray-900",border:"border-gray-200"},"DEMI-JAUNE":{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-300"},JAUNE:{bg:"bg-yellow-400",text:"text-yellow-900",border:"border-yellow-500"},"DEMI-VERT":{bg:"bg-green-100",text:"text-green-800",border:"border-green-300"},VERT:{bg:"bg-green-500",text:"text-white",border:"border-green-600"},"DEMI-BLEU":{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-300"},BLEU:{bg:"bg-blue-500",text:"text-white",border:"border-blue-600"},"ROUGE 3":{bg:"bg-red-500",text:"text-white",border:"border-red-600"},"ROUGE 2":{bg:"bg-red-600",text:"text-white",border:"border-red-700"},"ROUGE 1":{bg:"bg-red-700",text:"text-white",border:"border-red-800"},"1ER DAN":{bg:"bg-black",text:"text-white",border:"border-gray-800"},"2EME DAN":{bg:"bg-black",text:"text-white",border:"border-gray-800"},"3EME DAN":{bg:"bg-black",text:"text-white",border:"border-gray-800"}},Wi="/passagedegrade/",Qs=[`${Wi}assets/logos/TAEKWONDO_SBEITLA_-removebg-preview.png`,`${Wi}assets/logos/kukkiwon.png`,`${Wi}assets/logos/Elite Sportive - 1.png`,`${Wi}assets/logos/img_4026_nobg_new.png`,`${Wi}assets/logos/WAADTI.png`,`${Wi}assets/logos/diamond-gym.png`,`${Wi}assets/logos/federation-tunisienne-de-taekwondo.png`];var It=[];for(var Qm=0;Qm<256;++Qm)It.push((Qm+256).toString(16).slice(1));function PW(t,e=0){return(It[t[e+0]]+It[t[e+1]]+It[t[e+2]]+It[t[e+3]]+"-"+It[t[e+4]]+It[t[e+5]]+"-"+It[t[e+6]]+It[t[e+7]]+"-"+It[t[e+8]]+It[t[e+9]]+"-"+It[t[e+10]]+It[t[e+11]]+It[t[e+12]]+It[t[e+13]]+It[t[e+14]]+It[t[e+15]]).toLowerCase()}var Dd,RW=new Uint8Array(16);function kW(){if(!Dd&&(Dd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Dd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Dd(RW)}var NW=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const jS={randomUUID:NW};function DW(t,e,n){if(jS.randomUUID&&!t)return jS.randomUUID();t=t||{};var r=t.random||(t.rng||kW)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,PW(r)}const OW="taekwondo-sbeitla",bi="images";function Cw(){return new Promise((t,e)=>{const n=indexedDB.open(OW,1);n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains(bi)||r.createObjectStore(bi)},n.onsuccess=()=>t(n.result),n.onerror=()=>e(n.error)})}async function MW(t,e){const n=await Cw();return new Promise((r,s)=>{const a=n.transaction(bi,"readwrite").objectStore(bi).put(e,t);a.onsuccess=()=>r(),a.onerror=()=>s(a.error)})}async function VW(t){const e=await Cw();return new Promise((n,r)=>{const o=e.transaction(bi,"readonly").objectStore(bi).get(t);o.onsuccess=()=>n(o.result),o.onerror=()=>r(o.error)})}async function LW(t){const e=await Cw();return new Promise((n,r)=>{const o=e.transaction(bi,"readwrite").objectStore(bi).delete(t);o.onsuccess=()=>n(),o.onerror=()=>r(o.error)})}async function jW(t,e){const r=await(await fetch(e)).blob(),s=`student/${t}`;return await MW(s,r),`idb:${s}`}async function FW(t){if(!t.startsWith("idb:"))return t;const e=t.slice(4),n=await VW(e);return n?URL.createObjectURL(n):""}async function UW(t){if(!t.startsWith("idb:"))return;const e=t.slice(4);await LW(e)}function Iw({src:t,...e}){const[n,r]=W.useState("");return W.useEffect(()=>{let s=null,i=!1;return(async()=>{const a=await FW(t);i||(r(a||t),a&&a.startsWith("blob:")&&(s=a))})(),()=>{i=!0,s&&URL.revokeObjectURL(s)}},[t]),_.jsx("img",{src:n||t,...e})}function FS({onSubmit:t,trigger:e,initialData:n}){const[r,s]=y.useState(!1),[i,o]=y.useState((n==null?void 0:n.fullName)||""),[a,l]=y.useState((n==null?void 0:n.currentBelt)||"BLANC"),[c,d]=y.useState((n==null?void 0:n.nextBelt)||"DEMI-JAUNE"),[h,f]=y.useState((n==null?void 0:n.photoUrl)||"/passagedegrade/assets/default-avatar_variant_2.png"),p=async g=>{g.preventDefault();const E=(n==null?void 0:n.id)||DW();let v=h;if(v.startsWith("data:"))try{v=await jW(E,v)}catch{}const w={id:E,fullName:i,currentBelt:a,nextBelt:c,photoUrl:v,order:(n==null?void 0:n.order)||999,status:(n==null?void 0:n.status)||"PENDING"};t(w),s(!1),n||(o(""),f("/passagedegrade/assets/default-avatar_variant_3.png"))},S=async g=>{var w;const E=(w=g.target.files)==null?void 0:w[0];if(!E)return;const v=(T,A=512,R=.8)=>new Promise((M,C)=>{const b=new FileReader;b.onload=()=>{const I=new Image;I.onload=()=>{const k=document.createElement("canvas"),N=Math.min(A/I.width,A/I.height,1);k.width=Math.round(I.width*N),k.height=Math.round(I.height*N);const O=k.getContext("2d");if(!O){C(new Error("Canvas context not available"));return}O.drawImage(I,0,0,k.width,k.height);const D=k.toDataURL("image/jpeg",R);M(D)},I.onerror=C,I.src=b.result},b.onerror=C,b.readAsDataURL(T)});try{const T=await v(E);f(T)}catch{const A=new FileReader;A.onloadend=()=>f(A.result),A.readAsDataURL(E)}};return _.jsxs(Mk,{open:r,onOpenChange:s,children:[_.jsx(Vk,{asChild:!0,children:e||_.jsxs(St,{className:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:[_.jsx(E7,{className:"mr-2 h-4 w-4"})," Ajouter un lve"]})}),_.jsxs(Ew,{className:"sm:max-w-[500px] border-t-4 border-red-600",children:[_.jsx(xw,{children:_.jsx(Tw,{className:"text-2xl font-bold text-gray-900",children:n?"Modifier l'lve":"Ajouter un Nouvel lve"})}),_.jsxs("form",{onSubmit:p,className:"space-y-6 mt-4",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx(Yo,{htmlFor:"name",className:"text-gray-700 font-medium",children:"Nom et Prnom"}),_.jsx(cu,{id:"name",value:i,onChange:g=>o(g.target.value),required:!0,className:"border-gray-300 focus:border-red-500 focus:ring-red-500",placeholder:"Ex: Ahmed Ben Ali"})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx(Yo,{className:"text-gray-700 font-medium",children:"Ceinture Actuelle"}),_.jsxs(MS,{value:a,onValueChange:g=>l(g),children:[_.jsx(Ky,{className:"border-gray-300",children:_.jsx(VS,{})}),_.jsx(qy,{children:mf.map(g=>_.jsx(Qy,{value:g,children:g},g))})]})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx(Yo,{className:"text-gray-700 font-medium",children:"Test Pour"}),_.jsxs(MS,{value:c,onValueChange:g=>d(g),children:[_.jsx(Ky,{className:"border-gray-300",children:_.jsx(VS,{})}),_.jsx(qy,{children:mf.map(g=>_.jsx(Qy,{value:g,children:g},g))})]})]})]}),_.jsxs("div",{className:"space-y-3",children:[_.jsx(Yo,{className:"text-gray-700 font-medium",children:"Photo de Profil"}),_.jsxs("div",{className:"flex items-center gap-6 p-4 border-2 border-dashed border-gray-200 rounded-xl bg-gray-50",children:[_.jsx(Iw,{src:h,alt:"Aperu",className:"w-16 h-16 rounded-full object-cover border-2 border-white shadow-md"}),_.jsxs("div",{className:"flex-1",children:[_.jsx(Yo,{htmlFor:"photo-upload",className:"cursor-pointer",children:_.jsxs("div",{className:"flex items-center justify-center w-full px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium text-gray-700 shadow-sm",children:[_.jsx(Dk,{className:"w-4 h-4 mr-2"}),"Choisir une image"]})}),_.jsx(cu,{id:"photo-upload",type:"file",accept:"image/*",onChange:S,className:"hidden"})]})]})]}),_.jsxs(St,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-6 text-lg shadow-md transition-all",children:[_.jsx(x7,{className:"mr-2 h-5 w-5"})," ",n?"Enregistrer les Modifications":"Enregistrer l'lve"]})]})]})]})}const PN=y.forwardRef(({className:t,...e},n)=>_.jsx("textarea",{className:ge("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));PN.displayName="Textarea";function BW({onImport:t}){const[e,n]=y.useState(!1),[r,s]=y.useState(""),i=a=>{var h;const l=a.trim().split(`
`),c=[],d=l[0].toLowerCase().includes("nom")||l[0].toLowerCase().includes("name")?1:0;for(let f=d;f<l.length;f++){const p=l[f].trim();if(!p)continue;const S=p.split(/,|\t/);if(S.length<3)continue;const g=S[0].trim(),E=S[1].trim(),v=S[2].trim(),w=((h=S[3])==null?void 0:h.trim())||"/passagedegrade/assets/default-avatar.png";if(!mf.includes(E)||!mf.includes(v)){console.warn(`Invalid belt for student ${g}: ${E} -> ${v}`);continue}c.push({id:crypto.randomUUID(),fullName:g,currentBelt:E,nextBelt:v,photoUrl:w,status:"PENDING",order:0})}return c},o=()=>{try{const a=i(r);if(a.length===0){to.error("Aucun lve valide trouv. Vrifiez le format.");return}t(a),n(!1),s(""),to.success(`${a.length} lves imports avec succs !`)}catch(a){console.error(a),to.error("Erreur lors de l'importation.")}};return _.jsxs(Mk,{open:e,onOpenChange:n,children:[_.jsx(Vk,{asChild:!0,children:_.jsxs(St,{variant:"outline",className:"gap-2 border-green-200 hover:bg-green-50 hover:text-green-700",children:[_.jsx(_7,{size:18})," Importer (CSV)"]})}),_.jsxs(Ew,{className:"sm:max-w-[600px]",children:[_.jsxs(xw,{children:[_.jsx(Tw,{children:"Importer depuis Google Sheets"}),_.jsxs(Fk,{children:["Copiez et collez vos donnes ici. Le format doit tre : ",_.jsx("br",{}),_.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded text-xs",children:"Nom Complet, Ceinture Actuelle, Ceinture Suivante, URL Photo (Optionnel)"})]})]}),_.jsxs("div",{className:"grid gap-4 py-4",children:[_.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg flex gap-3 text-sm text-blue-700",children:[_.jsx(p7,{className:"w-5 h-5 flex-shrink-0"}),_.jsxs("div",{children:[_.jsx("p",{className:"font-bold mb-1",children:"Instructions :"}),_.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[_.jsx("li",{children:"Ouvrez votre Google Sheet"}),_.jsx("li",{children:"Slectionnez les colonnes (Nom, Grade Actuel, Grade Suivant, Photo)"}),_.jsx("li",{children:"Copiez (Ctrl+C) et collez (Ctrl+V) ci-dessous"})]})]})]}),_.jsx(PN,{placeholder:`Jean Dupont, Blanc, Jaune
Marie Martin, Jaune, Orange, https://example.com/photo.jpg`,className:"h-[200px] font-mono text-sm",value:r,onChange:a=>s(a.target.value)})]}),_.jsxs(jk,{children:[_.jsx(St,{variant:"outline",onClick:()=>n(!1),children:"Annuler"}),_.jsxs(St,{onClick:o,className:"bg-green-600 hover:bg-green-700",children:[_.jsx(Dk,{className:"w-4 h-4 mr-2"})," Importer"]})]})]})]})}function gf({belt:t,className:e,size:n="md"}){const r=LS[t]||LS.BLANC,s={sm:"px-2 py-0.5 text-xs",md:"px-3 py-1 text-sm",lg:"px-4 py-2 text-base font-bold"};return _.jsx("span",{className:ge("inline-flex items-center justify-center rounded-full border shadow-sm transition-all",r.bg,r.text,r.border,s[n],e),children:t})}const ua=y.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:ge("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ua.displayName="Card";const Aw=y.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:ge("flex flex-col space-y-1.5 p-6",t),...e}));Aw.displayName="CardHeader";const Pw=y.forwardRef(({className:t,...e},n)=>_.jsx("h3",{ref:n,className:ge("text-2xl font-semibold leading-none tracking-tight",t),...e}));Pw.displayName="CardTitle";const $W=y.forwardRef(({className:t,...e},n)=>_.jsx("p",{ref:n,className:ge("text-sm text-muted-foreground",t),...e}));$W.displayName="CardDescription";const da=y.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:ge("p-6 pt-0",t),...e}));da.displayName="CardContent";const zW=y.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:ge("flex items-center p-6 pt-0",t),...e}));zW.displayName="CardFooter";const RN=y.forwardRef(({className:t,...e},n)=>_.jsx("div",{className:"relative w-full overflow-auto",children:_.jsx("table",{ref:n,className:ge("w-full caption-bottom text-sm",t),...e})}));RN.displayName="Table";const kN=y.forwardRef(({className:t,...e},n)=>_.jsx("thead",{ref:n,className:ge("[&_tr]:border-b",t),...e}));kN.displayName="TableHeader";const NN=y.forwardRef(({className:t,...e},n)=>_.jsx("tbody",{ref:n,className:ge("[&_tr:last-child]:border-0",t),...e}));NN.displayName="TableBody";const WW=y.forwardRef(({className:t,...e},n)=>_.jsx("tfoot",{ref:n,className:ge("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));WW.displayName="TableFooter";const uh=y.forwardRef(({className:t,...e},n)=>_.jsx("tr",{ref:n,className:ge("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));uh.displayName="TableRow";const Qi=y.forwardRef(({className:t,...e},n)=>_.jsx("th",{ref:n,className:ge("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Qi.displayName="TableHead";const Ps=y.forwardRef(({className:t,...e},n)=>_.jsx("td",{ref:n,className:ge("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Ps.displayName="TableCell";const HW=y.forwardRef(({className:t,...e},n)=>_.jsx("caption",{ref:n,className:ge("mt-4 text-sm text-muted-foreground",t),...e}));HW.displayName="TableCaption";const Rw="auth_page";function GW(t,e,n){return t==="dashboard"&&e==="master"&&n==="aziz2004"||t==="projection"&&e==="parent"&&n==="diamondgym"?(localStorage.setItem(Rw,t),!0):!1}function KW(t){return localStorage.getItem(Rw)!=null}function DN(){localStorage.removeItem(Rw)}function qW(){const t=Su(),{students:e,addStudent:n,addMultipleStudents:r,updateStudent:s,deleteStudent:i,reorderStudents:o,setStatus:a,syncStatus:l,setCurrent:c}=ZR(),d=(h,f)=>{if(f==="up"&&h===0||f==="down"&&h===e.length-1)return;const p=[...e],S=f==="up"?h-1:h+1;[p[h],p[S]]=[p[S],p[h]],o(p)};return _.jsx("div",{className:"min-h-screen bg-gray-100 p-8 font-sans",children:_.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[_.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 bg-white p-6 rounded-2xl shadow-sm border border-gray-200",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("img",{src:"/passagedegrade/assets/logos/kukkiwon.png",alt:"Logo",className:"w-12 h-12 rounded-xl shadow-lg object-contain bg-white"}),_.jsxs("div",{children:[_.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Taekwondo Sbeitla"}),_.jsx("p",{className:"text-gray-500 font-medium",children:"Tableau de Bord des Examens de Passage"}),_.jsxs("span",{className:`mt-1 inline-block text-xs px-2 py-0.5 rounded-full ${l==="online"?"bg-green-100 text-green-700":l==="connecting"||l==="offline"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:["Cloud Sync: ",l]})]})]}),_.jsxs("div",{className:"flex flex-wrap gap-3 w-full md:w-auto",children:[_.jsx(EU,{to:"/projection",target:"_blank",className:"flex-1 md:flex-none",children:_.jsxs(St,{variant:"outline",className:"w-full gap-2 border-gray-300 hover:bg-gray-50 hover:text-red-600 transition-colors",children:[_.jsx(v7,{size:18})," Projection"]})}),_.jsx(BW,{onImport:r}),_.jsx("div",{className:"flex-1 md:flex-none",children:_.jsx(FS,{onSubmit:n})}),_.jsx(St,{variant:"destructive",className:"md:flex-none",onClick:()=>{DN(),t("/")},children:"Dconnexion"})]})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[_.jsx(ua,{className:"border-none shadow-sm bg-white",children:_.jsxs(da,{className:"p-6 flex items-center gap-4",children:[_.jsx("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-full",children:_.jsx(qm,{size:24})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Total Candidats"}),_.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),_.jsx(ua,{className:"border-none shadow-sm bg-white",children:_.jsxs(da,{className:"p-6 flex items-center gap-4",children:[_.jsx("div",{className:"p-3 bg-green-100 text-green-600 rounded-full",children:_.jsx(ch,{size:24})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Admis"}),_.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(h=>h.status==="APPROVED").length})]})]})}),_.jsx(ua,{className:"border-none shadow-sm bg-white",children:_.jsxs(da,{className:"p-6 flex items-center gap-4",children:[_.jsx("div",{className:"p-3 bg-yellow-100 text-yellow-600 rounded-full",children:_.jsx(b7,{size:24})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"En Attente"}),_.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(h=>h.status==="PENDING").length})]})]})})]}),_.jsxs(ua,{className:"border-none shadow-md overflow-hidden",children:[_.jsx(Aw,{className:"bg-gray-50 border-b border-gray-100 py-6",children:_.jsxs(Pw,{className:"flex items-center gap-2 text-xl",children:[_.jsx(qm,{className:"w-5 h-5 text-gray-400"}),"Liste des Candidats"]})}),_.jsx(da,{className:"p-0",children:_.jsxs(RN,{children:[_.jsx(kN,{children:_.jsxs(uh,{className:"bg-gray-50/50 hover:bg-gray-50/50",children:[_.jsx(Qi,{className:"w-[80px] text-center font-bold text-gray-600",children:"Ordre"}),_.jsx(Qi,{className:"font-bold text-gray-600",children:"Candidat"}),_.jsx(Qi,{className:"font-bold text-gray-600",children:"Ceinture Actuelle"}),_.jsx(Qi,{className:"font-bold text-gray-600",children:"Test Pour"}),_.jsx(Qi,{className:"font-bold text-gray-600 text-center",children:"Rsultat"}),_.jsx(Qi,{className:"text-right font-bold text-gray-600 pr-6",children:"Actions"})]})}),_.jsx(NN,{children:e.length===0?_.jsx(uh,{children:_.jsx(Ps,{colSpan:6,className:"text-center py-16",children:_.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-400",children:[_.jsx(qm,{className:"w-16 h-16 mb-4 opacity-20"}),_.jsx("p",{className:"text-lg font-medium text-gray-500",children:"Aucun lve ajout pour le moment"}),_.jsx("p",{className:"text-sm",children:'Cliquez sur "Ajouter un lve" ou "Importer" pour commencer'})]})})}):e.map((h,f)=>_.jsxs(uh,{className:"hover:bg-gray-50/80 transition-colors group",children:[_.jsxs(Ps,{className:"text-center font-bold text-gray-500 text-lg",children:["#",f+1]}),_.jsx(Ps,{children:_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs("div",{className:"relative",children:[_.jsx(Iw,{src:h.photoUrl,alt:h.fullName,className:"w-12 h-12 rounded-full object-cover border-2 border-white shadow-sm group-hover:scale-110 transition-transform duration-300"}),h.status==="APPROVED"&&_.jsx("div",{className:"absolute -bottom-1 -right-1 bg-green-500 text-white rounded-full p-0.5 border-2 border-white",children:_.jsx(ch,{size:10,strokeWidth:4})})]}),_.jsx("span",{className:"font-bold text-gray-900 text-base",children:h.fullName})]})}),_.jsx(Ps,{children:_.jsx(gf,{belt:h.currentBelt,size:"sm"})}),_.jsx(Ps,{children:_.jsx(gf,{belt:h.nextBelt,size:"sm"})}),_.jsx(Ps,{children:_.jsxs("div",{className:"flex justify-center gap-2",children:[_.jsxs(St,{size:"sm",variant:h.status==="APPROVED"?"default":"outline",className:`rounded-full px-4 transition-all duration-300 ${h.status==="APPROVED"?"bg-green-600 hover:bg-green-700 text-white shadow-md scale-105":"text-gray-400 hover:text-green-600 hover:border-green-200"}`,onClick:()=>a(h.id,"APPROVED"),title:"Admis",children:[_.jsx(ch,{size:16,className:"mr-1"})," ",h.status==="APPROVED"?"Admis":"Admettre"]}),_.jsxs(St,{size:"sm",variant:h.status==="REFUSED"?"destructive":"outline",className:`rounded-full px-4 transition-all duration-300 ${h.status==="REFUSED"?"bg-red-600 hover:bg-red-700 text-white shadow-md scale-105":"text-gray-400 hover:text-red-600 hover:border-red-200"}`,onClick:()=>a(h.id,"REFUSED"),title:"Refus",children:[_.jsx(Ok,{size:16,className:"mr-1"})," ",h.status==="REFUSED"?"Refus":"Refuser"]})]})}),_.jsx(Ps,{className:"text-right pr-6",children:_.jsxs("div",{className:"flex justify-end gap-1 opacity-60 group-hover:opacity-100 transition-opacity",children:[_.jsx(St,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-gray-200 rounded-full",onClick:()=>d(f,"up"),disabled:f===0,children:_.jsx(h7,{size:16})}),_.jsx(St,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-gray-200 rounded-full",onClick:()=>d(f,"down"),disabled:f===e.length-1,children:_.jsx(d7,{size:16})}),_.jsx(St,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-green-50 hover:text-green-600 rounded-full",onClick:()=>c(h.id),title:"Afficher en projection",children:_.jsx(w7,{size:16})}),_.jsx(FS,{initialData:h,onSubmit:p=>s(h.id,p),trigger:_.jsx(St,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-blue-50 hover:text-blue-600 rounded-full",children:_.jsx(T7,{size:16})})}),_.jsx(St,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-full",onClick:async()=>{await UW(h.photoUrl),i(h.id)},children:_.jsx(S7,{size:16})})]})})]},h.id))})]})})]})]})})}var Ym="rovingFocusGroup.onEntryFocus",QW={bubbles:!1,cancelable:!0},Mu="RovingFocusGroup",[Yy,ON,YW]=Hk(Mu),[XW,MN]=No(Mu,[YW]),[JW,ZW]=XW(Mu),VN=y.forwardRef((t,e)=>_.jsx(Yy.Provider,{scope:t.__scopeRovingFocusGroup,children:_.jsx(Yy.Slot,{scope:t.__scopeRovingFocusGroup,children:_.jsx(eH,{...t,ref:e})})}));VN.displayName=Mu;var eH=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=t,f=y.useRef(null),p=Ge(e,f),S=Sw(i),[g,E]=Qc({prop:o,defaultProp:a??null,onChange:l,caller:Mu}),[v,w]=y.useState(!1),T=pi(c),A=ON(n),R=y.useRef(!1),[M,C]=y.useState(0);return y.useEffect(()=>{const b=f.current;if(b)return b.addEventListener(Ym,T),()=>b.removeEventListener(Ym,T)},[T]),_.jsx(JW,{scope:n,orientation:r,dir:S,loop:s,currentTabStopId:g,onItemFocus:y.useCallback(b=>E(b),[E]),onItemShiftTab:y.useCallback(()=>w(!0),[]),onFocusableItemAdd:y.useCallback(()=>C(b=>b+1),[]),onFocusableItemRemove:y.useCallback(()=>C(b=>b-1),[]),children:_.jsx(Ae.div,{tabIndex:v||M===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...t.style},onMouseDown:pe(t.onMouseDown,()=>{R.current=!0}),onFocus:pe(t.onFocus,b=>{const I=!R.current;if(b.target===b.currentTarget&&I&&!v){const k=new CustomEvent(Ym,QW);if(b.currentTarget.dispatchEvent(k),!k.defaultPrevented){const N=A().filter(J=>J.focusable),O=N.find(J=>J.active),D=N.find(J=>J.id===g),ue=[O,D,...N].filter(Boolean).map(J=>J.ref.current);FN(ue,d)}}R.current=!1}),onBlur:pe(t.onBlur,()=>w(!1))})})}),LN="RovingFocusGroupItem",jN=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=si(),c=i||l,d=ZW(LN,n),h=d.currentTabStopId===c,f=ON(n),{onFocusableItemAdd:p,onFocusableItemRemove:S,currentTabStopId:g}=d;return y.useEffect(()=>{if(r)return p(),()=>S()},[r,p,S]),_.jsx(Yy.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:_.jsx(Ae.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:pe(t.onMouseDown,E=>{r?d.onItemFocus(c):E.preventDefault()}),onFocus:pe(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:pe(t.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){d.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const v=rH(E,d.orientation,d.dir);if(v!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let T=f().filter(A=>A.focusable).map(A=>A.ref.current);if(v==="last")T.reverse();else if(v==="prev"||v==="next"){v==="prev"&&T.reverse();const A=T.indexOf(E.currentTarget);T=d.loop?sH(T,A+1):T.slice(A+1)}setTimeout(()=>FN(T))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});jN.displayName=LN;var tH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function nH(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function rH(t,e,n){const r=nH(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return tH[r]}function FN(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function sH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var iH=VN,oH=jN,Cp="Tabs",[aH]=No(Cp,[MN]),UN=MN(),[lH,kw]=aH(Cp),BN=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,d=Sw(a),[h,f]=Qc({prop:r,onChange:s,defaultProp:i??"",caller:Cp});return _.jsx(lH,{scope:n,baseId:si(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:l,children:_.jsx(Ae.div,{dir:d,"data-orientation":o,...c,ref:e})})});BN.displayName=Cp;var $N="TabsList",zN=y.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=kw($N,n),o=UN(n);return _.jsx(iH,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:_.jsx(Ae.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});zN.displayName=$N;var WN="TabsTrigger",HN=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=kw(WN,n),a=UN(n),l=qN(o.baseId,r),c=QN(o.baseId,r),d=r===o.value;return _.jsx(oH,{asChild:!0,...a,focusable:!s,active:d,children:_.jsx(Ae.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:pe(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:pe(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:pe(t.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(r)})})})});HN.displayName=WN;var GN="TabsContent",KN=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=kw(GN,n),l=qN(a.baseId,r),c=QN(a.baseId,r),d=r===a.value,h=y.useRef(d);return y.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),_.jsx(dl,{present:s||d,children:({present:f})=>_.jsx(Ae.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});KN.displayName=GN;function qN(t,e){return`${t}-trigger-${e}`}function QN(t,e){return`${t}-content-${e}`}var cH=BN,YN=zN,XN=HN,JN=KN;const uH=cH,ZN=y.forwardRef(({className:t,...e},n)=>_.jsx(YN,{ref:n,className:ge("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));ZN.displayName=YN.displayName;const Xy=y.forwardRef(({className:t,...e},n)=>_.jsx(XN,{ref:n,className:ge("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Xy.displayName=XN.displayName;const Jy=y.forwardRef(({className:t,...e},n)=>_.jsx(JN,{ref:n,className:ge("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Jy.displayName=JN.displayName;const Nw=y.createContext({});function Dw(t){const e=y.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ip=y.createContext(null),Ow=y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class dH extends y.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function hH({children:t,isPresent:e}){const n=y.useId(),r=y.useRef(null),s=y.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=y.useContext(Ow);return y.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=s.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),_.jsx(dH,{isPresent:e,childRef:r,sizeRef:s,children:y.cloneElement(t,{ref:r})})}const fH=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=Dw(pH),l=y.useId(),c=y.useCallback(h=>{a.set(h,!0);for(const f of a.values())if(!f)return;r&&r()},[a,r]),d=y.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:c,register:h=>(a.set(h,!1),()=>a.delete(h))}),i?[Math.random(),c]:[n,c]);return y.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[n]),y.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=_.jsx(hH,{isPresent:n,children:t})),_.jsx(Ip.Provider,{value:d,children:t})};function pH(){return new Map}function eD(t=!0){const e=y.useContext(Ip);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=y.useId();y.useEffect(()=>{t&&s(i)},[t]);const o=y.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const Od=t=>t.key||"";function US(t){const e=[];return y.Children.forEach(t,n=>{y.isValidElement(n)&&e.push(n)}),e}const Mw=typeof window<"u",tD=Mw?y.useLayoutEffect:y.useEffect,mH=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[a,l]=eD(o),c=y.useMemo(()=>US(t),[t]),d=o&&!a?[]:c.map(Od),h=y.useRef(!0),f=y.useRef(c),p=Dw(()=>new Map),[S,g]=y.useState(c),[E,v]=y.useState(c);tD(()=>{h.current=!1,f.current=c;for(let A=0;A<E.length;A++){const R=Od(E[A]);d.includes(R)?p.delete(R):p.get(R)!==!0&&p.set(R,!1)}},[E,d.length,d.join("-")]);const w=[];if(c!==S){let A=[...c];for(let R=0;R<E.length;R++){const M=E[R],C=Od(M);d.includes(C)||(A.splice(R,0,M),w.push(M))}i==="wait"&&w.length&&(A=w),v(US(A)),g(c);return}const{forceRender:T}=y.useContext(Nw);return _.jsx(_.Fragment,{children:E.map(A=>{const R=Od(A),M=o&&!a?!1:c===E||d.includes(R),C=()=>{if(p.has(R))p.set(R,!0);else return;let b=!0;p.forEach(I=>{I||(b=!1)}),b&&(T==null||T(),v(f.current),o&&(l==null||l()),r&&r())};return _.jsx(fH,{isPresent:M,initial:!h.current||n?void 0:!1,custom:M?void 0:e,presenceAffectsLayout:s,mode:i,onExitComplete:M?void 0:C,children:A},R)})})},xn=t=>t;let nD=xn;function Vw(t){let e;return()=>(e===void 0&&(e=t()),e)}const tl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},es=t=>t*1e3,ts=t=>t/1e3,gH={useManualTiming:!1};function yH(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){i.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,d=!1,h=!1)=>{const p=h&&r?e:n;return d&&i.add(c),p.has(c)||p.add(c),c},cancel:c=>{n.delete(c),i.delete(c)},process:c=>{if(o=c,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,s&&(s=!1,l.process(c))}};return l}const Md=["read","resolveKeyframes","update","preRender","render","postRender"],vH=40;function rD(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Md.reduce((v,w)=>(v[w]=yH(i),v),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:h,postRender:f}=o,p=()=>{const v=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(v-s.timestamp,vH),1),s.timestamp=v,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(p))},S=()=>{n=!0,r=!0,s.isProcessing||t(p)};return{schedule:Md.reduce((v,w)=>{const T=o[w];return v[w]=(A,R=!1,M=!1)=>(n||S(),T.schedule(A,R,M)),v},{}),cancel:v=>{for(let w=0;w<Md.length;w++)o[Md[w]].cancel(v)},state:s,steps:o}}const{schedule:We,cancel:Ci,state:Pt,steps:Xm}=rD(typeof requestAnimationFrame<"u"?requestAnimationFrame:xn,!0),sD=y.createContext({strict:!1}),BS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nl={};for(const t in BS)nl[t]={isEnabled:e=>BS[t].some(n=>!!e[n])};function wH(t){for(const e in t)nl[e]={...nl[e],...t[e]}}const _H=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||_H.has(t)}let iD=t=>!yf(t);function EH(t){t&&(iD=e=>e.startsWith("on")?!yf(e):t(e))}try{EH(require("@emotion/is-prop-valid").default)}catch{}function xH(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(iD(s)||n===!0&&yf(s)||!e&&!yf(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function TH(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Ap=y.createContext({});function uu(t){return typeof t=="string"||Array.isArray(t)}function Pp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Lw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jw=["initial",...Lw];function Rp(t){return Pp(t.animate)||jw.some(e=>uu(t[e]))}function oD(t){return!!(Rp(t)||t.variants)}function SH(t,e){if(Rp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||uu(n)?n:void 0,animate:uu(r)?r:void 0}}return t.inherit!==!1?e:{}}function bH(t){const{initial:e,animate:n}=SH(t,y.useContext(Ap));return y.useMemo(()=>({initial:e,animate:n}),[$S(e),$S(n)])}function $S(t){return Array.isArray(t)?t.join(" "):t}const CH=Symbol.for("motionComponentSymbol");function ha(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function IH(t,e,n){return y.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ha(n)&&(n.current=r))},[e])}const Fw=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),AH="framerAppearId",aD="data-"+Fw(AH),{schedule:Uw}=rD(queueMicrotask,!1),lD=y.createContext({});function PH(t,e,n,r,s){var i,o;const{visualElement:a}=y.useContext(Ap),l=y.useContext(sD),c=y.useContext(Ip),d=y.useContext(Ow).reducedMotion,h=y.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,p=y.useContext(lD);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&RH(h.current,n,s,p);const S=y.useRef(!1);y.useInsertionEffect(()=>{f&&S.current&&f.update(n,c)});const g=n[aD],E=y.useRef(!!g&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return tD(()=>{f&&(S.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Uw.render(f.render),E.current&&f.animationState&&f.animationState.animateChanges())}),y.useEffect(()=>{f&&(!E.current&&f.animationState&&f.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,g)}),E.current=!1))}),f}function RH(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:cD(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&ha(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function cD(t){if(t)return t.options.allowProjection!==!1?t.projection:cD(t.parent)}function kH({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,o;t&&wH(t);function a(c,d){let h;const f={...y.useContext(Ow),...c,layoutId:NH(c)},{isStatic:p}=f,S=bH(c),g=r(c,p);if(!p&&Mw){DH();const E=OH(f);h=E.MeasureLayout,S.visualElement=PH(s,g,f,e,E.ProjectionNode)}return _.jsxs(Ap.Provider,{value:S,children:[h&&S.visualElement?_.jsx(h,{visualElement:S.visualElement,...f}):null,n(s,c,IH(g,S.visualElement,d),g,p,S.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const l=y.forwardRef(a);return l[CH]=s,l}function NH({layoutId:t}){const e=y.useContext(Nw).id;return e&&t!==void 0?e+"-"+t:t}function DH(t,e){y.useContext(sD).strict}function OH(t){const{drag:e,layout:n}=nl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const MH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Bw(t){return typeof t!="string"||t.includes("-")?!1:!!(MH.indexOf(t)>-1||/[A-Z]/u.test(t))}function zS(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function $w(t,e,n,r){if(typeof e=="function"){const[s,i]=zS(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=zS(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const Zy=t=>Array.isArray(t),VH=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),LH=t=>Zy(t)?t[t.length-1]||0:t,zt=t=>!!(t&&t.getVelocity);function dh(t){const e=zt(t)?t.get():t;return VH(e)?e.toValue():e}function jH({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const o={latestValues:FH(r,s,i,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const uD=t=>(e,n)=>{const r=y.useContext(Ap),s=y.useContext(Ip),i=()=>jH(t,e,r,s);return n?i():Dw(i)};function FH(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=dh(i[f]);let{initial:o,animate:a}=t;const l=Rp(t),c=oD(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!Pp(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const S=$w(t,f[p]);if(S){const{transitionEnd:g,transition:E,...v}=S;for(const w in v){let T=v[w];if(Array.isArray(T)){const A=d?T.length-1:0;T=T[A]}T!==null&&(s[w]=T)}for(const w in g)s[w]=g[w]}}}return s}const Tl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vo=new Set(Tl),dD=t=>e=>typeof e=="string"&&e.startsWith(t),hD=dD("--"),UH=dD("var(--"),zw=t=>UH(t)?BH.test(t.split("/*")[0].trim()):!1,BH=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,fD=(t,e)=>e&&typeof t=="number"?e.transform(t):t,fs=(t,e,n)=>n>e?e:n<t?t:n,Sl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},du={...Sl,transform:t=>fs(0,1,t)},Vd={...Sl,default:1},Vu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Rs=Vu("deg"),Nr=Vu("%"),ne=Vu("px"),$H=Vu("vh"),zH=Vu("vw"),WS={...Nr,parse:t=>Nr.parse(t)/100,transform:t=>Nr.transform(t*100)},WH={borderWidth:ne,borderTopWidth:ne,borderRightWidth:ne,borderBottomWidth:ne,borderLeftWidth:ne,borderRadius:ne,radius:ne,borderTopLeftRadius:ne,borderTopRightRadius:ne,borderBottomRightRadius:ne,borderBottomLeftRadius:ne,width:ne,maxWidth:ne,height:ne,maxHeight:ne,top:ne,right:ne,bottom:ne,left:ne,padding:ne,paddingTop:ne,paddingRight:ne,paddingBottom:ne,paddingLeft:ne,margin:ne,marginTop:ne,marginRight:ne,marginBottom:ne,marginLeft:ne,backgroundPositionX:ne,backgroundPositionY:ne},HH={rotate:Rs,rotateX:Rs,rotateY:Rs,rotateZ:Rs,scale:Vd,scaleX:Vd,scaleY:Vd,scaleZ:Vd,skew:Rs,skewX:Rs,skewY:Rs,distance:ne,translateX:ne,translateY:ne,translateZ:ne,x:ne,y:ne,z:ne,perspective:ne,transformPerspective:ne,opacity:du,originX:WS,originY:WS,originZ:ne},HS={...Sl,transform:Math.round},Ww={...WH,...HH,zIndex:HS,size:ne,fillOpacity:du,strokeOpacity:du,numOctaves:HS},GH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},KH=Tl.length;function qH(t,e,n){let r="",s=!0;for(let i=0;i<KH;i++){const o=Tl[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=fD(a,Ww[o]);if(!l){s=!1;const d=GH[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Hw(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Vo.has(l)){o=!0;continue}else if(hD(l)){s[l]=c;continue}else{const d=fD(c,Ww[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=qH(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${c} ${d}`}}const QH={offset:"stroke-dashoffset",array:"stroke-dasharray"},YH={offset:"strokeDashoffset",array:"strokeDasharray"};function XH(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?QH:YH;t[i.offset]=ne.transform(-r);const o=ne.transform(e),a=ne.transform(n);t[i.array]=`${o} ${a}`}function GS(t,e,n){return typeof t=="string"?t:ne.transform(e+n*t)}function JH(t,e,n){const r=GS(e,t.x,t.width),s=GS(n,t.y,t.height);return`${r} ${s}`}function Gw(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,h){if(Hw(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p,dimensions:S}=t;f.transform&&(S&&(p.transform=f.transform),delete f.transform),S&&(s!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=JH(S,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&XH(f,o,a,l,!1)}const Kw=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),pD=()=>({...Kw(),attrs:{}}),qw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function mD(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const gD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function yD(t,e,n,r){mD(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(gD.has(s)?s:Fw(s),e.attrs[s])}const vf={};function ZH(t){Object.assign(vf,t)}function vD(t,{layout:e,layoutId:n}){return Vo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!vf[t]||t==="opacity")}function Qw(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(zt(s[o])||e.style&&zt(e.style[o])||vD(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function wD(t,e,n){const r=Qw(t,e,n);for(const s in t)if(zt(t[s])||zt(e[s])){const i=Tl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function eG(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const KS=["x","y","width","height","cx","cy","r"],tG={useVisualState:uD({scrapeMotionValuesFromProps:wD,createRenderState:pD,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const a in s)if(Vo.has(a)){i=!0;break}}if(!i)return;let o=!e;if(e)for(let a=0;a<KS.length;a++){const l=KS[a];t[l]!==e[l]&&(o=!0)}o&&We.read(()=>{eG(n,r),We.render(()=>{Gw(r,s,qw(n.tagName),t.transformTemplate),yD(n,r)})})}})},nG={useVisualState:uD({scrapeMotionValuesFromProps:Qw,createRenderState:Kw})};function _D(t,e,n){for(const r in e)!zt(e[r])&&!vD(r,n)&&(t[r]=e[r])}function rG({transformTemplate:t},e){return y.useMemo(()=>{const n=Kw();return Hw(n,e,t),Object.assign({},n.vars,n.style)},[e])}function sG(t,e){const n=t.style||{},r={};return _D(r,n,t),Object.assign(r,rG(t,e)),r}function iG(t,e){const n={},r=sG(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function oG(t,e,n,r){const s=y.useMemo(()=>{const i=pD();return Gw(i,e,qw(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};_D(i,t.style,t),s.style={...i,...s.style}}return s}function aG(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(Bw(n)?oG:iG)(r,i,o,n),c=xH(r,typeof n=="string",t),d=n!==y.Fragment?{...c,...l,ref:s}:{},{children:h}=r,f=y.useMemo(()=>zt(h)?h.get():h,[h]);return y.createElement(n,{...d,children:f})}}function lG(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...Bw(r)?tG:nG,preloadedFeatures:t,useRender:aG(s),createVisualElement:e,Component:r};return kH(o)}}function ED(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function kp(t,e,n){const r=t.getProps();return $w(r,e,n!==void 0?n:r.custom,t)}const cG=Vw(()=>window.ScrollTimeline!==void 0);class uG{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(cG()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class dG extends uG{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Yw(t,e){return t?t[e]||t.default||t:void 0}const ev=2e4;function xD(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<ev;)e+=n,r=t.next(e);return e>=ev?1/0:e}function Xw(t){return typeof t=="function"}function qS(t,e){t.timeline=e,t.onfinish=null}const Jw=t=>Array.isArray(t)&&typeof t[0]=="number",hG={linearEasing:void 0};function fG(t,e){const n=Vw(t);return()=>{var r;return(r=hG[e])!==null&&r!==void 0?r:n()}}const wf=fG(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),TD=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(tl(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function SD(t){return!!(typeof t=="function"&&wf()||!t||typeof t=="string"&&(t in tv||wf())||Jw(t)||Array.isArray(t)&&t.every(SD))}const ac=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,tv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ac([0,.65,.55,1]),circOut:ac([.55,0,1,.45]),backIn:ac([.31,.01,.66,-.59]),backOut:ac([.33,1.53,.69,.99])};function bD(t,e){if(t)return typeof t=="function"&&wf()?TD(t,e):Jw(t)?ac(t):Array.isArray(t)?t.map(n=>bD(n,e)||tv.easeOut):tv[t]}const Gn={x:!1,y:!1};function CD(){return Gn.x||Gn.y}function pG(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function ID(t,e){const n=pG(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function QS(t){return e=>{e.pointerType==="touch"||CD()||t(e)}}function mG(t,e,n={}){const[r,s,i]=ID(t,n),o=QS(a=>{const{target:l}=a,c=e(a);if(typeof c!="function"||!l)return;const d=QS(h=>{c(h),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,s)});return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const AD=(t,e)=>e?t===e?!0:AD(t,e.parentElement):!1,Zw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,gG=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function yG(t){return gG.has(t.tagName)||t.tabIndex!==-1}const lc=new WeakSet;function YS(t){return e=>{e.key==="Enter"&&t(e)}}function Jm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const vG=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=YS(()=>{if(lc.has(n))return;Jm(n,"down");const s=YS(()=>{Jm(n,"up")}),i=()=>Jm(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function XS(t){return Zw(t)&&!CD()}function wG(t,e,n={}){const[r,s,i]=ID(t,n),o=a=>{const l=a.currentTarget;if(!XS(a)||lc.has(l))return;lc.add(l);const c=e(a),d=(p,S)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!XS(p)||!lc.has(l))&&(lc.delete(l),typeof c=="function"&&c(p,{success:S}))},h=p=>{d(p,n.useGlobalTarget||AD(l,p.target))},f=p=>{d(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{!yG(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),a.addEventListener("focus",c=>vG(c,s),s)}),i}function _G(t){return t==="x"||t==="y"?Gn[t]?null:(Gn[t]=!0,()=>{Gn[t]=!1}):Gn.x||Gn.y?null:(Gn.x=Gn.y=!0,()=>{Gn.x=Gn.y=!1})}const PD=new Set(["width","height","top","left","right","bottom",...Tl]);let hh;function EG(){hh=void 0}const Dr={now:()=>(hh===void 0&&Dr.set(Pt.isProcessing||gH.useManualTiming?Pt.timestamp:performance.now()),hh),set:t=>{hh=t,queueMicrotask(EG)}};function e_(t,e){t.indexOf(e)===-1&&t.push(e)}function t_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class n_{constructor(){this.subscriptions=[]}add(e){return e_(this.subscriptions,e),()=>t_(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function RD(t,e){return e?t*(1e3/e):0}const JS=30,xG=t=>!isNaN(parseFloat(t));class TG{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Dr.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Dr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=xG(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new n_);const r=this.events[e].add(n);return e==="change"?()=>{r(),We.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Dr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>JS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,JS);return RD(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hu(t,e){return new TG(t,e)}function SG(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,hu(n))}function bG(t,e){const n=kp(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=LH(i[o]);SG(t,o,a)}}function CG(t){return!!(zt(t)&&t.add)}function nv(t,e){const n=t.getValue("willChange");if(CG(n))return n.add(e)}function kD(t){return t.props[aD]}const ND=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,IG=1e-7,AG=12;function PG(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=ND(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>IG&&++a<AG);return o}function Lu(t,e,n,r){if(t===e&&n===r)return xn;const s=i=>PG(i,0,1,t,n);return i=>i===0||i===1?i:ND(s(i),e,r)}const DD=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,OD=t=>e=>1-t(1-e),MD=Lu(.33,1.53,.69,.99),r_=OD(MD),VD=DD(r_),LD=t=>(t*=2)<1?.5*r_(t):.5*(2-Math.pow(2,-10*(t-1))),s_=t=>1-Math.sin(Math.acos(t)),jD=OD(s_),FD=DD(s_),UD=t=>/^0[^.\s]+$/u.test(t);function RG(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||UD(t):!0}const Cc=t=>Math.round(t*1e5)/1e5,i_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kG(t){return t==null}const NG=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,o_=(t,e)=>n=>!!(typeof n=="string"&&NG.test(n)&&n.startsWith(t)||e&&!kG(n)&&Object.prototype.hasOwnProperty.call(n,e)),BD=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(i_);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},DG=t=>fs(0,255,t),Zm={...Sl,transform:t=>Math.round(DG(t))},ro={test:o_("rgb","red"),parse:BD("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Zm.transform(t)+", "+Zm.transform(e)+", "+Zm.transform(n)+", "+Cc(du.transform(r))+")"};function OG(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const rv={test:o_("#"),parse:OG,transform:ro.transform},fa={test:o_("hsl","hue"),parse:BD("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Nr.transform(Cc(e))+", "+Nr.transform(Cc(n))+", "+Cc(du.transform(r))+")"},Ft={test:t=>ro.test(t)||rv.test(t)||fa.test(t),parse:t=>ro.test(t)?ro.parse(t):fa.test(t)?fa.parse(t):rv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ro.transform(t):fa.transform(t)},MG=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function VG(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(i_))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(MG))===null||n===void 0?void 0:n.length)||0)>0}const $D="number",zD="color",LG="var",jG="var(",ZS="${}",FG=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(FG,l=>(Ft.test(l)?(r.color.push(i),s.push(zD),n.push(Ft.parse(l))):l.startsWith(jG)?(r.var.push(i),s.push(LG),n.push(l)):(r.number.push(i),s.push($D),n.push(parseFloat(l))),++i,ZS)).split(ZS);return{values:n,split:a,indexes:r,types:s}}function WD(t){return fu(t).values}function HD(t){const{split:e,types:n}=fu(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===$D?i+=Cc(s[o]):a===zD?i+=Ft.transform(s[o]):i+=s[o]}return i}}const UG=t=>typeof t=="number"?0:t;function BG(t){const e=WD(t);return HD(t)(e.map(UG))}const Ii={test:VG,parse:WD,createTransformer:HD,getAnimatableNone:BG},$G=new Set(["brightness","contrast","saturate","opacity"]);function zG(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(i_)||[];if(!r)return t;const s=n.replace(r,"");let i=$G.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const WG=/\b([a-z-]*)\(.*?\)/gu,sv={...Ii,getAnimatableNone:t=>{const e=t.match(WG);return e?e.map(zG).join(" "):t}},HG={...Ww,color:Ft,backgroundColor:Ft,outlineColor:Ft,fill:Ft,stroke:Ft,borderColor:Ft,borderTopColor:Ft,borderRightColor:Ft,borderBottomColor:Ft,borderLeftColor:Ft,filter:sv,WebkitFilter:sv},a_=t=>HG[t];function GD(t,e){let n=a_(t);return n!==sv&&(n=Ii),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const GG=new Set(["auto","none","0"]);function KG(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!GG.has(i)&&fu(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=GD(n,s)}const eb=t=>t===Sl||t===ne,tb=(t,e)=>parseFloat(t.split(", ")[e]),nb=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return tb(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?tb(i[1],t):0}},qG=new Set(["x","y","z"]),QG=Tl.filter(t=>!qG.has(t));function YG(t){const e=[];return QG.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const rl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:nb(4,13),y:nb(5,14)};rl.translateX=rl.x;rl.translateY=rl.y;const mo=new Set;let iv=!1,ov=!1;function KD(){if(ov){const t=Array.from(mo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=YG(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ov=!1,iv=!1,mo.forEach(t=>t.complete()),mo.clear()}function qD(){mo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ov=!0)})}function XG(){qD(),KD()}class l_{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(mo.add(this),iv||(iv=!0,We.read(qD),We.resolveKeyframes(KD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),mo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,mo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const QD=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),JG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ZG(t){const e=JG.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function YD(t,e,n=1){const[r,s]=ZG(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return QD(o)?parseFloat(o):o}return zw(s)?YD(s,e,n+1):s}const XD=t=>e=>e.test(t),eK={test:t=>t==="auto",parse:t=>t},JD=[Sl,ne,Nr,Rs,zH,$H,eK],rb=t=>JD.find(XD(t));class ZD extends l_{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),zw(c))){const d=YD(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!PD.has(r)||e.length!==2)return;const[s,i]=e,o=rb(s),a=rb(i);if(o!==a)if(eb(o)&&eb(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)RG(e[s])&&r.push(s);r.length&&KG(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=rl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=rl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const sb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ii.test(t)||t==="0")&&!t.startsWith("url("));function tK(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function nK(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=sb(s,e),a=sb(i,e);return!o||!a?!1:tK(t)||(n==="spring"||Xw(n))&&r}const rK=t=>t!==null;function Np(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(rK),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const sK=40;class e2{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Dr.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>sK?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&XG(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Dr.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!nK(e,r,s,i))if(o)this.options.duration=0;else{l&&l(Np(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Qe=(t,e,n)=>t+(e-t)*n;function eg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function iK({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=eg(l,a,t+1/3),i=eg(l,a,t),o=eg(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function _f(t,e){return n=>n>0?e:t}const tg=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},oK=[rv,ro,fa],aK=t=>oK.find(e=>e.test(t));function ib(t){const e=aK(t);if(!e)return!1;let n=e.parse(t);return e===fa&&(n=iK(n)),n}const ob=(t,e)=>{const n=ib(t),r=ib(e);if(!n||!r)return _f(t,e);const s={...n};return i=>(s.red=tg(n.red,r.red,i),s.green=tg(n.green,r.green,i),s.blue=tg(n.blue,r.blue,i),s.alpha=Qe(n.alpha,r.alpha,i),ro.transform(s))},lK=(t,e)=>n=>e(t(n)),ju=(...t)=>t.reduce(lK),av=new Set(["none","hidden"]);function cK(t,e){return av.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function uK(t,e){return n=>Qe(t,e,n)}function c_(t){return typeof t=="number"?uK:typeof t=="string"?zw(t)?_f:Ft.test(t)?ob:fK:Array.isArray(t)?t2:typeof t=="object"?Ft.test(t)?ob:dK:_f}function t2(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>c_(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function dK(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=c_(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function hK(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][s[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const fK=(t,e)=>{const n=Ii.createTransformer(e),r=fu(t),s=fu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?av.has(t)&&!s.values.length||av.has(e)&&!r.values.length?cK(t,e):ju(t2(hK(r,s),s.values),n):_f(t,e)};function n2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Qe(t,e,n):c_(t)(t,e)}const pK=5;function r2(t,e,n){const r=Math.max(e-pK,0);return RD(n-t(r),e-r)}const tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ng=.001;function mK({duration:t=tt.duration,bounce:e=tt.bounce,velocity:n=tt.velocity,mass:r=tt.mass}){let s,i,o=1-e;o=fs(tt.minDamping,tt.maxDamping,o),t=fs(tt.minDuration,tt.maxDuration,ts(t)),o<1?(s=c=>{const d=c*o,h=d*t,f=d-n,p=lv(c,o),S=Math.exp(-h);return ng-f/p*S},i=c=>{const h=c*o*t,f=h*n+n,p=Math.pow(o,2)*Math.pow(c,2)*t,S=Math.exp(-h),g=lv(Math.pow(c,2),o);return(-s(c)+ng>0?-1:1)*((f-p)*S)/g}):(s=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-ng+d*h},i=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=yK(s,i,a);if(t=es(t),isNaN(l))return{stiffness:tt.stiffness,damping:tt.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const gK=12;function yK(t,e,n){let r=n;for(let s=1;s<gK;s++)r=r-t(r)/e(r);return r}function lv(t,e){return t*Math.sqrt(1-e*e)}const vK=["duration","bounce"],wK=["stiffness","damping","mass"];function ab(t,e){return e.some(n=>t[n]!==void 0)}function _K(t){let e={velocity:tt.velocity,stiffness:tt.stiffness,damping:tt.damping,mass:tt.mass,isResolvedFromDuration:!1,...t};if(!ab(t,wK)&&ab(t,vK))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*fs(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:tt.mass,stiffness:s,damping:i}}else{const n=mK(t);e={...e,...n,mass:tt.mass},e.isResolvedFromDuration=!0}return e}function s2(t=tt.visualDuration,e=tt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=_K({...n,velocity:-ts(n.velocity||0)}),S=f||0,g=c/(2*Math.sqrt(l*d)),E=o-i,v=ts(Math.sqrt(l/d)),w=Math.abs(E)<5;r||(r=w?tt.restSpeed.granular:tt.restSpeed.default),s||(s=w?tt.restDelta.granular:tt.restDelta.default);let T;if(g<1){const R=lv(v,g);T=M=>{const C=Math.exp(-g*v*M);return o-C*((S+g*v*E)/R*Math.sin(R*M)+E*Math.cos(R*M))}}else if(g===1)T=R=>o-Math.exp(-v*R)*(E+(S+v*E)*R);else{const R=v*Math.sqrt(g*g-1);T=M=>{const C=Math.exp(-g*v*M),b=Math.min(R*M,300);return o-C*((S+g*v*E)*Math.sinh(b)+R*E*Math.cosh(b))/R}}const A={calculatedDuration:p&&h||null,next:R=>{const M=T(R);if(p)a.done=R>=h;else{let C=0;g<1&&(C=R===0?es(S):r2(T,R,M));const b=Math.abs(C)<=r,I=Math.abs(o-M)<=s;a.done=b&&I}return a.value=a.done?o:M,a},toString:()=>{const R=Math.min(xD(A),ev),M=TD(C=>A.next(R*C).value,R,30);return R+"ms "+M}};return A}function lb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},p=b=>a!==void 0&&b<a||l!==void 0&&b>l,S=b=>a===void 0?l:l===void 0||Math.abs(a-b)<Math.abs(l-b)?a:l;let g=n*e;const E=h+g,v=o===void 0?E:o(E);v!==E&&(g=v-h);const w=b=>-g*Math.exp(-b/r),T=b=>v+w(b),A=b=>{const I=w(b),k=T(b);f.done=Math.abs(I)<=c,f.value=f.done?v:k};let R,M;const C=b=>{p(f.value)&&(R=b,M=s2({keyframes:[f.value,S(f.value)],velocity:r2(T,b,f.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return C(0),{calculatedDuration:null,next:b=>{let I=!1;return!M&&R===void 0&&(I=!0,A(b),C(b)),R!==void 0&&b>=R?M.next(b-R):(!I&&A(b),f)}}}const EK=Lu(.42,0,1,1),xK=Lu(0,0,.58,1),i2=Lu(.42,0,.58,1),TK=t=>Array.isArray(t)&&typeof t[0]!="number",SK={linear:xn,easeIn:EK,easeInOut:i2,easeOut:xK,circIn:s_,circInOut:FD,circOut:jD,backIn:r_,backInOut:VD,backOut:MD,anticipate:LD},cb=t=>{if(Jw(t)){nD(t.length===4);const[e,n,r,s]=t;return Lu(e,n,r,s)}else if(typeof t=="string")return SK[t];return t};function bK(t,e,n){const r=[],s=n||n2,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||xn:e;a=ju(l,a)}r.push(a)}return r}function CK(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(nD(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=bK(e,r,s),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=tl(t[h],t[h+1],d);return a[h](f)};return n?d=>c(fs(t[0],t[i-1],d)):c}function IK(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=tl(0,e,r);t.push(Qe(n,1,s))}}function AK(t){const e=[0];return IK(e,t.length-1),e}function PK(t,e){return t.map(n=>n*e)}function RK(t,e){return t.map(()=>e||i2).splice(0,t.length-1)}function Ef({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=TK(r)?r.map(cb):cb(r),i={done:!1,value:e[0]},o=PK(n&&n.length===e.length?n:AK(e),t),a=CK(o,e,{ease:Array.isArray(s)?s:RK(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const kK=t=>{const e=({timestamp:n})=>t(n);return{start:()=>We.update(e,!0),stop:()=>Ci(e),now:()=>Pt.isProcessing?Pt.timestamp:Dr.now()}},NK={decay:lb,inertia:lb,tween:Ef,keyframes:Ef,spring:s2},DK=t=>t/100;class u_ extends e2{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||l_,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=Xw(n)?n:NK[n]||Ef;let l,c;a!==Ef&&typeof e[0]!="number"&&(l=ju(DK,n2(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});i==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=xD(d));const{calculatedDuration:h}=d,f=h+s,p=f*(r+1)-s;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:b}=this.options;return{done:!0,value:b[b.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:p,repeatType:S,repeatDelay:g,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-f*(this.speed>=0?1:-1),w=this.speed>=0?v<0:v>d;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let T=this.currentTime,A=i;if(p){const b=Math.min(this.currentTime,d)/h;let I=Math.floor(b),k=b%1;!k&&b>=1&&(k=1),k===1&&I--,I=Math.min(I,p+1),!!(I%2)&&(S==="reverse"?(k=1-k,g&&(k-=g/h)):S==="mirror"&&(A=o)),T=fs(0,1,k)*h}const R=w?{done:!1,value:l[0]}:A.next(T);a&&(R.value=a(R.value));let{done:M}=R;!w&&c!==null&&(M=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return C&&s!==void 0&&(R.value=Np(l,this.options,s)),E&&E(R.value),C&&this.finish(),R}get duration(){const{resolved:e}=this;return e?ts(e.calculatedDuration):0}get time(){return ts(this.currentTime)}set time(e){e=es(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ts(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=kK,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const OK=new Set(["opacity","clipPath","filter","transform"]);function MK(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=bD(a,s);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const VK=Vw(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),xf=10,LK=2e4;function jK(t){return Xw(t.type)||t.type==="spring"||!SD(t.ease)}function FK(t,e){const n=new u_({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<LK;)r=n.sample(i),s.push(r.value),i+=xf;return{times:void 0,keyframes:s,duration:i-xf,ease:"linear"}}const o2={anticipate:LD,backInOut:VD,circInOut:FD};function UK(t){return t in o2}class ub extends e2{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new ZD(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof i=="string"&&wf()&&UK(i)&&(i=o2[i]),jK(this.options)){const{onComplete:h,onUpdate:f,motionValue:p,element:S,...g}=this.options,E=FK(e,g);e=E.keyframes,e.length===1&&(e[1]=e[0]),r=E.duration,s=E.times,i=E.ease,o="keyframes"}const d=MK(a.owner.current,l,e,{...this.options,duration:r,times:s,ease:i});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(qS(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;a.set(Np(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:o,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ts(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ts(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=es(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return xn;const{animation:r}=n;qS(r,e)}return xn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:h,element:f,...p}=this.options,S=new u_({...p,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),g=es(this.time);c.setWithVelocity(S.sample(g-xf).value,S.sample(g).value,xf)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return VK()&&r&&OK.has(r)&&!l&&!c&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}const BK={type:"spring",stiffness:500,damping:25,restSpeed:10},$K=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),zK={type:"keyframes",duration:.8},WK={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},HK=(t,{keyframes:e})=>e.length>2?zK:Vo.has(t)?t.startsWith("scale")?$K(e[1]):BK:WK;function GK({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const d_=(t,e,n,r={},s,i)=>o=>{const a=Yw(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-es(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};GK(a)||(d={...d,...HK(t,d)}),d.duration&&(d.duration=es(d.duration)),d.repeatDelay&&(d.repeatDelay=es(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&e.get()!==void 0){const f=Np(d.keyframes,a);if(f!==void 0)return We.update(()=>{d.onUpdate(f),d.onComplete()}),new dG([])}return!i&&ub.supports(d)?new ub(d):new u_(d)};function KK({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function a2(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const h in l){const f=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),p=l[h];if(p===void 0||d&&KK(d,h))continue;const S={delay:n,...Yw(o||{},h)};let g=!1;if(window.MotionHandoffAnimation){const v=kD(t);if(v){const w=window.MotionHandoffAnimation(v,h,We);w!==null&&(S.startTime=w,g=!0)}}nv(t,h),f.start(d_(h,f,p,t.shouldReduceMotion&&PD.has(h)?{type:!1}:S,t,g));const E=f.animation;E&&c.push(E)}return a&&Promise.all(c).then(()=>{We.update(()=>{a&&bG(t,a)})}),c}function cv(t,e,n={}){var r;const s=kp(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(a2(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return qK(t,e,d+c,h,f,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function qK(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(QK).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(cv(c,e,{...i,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function QK(t,e){return t.sortNodePosition(e)}function YK(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>cv(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=cv(t,e,n);else{const s=typeof e=="function"?kp(t,e,n.custom):e;r=Promise.all(a2(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const XK=jw.length;function l2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?l2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<XK;n++){const r=jw[n],s=t.props[r];(uu(s)||s===!1)&&(e[r]=s)}return e}const JK=[...Lw].reverse(),ZK=Lw.length;function eq(t){return e=>Promise.all(e.map(({animation:n,options:r})=>YK(t,n,r)))}function tq(t){let e=eq(t),n=db(),r=!0;const s=l=>(c,d)=>{var h;const f=kp(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:S,...g}=f;c={...c,...g,...S}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,d=l2(t.parent)||{},h=[],f=new Set;let p={},S=1/0;for(let E=0;E<ZK;E++){const v=JK[E],w=n[v],T=c[v]!==void 0?c[v]:d[v],A=uu(T),R=v===l?w.isActive:null;R===!1&&(S=E);let M=T===d[v]&&T!==c[v]&&A;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),w.protectedKeys={...p},!w.isActive&&R===null||!T&&!w.prevProp||Pp(T)||typeof T=="boolean")continue;const C=nq(w.prevProp,T);let b=C||v===l&&w.isActive&&!M&&A||E>S&&A,I=!1;const k=Array.isArray(T)?T:[T];let N=k.reduce(s(v),{});R===!1&&(N={});const{prevResolvedValues:O={}}=w,D={...O,...N},Y=X=>{b=!0,f.has(X)&&(I=!0,f.delete(X)),w.needsAnimating[X]=!0;const j=t.getValue(X);j&&(j.liveStyle=!1)};for(const X in D){const j=N[X],U=O[X];if(p.hasOwnProperty(X))continue;let G=!1;Zy(j)&&Zy(U)?G=!ED(j,U):G=j!==U,G?j!=null?Y(X):f.add(X):j!==void 0&&f.has(X)?Y(X):w.protectedKeys[X]=!0}w.prevProp=T,w.prevResolvedValues=N,w.isActive&&(p={...p,...N}),r&&t.blockInitialAnimation&&(b=!1),b&&(!(M&&C)||I)&&h.push(...k.map(X=>({animation:X,options:{type:v}})))}if(f.size){const E={};f.forEach(v=>{const w=t.getBaseTarget(v),T=t.getValue(v);T&&(T.liveStyle=!0),E[v]=w??null}),h.push({animation:E})}let g=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(g=!1),r=!1,g?e(h):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=db(),r=!0}}}function nq(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ED(e,t):!1}function Hi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function db(){return{animate:Hi(!0),whileInView:Hi(),whileHover:Hi(),whileTap:Hi(),whileDrag:Hi(),whileFocus:Hi(),exit:Hi()}}class Li{constructor(e){this.isMounted=!1,this.node=e}update(){}}class rq extends Li{constructor(e){super(e),e.animationState||(e.animationState=tq(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Pp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let sq=0;class iq extends Li{constructor(){super(...arguments),this.id=sq++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const oq={animation:{Feature:rq},exit:{Feature:iq}};function pu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Fu(t){return{point:{x:t.pageX,y:t.pageY}}}const aq=t=>e=>Zw(e)&&t(e,Fu(e));function Ic(t,e,n,r){return pu(t,e,aq(n),r)}const hb=(t,e)=>Math.abs(t-e);function lq(t,e){const n=hb(t.x,e.x),r=hb(t.y,e.y);return Math.sqrt(n**2+r**2)}class c2{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=sg(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=lq(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:S}=h,{timestamp:g}=Pt;this.history.push({...S,timestamp:g});const{onStart:E,onMove:v}=this.handlers;f||(E&&E(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=rg(f,this.transformPagePoint),We.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:S,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=sg(h.type==="pointercancel"?this.lastMoveEventInfo:rg(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,E),S&&S(h,E)},!Zw(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Fu(e),a=rg(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Pt;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,sg(a,this.history)),this.removeListeners=ju(Ic(this.contextWindow,"pointermove",this.handlePointerMove),Ic(this.contextWindow,"pointerup",this.handlePointerUp),Ic(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ci(this.updatePoint)}}function rg(t,e){return e?{point:e(t.point)}:t}function fb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function sg({point:t},e){return{point:t,delta:fb(t,u2(e)),offset:fb(t,cq(e)),velocity:uq(e,.1)}}function cq(t){return t[0]}function u2(t){return t[t.length-1]}function uq(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=u2(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>es(e)));)n--;if(!r)return{x:0,y:0};const i=ts(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const d2=1e-4,dq=1-d2,hq=1+d2,h2=.01,fq=0-h2,pq=0+h2;function Sn(t){return t.max-t.min}function mq(t,e,n){return Math.abs(t-e)<=n}function pb(t,e,n,r=.5){t.origin=r,t.originPoint=Qe(e.min,e.max,t.origin),t.scale=Sn(n)/Sn(e),t.translate=Qe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=dq&&t.scale<=hq||isNaN(t.scale))&&(t.scale=1),(t.translate>=fq&&t.translate<=pq||isNaN(t.translate))&&(t.translate=0)}function Ac(t,e,n,r){pb(t.x,e.x,n.x,r?r.originX:void 0),pb(t.y,e.y,n.y,r?r.originY:void 0)}function mb(t,e,n){t.min=n.min+e.min,t.max=t.min+Sn(e)}function gq(t,e,n){mb(t.x,e.x,n.x),mb(t.y,e.y,n.y)}function gb(t,e,n){t.min=e.min-n.min,t.max=t.min+Sn(e)}function Pc(t,e,n){gb(t.x,e.x,n.x),gb(t.y,e.y,n.y)}function yq(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Qe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Qe(n,t,r.max):Math.min(t,n)),t}function yb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function vq(t,{top:e,left:n,bottom:r,right:s}){return{x:yb(t.x,n,s),y:yb(t.y,e,r)}}function vb(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function wq(t,e){return{x:vb(t.x,e.x),y:vb(t.y,e.y)}}function _q(t,e){let n=.5;const r=Sn(t),s=Sn(e);return s>r?n=tl(e.min,e.max-r,t.min):r>s&&(n=tl(t.min,t.max-s,e.min)),fs(0,1,n)}function Eq(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const uv=.35;function xq(t=uv){return t===!1?t=0:t===!0&&(t=uv),{x:wb(t,"left","right"),y:wb(t,"top","bottom")}}function wb(t,e,n){return{min:_b(t,e),max:_b(t,n)}}function _b(t,e){return typeof t=="number"?t:t[e]||0}const Eb=()=>({translate:0,scale:1,origin:0,originPoint:0}),pa=()=>({x:Eb(),y:Eb()}),xb=()=>({min:0,max:0}),rt=()=>({x:xb(),y:xb()});function Rn(t){return[t("x"),t("y")]}function f2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Tq({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Sq(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ig(t){return t===void 0||t===1}function dv({scale:t,scaleX:e,scaleY:n}){return!ig(t)||!ig(e)||!ig(n)}function Yi(t){return dv(t)||p2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function p2(t){return Tb(t.x)||Tb(t.y)}function Tb(t){return t&&t!=="0%"}function Tf(t,e,n){const r=t-n,s=e*r;return n+s}function Sb(t,e,n,r,s){return s!==void 0&&(t=Tf(t,s,r)),Tf(t,n,r)+e}function hv(t,e=0,n=1,r,s){t.min=Sb(t.min,e,n,r,s),t.max=Sb(t.max,e,n,r,s)}function m2(t,{x:e,y:n}){hv(t.x,e.translate,e.scale,e.originPoint),hv(t.y,n.translate,n.scale,n.originPoint)}const bb=.999999999999,Cb=1.0000000000001;function bq(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ga(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,m2(t,o)),r&&Yi(i.latestValues)&&ga(t,i.latestValues))}e.x<Cb&&e.x>bb&&(e.x=1),e.y<Cb&&e.y>bb&&(e.y=1)}function ma(t,e){t.min=t.min+e,t.max=t.max+e}function Ib(t,e,n,r,s=.5){const i=Qe(t.min,t.max,s);hv(t,e,n,i,r)}function ga(t,e){Ib(t.x,e.x,e.scaleX,e.scale,e.originX),Ib(t.y,e.y,e.scaleY,e.scale,e.originY)}function g2(t,e){return f2(Sq(t.getBoundingClientRect(),e))}function Cq(t,e,n){const r=g2(t,n),{scroll:s}=e;return s&&(ma(r.x,s.offset.x),ma(r.y,s.offset.y)),r}const y2=({current:t})=>t?t.ownerDocument.defaultView:null,Iq=new WeakMap;class Aq{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Fu(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:S}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_G(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rn(E=>{let v=this.getAxisMotionValue(E).get()||0;if(Nr.test(v)){const{projection:w}=this.visualElement;if(w&&w.layout){const T=w.layout.layoutBox[E];T&&(v=Sn(T)*(parseFloat(v)/100))}}this.originPoint[E]=v}),S&&We.postRender(()=>S(d,h)),nv(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:S,onDrag:g}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:E}=h;if(p&&this.currentDirection===null){this.currentDirection=Pq(E),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",h.point,E),this.updateAxis("y",h.point,E),this.visualElement.render(),g&&g(d,h)},a=(d,h)=>this.stop(d,h),l=()=>Rn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new c2(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:y2(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&We.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Ld(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=yq(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&ha(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=vq(s.layoutBox,n):this.constraints=!1,this.elastic=xq(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Rn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Eq(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ha(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Cq(r,s.root,this.visualElement.getTransformPagePoint());let o=wq(s.layout.layoutBox,i);if(n){const a=n(Tq(o));this.hasMutatedConstraints=!!a,a&&(o=f2(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Rn(d=>{if(!Ld(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,S={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,S)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return nv(this.visualElement,e),r.start(d_(e,r,0,n,this.visualElement,!1))}stopAnimation(){Rn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Rn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Rn(n=>{const{drag:r}=this.getProps();if(!Ld(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Qe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ha(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Rn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=_q({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Rn(o=>{if(!Ld(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Qe(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;Iq.set(this.visualElement,this);const e=this.visualElement.current,n=Ic(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ha(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),We.read(r);const o=pu(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Rn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=uv,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Ld(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Pq(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Rq extends Li{constructor(e){super(e),this.removeGroupControls=xn,this.removeListeners=xn,this.controls=new Aq(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ab=t=>(e,n)=>{t&&We.postRender(()=>t(e,n))};class kq extends Li{constructor(){super(...arguments),this.removePointerDownListener=xn}onPointerDown(e){this.session=new c2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:y2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Ab(e),onStart:Ab(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&We.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Ic(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const fh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Pb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Yl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ne.test(t))t=parseFloat(t);else return t;const n=Pb(t,e.target.x),r=Pb(t,e.target.y);return`${n}% ${r}%`}},Nq={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Ii.parse(t);if(s.length>5)return r;const i=Ii.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=Qe(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class Dq extends y.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;ZH(Oq),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),fh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||We.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Uw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function v2(t){const[e,n]=eD(),r=y.useContext(Nw);return _.jsx(Dq,{...t,layoutGroup:r,switchLayoutGroup:y.useContext(lD),isPresent:e,safeToRemove:n})}const Oq={borderRadius:{...Yl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yl,borderTopRightRadius:Yl,borderBottomLeftRadius:Yl,borderBottomRightRadius:Yl,boxShadow:Nq};function Mq(t,e,n){const r=zt(t)?t:hu(t);return r.start(d_("",r,e,n)),r.animation}function Vq(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Lq=(t,e)=>t.depth-e.depth;class jq{constructor(){this.children=[],this.isDirty=!1}add(e){e_(this.children,e),this.isDirty=!0}remove(e){t_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Lq),this.isDirty=!1,this.children.forEach(e)}}function Fq(t,e){const n=Dr.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Ci(r),t(i-e))};return We.read(r,!0),()=>Ci(r)}const w2=["TopLeft","TopRight","BottomLeft","BottomRight"],Uq=w2.length,Rb=t=>typeof t=="string"?parseFloat(t):t,kb=t=>typeof t=="number"||ne.test(t);function Bq(t,e,n,r,s,i){s?(t.opacity=Qe(0,n.opacity!==void 0?n.opacity:1,$q(r)),t.opacityExit=Qe(e.opacity!==void 0?e.opacity:1,0,zq(r))):i&&(t.opacity=Qe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Uq;o++){const a=`border${w2[o]}Radius`;let l=Nb(e,a),c=Nb(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||kb(l)===kb(c)?(t[a]=Math.max(Qe(Rb(l),Rb(c),r),0),(Nr.test(c)||Nr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Qe(e.rotate||0,n.rotate||0,r))}function Nb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const $q=_2(0,.5,jD),zq=_2(.5,.95,xn);function _2(t,e,n){return r=>r<t?0:r>e?1:n(tl(t,e,r))}function Db(t,e){t.min=e.min,t.max=e.max}function Pn(t,e){Db(t.x,e.x),Db(t.y,e.y)}function Ob(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Mb(t,e,n,r,s){return t-=e,t=Tf(t,1/n,r),s!==void 0&&(t=Tf(t,1/s,r)),t}function Wq(t,e=0,n=1,r=.5,s,i=t,o=t){if(Nr.test(e)&&(e=parseFloat(e),e=Qe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Qe(i.min,i.max,r);t===i&&(a-=e),t.min=Mb(t.min,e,n,a,s),t.max=Mb(t.max,e,n,a,s)}function Vb(t,e,[n,r,s],i,o){Wq(t,e[n],e[r],e[s],e.scale,i,o)}const Hq=["x","scaleX","originX"],Gq=["y","scaleY","originY"];function Lb(t,e,n,r){Vb(t.x,e,Hq,n?n.x:void 0,r?r.x:void 0),Vb(t.y,e,Gq,n?n.y:void 0,r?r.y:void 0)}function jb(t){return t.translate===0&&t.scale===1}function E2(t){return jb(t.x)&&jb(t.y)}function Fb(t,e){return t.min===e.min&&t.max===e.max}function Kq(t,e){return Fb(t.x,e.x)&&Fb(t.y,e.y)}function Ub(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function x2(t,e){return Ub(t.x,e.x)&&Ub(t.y,e.y)}function Bb(t){return Sn(t.x)/Sn(t.y)}function $b(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class qq{constructor(){this.members=[]}add(e){e_(this.members,e),e.scheduleRender()}remove(e){if(t_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Qq(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:S}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),S&&(r+=`skewY(${S}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Xi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},cc=typeof window<"u"&&window.MotionDebug!==void 0,og=["","X","Y","Z"],Yq={visibility:"hidden"},zb=1e3;let Xq=0;function ag(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function T2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=kD(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",We,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&T2(r)}function S2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Xq++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,cc&&(Xi.totalNodes=Xi.resolvedTargetDeltas=Xi.recalculatedProjection=0),this.nodes.forEach(eQ),this.nodes.forEach(iQ),this.nodes.forEach(oQ),this.nodes.forEach(tQ),cc&&window.MotionDebug.record(Xi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new jq)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new n_),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Vq(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Fq(f,250),fh.hasAnimatedSinceResize&&(fh.hasAnimatedSinceResize=!1,this.nodes.forEach(Hb))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||dQ,{onLayoutAnimationStart:E,onLayoutAnimationComplete:v}=d.getProps(),w=!this.targetLayout||!x2(this.targetLayout,S)||p,T=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,T);const A={...Yw(g,"layout"),onPlay:E,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else f||Hb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ci(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aQ),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&T2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Wb);return}this.isUpdating||this.nodes.forEach(rQ),this.isUpdating=!1,this.nodes.forEach(sQ),this.nodes.forEach(Jq),this.nodes.forEach(Zq),this.clearAllSnapshots();const a=Dr.now();Pt.delta=fs(0,1e3/60,a-Pt.timestamp),Pt.timestamp=a,Pt.isProcessing=!0,Xm.update.process(Pt),Xm.preRender.process(Pt),Xm.render.process(Pt),Pt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Uw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nQ),this.sharedNodes.forEach(lQ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,We.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){We.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!E2(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||Yi(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),hQ(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return rt();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(fQ))){const{scroll:d}=this.root;d&&(ma(l.x,d.offset.x),ma(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=rt();if(Pn(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Pn(l,o),ma(l.x,h.offset.x),ma(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=rt();Pn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ga(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Yi(d.latestValues)&&ga(l,d.latestValues)}return Yi(this.latestValues)&&ga(l,this.latestValues),l}removeTransform(o){const a=rt();Pn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Yi(c.latestValues))continue;dv(c.latestValues)&&c.updateSnapshot();const d=rt(),h=c.measurePageBox();Pn(d,h),Lb(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Yi(this.latestValues)&&Lb(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Pt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),Pc(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Pn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=rt(),this.targetWithTransforms=rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),gq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pn(this.target,this.layout.layoutBox),m2(this.target,this.targetDelta)):Pn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),Pc(this.relativeTargetOrigin,this.target,p.target),Pn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}cc&&Xi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||dv(this.parent.latestValues)||p2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Pt.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Pn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;bq(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=rt());const{target:S}=a;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ob(this.prevProjectionDelta.x,this.projectionDelta.x),Ob(this.prevProjectionDelta.y,this.projectionDelta.y)),Ac(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!$b(this.projectionDelta.x,this.prevProjectionDelta.x)||!$b(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),cc&&Xi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=pa(),this.projectionDelta=pa(),this.projectionDeltaWithTransform=pa()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=pa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=rt(),p=l?l.source:void 0,S=this.layout?this.layout.source:void 0,g=p!==S,E=this.getStack(),v=!E||E.members.length<=1,w=!!(g&&!v&&this.options.crossfade===!0&&!this.path.some(uQ));this.animationProgress=0;let T;this.mixTargetDelta=A=>{const R=A/1e3;Gb(h.x,o.x,R),Gb(h.y,o.y,R),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Pc(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cQ(this.relativeTarget,this.relativeTargetOrigin,f,R),T&&Kq(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=rt()),Pn(T,this.relativeTarget)),g&&(this.animationValues=d,Bq(d,c,this.latestValues,R,w,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ci(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=We.update(()=>{fh.hasAnimatedSinceResize=!0,this.currentAnimation=Mq(0,zb,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&b2(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||rt();const h=Sn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Sn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Pn(a,l),ga(a,d),Ac(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new qq),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&ag("z",o,c,this.animationValues);for(let d=0;d<og.length;d++)ag(`rotate${og[d]}`,o,c,this.animationValues),ag(`skew${og[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Yq;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=dh(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=dh(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Yi(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=Qq(this.projectionDeltaWithTransform,this.treeScale,f),d&&(c.transform=d(f,c.transform));const{x:p,y:S}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${S.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in vf){if(f[g]===void 0)continue;const{correct:E,applyTo:v}=vf[g],w=c.transform==="none"?f[g]:E(f[g],h);if(v){const T=v.length;for(let A=0;A<T;A++)c[v[A]]=w}else c[g]=w}return this.options.layoutId&&(c.pointerEvents=h===this?dh(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Wb),this.root.sharedNodes.clear()}}}function Jq(t){t.updateLayout()}function Zq(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?Rn(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=Sn(f);f.min=r[h].min,f.max=f.min+p}):b2(i,n.layoutBox,r)&&Rn(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=Sn(r[h]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=pa();Ac(a,r,n.layoutBox);const l=pa();o?Ac(l,t.applyTransform(s,!0),n.measuredBox):Ac(l,r,n.layoutBox);const c=!E2(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const S=rt();Pc(S,n.layoutBox,f.layoutBox);const g=rt();Pc(g,r,p.layoutBox),x2(S,g)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=S,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function eQ(t){cc&&Xi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function tQ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function nQ(t){t.clearSnapshot()}function Wb(t){t.clearMeasurements()}function rQ(t){t.isLayoutDirty=!1}function sQ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Hb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function iQ(t){t.resolveTargetDelta()}function oQ(t){t.calcProjection()}function aQ(t){t.resetSkewAndRotation()}function lQ(t){t.removeLeadSnapshot()}function Gb(t,e,n){t.translate=Qe(e.translate,0,n),t.scale=Qe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Kb(t,e,n,r){t.min=Qe(e.min,n.min,r),t.max=Qe(e.max,n.max,r)}function cQ(t,e,n,r){Kb(t.x,e.x,n.x,r),Kb(t.y,e.y,n.y,r)}function uQ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const dQ={duration:.45,ease:[.4,0,.1,1]},qb=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Qb=qb("applewebkit/")&&!qb("chrome/")?Math.round:xn;function Yb(t){t.min=Qb(t.min),t.max=Qb(t.max)}function hQ(t){Yb(t.x),Yb(t.y)}function b2(t,e,n){return t==="position"||t==="preserve-aspect"&&!mq(Bb(e),Bb(n),.2)}function fQ(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const pQ=S2({attachResizeListener:(t,e)=>pu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),lg={current:void 0},C2=S2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!lg.current){const t=new pQ({});t.mount(window),t.setOptions({layoutScroll:!0}),lg.current=t}return lg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),mQ={pan:{Feature:kq},drag:{Feature:Rq,ProjectionNode:C2,MeasureLayout:v2}};function Xb(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&We.postRender(()=>i(e,Fu(e)))}class gQ extends Li{mount(){const{current:e}=this.node;e&&(this.unmount=mG(e,n=>(Xb(this.node,n,"Start"),r=>Xb(this.node,r,"End"))))}unmount(){}}class yQ extends Li{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ju(pu(this.node.current,"focus",()=>this.onFocus()),pu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Jb(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&We.postRender(()=>i(e,Fu(e)))}class vQ extends Li{mount(){const{current:e}=this.node;e&&(this.unmount=wG(e,n=>(Jb(this.node,n,"Start"),(r,{success:s})=>Jb(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const fv=new WeakMap,cg=new WeakMap,wQ=t=>{const e=fv.get(t.target);e&&e(t)},_Q=t=>{t.forEach(wQ)};function EQ({root:t,...e}){const n=t||document;cg.has(n)||cg.set(n,{});const r=cg.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(_Q,{root:t,...e})),r[s]}function xQ(t,e,n){const r=EQ(e);return fv.set(t,n),r.observe(t),()=>{fv.delete(t),r.unobserve(t)}}const TQ={some:0,all:1};class SQ extends Li{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:TQ[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return xQ(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(bQ(e,n))&&this.startObserver()}unmount(){}}function bQ({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const CQ={inView:{Feature:SQ},tap:{Feature:vQ},focus:{Feature:yQ},hover:{Feature:gQ}},IQ={layout:{ProjectionNode:C2,MeasureLayout:v2}},pv={current:null},I2={current:!1};function AQ(){if(I2.current=!0,!!Mw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>pv.current=t.matches;t.addListener(e),e()}else pv.current=!1}const PQ=[...JD,Ft,Ii],RQ=t=>PQ.find(XD(t)),Zb=new WeakMap;function kQ(t,e,n){for(const r in e){const s=e[r],i=n[r];if(zt(s))t.addValue(r,s);else if(zt(i))t.addValue(r,hu(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,hu(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const e1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class NQ{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=l_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Dr.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,We.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=o;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Rp(n),this.isVariantNode=oD(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const S=f[p];l[p]!==void 0&&zt(S)&&S.set(l[p],!1)}}mount(e){this.current=e,Zb.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),I2.current||AQ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:pv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Zb.delete(this.current),this.projection&&this.projection.unmount(),Ci(this.notifyUpdate),Ci(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Vo.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&We.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in nl){const n=nl[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<e1.length;r++){const s=e1[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=kQ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=hu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(QD(s)||UD(s))?s=parseFloat(s):!RQ(s)&&Ii.test(n)&&(s=GD(e,n)),this.setBaseTarget(e,zt(s)?s.get():s)),zt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=$w(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!zt(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new n_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class A2 extends NQ{constructor(){super(...arguments),this.KeyframeResolver=ZD}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;zt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function DQ(t){return window.getComputedStyle(t)}class OQ extends A2{constructor(){super(...arguments),this.type="html",this.renderInstance=mD}readValueFromInstance(e,n){if(Vo.has(n)){const r=a_(n);return r&&r.default||0}else{const r=DQ(e),s=(hD(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return g2(e,n)}build(e,n,r){Hw(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Qw(e,n,r)}}class MQ extends A2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Vo.has(n)){const r=a_(n);return r&&r.default||0}return n=gD.has(n)?n:Fw(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return wD(e,n,r)}build(e,n,r){Gw(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){yD(e,n,r,s)}mount(e){this.isSVGTag=qw(e.tagName),super.mount(e)}}const VQ=(t,e)=>Bw(t)?new MQ(e):new OQ(e,{allowProjection:t!==y.Fragment}),LQ=lG({...oq,...CQ,...mQ,...IQ},VQ),uc=TH(LQ);function jQ(){const t=Su(),[e,n]=y.useState("dashboard"),[r,s]=y.useState(""),[i,o]=y.useState(""),[a,l]=y.useState(""),c=()=>{if(!GW(e,r.trim(),i.trim())){l("Identifiants invalides");return}l(""),t(e==="dashboard"?"/dashboard":"/projection")},d=[...Qs,...Qs,...Qs,...Qs];return _.jsxs("div",{className:"relative h-screen w-screen overflow-hidden bg-black text-white font-sans selection:bg-red-500 selection:text-white flex flex-col",children:[_.jsx("div",{className:"absolute inset-0 z-0 opacity-40",style:{backgroundImage:"url(/passagedegrade/assets/bg-taekwondo.jpg)",backgroundSize:"cover",backgroundPosition:"center",filter:"grayscale(100%) contrast(120%) brightness(60%)"}}),_.jsx("div",{className:"absolute inset-0 z-0 bg-gradient-to-br from-black via-transparent to-black opacity-90"}),_.jsx("div",{className:"absolute inset-0 z-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-gray-800/20 via-black/60 to-black"}),_.jsxs("div",{className:"relative z-10 flex-1 flex flex-col items-center justify-center p-4 pb-40 md:pb-48",children:[_.jsxs("div",{className:"w-full text-center mb-8 md:mb-12",children:[_.jsx("h1",{className:"text-4xl md:text-7xl font-black tracking-tighter uppercase bg-gradient-to-b from-white to-gray-500 bg-clip-text text-transparent drop-shadow-2xl",children:"Taekwondo Sbeitla"}),_.jsx("div",{className:"h-1 w-24 md:w-32 mx-auto mt-4 bg-red-600 rounded-full shadow-[0_0_20px_rgba(220,38,38,0.8)]"}),_.jsx("p",{className:"mt-4 text-lg md:text-xl text-gray-400 tracking-[0.3em] uppercase font-light",children:"Connexion"})]}),_.jsxs(ua,{className:"bg-black/40 backdrop-blur-md border border-white/10 shadow-2xl max-w-md w-full",children:[_.jsx(Aw,{children:_.jsx(Pw,{className:"text-2xl",children:"Choisir la page"})}),_.jsxs(da,{className:"space-y-6",children:[_.jsxs(uH,{value:e,onValueChange:h=>n(h),children:[_.jsxs(ZN,{className:"w-full bg-black/30 backdrop-blur-sm text-gray-300 border border-white/10",children:[_.jsx(Xy,{value:"dashboard",className:"flex-1 data-[state=active]:text-white data-[state=active]:bg-black/40 border-b-2 border-transparent data-[state=active]:border-white pb-1",children:"Dashboard"}),_.jsx(Xy,{value:"projection",className:"flex-1 data-[state=active]:text-white data-[state=active]:bg-black/40 border-b-2 border-transparent data-[state=active]:border-white pb-1",children:"Projection"})]}),_.jsx(Jy,{value:"dashboard"}),_.jsx(Jy,{value:"projection"})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Nom d'utilisateur"}),_.jsx(cu,{value:r,onChange:h=>s(h.target.value),placeholder:"Entrez le nom",className:"bg-transparent border-white/20 text-white placeholder:text-neutral-400 focus-visible:ring-red-600"})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Mot de passe"}),_.jsx(cu,{type:"password",value:i,onChange:h=>o(h.target.value),placeholder:"Entrez le mot de passe",className:"bg-transparent border-white/20 text-white placeholder:text-neutral-400 focus-visible:ring-red-600"})]})]}),a&&_.jsx("p",{className:"text-sm text-red-500",children:a}),_.jsx(St,{className:"w-full bg-red-600 hover:bg-red-700",onClick:c,children:"Se connecter"})]})]})]}),_.jsx("div",{className:"absolute bottom-0 left-0 right-0 z-50 bg-black/90 backdrop-blur-xl border-t border-white/10 shadow-[0_-10px_40px_rgba(0,0,0,0.8)]",children:_.jsxs("div",{className:"w-full overflow-hidden py-3 md:py-4 relative",children:[_.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-20 bg-gradient-to-r from-black to-transparent z-10"}),_.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-20 bg-gradient-to-l from-black to-transparent z-10"}),_.jsx(uc.div,{className:"flex items-center gap-8 md:gap-10 w-max",animate:{x:[0,-1e3]},transition:{repeat:1/0,duration:25,ease:"linear"},children:d.map((h,f)=>{const p=h.split("/").pop()||h,E=p==="WAADTI.png"||p==="federation-tunisienne-de-taekwondo.png"||p.toLowerCase().includes("sufetula")?"h-14 w-32 md:h-16 md:w-40":p==="diamond-gym.png"?"h-8 w-16 md:h-10 md:w-20":"h-10 w-20 md:h-12 md:w-24";return _.jsx("div",{className:`${E} flex-shrink-0 grayscale hover:grayscale-0 transition-all duration-300 opacity-80 hover:opacity-100`,children:_.jsx("img",{src:h,alt:"Partner Logo",className:"h-full w-full object-contain"})},f)})})]})})]})}function t1({page:t,children:e}){const n=ml();return KW()?_.jsx(_.Fragment,{children:e}):_.jsx(cU,{to:"/",replace:!0,state:{from:n}})}function FQ(){const t=Su(),{students:e,syncStatus:n,currentId:r}=ZR(),s=e.slice().sort((h,f)=>h.order-f.order),o=(r?e.find(h=>h.id===r):void 0)||s.find(h=>h.status==="PENDING")||s[s.length-1],a=o?s.find(h=>h.status==="PENDING"&&h.order>o.order):void 0,l=o?s.findIndex(h=>h.id===o.id):-1,c=l>=0?`${l+1} / ${s.length}`:"--",d=[...Qs,...Qs,...Qs,...Qs];return!o&&e.length===0?_.jsx("div",{className:"h-screen w-screen bg-black text-white flex items-center justify-center",children:_.jsx("h1",{className:"text-4xl font-bold tracking-widest uppercase animate-pulse",children:"En attente des candidats..."})}):_.jsxs("div",{className:"relative h-screen w-screen overflow-hidden bg-black text-white font-sans selection:bg-red-500 selection:text-white flex flex-col",children:[_.jsx("div",{className:"absolute inset-0 z-0 opacity-40",style:{backgroundImage:"url(/passagedegrade/assets/bg-taekwondo.jpg)",backgroundSize:"cover",backgroundPosition:"center",filter:"grayscale(100%) contrast(120%) brightness(60%)"}}),_.jsx("div",{className:"absolute inset-0 z-0 bg-gradient-to-br from-black via-transparent to-black opacity-90"}),_.jsx("div",{className:"absolute inset-0 z-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-gray-800/20 via-black/60 to-black"}),_.jsxs("div",{className:"relative z-10 flex-1 flex flex-col items-center justify-center p-4 pb-40 md:pb-48",children:[_.jsxs(uc.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},className:"w-full text-center mb-8 md:mb-12",children:[_.jsx("h1",{className:"text-4xl md:text-7xl font-black tracking-tighter uppercase bg-gradient-to-b from-white to-gray-500 bg-clip-text text-transparent drop-shadow-2xl",children:"Taekwondo Sbeitla"}),_.jsx("div",{className:"h-1 w-24 md:w-32 mx-auto mt-4 bg-red-600 rounded-full shadow-[0_0_20px_rgba(220,38,38,0.8)]"}),_.jsx("p",{className:"mt-4 text-lg md:text-xl text-gray-400 tracking-[0.3em] uppercase font-light",children:"EXAMEN DE PASSAGE DE GRADE OFFICIEL"})]}),_.jsx(mH,{mode:"wait",children:o&&_.jsxs(uc.div,{initial:{opacity:0,scale:.9,filter:"blur(10px)"},animate:{opacity:1,scale:1,filter:"blur(0px)"},exit:{opacity:0,scale:1.1,filter:"blur(10px)"},transition:{duration:.5,ease:"circOut"},className:"flex flex-col md:flex-row items-center gap-8 md:gap-24 max-w-7xl w-full px-4",children:[_.jsxs("div",{className:"relative group flex-shrink-0",children:[_.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-red-600 to-red-900 rounded-full opacity-30 blur-2xl group-hover:opacity-50 transition duration-1000 animate-pulse"}),_.jsx("div",{className:"relative w-48 h-48 md:w-80 md:h-80 rounded-full border-4 md:border-8 border-neutral-800 shadow-2xl overflow-hidden bg-neutral-900 ring-4 ring-white/10",children:_.jsx(Iw,{src:o.photoUrl,alt:o.fullName,className:`${o.status==="APPROVED"?"":"grayscale hover:grayscale-0"} w-full h-full object-cover transition-all duration-700 transform group-hover:scale-105`})}),_.jsxs(uc.div,{initial:{scale:0,rotate:-45},animate:{scale:1,rotate:0},className:`absolute -bottom-4 -right-4 md:bottom-4 md:right-4 px-4 py-2 md:px-6 md:py-3 rounded-xl border-4 shadow-2xl flex items-center gap-2 md:gap-3 backdrop-blur-md
                    ${o.status==="APPROVED"?"bg-green-900/90 border-green-500 text-green-100 shadow-green-900/50":o.status==="REFUSED"?"bg-red-900/90 border-red-500 text-red-100 shadow-red-900/50":"bg-yellow-900/90 border-yellow-500 text-yellow-100 shadow-yellow-900/50"}`,children:[o.status==="APPROVED"?_.jsx(m7,{size:24,className:"md:w-8 md:h-8"}):o.status==="REFUSED"?_.jsx(g7,{size:24,className:"md:w-8 md:h-8"}):_.jsx(y7,{size:24,className:"md:w-8 md:h-8"}),_.jsx("span",{className:"text-xl md:text-2xl font-black uppercase tracking-wider",children:o.status==="APPROVED"?"ADMIS":o.status==="REFUSED"?"REFUS":"EN TEST"})]})]}),_.jsxs("div",{className:"flex-1 text-center md:text-left space-y-4 md:space-y-6 w-full",children:[_.jsxs("div",{children:[_.jsxs("h2",{className:"text-lg md:text-xl text-red-500 font-bold tracking-widest uppercase mb-2 flex items-center justify-center md:justify-start gap-3",children:[_.jsx("span",{className:"h-px w-8 bg-red-500"}),"Candidat",_.jsx("span",{className:"h-px w-8 bg-red-500 md:hidden"})]}),_.jsx("h3",{className:"text-3xl md:text-6xl font-black text-white tracking-tight leading-none drop-shadow-lg",children:o.fullName})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[_.jsxs("div",{className:"bg-neutral-900/50 border border-neutral-800 p-4 md:p-5 rounded-2xl backdrop-blur-sm hover:bg-neutral-900/70 transition-colors",children:[_.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wider mb-2 font-bold",children:"Grade Actuel"}),_.jsx(gf,{belt:o.currentBelt,size:"lg",className:"text-lg md:text-xl py-3 px-4 w-full shadow-lg"})]}),_.jsxs("div",{className:"relative bg-gradient-to-br from-neutral-900/80 to-red-900/20 border border-red-900/30 p-4 md:p-5 rounded-2xl backdrop-blur-sm overflow-hidden hover:border-red-500/50 transition-colors",children:[_.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-20",children:_.jsx("svg",{width:"60",height:"60",viewBox:"0 0 24 24",fill:"none",stroke:"red",strokeWidth:"1",className:"md:w-20 md:h-20",children:_.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),_.jsx("p",{className:"text-red-400 text-xs uppercase tracking-wider mb-2 font-black",children:"Test Pour Le Grade"}),_.jsx(gf,{belt:o.nextBelt,size:"lg",className:"text-xl md:text-2xl py-3 px-4 w-full scale-105 origin-left shadow-xl ring-2 ring-red-500/20"})]})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6 mt-3",children:[_.jsxs("div",{className:"bg-neutral-900/60 border border-neutral-800 rounded-2xl p-4",children:[_.jsx("p",{className:"text-[11px] uppercase tracking-wider text-gray-400",children:"Ordre"}),_.jsxs("div",{className:"mt-1 text-xs text-gray-300",children:[_.jsxs("p",{children:["Position: ",_.jsx("span",{className:"font-bold text-white",children:c})]}),_.jsxs("p",{children:["Identifiant: ",_.jsxs("span",{className:"font-bold text-white",children:["#",o?String(o.order).padStart(3,"0"):"--"]})]})]})]}),_.jsxs("div",{className:"bg-neutral-900/60 border border-neutral-800 rounded-2xl p-4",children:[_.jsx("p",{className:"text-[11px] uppercase tracking-wider text-gray-400",children:"Rsultat"}),_.jsx("p",{className:"mt-1 text-sm md:text-base font-black uppercase text-white",children:o?o.status==="APPROVED"?"ADMIS":o.status==="REFUSED"?"REFUS":"EN ATTENTE":"--"})]}),_.jsxs("div",{className:"bg-neutral-900/60 border border-neutral-800 rounded-2xl p-4",children:[_.jsx("p",{className:"text-[11px] uppercase tracking-wider text-gray-400",children:"Prochain"}),_.jsx("p",{className:"mt-1 text-sm font-bold text-white",children:a?a.fullName:"Aucun"})]})]})]})]},o.id)})]}),_.jsxs("div",{className:"absolute bottom-0 left-0 right-0 z-50 bg-black/90 backdrop-blur-xl border-t border-white/10 shadow-[0_-10px_40px_rgba(0,0,0,0.8)]",children:[_.jsxs("div",{className:"w-full overflow-hidden py-3 md:py-4 relative",children:[_.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-20 bg-gradient-to-r from-black to-transparent z-10"}),_.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-20 bg-gradient-to-l from-black to-transparent z-10"}),_.jsx(uc.div,{className:"flex items-center gap-8 md:gap-10 w-max",animate:{x:[0,-1e3]},transition:{repeat:1/0,duration:25,ease:"linear"},children:d.map((h,f)=>{const p=h.split("/").pop()||h,E=p==="WAADTI.png"||p==="federation-tunisienne-de-taekwondo.png"||p.toLowerCase().includes("sufetula")?"h-14 w-32 md:h-16 md:w-40":p==="diamond-gym.png"?"h-8 w-16 md:h-10 md:w-20":"h-10 w-20 md:h-12 md:w-24";return _.jsx("div",{className:`${E} flex-shrink-0 grayscale hover:grayscale-0 transition-all duration-300 opacity-80 hover:opacity-100`,children:_.jsx("img",{src:h,alt:"Partner Logo",className:"h-full w-full object-contain"})},f)})})]}),_.jsxs("div",{className:"flex justify-between items-center px-4 md:px-8 py-2 border-t border-white/5 text-[10px] md:text-xs text-gray-500 font-mono bg-black",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("span",{className:"text-red-900/50",children:["ID: ",o==null?void 0:o.order.toString().padStart(3,"0")]}),_.jsx("div",{className:"flex gap-1",children:e.map(h=>_.jsx("div",{className:`h-1 rounded-full transition-all duration-500 ${h.id===(o==null?void 0:o.id)?"w-4 bg-red-800":"w-1 bg-gray-900"}`},h.id))})]}),_.jsxs("div",{className:"flex items-center gap-4 tracking-widest uppercase text-gray-400 font-bold",children:[_.jsxs("span",{children:["Cr par Matre ",_.jsx("span",{className:"text-red-600",children:"Ali ZAYANI"})]}),_.jsxs("span",{className:`inline-block text-[10px] md:text-xs px-2 py-0.5 rounded-full ${n==="online"?"bg-green-900 text-green-100":n==="connecting"?"bg-yellow-900 text-yellow-100":"bg-red-900 text-red-100"}`,children:["Cloud Sync: ",n]}),_.jsx("button",{className:"text-white/90 hover:text-white text-[10px] md:text-xs",onClick:()=>{DN(),t("/")},children:"Dconnexion"})]})]})]})]})}function UQ(){return _.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-gray-50 to-blue-50 p-6 text-center",children:_.jsxs("div",{className:"space-y-6 max-w-md",children:[_.jsxs("div",{className:"space-y-3",children:[_.jsx("h1",{className:"text-8xl font-bold text-blue-600",children:"404"}),_.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Page Not Found"}),_.jsx("p",{className:"text-muted-foreground",children:"The page you're looking for doesn't exist or may have been moved."})]}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[_.jsx(St,{asChild:!0,children:_.jsx("a",{href:"/passagedegrade/",children:"Return Home"})}),_.jsx(St,{variant:"outline",onClick:()=>window.history.back(),children:"Go Back"})]})]})})}const BQ=new g4,$Q=()=>_.jsx(v4,{client:BQ,children:_.jsxs(zF,{children:[_.jsx(YV,{}),_.jsx(vU,{basename:"/passagedegrade/",children:_.jsxs(dU,{children:[_.jsx(tc,{path:"/",element:_.jsx(jQ,{})}),_.jsx(tc,{path:"/dashboard",element:_.jsx(t1,{page:"dashboard",children:_.jsx(qW,{})})}),_.jsx(tc,{path:"/projection",element:_.jsx(t1,{page:"projection",children:_.jsx(FQ,{})})}),_.jsx(tc,{path:"*",element:_.jsx(UQ,{})})]})})]})});bI(document.getElementById("root")).render(_.jsx($Q,{}));
